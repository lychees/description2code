#include<bits/stdc++.h>
using namespace std;
int const N = 1e5+10;
int n, q;
vector<int> adj[N];

int ini[N], sz[N], fim[N], cont;

void dfs(int v, int par){
  ini[v] = ++cont;
  sz[v] = 1;
  for(int i = 0; i < adj[v].size(); i++){
    int w = adj[v][i];
    if(w != par) dfs(w,v), sz[v] += sz[w];
  }
  fim[v] = ini[v]+sz[v]-1;
}

int main(){
  scanf("%d",&n);
  for(int i = 1; i <= n-1; i++){
    int u, v;
    scanf("%d%d",&u,&v);
    adj[u].push_back(v);
    adj[v].push_back(u);
  }
  dfs(1,-1);
  scanf("%d",&q);
  while(q--){
    int type, x, y;
    scanf("%d%d%d",&type,&x,&y);
    if(type == 0){
      if(ini[x] <= ini[y] && fim[y] <= fim[x]) printf("YES\n");
      else printf("NO\n");
    }
    if(type == 1){
      if(ini[y] <= ini[x] && fim[x] <= fim[y]) printf("YES\n");
      else printf("NO\n");
    }
  }
  return 0;
}