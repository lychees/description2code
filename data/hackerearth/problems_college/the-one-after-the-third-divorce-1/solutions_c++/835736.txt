#include <iostream>
#include <stdio.h>
#include <math.h>

using namespace std;

typedef long long int Lint;

Lint GCD( Lint a, Lint b ) {
	
	if( ( a % b ) == 0 )
		return b;
	else 
		return GCD( b, a % b );
}
int main()
{
	Lint t, x, y, a, b, first, last, lcm, v1, v2, v3, v4;
	
	scanf("%lld", &t );
	
	while( t-- ) {
		
		scanf("%lld %lld %lld %lld", &x, &y, &a, &b );
		lcm = ( x * y ) / GCD( x, y );
			
		v1 = (Lint)( ceil( static_cast<double>( a ) / static_cast<double>( lcm ) ) );
		first = v1 * lcm;
		
		v2 = (Lint)( floor( static_cast<double>( b ) / static_cast<double>( lcm ) ) );
		last = v2 * lcm;
		
		if( ( first >= a ) && ( first <= b) && ( last >= a ) && ( last <= b ) && ( last >= first )) {
			
			v3 = last - first;
			v4 = ( v3 / lcm ) + 1;				
		}
		else
			v4 = 0;
		
		printf("%lld\n", v4 );
	}
	
	return 0;
}
