for i in range(input()):
	n,k=map(int,raw_input().split())
	a=[]
	a=map(int,raw_input().split())
	z=[0]*n
	for i in a:
		z.append(str(bin(i)).count('1'))
	s=0
	for j in range(k):
		i=max(z)		
		y=z.index(i)
		s+=i
		del(z[y])
	print s