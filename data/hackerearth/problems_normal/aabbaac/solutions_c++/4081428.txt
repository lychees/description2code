/*#include <bits/stdc++.h>
using namespace std;

int main()
{
    long int cases,a,b,i,x;
    string s,q;
    cin >> cases;
    while(cases--)
    {
    	cin >> a >> b;
    	cin >> s;
    	q=s;
    	for(i=1;i<a;i++)
    	 {
    	 	reverse(s.begin(),s.end());
    	 	q=q+s;
    	 	cin >> s;
    	 	q=q+s;
    	 	s=q;
    	 }	
    	for(i=0;i<b;i++)
    	{
    		cin >> x;
    		cout << q[x];
    	}
    	cout << endl;
    }
    return 0;
}*/
#include <bits/stdc++.h>
using namespace std;
long long n,m,l[1000],x;
string st[1000];
long long tests;
int main(){
cin>>tests;
for (;tests;--tests)
{
    cin>>n>>m;
    for (int i=1;i<=n;i++)
    {
     cin>>st[i];
    }
    
    for (int i=1;i<=n;i++)
     l[i]=l[i-1]*2+st[i].size();
    
    for (;m;--m)
    {
        cin>>x;
        for (int i=n;i;--i)
        {
            if (x>=2*l[i-1])
            {
             cout<<st[i][x-2*l[i-1]];
             break;
            }
            else if (x>=l[i-1])
             x=2*l[i-1]-x-1;
        }
    }
    cout<<endl;    
}
return 0;}