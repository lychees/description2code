#include <iostream>
#include <vector>
#include <algorithm>
#include <cmath>
#include <cstring>
#include <list>
#include <iterator>
#include <stdio.h>
#define fr(i,s,e) for(int i=s;i<e;i++)
#define rfr(i,e,s) for(int i=e;i>=s;i--)
#define lld long long int
#define pb(x) push_back(x)
#define mp(x,y) make_pair(x,y)
#define MAX 100007
using namespace std;
int main()
{
	int n,maxe=0,maxp=0,s=0;
	cin>>n;
	int a[n],b[MAX],c[MAX];
	fr(i,0,n)
    {
    	cin>>a[i];
    	b[a[i]]++;
    	maxe=max(maxe,b[a[i]]);
    	if(i!=0&&a[i]==a[i-1])
    	{
    		c[a[i]]++;
    		s++;
    		maxp=max(maxp,c[a[i]]);
    	}
    }
    if(maxe>(n+1)>>1)
    cout<<-1;
    else
    cout<<max((s+1)>>1,maxp);
    return 0;
}

