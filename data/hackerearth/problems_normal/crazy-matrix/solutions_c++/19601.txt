#include<iostream>
using namespace std;
int X[8]={1,1,0,-1,-1,-1,0,1};
int Y[8]={0,1,1,1,0,-1,-1,-1};
int A[101][101],R;
int ONE(int x,int y)
{
if(x<0 || y<0 || x>=R || y>=R)
return 0;
if(A[x][y]!=1)
return 0;
A[x][y]=0;
if(x==R-1)
return 1;
int res=0;
for(int i=0;i<8;i++){
int tx=x+X[i],ty=y+Y[i];
if(tx>=0 && ty>=0 && tx<R && ty<R)
res+=ONE(tx,ty);
}
return res;
}

//TWO
int TWO(int x,int y)
{
if(x<0 || y<0 || x>=R || y>=R)
return 0;
if(A[x][y]!=2)
return 0;
A[x][y]=0;
if(y==R-1)
return 1;
int res=0;
for(int i=0;i<8;i++){
int tx=x+X[i],ty=y+Y[i];
if(tx>=0 && ty>=0 && tx<R && ty<R)
res+=TWO(tx,ty);
}
return res;
}
int main()
{
cin>>R;
for(int i=0;i<R;i++)
for(int j=0;j<R;j++)
{
cin>>A[i][j];
}

int R1=0;
for(int i=0;i<R;i++)
{
if(A[0][i]==1)
R1=max(ONE(0,i),R1);
if(R1!=0)
break;
}
int R2=0;
for(int i=0;i<R;i++)
{
if(A[i][0]==2)
R2=max(TWO(i,0),R1);
if(R2!=0)
break;
}
if(R1 && R2)
cout<<"AMBIGUOUS";
else if(R1)
cout<<1;
else if(R2)
cout<<2;
else 
cout<<0;
cout<<endl;
return 0;
}