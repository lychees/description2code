#include <iostream>
using namespace std;
#include<stdio.h>
int main()
{
    int n,l,d;
    int size;
    int i,j;
    float ans[1005][1005],p[1005],dis[1005];
    cin>>n>>l>>d;
    for(i=1;i<=n;i++)
        cin>>p[i];
    for(i=1;i<=n;i++)
    	cin>>dis[i];
    size=n+1;
    p[n+1]=1;
    p[0]=1;
    dis[n+1]=d;
    dis[0]=0;
    if(l==0)
    	{cout<<"IMPOSSIBLE";
    	return(0);}
    for(i=0;i<=n+1;i++)
    {
        for(j=0;j<=n+1;j++)
    	    {if(i==j)
                ans[i][i]=p[i];
            else
                ans[i][j]=0.0;}
    }
    for(int len=1;len<=n+1;len++)
    {
    	for(i=0;i<=n+1-len;i++)
    	{
    		if(dis[i+len]-dis[i]<=l)
                ans[i][i+len]=p[i]*p[i+len];
            else
                {ans[i][i+len]=0.0;
    		for(j=i+1;j<=i+len;j++)
    		{
                if(ans[i][j-1]*ans[j-1][i+len]/p[j-1]>ans[i][i+len])
    				ans[i][i+len] = ans[i][j-1]*ans[j-1][i+len]/p[j-1];
    		}
                }
    	}
    }
    /*for(i=0;i<=n+1;i++)
    {
        for(j=0;j<=n+1;j++)
            printf("%f ",ans[i][j]);
        printf("\n");
    }*/
    if(ans[0][n+1]==0.0)
    	cout<<"IMPOSSIBLE";
    else
    	printf("%f",ans[0][n+1]);
    return 0;
}