#include <iostream>
using namespace std;

long long HCF(long long a,long long b){
	if (b == 0)
		return a;
	else
		return HCF(b,a%b);
}

int main()
{
	int t;
	cin >> t;
	while (t > 0){
		long long x1,y1,x2,y2;
		cin >> x1 >> y1 >> x2 >> y2;
		long long a = x1-x2;
		if (a < 0)
			a = a*-1;
		long long b = y1-y2;
		if (b < 0)
			b = b*-1;
		long long c = HCF(a,b);
		if (c == 0)
			cout << c << endl;
		else
			cout << c-1 << endl;

		t--;
	}
    return 0;
}
