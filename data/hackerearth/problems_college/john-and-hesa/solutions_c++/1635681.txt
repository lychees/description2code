#include <iostream>
#include <stdio.h>

using namespace std;

int main()
{
	
	int t, x, p, count;
	
	scanf("%d", &t );
	
	while( t-- ) {
		
		scanf("%d %d", &x, &p);
		
		if( ( x % p ) == 0 ) {
			
			count = 0;
			
			while( ( x % p ) == 0 ) {
				count++;
				x /= p;
			}
			
			if( x == 1 )
				printf("%d 0\n", count );
			else
				printf("%d %d\n", count, x );
		}
		else
			printf("0 %d\n", x );
	}
	return 0;
}
