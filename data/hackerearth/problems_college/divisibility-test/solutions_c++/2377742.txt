#include<bits/stdc++.h>
using namespace std;
int main(){
	int t;
	cin>>t;
	while(t--){
		string str;
		cin>>str;
		int k;
		cin>>k;
		int l,r;
		cin>>l>>r;
		int sum=0;
		int num=0;
		int count=0;
		for(int i=l-1;i<(r);i++){
			num=0;
			for(int j=i;j<(r);j++){
				num=(num*10+str[j]-'0')%k;
				if(num==0){
					count++;
				}
			}
		}
		cout<<count<<endl;
	}
}