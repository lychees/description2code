#include <bits/stdc++.h>
using namespace std;
/* macros */
// memory
#define zeroset(A) memset((A), 0, sizeof((A)))
#define negset(A) memset((A), -1, sizeof((A)))
#define all(c) (c).begin(), (c).end()
#define pb push_back
// input & output
#define inpt(a) freopen(a,"r",stdin)
#define otpt(a) freopen(a,"w",stdout)
#define eol "\n"
// types
typedef long long ll;
typedef pair<int, int> pii;
typedef pair<double, double> pdd;
typedef pair<ll,ll> pll;
#define ff first
#define ss second
// constants
#define EPS 1e-9
#define MAXN 1007
#define INF INT_MAX
#define MOD 1000000007

char a[MAXN], b[MAXN];
int dp[MAXN][MAXN];
int vis[MAXN][MAXN], lol;
int n, m;

int solve(){
    for(int i=0; i<=m; ++i) dp[n][i] = m - i;
    for(int i=0; i<=n; ++i) dp[i][m] = n - i;

    for(int i=n-1; i>=0; --i)
        for(int j=m-1; j>=0; --j){
            int &ret = dp[i][j];
            ret = min(dp[i+1][j], dp[i][j+1]) + 1;
            ret = min(ret, dp[i+1][j+1] + (b[j]!=a[i]));
        }
    return dp[0][0];
}

int main()
{
    int T;
    scanf("%d", &T);
    while(T--){
        int n1, n2;
        scanf("%d%d%d%s%d%s", &n1, &n2, &n, &a, &m, &b);
        int tmp = solve();
        if(tmp==0) n2 += 10*m;
        else n1 += 5*tmp;
        printf("%d\n%d\n", n1, n2);
        if(n1 > n2) printf("Swapnil\n");
        else if (n2 > n1) printf("Friend\n");
        else printf("Tie\n");
    }
    return 0;
}
