#include<bits/stdc++.h>
using namespace std;
int arr[500005],st[4*500005];
void build(int ind,int ss,int se)
{
	if(ss==se)
	{
		st[ind]=arr[ss];
		return ;
	}
	int mid=(ss+se)/2;
	build(ind*2,ss,mid);
	build(ind*2 + 1,mid+1,se);
	st[ind]=__gcd(st[ind*2],st[ind*2 +1]);
}
int query(int index,int ss,int se,int l,int r)
{
	if(l>r||r<ss||l>se)
		return 0;
	if(l<=ss&&r>=se)
		return st[index];
	int mid=(ss+se)/2;
	return __gcd(query(2*index,ss,mid,l,r),query(2*index + 1,mid+1,se,l,r));
}
int main()
{
	int n,k,i,j;
	scanf("%d%d",&n,&k);
	for(i=0;i<n;i++)
		scanf("%d",&arr[i]);
	build(1,0,n-1);
	int ans=0,lo=arr[0];
	i=0;j=0;
	while(i<n)
	{
		if(lo>=k&&j<n)
		{
			ans=max(ans,j-i+1);
			j++;
			lo=__gcd(lo,arr[j]);
		}
		else
		{
			i++;
			if(j<i)
				j=i;
			lo=query(1,0,n-1,i,j);
		}
	}
/*	if(lo>=k)
		ans=max(ans,j-i+1);*/
	cout<<ans<<"\n";
	return 0;
}