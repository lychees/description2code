test = int(input())
while test>0:
	n = int(input())
	dct = {}
	li = list(map(int,raw_input().split()))
	for i in range(n):
		dct[li[i]]=0
	for i in range(n):
		dct[li[i]]+=1	
	count = 0	
	for i in dct:
		count+= (dct[i]*(dct[i]+1))/2
	print(int(count))	
	test-=1