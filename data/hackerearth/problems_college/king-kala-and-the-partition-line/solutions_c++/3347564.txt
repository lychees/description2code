#include<bits/stdc++.h>
using namespace std;
int main()
{
	long long int t,n,a,b,c,i;
	long long int x,y,res,max1,max2,out;
	cin >> t;
	while(t--)
	{
		cin >> n;
		cin >>a>>b>>c;
		max1=0;
		max2=0;
		for(i=0;i<n;i++)
		{
			cin >> x;
			cin >> y;
			res=(x)*a+(y)*b+c;
			if(res>0)
				max1++;
			else if(res<0)
				max2++;
			
		}
//		cout <<max1<< " "<<max2<<endl;
		out=max(max1,max2);
		cout <<out<<endl;
	}
	return 0;
}
		