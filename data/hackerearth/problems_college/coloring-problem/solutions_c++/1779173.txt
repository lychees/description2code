#include <iostream>
#include <fstream>
#include <vector>
#include <queue>

using namespace std;

const string BICOLORABLE = "BICOLORABLE";
const string NOT_BICOLORABLE = "NOT BICOLORABLE";
const int RED = 0;
const int WHITE = 1;
const int BLACK = 2;

int main()
{
	int graph[200][200];
	int colors[200];
	ifstream inFile;
	inFile.open("input.txt");
	int size = 0;
	int n = 0;
	int l = 0;
	int x, y;
	queue <int> Q;
	bool fail = false;

	cin >> size;

	while (size != 0)
	{
		for (int i = 0; i < 200; ++i)
		{
			colors[i] = WHITE;
		}

		cin >> n;
		cin >> l;

		for (int i = 0; i < l; ++i)
		{
			cin >> x;
			cin >> y;

			if( colors[x] == WHITE && colors[y] == WHITE)
			{
				colors[x] = RED;
				colors[y] = BLACK;
			}
			else if (colors[x] == RED && colors[y] == WHITE)
			{
				colors[y] = BLACK;
			}
			else if (colors[x] == BLACK && colors[y] == WHITE)
			{
				colors[y] = RED;
			}
			else if (colors[y] == RED && colors[x] == WHITE)
			{
				colors[x] = BLACK;
			}
			else if (colors[y] == BLACK && colors[x] == WHITE)
			{
				colors[x] = RED;
			}
			else if (colors[y] == colors[x])
			{
				fail = true;
				break;
			}


			graph[x][y] = 1;
		}
		
		if (fail == true)
		{
			cout << "NOT BICOLORABLE." << endl;
		}
		else
		{
			cout << "BICOLORABLE." << endl;
		}
		fail = false;
		
		--size;
	}


	return EXIT_SUCCESS;
}