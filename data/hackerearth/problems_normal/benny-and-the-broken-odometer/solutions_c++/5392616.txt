#include<bits/stdc++.h>
using namespace std;
#define pii pair<int,int>
#define ff first
#define ss second
#define mp make_pair
#define pb push_back
#define N 10005
#define ll long long 
#define MOD 1000000007
vector<int> v;
ll arr[N],pre[N],po[N];
int main()
{
	
	
		int n,i,j;
		ll temp;
		arr[0]=1;
		pre[0]=1;
		po[0]=1;
		for(i=1;i<=10;i++)
		  po[i]=10*po[i-1];
		for(i=1;i<=9;i++)
		{
			temp=0;
			for(j=1;j<=9;j++)
			{
				if(j==3)
				  temp+=po[i];
				else
				  temp+=pre[i-1];
			}
			arr[i]=temp;
			pre[i]=arr[i]+pre[i-1];
		}
		int t;
		cin>>t;
	    while(t--)
	    {
	    	cin>>n;
	    	ll ans=0,val=n;
	        v.clear();
		    while(n>0)
		    {
			 v.pb(n%10);
			 n=n/10;
		    }
		    int l=v.size();
		    ans+=pre[l-2];
		    reverse(v.begin(),v.end());
		    l-=2;  
		    for(i=0;i<v.size()-1;i++)
		    {
		    	if(i==0)
		    	  j=1;
		    	else
		    	  j=0;
		        for(;j<=v[i]-1;j++)
		        {
		        	if(j==3)
		        	  ans+=po[l+1];
		        	else  
		        	  ans+=pre[l];
		        }
		        l--;
		    }
		    l=v.size();
		    if(v[l-1]>=3)
		      ans++;
		     val-=ans;
		     cout<<val<<"\n";
	    }
	
	return 0;
}