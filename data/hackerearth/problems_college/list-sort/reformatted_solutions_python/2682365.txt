def sorting(a, b):
    if a[-2].lower() == b[-2].lower():
        if a[-1] > b[-1]:
            return -1
        else:
            return 1
    elif a[-2].lower() < b[-2].lower():
        return -1
    return 1


def Print(a):
    for s in a[:-1]:
        print s,
    print


for _ in xrange(input()):
    stack = []

    for i in xrange(input()):
        stack.append(raw_input().split()+[i])
    stack.sort(sorting)
    for s in stack:
        Print(s)
