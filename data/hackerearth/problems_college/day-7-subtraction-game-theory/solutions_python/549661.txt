MOD=1000000007
MAX=1000000
x,y = map(int, raw_input().split())
q = int(raw_input())

cache = [0 for i in range(MAX+1)]
cache[0] = 1

for i in range(1, MAX+1):
	cache[i] = (x*cache[i-1] - y)%MOD

for i in range(q):
	print(cache[int(raw_input())])