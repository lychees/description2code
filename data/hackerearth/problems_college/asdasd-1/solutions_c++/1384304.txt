#include <bits/stdc++.h>
using namespace std;
inline long long read()
{
	long n=0;
	char c=getchar_unlocked();
	while(c<'0' || c>'9')
	c=getchar_unlocked();
	while(c<='9' && c>='0')
	{
		n=(n<<1)+(n<<3)+c-'0';
		c=getchar_unlocked();
	}
	return n;
}
inline void write(long long a)
{
	char snum[35];
	int i=0;
	do
	{
		snum[i++]=a%10+48;
		a=a/10;
	}while(a!=0);
	--i;
	while(i>=0)
	putchar_unlocked(snum[i--]);
	putchar_unlocked(' ');
}
int main() {
	long long l, u, i, j, temp, cnt=0;
	long long p, a1, b1, y, ans1, ans2, k;
	cin>>l;
	for(p=0;p<l;p++){
		a1=read();
		b1=read();
		cnt=0;
		u=0;
		ans1=pow(2, a1) -1;
		ans2=pow(2, b1) -1;
		bool f=0;
		while (ans1%2 == 0)
    	{
        	 f=1;
        	ans1 = ans1/2;
    	}
    	if(f==1)
    	if(ans2%2==0){
    		cnt++;
    	}
    	f=0;
 
    	for (int i = 3; i <= sqrt(ans1); i = i+2)
    	{
    	    // While i divides n, print i and divide n
    	    while (ans1%i == 0)
    	    {
    	        f=1;
    	        ans1 = ans1/i;
    	    }
        if(f==1){
        	
    	if(ans2%i==0){
    		cnt++;
    	}
        }
        f=0;
    	}
 
    	if (ans1 > 2)
    	if(ans2%ans1==0){
    		cnt++;
    	}
        f=0;
		write(cnt);
		printf("\n");
		cnt=0;
	}
	return 0;
}