#include<bits/stdc++.h>

int head[200069],len[200069];
long long int fact[200069];
//struct set s[200069];
int find(int x)
{
	if(x != head[x]) {
		head[x] = find(head[x]);
	}
	return head[x];
}
int main()
{
    fact[1]=1;
    for(int i=2;i<=200000;i++)
        fact[i]=(fact[i-1]*i)%1000000007;
    int n,k;
    scanf("%d%d",&n,&k);
    for(int i=0;i<n;i++)
    {
        head[i]=i;
        len[i]=1;
    }
    while(k--)
    {
        int x,y;
        scanf("%d%d",&x,&y);
        x=find(x);
        y=find(y);
        if(x!=y)
        {
            if(len[x]>len[y])
                head[y]=head[x],len[x]+=len[y];
            else if(len[x]>len[y])
                head[y]=head[x],len[y]+=len[x];
            else
                head[y]=head[x],len[x]+=len[y];
        }
    }
    long long p=1;
    for(int i=0;i<n;i++)
    {
        if(i==head[i])
            p=(p*fact[len[i]])%1000000007;
    }
    printf("%lld\n",p);
    return 0;
}
