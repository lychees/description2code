#include <iostream>
using namespace std;

int main(){
	int n,q,c,a,b,hc;
	int coin[1000000]={0};
	cin>>n>>q;
	while(q--){
		cin>>c>>a>>b;
		if(c){
			hc=0;
			for(int i=a; i<=b; i++){
				if(coin[i]){
					hc++;
				}
			}
			cout<<hc<<endl;
		}else{
			for(int i=a; i<=b; i++){
				if(coin[i]){
					coin[i]=0;
				}else{
					coin[i]=1;
				}
			}
		}
	}
    return 0;
}
