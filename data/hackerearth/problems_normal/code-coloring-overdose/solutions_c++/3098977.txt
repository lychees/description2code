//HackerEarth Jan 16 Easy
#include <bits/stdc++.h>
using namespace std;
#define pb push_back
#define lld I64d
#define mp make_pair
#define ff first
#define ss second
#define ll long long
#define mod 1000000007

int f[500005];  //Frequence of colors coming
ll dp[11];
ll pw[500005];  //Will store powers of 2 so that we do not have to repeatedly calculate


int main(){

    pw[0]=1;

    int n,k,m,x;

    cin>>n>>k>>m;

    for(int i=0;i<n;++i){

        cin>>x;
        f[x]++;

    }

    for(int i=1;i<=n;++i){

        pw[i]=2LL*pw[i-1];
        pw[i]%=mod;

    }

    dp[0]=1;

    for(int j=1;j<=k;++j){

         if(f[j]){

              for(int i=m-1;i>=0;--i){
 
   
                 dp[i+1]=(dp[i]*(pw[f[j]]-1)+dp[i+1])%mod;


              }

         }

    }

    ll ans=0;

    for(int i=0;i<=m;++i){

        ans+=dp[i];
        ans%=mod;
    }

    cout<<ans<<'\n';

	return 0;
}
