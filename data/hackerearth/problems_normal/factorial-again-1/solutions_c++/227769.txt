#include<stdio.h>
#include<math.h>
#include<iostream>
#include<stdlib.h>
#include<vector>
#include<map>
#include<set>
#include<cstring>
#include<algorithm>
#define LL long long
#define N 11
#define M 121
#define println() printf("\n")
#define scani(t) scanf("%d",&t)
#define scanl(t) scanf("%lld",&t)
#define printi(t) printf("%d",t)
#define printl(t) printf("%lld",t)
#ifndef ONLINE_JUDGE
#include<conio.h>
#endif
using namespace std;
LL inversemodulo(LL a,LL p, LL b)//b is prime
{if(p==0)
return 1;
LL x=inversemodulo(a,p/2,b);
if(p&1)
return (((x*x)%b)*a)%b;
else
return(x*x)%b;                    
                    
                    
}

int main()
{   
int t;LL n,p,ans,den;
scani(t);
while(t--)
{ans=1;
scanl(n);scanl(p);
if(3*n>=p){printf("0\n");continue;}
for(LL i=3*n+1;i<p;++i)
ans=(ans*i)%p;          
ans=inversemodulo(ans,p-2,p);
ans=((ans)*(p-1))%p;
den=inversemodulo(6,p-2,p);
den=inversemodulo(den,n,p);
printf("%lld\n",(den*ans)%p);          
          
          
}   
    
    
#ifndef ONLINE_JUDGE
getch();
#endif   
return 0;    
}
