N = int(raw_input(''))
C = []
for i in range(0, N):
    C.append(raw_input(''))
Cost = []
for i in range(0, N):
    Cost.append(map(int, raw_input('').split(' ')))
N = int(raw_input(''))
Visit = []
for i in range(0, N):
    Visit.append(C.index(raw_input('')))
TCost = 0
Visit.reverse()
A = 0
while (len(Visit) != 0):
    B = Visit.pop()
    TCost += Cost[A][B]
    A = B

print TCost
