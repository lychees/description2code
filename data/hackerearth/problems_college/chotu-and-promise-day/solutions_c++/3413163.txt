#include <iostream>
using namespace std;

int gcd(int a, int b){
	if(a%b==0) return b;
	return gcd(b,a%b);
}

int etf(int n) {
	int result = n, i;
	for(i=2 ; i*i <= n ; i++) {
		if (n % i == 0) result -= result / i;            
		while (n % i == 0) n /= i;
	}
	if (n > 1) result -= result / n;
	return result;        
}

int main()
{
	int t, N, D, cnt;
	cin>>t;
	while(t--){
		cin>>N>>D;
		if(N%D==0)
			cout<<etf(N/D)<<endl;
		else
			cout<<"0"<<endl;
	}
    return 0;
}
