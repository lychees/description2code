#include <bits/stdc++.h>
using namespace std;

vector<int> adj[100005];
int in[100005]={0};
int out[100005]={0};
int visited[100005]={0};
int coun=0;

void dfs(int s){
	coun++;
	visited[s]=1;
	in[s]=coun;
	for(int i:adj[s]){
		if(visited[i]==0)
			dfs(i);
	}
	coun++;
	out[s]=coun;
}

int main()
{
    int q,t,n,a,b;
    cin>>n;
   
    for(int i=0;i<n-1;i++){
    	scanf("%d%d",&a,&b);
    	adj[a].push_back(b);
    	adj[b].push_back(a);
    }
    
    dfs(1);
    
    cin>>q;
    //cout<<q<<endl;
    while(q--){
    	scanf("%d%d%d",&t,&a,&b);
    	if(t==0){
    		if(in[a]<in[b] && out[a]>out[b])
    			printf("YES\n");
    		else
    			printf("NO\n");
    	}
    	else{
    		if(in[a]>in[b] && out[a]<out[b])
    			printf("YES\n");
    		else
    			printf("NO\n");
    	}
    }
    return 0;
}
