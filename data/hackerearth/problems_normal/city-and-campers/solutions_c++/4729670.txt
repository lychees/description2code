#include<bits/stdc++.h>
using namespace std;
#define  mp make_pair
#define  pb push_back
#define  M 1000000007
typedef long long int ll;
int sizeo[100020];
int par[100030];
multiset<int>s;
int findit(int ind)
{
	if(par[ind]==ind)
		return ind;
		return par[ind]=findit(par[ind]);
}
int main()
{
	int n,q,i,j;
	scanf("%d %d",&n,&q);
	
	for(i=1;i<=n;i++)
	{
		s.insert(1);
		sizeo[i]=1;
		par[i]=i;
	}
	int ans=0;
	while(q--)
	{
		int a,b;
		scanf("%d %d",&a,&b);
		int aa=findit(a);
		int bb=findit(b);
		if(aa>bb)
			swap(aa,bb);
		
		if(aa!=bb)
		{
			int temp=sizeo[findit(aa)];
			int tmep=sizeo[findit(bb)];
			s.erase(s.find(temp));
			s.erase(s.find(tmep));
			sizeo[findit(aa)]+=sizeo[findit(bb)];
			s.insert(sizeo[findit(aa)]);
			
			par[bb]=findit(aa);
			multiset<int>::iterator it,it1;
			it=s.begin();
			it1=s.end();
			if(s.size()>1)
			{
				it1--;
			}
			ans=max(ans,abs(*it1-*it));
			if(sizeo[findit(aa)]==n)
				ans=0;
			
		}
		cout<<ans<<endl;
	}	
	return 0;
}