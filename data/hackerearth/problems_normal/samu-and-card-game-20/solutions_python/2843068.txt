import sys
t = input()
while(t > 0):
    t-=1
    n,m = map(int,raw_input().split())
    k = input()
    x,y = 1,1
    ans = 0
    for i in range(k):
        a,b = map(int,raw_input().split())
        p,q = sys.maxint,sys.maxint
        if a>0:
            p = (n-x)/a
        elif a<0:
            p = (x-1)/-a
        if b>0:
            q = (m-y)/b
        elif b<0:
            q = (y-1)/-b
        r = min(p,q)
        x,y = x+r*a,y+r*b
        ans += r
    print ans