//
//  Sabotage.cpp
//  
//
//  Created by Farbod Yadegarian on 2015-07-19.
//
//

#include <stdio.h>
#include <iostream>
using namespace std;
const int MAXN = 1e5 + 5;
pair<int , int> a[MAXN];
int par[MAXN] , ans[MAXN];
int getpar(int v){ return (v == par[v])?v:(par[v] = getpar(par[v]));}
bool merge(int v ,int u)
{
    u = getpar(u) , v = getpar(v);
    if(u == v) return false;
    par[v] = u;
    return true;
}
int main()
{
    int n , m;
    cin >> n >> m;
    for(int i = 0;i < m;i ++)
        cin >> a[i].first >> a[i].second;
    for(int i = 1;i <= n;i ++) par[i] = i;
    
    for(int i = m - 1;i >= 0;i --)
        ans[i] = merge(a[i].first , a[i].second);
    
    cout << (m - (n - 1)) << endl;
    for(int i = 0;i < m;i ++)
        if(!ans[i]) cout << i + 1 << endl;
    
    return 0;
}
