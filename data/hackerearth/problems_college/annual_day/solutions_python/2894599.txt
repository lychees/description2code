for _ in xrange(int(raw_input())):
	n,k = map(int,raw_input().strip().split(" "))
	arr= map(int,raw_input().strip().split(" "))
	counts=[]
	for i in xrange(len(arr)):
		c=0
		temp=arr[i]
		while(temp>0):
			if(temp%2==1):
				c+=1
			temp/=2
		counts.append(c)
	#print counts
	counts.sort()
	#print counts
	#print counts[0:k]
	sum1=0
	for i in xrange(n-k,n):
		sum1+=counts[i]
	print sum1
		
		
		