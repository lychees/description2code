#include <algorithm>
#include <cstdio>
#include <queue>
#include <set>
#include <stack>
#include <vector>

using namespace std;

typedef long long ll;

int main() {
    int T, N;
    ll current_max_prod, current_min_prod, prev_max_prod, prev_min_prod,
        ans_max, ans_min;

    scanf("%d", &T);

    while (T--) {
        scanf("%d", &N);

        vector<ll> v(N);
        for (int i = 0; i < N; ++i)
            scanf("%lld", &v[i]);

        current_max_prod = v[0];
        current_min_prod = v[0];
        prev_max_prod = v[0];
        prev_min_prod = v[0];
        ans_max = v[0];
        ans_min = v[0];

        for (int i = 1; i < N; ++i) {
            current_max_prod =
                max(prev_max_prod * v[i], max(prev_min_prod * v[i], v[i]));
            current_max_prod = max(current_max_prod, prev_max_prod);
            current_min_prod =
                min(prev_max_prod * v[i], min(prev_min_prod * v[i], v[i]));
            current_min_prod = min(current_min_prod, prev_min_prod);
            ans_max = max(ans_max, current_max_prod);
            ans_min = min(ans_min, current_min_prod);
            prev_max_prod = current_max_prod;
            prev_min_prod = current_min_prod;
        }

        printf("%lld %lld\n", ans_max, ans_min);
    }

    return 0;
}
