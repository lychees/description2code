def josephus(ls, skip):
    skip -= 1
    idx = skip
    while len(ls) > 1:
        ls.pop(idx)
        idx = (idx + skip) % len(ls)
    return ls[0]

n = int(raw_input())
l = map(int,raw_input().split())
l1 = l[::]
skip = int(raw_input())
num = josephus(l1,skip)
if num%2==0:
	q = [i for i in l if i%2==0]
	print " ".join(map(str,sorted(q)))
else:
	q = [i for i in l if i%2!=0]
	print " ".join(map(str,sorted(q)))
