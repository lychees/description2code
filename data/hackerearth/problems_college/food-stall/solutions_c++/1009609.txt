#include <iostream>
using namespace std;

 void sort(long long a[], int low, int high) 
    {
        int N = high - low;         
        if (N <= 1) 
            return; 
        int mid = low + N/2; 
        // recursively sort 
        sort(a, low, mid); 
        sort(a, mid, high); 
        // merge two sorted subarrays
        long long *temp = new long long[N];
        int i = low, j = mid;
        for (int k = 0; k < N; k++) 
        {
            if (i == mid)  
                temp[k] = a[j++];
            else if (j == high) 
                temp[k] = a[i++];
            else if (a[j]<a[i]) 
                temp[k] = a[j++];
            else 
                temp[k] = a[i++];
        }    
        for (int k = 0; k < N; k++) 
            a[low + k] = temp[k];         
    }


int main()
{
    long long n,t,i,d,j;
    long long l[100000];
    scanf("%lld",&t);
    while(t--)
    {	long long cou=0;
    	scanf("%lld %lld",&n,&d);
    	//if(n==1)
    //	{
    	//	cout<<"0\n";
    	//	continue;
    //	}
    	for(i=0;i<n;i++)
    	{
    		scanf("%lld",&l[i]);
    	}
    	sort(l,0,n);
    	for(i=n-1;i>0;i--)
    	{
    		if(l[i]-l[i-1]<=d)
    			{
    				cou++;
    				i--;
    			}
    	}
    	printf("%lld\n",cou);
    }
}
