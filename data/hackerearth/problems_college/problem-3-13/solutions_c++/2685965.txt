#include <bits/stdc++.h>
using namespace std;
#define ll long long
ll r,c;
ll arr[1001][1001];
bool seen[1001][1001];

int main()
{
    //cout << "Hello World!" << endl;
    scanf("%lld %lld",&r,&c);
    for(int i=1;i<=r;i+=1)
    	for(int j=1;j<=c;j+=1)
    		scanf("%lld",&arr[i][j]);

    ll ans=-1;

    for(int i=1;i<=r;i+=1){
    	for(int j=1;j<=c;j+=1){
    		if(!seen[i][j]){
    			seen[i][j]=true;
    			int x=i+1,y=j;
    			ll cnt=1;
    			while(x<=r){
    				if(arr[x][y]==arr[i][j]){
    					seen[x][y]=true;
    					cnt+=1;
    					x+=1;
    				}
    				else{
    					break;
    				}
    			}
    			x-=1;
    			y+=1;
    			while(y<=c){
    				if(arr[x][y]==arr[i][j]){
    					seen[x][y]=true;
    					cnt+=1;
    					y+=1;
    				}
    				else break;
    			}

    			ans=max(ans,cnt);
    		}
    	}
    }
    cout<<ans<<endl;

    return 0;
}
