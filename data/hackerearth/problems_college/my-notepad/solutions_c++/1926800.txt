#include <bits/stdc++.h>
using namespace std;

int main()
{
    int t,n,i,j,v1,v2;
    char w[10];
    vector< pair <int,pair<int,int> > > cmd;
    stack<int> sol;
    bool undo[100];
    cin>>t;
    while(t--)
    {
    	scanf("%d",&n);
    	cmd.clear();
    	cmd.resize(n);
    	memset(undo,0,sizeof undo);
    	for(i=0;i<n;i++)
    	{
    		scanf("%d %s",&v1,w);
    //		printf("%d %s\n",v1,w);
    		
    		if(w[0]=='t')
    		{
    			scanf(" %c",&w[1]);
    //			cout<<" type "<<w[5]<<"\n";
    			v2=w[1];
    		}
    		else
    			scanf("%d",&v2);
    		cmd[i]=make_pair(v1,make_pair((w[0]=='t'?1:0),v2));
    	}
    	sort(cmd.begin(),cmd.end());
    	sol.push('\n');
    	for(i=n-1;i>=0;i--)
    	{
    		if(undo[i])
    			continue;
    		if(cmd[i].second.first)
    				sol.push(cmd[i].second.second);
    		else
    		{
    			v1=cmd[i].first-cmd[i].second.second;
    			for(j=i-1;j>=0;j--)
    				if(cmd[j].first>=v1)
    					undo[j]^=1;
    				else
    					break;
    		}
    	}
    	while(!sol.empty())
    	{
    		printf("%c",sol.top());
    		sol.pop();
    	}
    }
    return 0;
}
