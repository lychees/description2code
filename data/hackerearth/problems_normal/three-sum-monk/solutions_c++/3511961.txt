

    #include<bits/stdc++.h>
    using namespace std;
    #define vi vector < int >
    #define pii pair < int , int >
    #define pb push_back
    #define mp make_pair
    #define ff first
    #define ss second
    #define foreach(it,v) for( __typeof((v).begin())it = (v).begin() ; it != (v).end() ; it++ )
    #define ll long long
    #define llu unsigned long long
    #define MOD 1000000007
    #define INF 0x3f3f3f3f
    #define dbg(x) { cout<< #x << ": " << (x) << endl; }
    #define dbg2(x,y) { cout<< #x << ": " << (x) << " , " << #y << ": " << (y) << endl; }
    #define all(x) x.begin(),x.end()
    #define mset(x,v) memset(x, v, sizeof(x))
    #define sz(x) (int)x.size()
    int a[555];
    int cnt[555][2001];
    vi cubes;
    void prec()
    {
        int i = 1;
        while(i*i*i <= 6000)
        {
            cubes.pb(i*i*i);
            i++;
        }
    }
    int main()
    {
        prec();
        int t;
        cin >> t;
        assert(1 <= t && t <= 40);
        while(t--)
        {
            int i,j,k;
            int n;
            cin >> n;
            assert(3 <= n && n <= 500);
            for(i=1;i<=n;i++)
            {
                cin >> a[i];
                assert(1 <= a[i] && a[i] <= 2000);
            }
            for(i=1;i<=n;i++)
            {
                for(j=1;j<=2000;j++)
                {
                    cnt[i][j] = cnt[i-1][j] + (a[i] == j);
                }
            }
            int num = 0 , den = (n*(n-1)*(n-2))/6;
            for(i=1;i<=n;i++)
            {
                for(j=i+1;j<=n;j++)
                {
                    for(k=0;k<sz(cubes);k++)
                    {
                        int cube = cubes[k];
                        if(cube < a[i] + a[j])
                            continue;
                        int rem = cube - a[i] - a[j];
                        if(rem > 2000)
                        	continue;
                        num += (cnt[n][rem] - cnt[j][rem]);
                    }
                }
            }
            double ans = (double)(num)/(double)(den);
            printf("%.9lf\n",ans);
        }
        return 0;
    }

