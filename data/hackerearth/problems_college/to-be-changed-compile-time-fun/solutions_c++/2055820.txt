#include <bits/stdc++.h>
#define ll long long
using namespace std;
int main()
{
	ll int n;
	scanf("%lld",&n);
	ll int ans;
	ll int i,j,k,l,h,t,mymax;
	ll int a[n];
	int v[n];
	set<ll int> s;
	for(i=0;i<n;i++)
	{
		scanf("%lld",(a+i));
		s.insert(i);
		v[i]=0;
	}
	ans=0;
	set<ll int>::iterator it,it2;
	for(i=0;i<(n-2);i++)
	{
		mymax=INT_MIN;
		for(it=s.begin();it!=s.end();it++)
		{
			if(*it==0||*it==(n-1))
			{
				l=*it;
				continue;
			}
			else
			{
				j=*it;
				s.erase(j);
				//~ it2=it-1;
				//~ it2--;
				//~ l=*it2;
				it2=s.upper_bound(j);
				h=*it2;
				t=(a[l]*a[h]);
				//~ cout<<j<<" "<<l<<" "<<h<<" "<<a[l]<<" "<<a[h]<<" "<<t<<endl;
				if(t>mymax)
				{
					mymax=t;
					k=j;
				}
				s.insert(j);
				l=*it;
			}
			
		}
		//~ cout<<mymax<<" "<<j<<endl;
		ans+=mymax;
		s.erase(k);
	}
	printf("%lld\n",ans);
	return 0;
}
