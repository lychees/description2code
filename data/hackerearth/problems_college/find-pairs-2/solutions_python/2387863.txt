def series(x):
	# since for matching 2,2,2,2 count will be 3: and result must be 4C2
	return x*(x+1)/2
 
 
for _ in range(int(raw_input())):
	n = int(raw_input())
	data = [int(i) for i in raw_input().split()]
	data.sort()
	total = 0
	count = 0
	for i in range(1,n):
		if data[i-1] == data[i]:
			count += 1
			if i==n-1:
				total += series(count)
		else:
			total += series(count)
			count = 0
	#data length is added for all i=j
	print(total + len(data))
			
	