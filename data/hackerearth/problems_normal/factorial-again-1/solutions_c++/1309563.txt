#include<bits/stdc++.h>
using namespace std;
long long int power(long long int a,long long int b, long long int m)
{
    long long int x=1,y=a;
    while(b>0){
        if(b&1)
          x=(x*y)%m;
        y=(y*y)%m;
        b>>=1;
    }
    return x;
}
int main()
{
    ios_base::sync_with_stdio(false);
    long long int t,n,p,ans,i;
    cin>>t;
    while(t--){
        cin>>n>>p;
        if(3*n>=p){
            cout<<"0\n";
        }
        else
        {
            ans=1;
            for(i=3*n+1;i<p;i++){
                ans=(ans*i)%p;
            }
            ans=((p-1)*power(ans,p-2,p))%p;
            ans=(ans*power(power(6,n,p)%p,p-2,p))%p;
            cout<<ans<<"\n";
        }
    }
    return 0;
}

