#include<bits/stdc++.h>
using namespace std;
#define mp make_pair
//Isin't this O(n)??
int visit[100005];
int readInt () {
	bool minus = false;
	int result = 0;
	char ch;
	ch = getchar();
	while (true) {
		if (ch == '-') break;
		if (ch >= '0' && ch <= '9') break;
		ch = getchar();
	}
	if (ch == '-') minus = true; else result = ch-'0';
	while (true) {
		ch = getchar();
		if (ch < '0' || ch > '9') break;
		result = result*10 + (ch - '0');
	}
	if (minus)
		return -result;
	else
		return result;
}
void foo(vector<pair<int,int> > v)
{
	int n=v.size();
	if(n==1)
		return ;
	vector<pair<int,int> > cur;
	for(int i=0;i<n;i+=2)
	{
		if(i+1<n)
		{
			if(v[i]>v[i+1])
				cur.push_back(mp(v[i].first,v[i].second));
			else
				cur.push_back(mp(v[i+1].first,v[i+1].second));
			visit[v[i].second]++;visit[v[i+1].second]++;
		}
	}
	if(n%2)
		cur.push_back(mp(v[n-1].first,v[n-1].second));
	foo(cur);
}
int main()
{
	int n,q;
	n=readInt();
	q=readInt();
	int a;
	vector<pair<int,int> > v;
	for(int i=0;i<n;i++)
	{
		a=readInt();
		v.push_back(mp(a,i));
	}
	foo(v);
	int i;
	while(q--)
	{
		i=readInt();
		printf("%d\n",visit[i-1]);
	}
	return 0;
}