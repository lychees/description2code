#include <bits/stdc++.h>
using namespace std;
 long long mo=(long long)1e9+7;
long long power(long long a,long long b){
long x=1,y=a;while(b>0){if(b%2){x=x*y,x%=mo;}y*=y,y%=mo;b>>=1;}
return x;
}
long long n,i,a[1000000],b[1000000],ans,sum,avg,ans2;
int main(){
	cin>>n;
	sum=0;
	for(i=0;i<n;i++){
		cin>>a[i];
		sum=sum+a[i];
	}
	avg=sum/n;
	b[0]=0;
	for(i=0;i<n-1;i++){
		b[i+1]=b[i]+a[i]-avg;
	}
	sort(b,b+n);
	ans2=-b[n/2];
	ans=0;
//	cout<<ans2<<endl;
	for(i=0;i<n;i++){
	//	cout<<b[i]<<" ";
		ans=ans+abs(b[i]+ans2);
	//	cout<<ans<<endl;
	}
cout<<ans<<endl;
return 0;
}