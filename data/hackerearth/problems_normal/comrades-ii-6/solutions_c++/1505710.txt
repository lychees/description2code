#include<iostream>
#include<stdlib.h>
#include<cstdio>
#include<list>
using namespace std;
void dfs(long long int u,long long int h,long long int height[],list<long long int>*adjlist)
{
	height[u]=h;
	//cout<<h<< " "; 
	list<long long int>::iterator i;
	for( i=adjlist[u].begin();i!=adjlist[u].end();i++)
	{
		dfs(*i,h+1,height,adjlist);
	}
	return;
}
int main()
{
	long long int t;
	cin>>t;
	while(t--)
	{
		long long int root;
		long long int n;
		cin>>n;
		list<long long int> adjlist[100001];
		for(int i=1;i<=n;i++)
		{
			int x;
			cin>>x;
			if(x==0)
			{
				root=i;
			}
			else
			adjlist[x].push_back(i);
		}
		long long int height[100001];
		
		dfs(root,0,height,adjlist);
		long long int sum=0;
		long long int total=(long long)n*(n-1);
        total/=2;
		for(int i=1;i<=n;i++)
		{
			//cout<<height[i]<<endl;
			sum=sum+height[i];
		}
		long long int rem=total-sum;
		cout<<sum<<" "<<rem<<endl;
	}
	return 0;
}
