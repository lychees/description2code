#include <bits/stdc++.h>
using namespace std;
char a[105][2500];

int main()
{
  //  cout << "Hello World!" << endl;
  int t;
  scanf("%d",&t);
  while(t--)
  {
  	int n;
  	scanf("%d",&n);
  
  	int i,j;
  	  	int l = 0;
  	  	int ll = 0;
  	for(i=0;i<n;i++){
  	scanf("%s",&a[i]);
  		for(l=0;a[i][l];l++);
  		if(l > ll)ll = l;
  	}

  
  	if(ll>20)
  	{
  		while(1)
  		{
  			int zz = 434;
  		}
  	}
  	int fl[55];
  	int total = 1<<ll;
  	int cur;
  	int ma = ll+55;
  	for(cur = 0; cur<total;cur++){
  	for(i=0;i<n;i++)fl[i] = 0;
  	int tmp = 0;
  	for(i=0;i<ll;i++)
  	{
  		if(cur & (1<<i))
  		{
  			tmp++;
  			for(j=0;j<n;j++)
  			if(a[j][i]=='Y')fl[j] = 1;
  		
  		}
  	}
  		int valid = 1;
  			for(j=0;j<n;j++)if(fl[j]==0)valid = 0;
  			
  			if(valid && tmp < ma)ma = tmp;
  	}
  	
  	printf("%d\n",ma);
  }
    return 0;
}
