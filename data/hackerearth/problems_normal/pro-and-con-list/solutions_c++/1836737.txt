#include<iostream>
#include<limits.h>
#include<cstdio>
using namespace std;
int main()
{
    int T;
    long int N,F[100000],A[100000],i,j,max1,max2,max1_i,max2_i,sum,opt_sum1;
    cin>>T;
    while(T--)
    {
        cin>>N;
        for(i=0;i<N;i++)
        {
            scanf("%ld %ld",&F[i],&A[i]);
        }
        max1=INT_MIN;
        for(i=0;i<N;i++)
        {
            opt_sum1=F[i]+A[i];
            if(opt_sum1>max1)
            {
                max1=opt_sum1;
                max1_i=i;
            }
        }
        //cout<<"\n"<<max1;
        max2=INT_MIN;
        for(i=0;i<N;i++)
        {
            opt_sum1=F[i]+A[i];
            if(opt_sum1>max2 && opt_sum1!=max1)
            {
                max2=opt_sum1;
                max2_i=i;
            }
        }
       sum=0;
       for(i=0;i<N;i++)
       {
           if(i==max1_i || i==max2_i)
            	sum+=F[i];
           else
           {
           	sum-=A[i];
           }
       }

       cout<<sum<<"\n";



    }

    return 0;
}
