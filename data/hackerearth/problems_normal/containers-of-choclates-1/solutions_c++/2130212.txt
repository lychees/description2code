#include <iostream>
#include<bits/stdc++.h>
#define pb push_back
using namespace std;
int odd=0;int even=0;
int finans=0;
vector<int > ans;
int d[100005];
vector<int> v[100005];
vector< int >vis(100005,-1);
void bfs(int s)
{   vis[s]=1;
    d[s]=1;
    ans.pb(d[s]);
    queue< int > q;
    q.push(s);
    while(!q.empty())
    {
        int u = q.front();
        for(int i=0;i<v[u].size();i++)
        {
            if(!vis[v[u][i]])
            {  
                d[v[u][i]]=d[u]+1;
                ans.pb(d[v[u][i]]);
                vis[v[u][i]]=1;
                q.push(v[u][i]);
            }
        }
        q.pop();
    }
}
int main()
{
    int t;
    int n;
    int a,b;
    cin>>t;
    for(int i=1;i<=t;i++)
    {odd=even=0;finans=0;
        scanf("%d",&n);
        for(int i=0;i<n;i++)
        {
            scanf("%d%d",&a,&b);
            v[a].pb(b);
            v[b].pb(a);
            vis[a]=0;
            vis[b]=0;
        }

        for(int i=0;i<100002;i++)
        {
            if(!vis[i])
                {
                odd=0;even=0;
                bfs(i);
                for(int j=0;j<ans.size();j++)
                {
                	if(ans[j]&1)
                	odd++;
                	else
                	even++;
                }
                finans+=max(odd,even);
                ans.clear();
                }
        }
       /* for(int i=1;i<100001;i++)
        {
            if(d[i]>=1&&d[i]&1)
                odd++;
            else
                if(d[i]>=1&&d[i]%2==0)
                even++;
        }*/
        printf("Case %d: %d\n",i,finans);
        for(int i=0;i<100001;i++)
        {
            v[i].clear();
            vis[i]=-1;
            d[i] =0;
        }
    }

}
