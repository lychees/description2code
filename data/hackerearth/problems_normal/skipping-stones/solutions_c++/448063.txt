#include <bits/stdc++.h>
using namespace std;
int n,dis[1002],L,D,i,j;
float p[1002];
float P[1002];

int main()
{
	cin >> n >> L >> D;
	P[0]=p[0]=1;
	dis[0]=0;
	for(i=1;i<=n;i++){
		cin >> p[i];
		P[i]=0;
	}
	for(i=1;i<=n;i++) cin >> dis[i];
	dis[n+1]=D;
	P[n+1]=0;
	p[n+1]=1;
	for(i=0;i<=n;i++){
		if(P[i]){
			j=i+1;
			while(j<=n+1 && dis[j]-dis[i]<=L){
				if(P[j]<P[i]*p[j])
					P[j]=P[i]*p[j];
				j++;
			}
		}
	}
	if(P[n+1])
		printf("%.6f\n",(P[n+1]));
	else
		cout << ("IMPOSSIBLE\n") << endl;
    return 0;
}
