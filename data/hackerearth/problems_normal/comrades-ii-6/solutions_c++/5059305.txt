#include <iostream>
using namespace std;
#define dbg(x) { cout<<#x<<" : "<<x<<endl; }
long long unsigned int shakes=0;
void count(int arr[],int dp[],bool visited[], int i)
{
	if(arr[i]==0) {
		visited[i]=true;
		dp[i]=0;
		return;
	}
	if(visited[i]==true)
		return;
	int head=arr[i];
	if(visited[head]==false)
		count(arr,dp,visited,head);
	visited[i]=true;
	dp[i]=dp[head]+1;
	return;
}

int main()
{
	ios::sync_with_stdio(false);
	int t;
	cin>>t;
	while(t--) {
		shakes=0;
		long long unsigned int fists=0;
		long long unsigned int n;
		cin>>n;
		int arr[n+1];
		bool visited[n+1];
		int dp[n+1];
		arr[0]=0;
		for(unsigned int i=1;i<=n;i++) {
			cin>>arr[i];
			visited[i]=false;
			dp[i]=0;
		}
		for(unsigned int i=1;i<=n;i++)
			count(arr,dp,visited,i);
		for(unsigned int i=1;i<=n;i++)
			shakes+=dp[i];
		fists=(n*(n-1))/2 - shakes;
		cout<<shakes<<" "<<fists<<endl;
	}
    return 0;
}
