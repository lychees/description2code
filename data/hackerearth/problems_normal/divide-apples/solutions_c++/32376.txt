#include <cstdio>
#include <cstdlib>
#include <cmath>
#include <algorithm>

using namespace std;

int main()
{
    int n;
    scanf("%d",&n);
    int i;
    long long arr[n];
    long long sum=0;
    for(i=0;i<n;i++) { scanf("%lld",arr+i);sum+=arr[i]; }
    long long napp=sum/n;
    for(i=0;i<n;i++) arr[i]-=napp;
    long long temp[n];
    temp[0]=0;
    for(i=1;i<n;i++) temp[i]=temp[i-1]+arr[i-1];
    sort(temp,temp+n);
    //for(i=0;i<n;i++)
      //printf("%d ",temp[i]);
    long long m = -temp[n/2];
    long long count=abs(m);
   // printf("nintial count=%lld m=%lld\n",count,m);
    long long t2=0;
    for(i=1;i<n;i++)
    {
    	t2+=arr[i-1];
    	count+=abs(t2+m);
    //	printf("t2=%lld,count=%lld",t2,count);
    }
    printf("%lld",count);
    //scanf("%d",&n);
    return 0;
}
