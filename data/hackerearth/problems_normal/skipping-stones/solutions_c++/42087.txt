#include<cstdio>
#include<vector>
#include<cmath>
#include<string>
#include<cstring>
#include<algorithm>
#include<queue>
#include<set>
#include<stack>
#include<map>
#include<sstream>
#include<bitset>
#include<deque>
#include<utility>
#include<cstdlib>
#include<iomanip>
#include<cctype>
#include<climits>
#include<iostream>
using namespace std;
#define ll             long long
#define ull            unsigned long long
#define all(x)         x.begin(),x.end()
#define vi             vector<int>
#define vvi            vector<vector<int> >
#define INF            2147483647
#define LIMIT          1000
#define mod            1000000007
#define pi             pair<int,int>
#define mp             make_pair
#define pb(v)          v.push_back
#define sz(x)          x.size()
string tostr(ll x)     { stringstream ss; ss << x; return ss.str(); }
ll toint(string &s)    { stringstream ss; ss << s; long long x; ss >> x; return x; }
ll gcd(ll a,ll b){return b?gcd(b,a%b):a;}

 
int main(){
int i,j,n,l,d,dist[1002];
double p[1002];
vector<double> v;
cin>>n>>l>>d;
for(i=1;i<=n;++i)
cin>>p[i];
for(i=1;i<=n;++i)cin>>dist[i];
p[0]=1.0;
dist[0]=0;
p[n+1]=1.0;
dist[n+1]=d;
for(i=n;i>=0;--i){
v.clear();
for(j=i+1;j<=n+1 && dist[j]-dist[i]<=l;++j)
v.push_back(p[j]);
p[i]*=(*max_element(all(v)));
}
printf("%.6lf\n",p[0]);
return 0;
}