#include <algorithm>
#include <cmath>
#include <cstdio>
#include <iostream>
#include <queue>
#include <string.h>
#include <string>

using namespace std;

char str[110];
int times[11];
long long dp[1 << 18][101];

int main() {
  long long m, left = 1;
  cin >> str >> m;
  int len = strlen(str);
  long long all = (1 << len) - 1;
  for (int i = 0; i < len; i++)
    left *= ++times[str[i] -= '0'];
  dp[0][0] = 1;
  for (int i = 0; i <= all; i++) {
    for (int j = 0; j < len; j++) {
      if (!(i & (1 << j))) {
        if (i || str[j]) { //
          for (int k = 0; k < m; k++)
            dp[i | (1 << j)][(10 * k + str[j]) % m] += dp[i][k];
        }
      }
    }
  }
  cout << dp[all][0] / left << endl;
}
