#include <iostream>
#include <cstring>
#include <cstdlib>
using namespace std;

int main()
{
	int x, y;
	int status = 0; // unlucky
	char b[100000];
	cin >> b;
	x = strlen(b);
	int t, i, j, k; 
	cin >> k;
	cin >> t;
	while (t--)
	{
		char *s = (char*)malloc(sizeof(char)*100000);
		cin >> s;
		y = strlen(s);
		
		for (i = 0, j = 0; i < x && j < y; i++)
		{
			// cout << "comparing " << b[i] << " and " << s[j] << endl;
			if (b[i] == s[j])
			{  j++; }
		}
		if (j == y)
			status += 1;
		free(s);
	}
	cout << status << " ";
	if (status >= k) cout << "LUCKY\n";
	else cout << "UNLUCKY\n";
}