#include<iostream>
#include<cstring>
using namespace std;
 
int main()
{
	int N, Q, x, a, b, c;
	cin>>N;
	bool v[N];
	memset(&v[0], 0x00, N);
	cin>>Q;
	while (Q--)
	{
		cin>>x>>a>>b;
		c = 0;
		if (x)
		{
			for (int i = a; i <= b; i++)
				c += v[i];
				
			cout<<c<<endl;
		}
		else
		{
			for (int i = a; i <= b; i++)
				v[i] ^= true;
		}
	}
	return 0;
}