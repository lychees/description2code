#include<bits/stdc++.h>
#include <iostream>
using namespace std;

#define ll int

int main()
{
	ll T;
	cin >> T;
	while(T--)
	{
		ll n,k,i,sum=0;
		ll v[n];
		cin >> n >> k;
		for(i=0;i<n;i++)cin >> v[i];
		
		for(i=0;i<n;i++)
		{
			ll lb=i-k,ub=i+k;
		//	ll lelem=0,uelem=0;
			while(lb>=0 || ub<n)
			{
				if(lb>=0 && v[lb]<v[i])
				{
					sum+=(i-lb);
					break;
				}
				if(ub<n && v[ub]<v[i])
				{
					sum+=(ub-i);
					break;
				}
				lb--;
				ub++;
			}
		}
		cout << sum << '\n';
	}// for T--
    
    return 0;
}
