#include<iostream>
#include<cstdio>
#include<algorithm>
#include<vector>
#define ll long long int
#define MOD 1000000007
using namespace std;

ll fact[100001],n;
int ra[100000],p[100000];

void create()
{
int i;
for(i=0;i<n;i++) ra[i] = 1,p[i] = i;
}

int find(int x)
{
if(x!=p[x]) p[x] = find(p[x]);
return p[x];
}

void merge(int x,int y)
{
int px = find(x);
int py = find(y);
if(ra[px] >= ra[py]) ra[px]+=ra[py],p[py] = px;
else ra[py]+=ra[px],p[px] = py;
}

void calc()
{
fact[0] = 1;
fact[1] = 1;
int i;
for(i=2;i<100001;i++)
{
fact[i] = (fact[i-1] * i) % MOD;
}

}


int main()
{
ll k,i,j;
int x,y;
scanf("%lld%lld",&n,&k);

calc();
create();

for(i=0;i<k;i++)
{
cin>>x>>y;
if(find(x) != find(y)) merge(x,y);
}


ll pro = 1;
for(i=0;i<n;i++)
{
if(p[i] == i)
{
pro = (pro * fact[ra[i]]) % MOD;
}
}

printf("%lld",pro);
return 0;
}
