t=input()
for i in range(t):
	n=input()
	a=range(n)
	for i in range(n):
		a[i]=raw_input()
	h=1
	v=1
	for i in range(n/2):
		if a[i]!=a[n-1-i]:
			h=0
	for i in range(n):
		for j in range(n/2):
			if a[i][j]!=a[i][n-1-j]:
				v=0
	if v==0 and h==0 :
		print "NO"
	if v==1 and h==0:
		print "VERTICAL"
	if v==0 and h==1:
		print "HORIZONTAL"
	if v==1 and h==1:
		print "BOTH"
				
			
	
	