#include <iostream>
#include <map>
using namespace std;

int main()
{
    int t,n,k;
    cin >> t;
    while(t--){
    	cin >> n;
    	int choco;
    	map<int, int>m;
    	m.clear();
    	for(int i = 0; i < n; i++){
    		cin >> choco;
    		m[choco]++;
    	}
    	cin >> k;
    	long long ways = 0;
    	for(int i = 1; i <= k/2; i++){
    		if(i == k/2 && k%2 == 0){
    			ways += m[k/2]*(m[k/2]-1)/2;
    			break;
    		}
    		ways += m[i]*m[k-i];
    	}
    	cout << ways << endl;
    }
    return 0;
}
