#include<bits/stdc++.h>
#define ll long long

using namespace std;

ll arr[100005];
ll height[100005];
bool visited[100005];
vector<ll> v[100005];

ll dfs(ll src,ll x)
{
    arr[src]=x;
    visited[src]=true;
    for(auto it = v[src].begin();it!=v[src].end();it++)
    {
        if(!visited[*it])
            dfs(*it,x+1);
    }


}

int main()
{
    ll t,n,x,src;
    cin>>t;
    while(t--)
    {
        src=-1;
        for(int i=0;i<100005;i++)
        {
            visited[i]=false;
            arr[i]=0;
            v[i].clear();
        }
        cin>>n;
        for(int i=0;i<n;i++)
        {
            cin>>x;
            if(x==0)
                src=i;
            else
            {
                v[i].push_back(x-1);
                v[x-1].push_back(i);
            }

        }
        dfs(src,0);
        ll ans=0;
        for(int i=0;i<100005;i++)
        {
            ans = ans + arr[i];
        }
        ll k = (n*(n-1))/2;
        cout<<ans<<" "<<k-ans<<"\n";
    }
}
