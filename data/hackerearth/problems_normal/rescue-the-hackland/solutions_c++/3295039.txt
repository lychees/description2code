#include <bits/stdc++.h>
#define ll long long int
#define mod (int)(1e9 + 7)
using namespace std;

ll t, l, r, k, i, j, cnt;

int main()
{
	cin >> t;
	while (t--) {
		cin >> l >> r >> k;
		i = l;
		j = r;
		cnt = 0;
		
		while (1) {
			l = l * k + 1;
			if (r >= l) {
				cnt++;
			} else {
				break;
			}
		}
		cout << cnt + 1 << endl;
	}
		
	return 0;
}