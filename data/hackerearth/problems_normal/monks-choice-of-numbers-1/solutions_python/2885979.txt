for _ in xrange(int(raw_input())):
	A,B=map(int,raw_input().split());	D=[];	sum_v=0;
	C=map(int,raw_input().split());
	for i in xrange(A):
		temp=bin(C[i]);	
		D.append(temp.count('1'));
	D.sort(reverse=True)
	for i in xrange(B):
		sum_v+=D[i]
	print sum_v