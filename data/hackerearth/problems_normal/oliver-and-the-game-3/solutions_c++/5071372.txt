#include<iostream>
#include<vector>

using namespace std;

#define pb push_back

vector<int> g[100001];
int timee = 1;
int start[100001];
int endd[100001];
bool visited[100001];


void dfs(int u){
    visited[u] = true;
    start[u] = timee++;
    for(int i=0;i<g[u].size();i++){
        int v = g[u][i];
        if(!visited[v]){
            dfs(v);
        }
    }
    endd[u] = timee++;
}

bool check(int x, int y){
    if(start[y] > start[x] && endd[y] < endd[x]) return true;
    return false;
}

int main(){
    int n;
    cin >> n;
    for(int i=0;i<n-1;i++){
        int a, b;
        cin >> a >> b;
        g[a].pb(b);
    }
    dfs(1);
    int q;
    cin >> q;
    while(q--){
        int type, x, y;
        cin >> type >> x >> y;
        if((!type && check(x, y)) || (type && check(y, x))) cout << "YES" <<endl;
        else cout << "NO" << endl;
    }
}
