#include <iostream>
using namespace std;
int a[100000];
int b[100000];
int c[100000];
int main()
{
   // cout << "Hello World!" << endl;
   int n,i;
   int x=0,y=0,s=0;
   cin>>n;
   for(i=0;i<n;i++){
   		cin>>a[i];
   		++b[a[i]];
   		x=max(x,b[a[i]]);
   		if(i && a[i]==a[i-1]){
   			s++;
   			++c[a[i]];
   			y=max(y,c[a[i]]);
   		}
   }
   if(x>(n+1)/2)
   	cout<<"-1"<<endl;
   else{
   	cout<<max((s+1)/2,y)<<endl;
   }
   return 0;
}
