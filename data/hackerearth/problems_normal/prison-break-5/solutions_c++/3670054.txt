#include    <bits/stdc++.h>

#define     M_PI            3.14159265358979323846
#define     mod             1000000007
#define     inf             1000000000000000000
#define     mp              make_pair
#define     pb              push_back
#define     F               first
#define     S               second
#define     ll              long long
#define     pii             pair<int,int>
#define     pli             pair<ll,int>
#define     pil             pair<int,ll>
#define     pll             pair<ll,ll>
#define     si(t)           scanf("%d",&t)
#define     sii(m,n)        scanf("%d %d",&m,&n);
#define     sl(t)           scanf("%lld",&t)
#define     rep(i,n)        for(int i=0;i<n;i++)
#define     REP(i,a,b)      for(int i=a;i<=b;i++)
#define     RREP(i,a,b)     for(int i=a;i>=b;i--)
#define     N               10000005

using namespace std;

int arr[25][25],vis[25][25],n;

ll dfs(int a,int b){
    if(a==n-1 && b == n-1) return 1;
    vis[a][b] = 1;
    ll ans = 0;
    if(a+1 < n && !vis[a+1][b] && arr[a+1][b] == 0) ans += dfs(a+1,b); 
    if(a-1 >= 0 && !vis[a-1][b] && arr[a-1][b] == 0) ans += dfs(a-1,b);
    if(b+1 < n && !vis[a][b+1] && arr[a][b+1] == 0) ans += dfs(a,b+1);
    if(b-1 >= 0 && !vis[a][b-1] && arr[a][b-1] == 0) ans += dfs(a,b-1);
    vis[a][b] = 0;
    return ans;
}

int main(){
    int t; si(t);
    while(t--){
        si(n);
        rep(i,n){
            rep(j,n) si(arr[i][j]);
        }
        if(arr[0][0] == 1 && arr[n-1][n-1] == 1){printf("0\n"); continue;}
        ll ans = dfs(0,0);
        printf("%lld\n",ans);
    }
    return 0;
}