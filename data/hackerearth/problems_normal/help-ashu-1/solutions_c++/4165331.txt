/*template created by */
#include <bits/stdc++.h>
#define SI set<int> 
#define VI vector<int> 
#define ull unsigned long long 
#define inint(a) scanf("%d",&a)
#define input(a) cin>>a
#define ll long long 
#define print(a) cout<<a
#define printn(a) cout<<a<<"\n"
#define f first
#define s second
#define len(s) s.length()
#define range(a,b,n) for(int i=a;i<b;i+=n)
using namespace std;
int BIT[200005];
int n;
void update(int x,int val){
	for(;x<=n;x+=x&-x){
		BIT[x]+=val;
	}
}
int query(int x){
	int sum=0;
	for(;x>0;x-=x&-x){
		sum+=BIT[x];
	}
	return sum;
}

int querye(int x){
	int sum=0;
	for(;x>0;x-=x&-x){
		sum+=BIT[x];
	}
	return sum;
}
int main()
{
	inint(n);
	vector <ll> v;
	for(int i=0;i<n;i++){
		ll f;
		cin>>f;
		v.push_back(f);
		if(f%2==0)
		update(i+1,1);
	}
	int q;
	cin>>q;
	for(int i=0;i<q;i++){
		int a,b,c;
		inint(a);
		inint(b);
		inint(c);
		if(a==0){
			//v[b-1]=c;
			if(v[b-1]%2==1&&c%2==0)
			{update(b,1);
			}
			else if(v[b-1]%2==0&&c%2==1){
				update(b,-1);;
			}
			v[b-1]=c;
		}
		else if(a==1){
			cout<<query(c)-query(b-1)<<"\n";
		}
		else if(a==2){
			cout<<c-b+1-query(c)+query(b-1)<<"\n";
		}
		
	}
	return 0;
}