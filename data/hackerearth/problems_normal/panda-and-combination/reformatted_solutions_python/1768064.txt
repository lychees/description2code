from math import *
for t in range(input()):
    n, m = map(int, raw_input().split())
    if m == 1:
        print n
        continue
    ans = 0
    while n > 0:
        n -= pow(m, int(log(n, m)))
        ans += 1
        if n < m:
            ans += n
            break
    print int(ans)
