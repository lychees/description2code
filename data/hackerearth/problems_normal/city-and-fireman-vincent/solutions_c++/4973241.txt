#include<iostream>
#include<set>
using namespace std;
int E[1005];
set <int> B;
set <int>::iterator it;
int main(){
	int A[1005];
	long long int m=1000000000+7;
	int count;
	long long int pro=1;
	int n,k,i,x,y,a,b;
	cin>>n;
	for(i=1;i<=n;i++)
	{
		cin>>E[i];
		A[i]=i;
	}
	cin>>k;
	//cout<<k<<endl;
	for(int i=0;i<k;i++){
		cin>>x>>y;
		a=A[x];
		b=A[y];
		//cout<<x<<y<<endl;
		if(E[a]<E[b]){
			for(int j=1;j<=n;j++){
				if(A[j]==b){
					A[j]=a;
				//	cout<<A[j]<<endl;
				}
			}
		}
		else{
			for(int j=1;j<=n;j++){
				if(A[j]==a){
					A[j]=b;
				//	cout<<A[2];
				}
			}
			
		}
	}

	for(i=1;i<=n;i++){
		B.insert(A[i]);
		
	}
	for(it=B.begin();it!=B.end();it++){
		//cout<<*it<<endl;
		count=0;
		//cout<<*it<<endl;
		for(i=1;i<=n;i++){
			if(A[i]==*it && E[i]==E[*it]){
				count++;
			}
		}
		pro=pro*count;
		pro=pro%m;
	}
	
	cout<<pro;
	
	
	
	
	return 0;
	
}