#include<bits/stdc++.h>
using namespace std;
int main()
{
	int p1,p2,t,i,c;
	double l,r,res,count;
	cin >>p1>>p2;
	c=p1*p2;
	cin>>t;
	while(t--)
	{
		count=0;
		cin >>l >>r;
		int x,y,z;
		x=(r/p2)-((int)l-1)/p2;
		y=(r/p1)-((int)l-1)/p1;
//		cout <<y<<endl;
		z=r/c-((int)l-1)/c;
//		cout <<x<<" "<<y<<" "<<z<<endl;
		count=x+y-z;
//		cout <<count<<endl;
		res=count/(r-l+1);
		cout<<fixed;
		cout <<setprecision(6)<<res<<endl;
	}
	return 0;
}