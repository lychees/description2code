#include <iostream>
#include <bits/stdc++.h>
using namespace std;
#define sc(x) scanf("%d",&x)
struct can
{
	int x;
	int s;
	int c;
};
struct can arr[100005];
map <int,int> m;
int cmp(struct can a,struct can b)
{
	if(a.s!=b.s)
	{
		return a.s < b.s;
	}
	else
	{
		if(a.c!=b.c)
		{
			return a.c > b.c;
		}
		else
		{
			return a.x > b.x;
		}
	}
}
int main()
{
    int i,n,q,x,s,c,d;
   	sc(n);
   	sc(q);
   	for(i=1;i<=n;i++)
   	{
   		sc(x);
   		sc(s);
   		sc(c);
   		arr[i-1].x=x;
   		arr[i-1].s=s;
   		arr[i-1].c=c;
   	}
   	sort(arr,arr+n,cmp);
   	for(i=1;i<=n;i++)
   	{
   		m[arr[i-1].x]=n-i+1;
   	}
   	for(i=1;i<=q;i++)
   	{
   		sc(d);
   		printf("%d\n",m[d]);
   	}
   	m.clear();
    return 0;
}