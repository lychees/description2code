#include <iostream>
#include <bits/stdc++.h>
using namespace std;

long long gcd(long long a,long long b)
{
	long long r;
	while(b!=0)
	{
		r=a%b;
		a=b;
		b=r;
	}
	return a;
}
long long strtonum(string s)
{
	long long num=0;
	int l=s.length();
	for(int i=0;i<l;++i)
	{
		num=num*10+s[i]-'0';
	}
	return num;
}
pair<int,int> findrepetition(string s)
{
	int l=s.length(),ans=-1,t=0;
	for(int i=1;i<=l/2;++i)
	{
		int cnt=1,flag=0;;
		for(int j=l-1-i;j>=i-1;j-=i)
		{
			for(int k=0;k<i;++k)
			{
				if(s[l-1-k]!=s[j-k]){ flag=1; break; }
			}
			if(flag) break;
			cnt++;
		}
		if(cnt>1){ ans=i; t=cnt; }
	}
	return make_pair(ans,t);
}
int main()
{
    int t;
    string s;
    cin>>t;
    while(t--)
    {
    	cin>>s;
    	int l=s.length();
    	long long num,den,g;
    	if(s[l-1]!='.')
    	{
    		num=strtonum(s.substr(2));
    		den=pow(10,l-2);
    		g=gcd(den,num);
    		printf("P=%lld Q=%lld\n",num/g,den/g);
    		continue;
    	}
    	pair<int,int> pr=findrepetition(s.substr(2,l-5));
    	int r=pr.first;
    	int ti=pr.second;
    	//printf("%d %d\n",r,ti);
    	if(r==-1) continue;
    	int start=l-5-r*ti;
    	long long ini=0;
    	if(start>0)
    	{
    		ini=strtonum(s.substr(2,start));
    	}
    	long long sub=strtonum(s.substr(2,r+start));
    	num=sub-ini;
    	den=pow(10,start+r)-pow(10,start);
    	g=gcd(den,num);
    	printf("P=%lld Q=%lld\n",num/g,den/g);
    	
    }
    return 0;
}
