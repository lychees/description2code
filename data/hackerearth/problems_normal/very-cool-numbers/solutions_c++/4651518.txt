#include <iostream>
using namespace std;

int main()
{
 	int t;
 	cin>>t;
 	while(t>0)
 	{
 		int n,k;
 		cin>>n>>k;
 		int cnt=0;
 		for(int i=1;i<=n;i++)
 		{
 			int temp=i;
 			string s="";
 			while(temp>0)
 			{
 				int num=temp%2;
 				char ch;
 				ch='0';
 				
 				if(num==1)
 					ch='1';
 					
 				temp/=2;
 				s+=ch;
 			}
 			int tempcnt=0;
 			int len=s.size();
 			for(int i=0;i<len-2;i++)
 			{
 				if(s.at(i)=='1' && s.at(i+1)=='0' && s.at(i+2)=='1')
 				{
 					tempcnt++;
 				}
 			}
 			if(tempcnt>=k)
 				cnt++;
 		}
 		cout<<cnt<<endl;
 		t--;
 	}
	
}
