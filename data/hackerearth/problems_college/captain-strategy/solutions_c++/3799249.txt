#include <bits/stdc++.h>
 
using namespace std;
 
#define MOD 	1000000007
#define INF 	1LL<<57LL
#define MAX 	100005
#define pi 		M_PI
#define ESP 	(1e-9)
 
#define ff 			first
#define ss 			second
#define clr 		clear()
#define square(x) ((x)*(x))
#define pb 			push_back
#define mp 			make_pair
#define gcd(a,b)  	__gcd(a,b)
#define sz(a) 		((int)(a.size()))
#define len(a) 		((int)a.length())
#define all(vi) 	vi.begin(), vi.end()
#define mem(i,n) 	memset(i,n,sizeof(i))
#define IOS 		ios_base::sync_with_stdio(false); cin.tie(NULL);
#define IN          int t; cin >> t; while(t--)
 
int A[MAX];
 
vector <int> adj[MAX];
 
 
long long ans;
void f(int s) 
{
	ans+=A[s];
   for(int i=0;i<adj[s].size();++i)
   f(adj[s][i]);
}
 
 
 
int main()
{
    IOS
    int i,n,q,x,y;
    char z;
    
    cin >> n >> q;
    for(i=1;i<=n;++i) cin >> A[i];
    for(i=1;i<n;++i)
    {
        cin >> x >> y;
        adj[x].pb(y);                  
    }
    while(q--)
    {
    	cin >> z;
    	if(z=='Q')
    	{
    		cin >> x;
    		ans=0;;
    		f(x);
    		cout << ans << endl;
    	}
    	else
    	if(z=='U')
    	{
    		
    		cin >> x >> y;
    		A[x]=y;
    	}
    }
    return 0;    
}