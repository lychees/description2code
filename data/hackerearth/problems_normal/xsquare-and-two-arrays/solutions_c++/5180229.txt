#include<bits/stdc++.h>
using namespace std;

int main()
{
 long long n,q,i,j,k,aes=0,aos=0,bes=0,bos=0;
long long d,l,r,ans;
 cin>>n>>q;
 long long a[n+1]; long long b[n+1];  long long dpa[n+1],dpb[n+1];
 for(i=1;i<=n;i++){cin>>a[i]; }
for(i=1;i<=n;i++){cin>>b[i]; }
if(n==1){
        while(q--){
            cin>>d>>l>>r;
if(d==1){cout<<a[1]<<endl;}
 else{ cout<<b[1]<<endl;}
 }
 return 0;
 }
dpa[0] = 0; dpb[0] = 0;
dpa[1] = a[1]; dpb[1] = b[1];
dpa[2] = a[2]; dpb[2] = b[2];
for(i=3;i<=n;i++){
dpa[i] = dpa[i-2] + a[i];
dpb[i] = dpb[i-2] + b[i];
}
while(q--){
    cin>>d>>l>>r;

    if(d==1){
            if((r-l)%2 ==0){ans = dpa[r] - (l != 1)*dpa[l-2] + dpb[r-1] - (l != 1)*dpb[l-1];}
      else{ans = dpb[r] - (l != 1)*dpb[l-1] + dpa[r-1] - (l != 1)*dpa[l-2];}
    }
    else{
             if((r-l)%2 ==0){ans = dpb[r] - (l != 1)*dpb[l-2] + dpa[r-1] - (l != 1)*dpa[l-1];}
       else{ans = dpa[r] - (l != 1)*dpa[l-1] + dpb[r-1] - (l != 1)*dpb[l-2];}
    }
    cout<<ans<<endl;
}

   }

