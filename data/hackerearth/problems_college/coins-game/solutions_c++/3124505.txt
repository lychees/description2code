#include<bits/stdc++.h>

using namespace std;

typedef long long ll;

const int max_n= 1e5 + 10;

ll arr[max_n], sum[max_n], mx[max_n];

int main()
{
	ll t, n, m, i, j, maxi;
	
	scanf("%lld", &t);
	
	while(t--)
	{
		scanf("%lld", &n);
		for(i=0;i<n;++i)
		scanf("%lld", &arr[i]);
		
		sum[n]= 0;
		
		sum[n-1]= arr[n-1];
		
		for(i=n-2;i>=0;--i)
		sum[i]= sum[i+1]+ arr[i];
		
		maxi= 0;
		
		mx[n]= 0;
		
		for(i=n-1;i>=0;--i)
		{
			maxi= 0;
			
			mx[i]= arr[i];
			
			if(i<=n-1)
			{
				maxi= max(maxi, sum[i+1]-mx[i+1]);
			}
			
			if(i+1<=n-1)
			{
				maxi= max(maxi, arr[i+1] + sum[i+2]-mx[i+2]);
			}
			
			if(i+2<=n-1)
			{
				maxi= max(maxi, arr[i+1]+arr[i+2]+sum[i+3]-mx[i+3]);
			}
			
			mx[i]+= maxi;
			
			//cout<<"i= "<<i<<"   --- "<<mx[i]<<endl;
		}
		
		printf("%lld\n", mx[0]);
	}
	
	return 0;
}
