#include <bits/stdc++.h>
using namespace std;
int dp[3010][40];
int fun(int x)
{
int res=0;
while(x!=0)
{
int digit=x%10;
x=x/10;
res=res+(digit*digit);
}
return res;
}
void pre()
{
for(int i=0;i<=3000;i++)
dp[i][0]=fun(i);
for(int j=1;j<=30;j++)
{
for(int i=0;i<=3000;i++)
{
dp[i][j]=dp[dp[i][j-1]][j-1];
}
}
}
void solve(int n,int m)
{
if(n>=3000)
{
n=fun(n);
m--;
}
for(int i=30;i>=0;i--)
{
if((1<<i)<=m)
{
n=dp[n][i];
m=m-(1<<i);
}
}
cout<<n<<"\n";
}
int main()
{
int n;
int m;
int t;
pre();
cin>>t;
while(t--)
{

cin>>n>>m;
solve(n,m);
}
return 0;
}