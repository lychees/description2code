n=int(raw_input())
for j in range(n):
	n=int(raw_input())
	swap=0
	s=map(int,raw_input().split())
	i=0
	while i<n:
		if s[i]>min(s[i:]) and min(s[i:])==1:
			s[i]=1
			swap+=1
		elif s[i]>min(s[i:]) and min(s[i:])!=1:
			s[i]=min(s[i:])-1
			swap+=1
			
		i+=1
	if len(set(s))==1:
		print len(s)-1
	else:
		print swap
			