import math
import bisect
temp, a, b, A, F = 1, [], [], [], {}
while temp < 10**20:
    a.append(temp)
    temp = temp*2
for i in range(len(a)):
    for j in range(i+1, len(a)):
        b.append(a[i] + a[j])
b = sorted(b)
for i in range(len(b)):
    if (i == 0):
        A.append(b[i])
    else:
        A.append(A[i-1] + b[i])
# print A[i]
for _ in range(input()):
    x = input()
    if x < 3:
        print 0
    else:
        print A[bisect.bisect(b, x) - 1] % (10**9 + 7)
