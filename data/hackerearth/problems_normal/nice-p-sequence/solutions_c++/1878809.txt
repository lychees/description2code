 //Knowledge and awareness are vague, and perhaps better called illusions. Everyone lives within their own subjective interpretation.
#include <iostream>
#include <algorithm>
#include <vector>
#include <map>
#include <list>
#include <cstdio>
#include <cstring>
#include <cctype>
#include <queue>
#include <set>
using namespace std;

#define MAX 200500
#define MOD 1000000007
#define INF 1e9

pair<int, pair<int, int> > extendedEuclid(int a, int b) {
    if(a == 0) return make_pair(b, make_pair(0, 1));
    pair<int, pair<int, int> > p;
    p = extendedEuclid(b % a, a);
    return make_pair(p.first, make_pair(p.second.second - p.second.first*(b/a), p.second.first));
}

int modInverse(int a, int m) {
    return (extendedEuclid(a,m).second.first + m) % m;
}

int main()
{
    int t;
    scanf("%d", &t);
    while (t--) {
        long long a, p, n;
        scanf("%lld%lld%lld", &a, &p, &n);
        long long modI = modInverse(a, p);
        if (((a * modI) % p) != 1) printf("%d\n", -1);
        else {
            long long answer = (n+1)/2 * a + (n - (n+1)/2) * modI;
            printf("%lld\n", answer);
        }
    }
}


