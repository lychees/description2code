#include <bits/stdc++.h>
using namespace std;

int main()
{
    char str[100];
    
    int X,Y,N,T,count;
    
    cin>>T;
    
    while(T--)
    {
    	count=0;
    	
	    cin>>str;
	    
	    cin>>N;
	    
	    cin>>X>>Y;
	    
	    for(int i=X-1;i<Y;i++)
	    {	
	    	int val=0;
	    	
	    	for(int j=i;j<Y;j++)
	    	{
	    		val=val*10+str[j]-'0';
	    		//cout<<val<<endl;
	    		val%=N;
	    		
	    		if(!val)
	    		count++;
	    	}
	    	//cout<<"i= "<<i<<" "<<count<<endl;
	    }
	    
	    cout<<count<<endl;
    }
    
    return 0;
}
