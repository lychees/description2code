#include<bits/stdc++.h>
using namespace std;
double solve(int p1,int p2,int l,int r){

 int a = r/p1 - l/p1;
 if(l%p1==0)
 a++;
 int b = r/p2 - l/p2;
 if(l%p2==0)
 b++;
 int lcm = (p1*p2)/(__gcd(p1,p2));
 int c = r/lcm - l/lcm;
 if(l%lcm==0)
 c++;
 int ans = a + b - c;
 return ans;
}
int main(){


   cin.sync_with_stdio(false);

   int p1 , p2;
   cin >> p1 >> p2;

   int t;
   cin >> t;
   while( t-- ){

      int  l , r;
      cin >> l >> r;


      double ans = solve(p1,p2,l,r);
      ans = ans/(r-l+1);

      printf("%.6lf\n",ans);


   }

}
