def f(s):
    count = start = 0
    while True:
        start = s.find("101", start) + 1
        if start > 0:
            count+=1
        else:
            return count
T = input()
R = []
K = []
for i in xrange(T):
    a, b = raw_input().split()
    R.append(int(a))
    K.append(int(b))
for i in xrange(T):
    c = 0
    for j in xrange(1, R[i]+1):
        if f(bin(j)) >= K[i]:
            c += 1
    print c
