#include<bits/stdc++.h>
#define mod 1000000007
using namespace std;
long long int dp[1000001];
int main()
{
    long long int x,y;
    scanf("%lld%lld",&x,&y);
    dp[0]=1;
    for(int i=1;i<=1000000;i++)
    {
        dp[i]=(x*dp[i-1]-y)%mod;
    }
    long long int q;
    scanf("%lld",&q);
    while(q--)
    {
        int temp;
        scanf("%d",&temp);
        printf("%lld\n",dp[temp]);
    }
    return 0;
 }