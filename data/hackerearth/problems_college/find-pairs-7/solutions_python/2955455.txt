t = int(raw_input())
 
while t>0:
	d = {}
	total = 0
	n = raw_input()
	l = map(int, raw_input().split(" "))
	for i in l:
		if i in d:
			d[i] += 1
		else:
			d[i] = 1
			
	for i in d.values():
		total += (i*(i+1))/2
	t -= 1
	print total