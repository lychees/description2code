#include <bits/stdc++.h>
using namespace std;
vector<int>a[10005];
bool  visited[10005];
int dfs(int u){
	if(visited[u]){
		return 0;	
	}
	else{
		visited[u]=true;
		int ans=1;
		for(int i=0;i<a[u].size();i++){
			int v=a[u][i];
			ans+=dfs(v);
		}
		return ans;
	}
}
int main() {
	int t;
	cin>>t;
	while(t--){
		int n,f,s;
		cin>>n>>f>>s;
		while(f--){
			int u,v;
			cin>>u>>v;
			a[u-1].push_back(v-1);
		}
		int ans=0;
		memset(visited,false,sizeof(visited));
		while(s--){
			int u;
			cin>>u;
			ans+=dfs(u-1);
		}
		cout<<ans<<endl;
		for(int i=0;i<n;i++){
			a[i].clear();
		}
	}
	return 0;
}