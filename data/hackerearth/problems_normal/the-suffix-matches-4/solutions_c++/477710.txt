#include<iostream>
#include<cstdio>
using namespace std;
void reverse(string& s){
	int len=s.size();
	for(int i=0,j=len-1;i<j;i++,j--){
		s[i]=s[i]^s[j];
		s[j]=s[i]^s[j];
		s[i]=s[i]^s[j];
	}
}
int main(){
	string s;
	cin>>s;
	reverse(s);
	
	int l,r,len;
	len=s.size();
	int Z[len];
	for(int i=0;i<len;i++){
		Z[i]=0;
	}
	l=r=0;
	for(int i=1;i<len;i++){
		if(i<r){
			if(Z[i-l]<r-i+1){
				Z[i]=Z[i-l];
			}
			else if(Z[i-l]>r-i+1){
				Z[i]=r-i+1;
			}
			else{
				Z[i]=r-i+1;
				l=i;
				while(r<(len-1) && s[r+1]==s[r-l+1]){
					r++;
					Z[i]++;
				}
			}
		}
		else{
			l=r=i;
			while(r<len && s[r]==s[r-l]){
				r++;
				Z[i]++;
			}
			if(r!=i){
				r--;
			}
		}
	}
	/*
	for(int i=0;i<len;i++){
		cout<<Z[i]<<" ";
	}
	*/
	int n;
	scanf("%d",&n);
	while(n--){
		int x;
		scanf("%d",&x);
		x=len-x;
		if(x==0){
			cout<<len<<endl;
			continue;
		}
		cout<<Z[x]<<endl;
	}
	return 0;
}