#include<iostream>
using namespace std;
int root(int arr[],int x)
{
	while(arr[x]!=x)
	{
		x=arr[x];
	}
	return x;
}
int unio(int arr[],int a,int b )
{
	int r_a=root(arr,a);
	int r_b=root(arr,b);
	arr[r_a]=r_b;
}
int main()
{
	int n;
	cin>>n;
	int arr[n+1],i;
	for(i=1;i<n+1;i++)
	arr[i]=i;
	int q,a,b;
	cin>>q;
	while(q--)
	{
	  cin>>a>>b;
	  unio(arr,a,b);
	}
	int m;
	cin>>m;
	while(m--)
	{
		cin>>a>>b;
	  if(arr[a]==b)
	  cout<<"Direct Connection\n";
	  else if(root(arr,a)==root(arr,b))
	  cout<<"Indirect Connection\n";
	  else if(root(arr,a)!=root(arr,b))
	  cout<<"No Connection\n";
	  else{}
	}
	return 0;
}