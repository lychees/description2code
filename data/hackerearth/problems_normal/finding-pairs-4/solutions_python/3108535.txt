'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
def finding_pairs():
    n = int(raw_input())
    for i in xrange(n):
        t = raw_input()
        numbers = map(int, raw_input().split())

        hash = {}
        for number in numbers:
            if number not in hash:
                hash[number] = 1
            else:
                hash[number] += 1

        cnt = 0
        for k, v in hash.items():
            cnt += (1 + v) * v / 2

        print cnt

finding_pairs()