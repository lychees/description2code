#include <iostream>
#include<string.h>
using namespace std;

int main()
{
    
   long int in,mod,i;
     cin>>in>>mod;
     char ch[100000];
     cin>>ch;
     
     long long int res=0,power=in;
     for(i=0;ch[i]!='\0';i++)
      {if(ch[i]=='1')
        res=(res+power)%mod;
        power=(power*power)%mod;
      }
      
     
    
 
cout<<(res)%mod;
    return 0;
}
