#include <bits/stdc++.h>

using namespace std;

int check_l(int a[][1001], int i, int j, int n, int m)
{
	int cou = 0, flag1 = 0, flag = 0;
	int key = a[i][j];
	
	if (i == 1 && j == 1)
		flag = 1;
	
	while (i < n)
	{
		if (a[i][j] != key)
		{
			flag1 = 1;
			break;	
		}
		cou++;
//		if (flag == 1)
//			cout << "i : is "  << i << " j is : " << j << "count is : " << cou << endl;
		i++;
	}
	if (flag1 == 1)
		i--;

	j++;
//	if (flag == 1)
//		cout << i << j << endl;
	while (j < m)
	{
		if (a[i][j] != key)
			break;
		cou++;
//		if (flag == 1)
//			cout << "i : is "  << i << " j is : " << j << "count is : " << cou << endl;
		j++;
	}
	return cou;
}

int check_r(int a[][1001], int i, int j, int n, int m)
{
	int cou = 0, flag = 0;
	int key = a[i][j];
	
	while (j < m)
	{
		if (a[i][j] != key)
		{
			flag = 1;
			break;
		}
		cou++;
		j++;
	}
	if (flag == 1)
		j--;
	i++;
	while (i < n)
	{
		if (a[i][j] != key)
			break;	
		cou++;
		i++;
	}
	return cou;
}


int main()
{
    int n, m ,size;
    cin >> n >> m;
    size = (n * m) + 1;

    int a[1001][1001], max[size];
    for (int i = 0; i < size; i++)
    	max[i] = 0;
    	
    for (int i = 0; i < n; i++)
    	for (int j = 0; j < m; j++)
    		cin >> a[i][j];
    		
   int c = 0;
   for (int i = 0; i < n; i++)
   {
   		for (int j = 0; j < m; j++)
   		{
   				int k = check_l(a, i, j, n, m);
   			    int k1 = check_r(a, i, j, n, m);
//   			    cout << "for " << i << " " << j << " : " << " k and k1 is : " << k <<" " << k1 << endl;
   			    if (k > k1)
   					max[c++] = k;
   			    else
   					max[c++] = k1;
   		}
   }
   int *ma = max_element(max, max + c);
   cout << *ma << endl;
   return 0;
}
