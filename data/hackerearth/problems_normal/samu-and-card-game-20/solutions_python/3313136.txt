'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''

def get_row_nums():
	return map(int, raw_input().strip().split())
	
	
testcases = int(raw_input())

for each in range(testcases):
	row_lim, col_lim = get_row_nums()
	# total jumps taken so far
	jumps = 0
	row_pos = col_pos = 1
	
	total_cards = int(raw_input())
	for each_card in range(total_cards):
		cards_nums = get_row_nums()
		
		# now check how many positions she can
		# jump with this card
		while row_pos > 0 and row_pos <= row_lim\
			and col_pos > 0 and col_pos <= col_lim:
			jumps += 1
			row_pos += cards_nums[0]
			col_pos += cards_nums[1]
			
		row_pos -= cards_nums[0]
		col_pos -= cards_nums[1]
		jumps -= 1
	print jumps
			