#include<iostream>
#include<stdio.h>

using namespace std;

long long int a[150000];
int t[150000]={0},h[150000]={0};

int main(){
int q,i,n;
scanf("%d %d",&n,&q);
for(i=1;i<=n;i++){
scanf("%lld",&a[i]);
t[i]=i;
}
int m=n;
i=1;
while(n>1){
for(i=1;i<=n;i+=2){
if(i+1>n){
t[n/2+1]=t[i];
//cout<<"   break "<<t[i]<<endl;
break;
}
h[t[i]]++;
h[t[i+1]]++;
//cout<<"   Fight "<<t[i]<<"  "<<t[i+1]<<"  ";
if(a[t[i]]>a[t[i+1]]){
t[(i+1)/2]=t[i];
//cout<<t[i];
}
else{
//cout<<t[i+1];
t[(i+1)/2]=t[i+1];
}
//cout<<endl;
}
n=(n+1)/2;
}
while(q--){
scanf("%d",&i);
printf("%d\n",h[i]);
}
return 0;
}