#include<bits/stdc++.h>
using namespace std;
int main() {
	int i,POWER[33];
	POWER[0]=1;
	for(i=1;i<33;i++) {
		POWER[i]=POWER[i-1]<<1;
	}
	int t,mini,m,j,k,n,counter;
	scanf("%d",&t);
	while(t--) {
		char stt[12345];
		mini=1234656789;
		scanf("%d",&n);
		string str[n];
		bool vis[n];
		for(i=0;i<n;i++) {
			scanf("%s",stt);
			string st(stt);
			str[i]=st;
		}
		int m=str[0].size();
		for(i=1;i<POWER[m];i++) {
			for(j=0;j<n;j++)
				vis[j]=false;
			counter=n;
			for(j=0;j<m;j++) {
				if(POWER[j]&i) {
					for(k=0;k<n;k++) {
						if(!vis[k]&&str[k][j]=='Y') {
							vis[k]=true;
							counter--;
						}
					}
				}
			}
			if(counter==0) {
				mini=min(mini,__builtin_popcount(i));
			}
		}
		printf("%d\n",mini);
	}
	return 0;
}
