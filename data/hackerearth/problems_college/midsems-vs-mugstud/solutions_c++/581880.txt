#include<bits/stdc++.h>
using namespace std;
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n;
		cin>>n;
		int B[59][59][59]={0};
		int A[59][59][59]={0};
		for(int i=1;i<=n;i++)
		    for(int j=1;j<=n;j++)
		        for(int k=1;k<=n;k++)
		        {
		        	if(i==0 || j==0 || k==0)
		        	{
		        		B[i][j][k]=0;
		        	}		        	
		        	cin>>B[i][j][k];
		        //	A[i][j][k]=B[i][j][k];
		        }
		        
		
		
		for(int i=1;i<=n;i++)
		    for(int j=1;j<=n;j++)
		           for(int k=1;k<=n;k++)
		           {
		        	   A[i][j][k]=B[i][j][k]
                                  -B[i-1][j][k] - B[i][j-1][k]-B[i][j][k-1]
                                  + B[i][j-1][k-1] + B[i-1][j][k-1] + B[i-1][j-1][k]
                                  - B[i-1][j-1][k-1];
		           }
		           
		           
	    for(int i=1;i<=n;i++)
		    for(int j=1;j<=n;j++)
		        {
		           for(int k=1;k<=n;k++)
		           {
		        	  cout<<A[i][j][k]<<" ";
		           }
		           cout<<endl;
		        }
		        		        
	}
}