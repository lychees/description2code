#include <bits/stdc++.h>
using namespace std;;
#define MIN 100000000
int dp[1000005];
vector <int> a[1000005];
int min(int x, int y)
{
	return x<y?x:y;
}
int fun(int i, int j)
{
	if(i==j)
		return 0;
	if(i>j)
		return MIN;	
	int z=MIN,w=0;
	if(dp[i]+1)
		return dp[i];		
	if(a[i].size())
	{
		for(int w=0;w<a[i].size();w++)			
			z=min(z,fun(a[i][w],j));
		return dp[i]=z;
	}
	int k;	
	for(k=i+12;k>i+1;k--)
			z=min(z,fun(k,j)+1);
	return dp[i]=z;
}
int main()
{
    int t,n,l,i,x,y;
    scanf("%d",&t);
    while(t--)
    {
    	memset(dp,-1,sizeof(dp));
    	memset(a,0,sizeof(a));
    	scanf("%d%d",&n,&l);
    	while(l--)
    	{
    		scanf("%d%d",&x,&y);
    		a[x].push_back(y);
    	}
    	printf("%d\n",fun(1,n));
    }
    return 0;
}
