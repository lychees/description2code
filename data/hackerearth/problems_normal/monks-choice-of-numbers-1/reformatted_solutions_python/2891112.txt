'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
print 'Hello World!'
'''
t = raw_input()
t = int(t)
for i in xrange(t):
    [n, k] = map(int, raw_input().split())
    cake = map(int, raw_input().split())
    cake_max = []
    for j in cake:
        count = 0
        while (j != 0):
            j = j & (j-1)
            count += 1
        cake_max.append(count)
    cake_max.sort()

    print sum(cake_max[n-k:n])
