#include <iostream>
#include <bits/stdc++.h>
using namespace std;
int a[10000005],s[10000005],ds[10000005],ans[10000005];
int sum(int n)
{
	int s=0;
	while(n>0)
	{
		s+=n%10;
		n/=10;
	}
	return s;
}
void pre()
{
	int i,j,p,e;
	ds[1]=1;
	for(i=2;i<=1000000;i++)
	{
		ds[i]=sum(i);
	}
	for(i=2;i<=1000000;i++)
	{
		if(!a[i])
		{
			s[i]+=ds[i];		
			for(j=i*2;j<=1000000;j+=i)
			{
				p=j;
				while(p%i==0)
				{
					p/=i;
					s[j]+=ds[i];
				}
				a[j]=1;
			}
		}
	}
	ans[1]=0;
	for(i=2;i<=1000000;i++)
	{
		ans[i]=ans[i-1];
		if(ds[i]==s[i])
		{
			ans[i]++;
		}
	}
}
int main()
{
	pre();
    int n,l,r;
    scanf("%d",&n);
    while(n--)
    {
    	scanf("%d%d",&l,&r);
    	printf("%d\n",ans[r]-ans[l-1]);
    }
    return 0;
}
