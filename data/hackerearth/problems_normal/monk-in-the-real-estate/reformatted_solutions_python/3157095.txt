t = int(raw_input())
while t > 0:
    d = {}
    t -= 1
    e = int(raw_input())
    count = 0
    while e > 0:
        e -= 1
        l = map(int, raw_input().split())
        if l[0] not in d:
            count += 1
            d[l[0]] = 1
        if l[1] not in d:
            count += 1
            d[l[1]] = 1
    print count
