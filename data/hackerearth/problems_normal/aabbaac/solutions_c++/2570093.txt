#include <iostream>
#include <cstdio>
#include <algorithm>
#include <string>
#include <vector>
using namespace std;

typedef long long ll;

ll t, n, m;

vector<string> strings;

char f( ll q ) {

	ll c = 0;
	ll d = strings[c].size()-1;
	
	while( q > d ) {
		c++;
		d = 2*(d+1)-1 + strings[c].size();
	}
	
//	cout << q << " " << c << " " << d << " " << strings[c].size() << endl;
	
	if( q > d - (ll)strings[c].size() ) {
		return strings[c][ q - 1 - (d - strings[c].size()) ]; 
	}
	else {
		return f( d - strings[c].size() - q );
	}
	
}

int main()
{
	cin >> t;
	
	while( t-- ) {
		cin >> n >> m;
		
		strings.clear();
		for( int i = 0; i < n; i++ ) {
			string s;
			cin >> s;
			strings.push_back( s );
		}
		
		ll q;
		
		while( m-- ) {
			cin >> q;
			cout << f(q);
		}
		cout << endl;
		
	}

	return 0;
}
