#! /bin/python3

charset = {'a', 'A', 'b', 'B', 'c', 'C'}
notc = int(input())
i = 0


def inc(start, end):
    n = end - start
    return n*(n+1)/2


for i in range(notc):
    ans = 0
    line = raw_input()
    start = 0
    while start < len(line):
        end = start
        while end < len(line) and line[end] in charset:
            end = end+1
        if end != start and (end < len(line) or line[end-1] in charset):
            ans = ans+inc(start, end)

        start = end
        while start < len(line) and not line[start] in charset:
            start = start+1

    print(ans)
