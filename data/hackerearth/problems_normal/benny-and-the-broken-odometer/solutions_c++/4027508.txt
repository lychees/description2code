#include<bits/stdc++.h>
using namespace std;
typedef long long int uli;
int f[15][2];
string itos(int v){
   if(v==0)return "0";   
   string ans="";
   for(;v!=0;v/=10)ans=string(1,'0'+(v%10))+ans;
   return ans;
}
int main(){
   int t,n;
   scanf("%d",&t);
   while(t--){
      scanf("%d",&n);
      string s=itos(n);
//      cout<<"s="<<s<<endl;
      n=s.size();
      f[n][0]=f[n][1]=1;
      for(int i=n-1;i>=0;i--){
         int to=10;
         for(int b=0;b<2;b++){
            f[i][b]=0;
            for(int d=0;d<to;d++)if(d!=3){
               int nb=b;
               if(d!=s[i]-'0')nb=0;
               f[i][b]+=f[i+1][nb];
            }
            to=s[i]-'0'+1;
         }
      }
      int ans=f[0][1]-1;
      printf("%d\n",ans);
   }
   return 0;
}
