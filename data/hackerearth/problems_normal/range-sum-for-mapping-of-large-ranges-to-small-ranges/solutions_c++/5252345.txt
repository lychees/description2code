//prateek and the project group.cpp
#include <bits/stdc++.h>
using namespace std;

#define ll long long int
#define sf scanf
#define sf_d(var) scanf("%d",&var)
#define sf_c(var) scanf("%c",&var)
#define sf_2d(var1,var2) scanf("%d %d",&var1,&var2)
#define sf_3d(var1,var2,var3) scanf("%d %d %d",&var1,&var2,&var3)
#define sf_dd(var) scanf("%lld",&var)
#define sf_2dd(var1,var2) scanf("%lld %lld",&var1,&var2)
#define sf_3dd(var1,var2,var3) scanf("%lld %lld %lld",&var1,&var2,&var3)
#define pf printf
#define pf_d(var) printf("%d",var)
#define pf_dd(var) printf("%lld",var)
#define psp printf(" ")
#define pnlin printf("\n")
#define vi vector<int>
#define vvi vector< vector<int> >
#define pb push_back
#define v_iter vector<int>::iterator
#define v_riter vector<int>::reverse_iterator
#define fr(start,end) for(int z=start;z<end;z++)
#define tr(cont,it) for(typeof(cont.begin()) it=cont.begin();it!=cont.end();it++)
#define mod 1000000007
#define srt(cont) sort(cont.begin(),cont.end())
#define all(m) m.begin(),m.end()
#define mp make_pair
#define fa_io std::ios::sync_with_stdio(false)
#define fil(v,k) iota(all(v),k)

void dfs(int z,vector< vector<ll> >& graph,vector<bool>& vb,ll& x)
{
    x=x+1;
    vb[z]=false;
    for(int loop=0;loop<graph[z].size();loop++)
        if(vb[graph[z][loop]])
            dfs(graph[z][loop],graph,vb,x);
}

int main()
{
    fa_io;
    ll t,x,y,n,k,count;
    sf_dd(t);
    while(t--)
    {
        sf_2dd(n,k);
        vector<bool> vb(n+1,true);
        vector< vector<ll> > graph(n+1);
        while(k--)
        {
            sf_2dd(x,y);
            graph[x].pb(y);
            graph[y].pb(x);
        }
        count=1;
        x=0;
        fr(1,n+1)
        {
            x=0;
            if(vb[z])
            {
                dfs(z,graph,vb,x);
                if(x!=1)
                    x=(x*(x-1))/2;
                count=((count%mod)*(x%mod))%mod;
                //pf_dd(x);
                //pnlin;
            }
        }
        pf_dd(count);pnlin;
    }
    
    return 0;
}