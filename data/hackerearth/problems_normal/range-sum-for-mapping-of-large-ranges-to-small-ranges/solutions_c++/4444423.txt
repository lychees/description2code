#include <iostream>
#include <vector>
#define MOD 1000000007
using namespace std;

vector<int> v[100005];
int vis[100005];
long long dfs(int i,long long ans){
	vis[i]=1;
	//cout<<i<<" ";
	for(int j=0;j<v[i].size();j++){
		int u=v[i][j];
		if(!vis[u]){
			ans++;
			//cout<<ans<<" ";
			ans=dfs(u,ans);
		}
	}
	return ans;
}
long long power(long long x,long long y){
	if(y==0)
		return 1;
	long long p=power(x,y/2)%MOD;
	//cout<<p<<" ";
	p=(p%MOD*p%MOD)%MOD;
	return y%2?(x%MOD*p%MOD)%MOD:p;
}
long long comb(long long si){
	if(si<2)
		return 1;
	return	((si%MOD*(si-1)%MOD)*power(2,1000000005)%MOD)%MOD;
}
int main()
{
	int t;cin>>t;
	while(t--){
		int i,n,k,cc=0;cin>>n>>k;
		for(i=1;i<=100005;i++){
			v[i].clear();
			vis[i]=0;
		}
		for(i=0;i<k;i++){
			int x,y;cin>>x>>y;
			v[x].push_back(y);
			v[y].push_back(x);
		}
		long long si=1,res=1,ans=1;
		for(i=1;i<=n;i++){
			si=1;
			if(!vis[i])
				si=dfs(i,si);
			//cout<<endl;
			res=(res%MOD*comb(si)%MOD)%MOD;
			cc++;
		}
		cout<<res<<endl;
	}
    return 0;
}
