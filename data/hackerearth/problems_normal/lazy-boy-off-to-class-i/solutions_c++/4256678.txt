#include <iostream>
#include <cmath>
#include <algorithm>
#include <vector>
using namespace std;

int main()
{
    int t;cin>>t;
    while(t--){
    	int i=0;
    	vector<int> v;
    	while(i<7){
    		int n;cin>>n;
    		int x,y,k;
    		for(k=0;k<n;k++){
    			cin>>x>>y;
    			int z=y-x;
    			v.push_back(z);
    		}
    		i++;
    	}
    	sort(v.begin(),v.end());
    	int timetot=24*60*60*7;
    	int l=v.size();
    	//cout<<l<<endl;
    	int p=ceil((double)(3*l)/4);
    	//cout<<p<<endl;
    	i=0;
    	while(i<p){
    		//cout<<v[i]<<" ";
    		timetot-=v[i];
    		i++;
    	}
    	cout<<timetot<<endl;
    }
    return 0;
}
