n = input()
arr = map(int, raw_input().split())
even = []
odd = []
for i in xrange(n):
    if arr[i] % 2:
        odd.append(arr[i])
    else:
        even.append(arr[i])
even.sort()
odd.sort()
m = input()-1
j = 0
c = 0
for i in xrange(n-1):
    pos = (m+j) % (n-c)
    del arr[pos]
    j = pos
    c += 1
if arr[0] % 2:
    for i in xrange(len(odd)):
        print odd[i],
else:
    for i in xrange(len(even)):
        print even[i],
