n = int(raw_input())
hashmap ={}
for i in range(n):
	line = raw_input()
	hashmap[line] = i
cost = [ [ 0 for i in range(n) ] for j in range(n)]
for i in range(n):
	line = raw_input()
	lst = line.split()
	cost[i] = [ int(lst[j]) for j in range(n) ]
p = int(raw_input())
sum = 0
prev=0
next=0
for i in range(p):
	line = raw_input()
	next = hashmap[line]
	sum+=cost[prev][next]
	prev = next
print sum