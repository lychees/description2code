#include <bits/stdc++.h>
using namespace std;
int n;
int a[20];
int dp[1<<16][101];
int rec(int mask, int last) {
	if(mask == (1 << n) -1) return 0;
	if(dp[mask][last] != -1) return dp[mask][last];
	int ans = 0;
	int val = __builtin_popcount(mask) + 1;
	for(int i = 0; i < n; i++) {
		if((mask & (1 << i)) == 0) {
			ans = max(ans, val * abs(last - a[i]) + rec(mask | (1 << i), a[i])); 
		}
	}
	//cout << ans << endl;
	return dp[mask][last] = ans;
}
int main()
{
    //cout << "Hello World!" << endl;
    int t;
    cin >> t;
    while (t--) {
    cin >> n;
    int ans = 0;
    for(int i = 0; i < n; i++) cin >> a[i];
    memset(dp, -1, sizeof(dp));
    for(int i = 0; i < n; i++) {
    	ans = max(ans, rec((1 << i), a[i]));
    }
    cout <<  ans << endl;
}
    return 0;
}
