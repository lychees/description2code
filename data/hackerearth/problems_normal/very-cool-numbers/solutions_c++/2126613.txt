#include<bits/stdc++.h>
using namespace std;

int getval(int n) ;

int a[100006];

int main() {
    int n,k,i,j,t,v;

    for(i=5;i<100005;i++) 
    	a[i]=getval(i);

        
    cin >> t;
    while(t--) {
    	cin >> n >> k;
    	v=0;
    	for(j=5;j<=n;j++) 
    		if(a[j]>=k)
    			v++;
    	cout << v << endl;	

    }


	return 0;
}

int getval(int n) {
 int v=0,state=0;
 while(n) {
    if(n & 1) {
    	if(state==0)
    		state=1;
    	else if(state==2) {
    		state=1;
    		v++;
    	}
    }
    else {
    	if(state==1)
    		state=2;
    	else if(state==2)
    		state=0;
    } 

 	n =n >> 1;
 }
  
  return v;
}