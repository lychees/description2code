/*
jai shree ram _/\_
A hacker from NITP
*/

#include<bits/stdc++.h>
using namespace std;

#define mod 1000000007
typedef set<string> ss;
typedef vector<int> vs;
typedef map<int,char> msi;
typedef pair<int,int> pa;
typedef long long int ll;

ll parent[1000005];
ll root(ll x)
{
    if(parent[x]==x)
        return x;
    return parent[x]=root(parent[x]);
}

ll n,x,y,c,q,i;
vector<ll> v[1000005];
int main()
{
	//freopen("i.in", "r", stdin);
  	//freopen("o.out", "w", stdout);
  	cin>>n;
  	cin>>c;
  	for(i=1;i<=n;i++)
        parent[i]=i;
  	for(i=0;i<c;i++)
    {
        cin>>x>>y;
        v[x].push_back(y);
        v[y].push_back(x);
        x=root(x);
        y=root(y);
        if(x!=y)
            parent[x]=y;
    }
    cin>>q;
    while(q--)
    {
        cin>>x>>y;
        if(find(v[x].begin(),v[x].end(),y)!=v[x].end())
            cout<<"Direct Connection\n";
        else if(root(x)==root(y))
            cout<<"Indirect Connection\n";
        else
            cout<<"No Connection\n";
    }
	return 0;
}
