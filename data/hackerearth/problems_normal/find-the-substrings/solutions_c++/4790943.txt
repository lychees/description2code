#include <iostream>
using namespace std;

int main()
{
	int t;
	cin>>t;
	while (t--) {
		string s;
		cin>>s;
		int a=0, b=0, c=0, i;
		long long int ans = (s.length()*(s.length()+1))/2;
		for (i=0;i<s.length();i++) {
			if (s[i]=='a') {
				a=i+1;
				ans-=min(b,c);
			}
			else if (s[i]=='b') {
				b=i+1;
				ans-=min(a,c);
			}
			else if (s[i]=='c') {
				c=i+1;
				ans-=min(b,a);
			}
		}
		cout<<ans<<endl;
	}
	return 0;
}
