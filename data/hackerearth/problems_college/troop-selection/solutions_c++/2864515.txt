#include <bits/stdc++.h>
#define MIN -10000000
using namespace std;

int dp[1003][1003];
int sum[1003],n,s;


int fun(int i, int j) {
	if(j==0||i>n)
		return 0;
	if(dp[i][j]+1)
		return dp[i][j];
	int ans = MIN;
	if(i+s-1<=n)
		ans = max(ans,fun(i+s,j-1)+sum[i+s-1]-sum[i-1]);
	ans = max(ans,fun(i+1,j));
	return dp[i][j] = ans;
	
}

int main()
{
    int t,k,a;
    cin >> t;
    while(t--) {
    	memset(dp,-1,sizeof(dp));
    	scanf("%d%d%d",&n,&k,&s);
    	for(int i=1;i<=n;i++) {
    		scanf("%d",&a);
    		sum[i]=sum[i-1]+a;
    	}
    	printf("%d\n",fun(1,k));
    }
    return 0;
}
