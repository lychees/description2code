#include <bits/stdc++.h>
#include<algorithm>
#include<vector>
#include<list>
#include<utility>
#include<map>
#include<set>
#include<stack>
#include<queue>
#define pb push_back
#define mp make_pair
#define vecll vector<ll>
#define vecs vector<string>
#define vecpll vector<pair<ll,ll> >
#define loop(i,a,b) for(long long int (i)=(a);(i)<(b);(i)++)
#define loopr(i,b,a) for(long long int (i)=(b);(i)>=(a);(i)--)
#define testcase long long int t;cin>>t;while(t--)
#define MOD 1000000007
#define fill(a,v) memset(a, v, sizeof a)
#define PI 3.141593
#define INF (ll)(1e18)
typedef long long int ll;
using namespace std;
int main()
{
	ios_base::sync_with_stdio(false);
	testcase
	{
		ll n,q;
		cin>>n>>q;
		q--;
	    ll ans=n*n-(n%q)*((n+q-1)/q)*((n+q-1)/q);
		ans=ans-(q-n%q)*(n/q)*(n/q);
		ans/=2;
		ans=(n*(n-1))/2-ans;
        cout<<ans<<endl;
	}
	return 0;
}

