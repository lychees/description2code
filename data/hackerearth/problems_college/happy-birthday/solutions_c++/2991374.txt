#include <iostream>
using namespace std;

int main()
{
   int n,i,r;
   cin>>n;
   int arr[3]={0},count=0;
   for(i=0;i<n;i++)
   {
   	cin>>r;
   	switch(r)
   	{
   		case 1: arr[1]++;goto h;
   		case 2: arr[2]++;goto h;
   		case 3: arr[3]++;goto h;
   		case 4: count++;goto h;
   	}
   	h:
   	;
   }
   	if(arr[1]==arr[3])
   	{
   		count+=arr[1];
   		if(arr[2]%2==0)
   		{
   			count+=arr[2]/2;
   		}
   		else
   		{
   			count+=arr[2]/2 +1;
   		}
   	}
   	else
   	{
   		if(arr[1]>arr[3])
   		{
   			count+=arr[3];
   			arr[1]=arr[1]-arr[3];
   			if(arr[1]%2==0)
   			{arr[2]+=arr[1]/2;
   			if(arr[2]%2==0)
   			{
   			count+=arr[2]/2;
   			}
   			else
   			{
   			count+=arr[2]/2 +1;
   			}
   			}
   			else
   			{
   				arr[2]+=arr[1]/2;
   				if(arr[2]%4==0)
   				{count+=arr[2];count++;}
   				else
   				{count+=arr[2];}
   			}
   		}
   		else
   		{
   			count+=arr[1];
   			arr[3]=arr[3]-arr[1];
   			count+=arr[3];
   			if(arr[2]%2==0)
   			{
   			count+=arr[2]/2;
   			}
   			else
   			{
   			count+=arr[2]/2 +1;
   			}
   			
   		}
   	}
   	cout<<count;
   
    return 0;
}
