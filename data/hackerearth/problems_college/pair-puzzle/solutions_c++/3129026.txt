#include<iostream>
using namespace std;
int main()
{
 int tc;
  cin>>tc;
while(tc--)
{
 long long n,k,i,div,div1,mid,left,rig,ans=0;
 scanf("%lld%lld",&n,&k);
 div=n/k;div1=div*(div+1);div1/=2;
 ans=(k/2-1)*div1;
 if(k%2)
 ans+=div1;
 div1=div*(div-1);
 div1/=2;
 ans+=(k/2)*div1;
 ans+=div1;	
 left=n%k;
 mid=k/2;
 ans+=left*(n/k);
 if(k%2)
 {
 	
 
 if(left>mid)
 ans+=left-mid;
}
else
{
	if(left>mid)
	ans+=left-mid;
	
}
 printf("%lld\n",ans);
}

return 0;}
