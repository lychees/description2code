#include <bits/stdc++.h>


using namespace std;





int main (int argc, char**argv){
  //  freopen("/Users/Arseniy/All/input.txt", "r", stdin);
   // freopen("/Users/Arseniy/All/output.txt", "w", stdout);
    int n, k, d;
    cin >> n >> k >> d;
    int a[n];
    bool f = false;
    for (int i = 0; i < n; i++){
        cin >> a[i];
        if (a[i] == 0)
            f = true;
    }
    if ((f) && (k == 1)){
        cout << -1 << endl;
        return 0;
    }

    long long s[n];
    s[0] = 0;
    for (int j = 0; j < k; j++)
        s[0] += a[j];
    if (s[0] == 0){
        cout << -1 << endl;
        return 0;
    }
    for (int i = 1; i < n-k+1; i++){
        s[i] = s[i-1] + a[i+k-1] - a[i-1];
        if (s[i] == 0){
            cout << -1 << endl;
            return 0;
        }
    }

    int ans = 0;
    for (int i = 0; i < n-k+1; i++){
        if (s[i] < d){
            ans++;
            int last = 0;
            for (int j = 0; j < k; j++)
                if (a[i+j] != 0)
                    last = i+j;
            i = last;
            for (int j = 0; j < k; j++)
                if (a[i+j] != 0)
                    last = i+j;
            i = last;
        }
    }
    cout << ans << endl;
    return 0;
}