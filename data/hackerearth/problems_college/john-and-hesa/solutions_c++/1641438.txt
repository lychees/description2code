/*
    Justin Ryan L. Ayubo
    1st Year - BS Information Technology
    Ateneo de Naga University
    Contest: IMSEC March Challenge
    Problem Name: John and HESA
                                         */
#include <iostream>
using namespace std;
int main(){
	ios::sync_with_stdio(false);
	int T=0;
	
	cin >> T;
	
	while(T--)
	{
	 int X=0;
	 int P=0;
	 
	 cin >> X >> P;
	 
	 int count = 0;
	 bool flag = false;
	 
	 while(X%P==0)
	 {
	  count++;
	  X/=P;
	 }
	 
	 if(X==1)
	  cout << count << " " << X-1 << endl;
	 else
	  cout << count << " " << X << endl;
	}
	
	return 0;
}