import collections

input_list =[]
number_of_testcases = raw_input()

def FindDistinctPairs(elements):
    dc=0
    counter=collections.Counter(elements)
    for k in counter.values():
        dc+=Summation(int(k))
    print(int(dc))

def Summation(num):
    sum = (num * (1+num))/2
    return sum

while int(number_of_testcases)!=0:
    input_list.append(int(raw_input()))
    input_list.append(list(raw_input().split()))
    number_of_testcases=int(number_of_testcases)-1

for val in range(0,len(input_list),2):
     if val+1 < len(input_list):
        FindDistinctPairs(input_list[val+1])
