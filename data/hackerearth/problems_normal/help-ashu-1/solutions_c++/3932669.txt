#include<bits/stdc++.h>
using namespace std;
#define ll long long int
ll a[200000+20],bt[200000+20],n,q,w,k,l;
void update(ll ind,ll val)
{
        while(ind<=n)
        {
                bt[ind]+=val;
                ind+=(ind&(-ind));
        }
}
ll query(ll ind)
{
        ll sum=0;
        while(ind)
        {
                sum+=bt[ind];
                ind-=(ind&(-ind));
        }
        return sum;
}
int  main()
{
        ll i,j,k,e,d,c,x,y;
        cin>>n;
        for(i=1;i<=n;i++)
        {
        cin>>a[i];
        if(a[i]%2==0)
        update(i,1);
        }
        cin>>q;
        while(q--)
        {
                cin>>c>>x>>y;
                if(c==0)
                {
                        if((a[x]%2==0) && (y%2==1))
                                update(x,-1);
                        if((a[x]%2==1) && (y%2==0))
                                update(x,1);
                        a[x]=y;
                }
                else if(c==1)
                {
                        ll ab=(query(y)-query(x-1));
                        cout<<ab<<endl;
                }
                else if(c==2)
                {
                        ll vc=(query(y)-query(x-1));
                        cout<<((y-x+1)-vc)<<endl;
                }
        }

        return 0;

}
