#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define sz(a) (int)a.size()
#define fs first
#define sc second

typedef long long ll;
typedef pair<int,int> ii;

struct gt {
    int u, v;
};

bool F[100005];
gt a[100005];
int n, m, goc[100005];

int root(int u) {
    if (u==goc[u]) return u;
    goc[u] = root(goc[u]);
    return goc[u];
}

int main() {
	//freopen("input.txt","r",stdin);
    scanf("%d%d",&n,&m);
    for (int i = 1; i <= m; ++i)
        scanf("%d%d",&a[i].u,&a[i].v);
    for (int i = 1; i <= n; ++i)
        goc[i] = i;
    int j = 0;
    for (int i = m; i > 0 && j != n-1; --i) {
        int root_u = root(a[i].u), root_v = root(a[i].v);
        if (root_u != root_v) {
            goc[root_u] = root_v;
            j++;
            F[i] = true;
        }
    }
    printf("%d\n",m-n+1);
    for (int i = 1; i <= m; ++i)
        if (!F[i]) printf("%d\n",i);
	return 0;
}
