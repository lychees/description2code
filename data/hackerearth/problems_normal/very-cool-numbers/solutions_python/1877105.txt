def getCoolness(i):
    binary = bin(i)[2:]
    coolness = 0
    for i in range(len(binary)):
        if "101" == binary[i:i+3]:
            coolness += 1
    return coolness

max = 100001
coolness = [None]*max
for i in range(max):
    coolness[i] = getCoolness(i)

t = input()
for cases in range(t):
    [r,k] = [int(x) for x in raw_input().split()]
    ans = 0
    for num in range(1,r+1):
        if coolness[num]>=k:
            ans+=1
    print ans
