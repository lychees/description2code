#include <bits/stdc++.h>

using namespace std;
vector <int > cube;
int cnt[505][2005];

void prec()
{
    int i = 1;
    while(i*i*i <= 6000)
    {
        cube.push_back(i*i*i);
        i++;
    }
}
int main()
{
    prec();
    int t;
    cin >> t;int a[505];

    while(t--)
    {
        int i,j,k;
        int n;
        cin >> n;

        for(i=1;i<=n;i++)
        {
            cin >> a[i];

        }
        for(i=1;i<=n;i++)
        {
            for(j=1;j<=2000;j++)
            {
                cnt[i][j] = cnt[i-1][j] + (a[i] == j);
            }
        }
        int num = 0 , den = (n*(n-1)*(n-2))/6;
        for(i=1;i<=n;i++)
        {
            for(j=i+1;j<=n;j++)
            {
                for(k=0;k<cube.size();k++)
                {
                    int cube1 = cube[k];
                    if(cube1 < a[i] + a[j])
                        continue;
                    int rem = cube1 - a[i] - a[j];
                    if(rem > 2000)
                    	continue;
                    num += (cnt[n][rem] - cnt[j][rem]);
                }
            }
        }
        double ans = (double)(num)/(double)(den);
        printf("%.9lf\n",ans);
    }
    return 0;
}
