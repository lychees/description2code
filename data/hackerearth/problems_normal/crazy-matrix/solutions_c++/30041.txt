    #include<iostream>
#include<sstream>
#include<vector>
#include<set>
#include<bitset>
#include<algorithm>
#include<cctype>
#include<cstring>
#include<cstdio>
#include<iomanip>
#include<climits>
#include<cstdlib>
#include<cmath>
using namespace std;
bool b[103][103];
/*int a[5][5]={0,0,0,0,0,
            0,0,0,1,0,
            0,0,0,2,0,
            0,2,2,1,0,
            0,0,0,0,0};
int c[5][5];
int n=3;*/
int c[103][103],d[103][103],n;
int dp(int a[][103],int k)
{
    //i++;

    for(int i=1;i<=n;i++)
        for(int j=1;j<=n;j++)
            b[i][j]=(a[i][j]==k);
    for(int i=2;i<=n;i++)
    {
        for(int j=1;j<=n;j++)
        {

            b[i][j]=b[i][j] && (b[i][j-1]||b[i-1][j-1]||b[i-1][j]||b[i-1][j+1] );
            //cout<<i<<"\t"<<j<<"\t"<<b[i][j]<<"\n";
        }
    }

    for(int l=1;l<=n;l++)
     if(b[n][l]) return 1;
    return 0;
}

int main()
{
    int i,j,l=1,p=1;
    cin>>n;
    for(i=1;i<=n;i++)
        for(j=1;j<=n;j++)
            cin>>c[i][j];
    for(j=n;j>=1;j--,l++)
        for(i=1,p=1;i<=n;i++)
            d[l][p++]=c[i][j];
    i=dp(c,1);
    memset(b,0,sizeof(b));
    j=dp(d,2);
    if(i&&j) cout<<"AMBIGUOUS"<<endl;
    else if(i) cout<<"1"<<endl;
    else if(j) cout<<"2"<<endl;
    else cout<<"0"<<endl;
    /*for(int i=1;i<=n;i++)
        for(int j=1;j<=n;j++)
            cout<<c[i][j]<<"\n";*/
    return 0;
}
