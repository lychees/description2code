#include <iostream>
using namespace std;
long long int sz,ans=1000000000;
long long int n;
string s[10000];
void check(string s1,long long int in,long long int cnt){
    if(in==sz){
       long long int flag=0;
        for(long long int i=0;i<n;i++)
        if(s1[i]!='1'){flag=1;break;}
        if(flag==0)ans=min(ans,cnt);
        return;
    }
    
    check(s1,in+1,cnt);
    for(long long int i=0;i<n;i++)
        if(s[i][in]=='Y')s1[i]='1';
        check(s1,in+1,cnt+1);
    
    
    
}
int main()
{ios_base::sync_with_stdio(0); cin.tie(NULL);
    int t;
cin>>t;
while(t--){
 ans=1000000000;
  cin>>n;
  
  for(int i=0;i<n;i++){
cin>>s[i];}

sz=s[0].size();
string s1;
for(long long int i=0;i<n;i++)s1+='0';

check(s1,0,0);
if(ans!=1000000000)
cout<<ans<<endl;
else cout<<-1<<endl;
}
    return 0;
}
