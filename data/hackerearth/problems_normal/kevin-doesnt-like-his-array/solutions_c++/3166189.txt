#include<iostream>
#include<algorithm>
#define FOR(i, a, b) for(int i=(a);i<(b);i++)
using namespace std;
main()
{
int n;
int ar[100007],br[100007],cr[100007];
int b=0,c=0,s=0;
cin>>n;
FOR(i,0,n)
{
cin>>ar[i];
br[ar[i]]++;
b=max(b,br[ar[i]]);
if(i&&ar[i]==ar[i-1])
{
++s;
cr[ar[i]]++;
c=max(c,cr[ar[i]]);
}
}
if(b>(n+1)/2)
cout<<-1;
else
cout<<max((s+1)/2,c);
}
