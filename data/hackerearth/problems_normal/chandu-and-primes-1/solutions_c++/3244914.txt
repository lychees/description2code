#include <iostream>
using namespace std;
int dp[1000002]={0};
int primeset[1000002]={0};
int population()
{
	primeset[0]=1;
	primeset[1]=1;
	int i=2;
	while(i<1000001)
	{
		
		if(primeset[i]==0)
		{
			int j=i+i;
			while(j<1000001)
			{
				primeset[j]=1;
				j+=i;
			}
		}
		++i;
	}
}
int processing()
{
	
	dp[0]=0;
	dp[1]=0;
	dp[2]=1;
	for(int x=3;x<1000001;++x)
	{
		dp[x]=dp[x-1];
		if(primeset[x]==0)
		{
			++dp[x];
			continue;
		}
		int y = x%10;
		int ten = 10;
		while(y!=x)
		{
			if(primeset[y]==0)
			{
				++dp[x];
				break;
			}
			y=x%ten;
			ten*=10;
		}
		
		
	}
	
}
int main()
{
	population();
	processing();
    int t;
    cin>>t;
    while(t--)
    {
    	int l;
    	scanf("%d",&l);
    	int r;
    	scanf("%d",&r);
    	//cin>>r;
    	//cout<<dp[r]-dp[l-1]<<endl;
    	printf("%d\n",dp[r]-dp[l-1]);
    }
    return 0;
}
