#include <iostream>
#include <cstdio>
#include <algorithm>

#define MAXN 1024

using namespace std;

int N, M;
double a[MAXN][MAXN];
double dp[MAXN][MAXN];

void read()
{
	scanf("%d %d", &N, &M);

	for(int i = N; i >= 1; i--)
		for(int j = M; j >= 1; j--)
			scanf("%lf", &a[i][j]);
}

double rec(int n, int m)
{
	if(n == 0 || m == 0)
		return (M - m) + (N - n);

	if(dp[n][m] != (-42.0))
		return dp[n][m];

	dp[n][m] = 0.0;
	dp[n][m] += (1.0 - a[n][m]) * rec(n - 1, m);
	dp[n][m] += a[n][m] * rec(n, m - 1);


	//printf("%d, %d:    %f\n", n, m, dp[n][m]);

	return dp[n][m];
}

void solve()
{
	for(int i = 0; i <= N; i++)
		for(int j = 0; j <= M; j++)
			dp[i][j] = (-42.0);

	printf("%.6f\n", rec(N, M));
}

int main()
{
	int T;
	scanf("%d", &T);

	for(int i = 0; i < T; i++)
	{
		read();
		solve();
	}

	return 0;
}
