#include <bits/stdc++.h>
using namespace std;

short a[2002][2002],b[2002][2002], cc[2002][2002];

int main()
{
//	freopen("in", "r", stdin);
	memset(b, 0, sizeof b);
	memset(cc, 0, sizeof cc);
    int n,m;
    cin >> n >> m;
    for(int i=0;i<n;i++)
    {
    	string s;
    	cin >> s;
    	for(int j=0;j<m;j++)
    	{
			if(s[j] == '#') cc[i][j] = 1;
			else cc[i][j] = 0;
			if(j == 0) {
				a[i][j] = 0;
				continue;
			}
    		if(s[j] != s[j-1])
    		{
				a[i][j] = abs(a[i][j-1]) + 1;
				if(a[i][j] > 30)
				{	
					if(s[j - 31 ] == '_') b[i][j] = 1;
				}
			}
    		else a[i][j] = 0;
    	}
    }
    long long c[2002] = {},ans=0;
    for(int i=1;i<n;i++)
    {	
		//cout << i << ": ";
    	for(int j=0;j<m;j++)
    	{
			//cout << a[i][j] << "\t";
			if(a[i-1][j] > 30 && a[i][j] > 30 && cc[i-1][j] != cc[i][j])
			{
				c[j]++;
				//cout << c[j] << endl;
				//cout << "Y ";
			}
    		else c[j] = 0;
    		
    		if(c[j] > 30)
    		{
				if(b[i-31][j] == 1 )
					ans++;
				//cout << j << endl;
			}
    	}
    	//cout << endl;
    }
    cout << ans << endl;
}
