#include<iostream>

using namespace std;

int main()
{
   int T;
   cin >> T;
   while(T--)
   {
      int l, r, k;
      int n;
      cin >> l;
      cin >> r;
      cin >> k;
      if(l > 0 && r > 0 && k > 0)
      {
        if((l <= r) && (r <= k))
        {
           n = 1;
        }
        else if(((l <= k) && (k < r)) || ((k < l) &&(l <= r)))
        {
           int i = l;
           int count=1;
           for(int j = l; j <= r; j = (j*k + 1))
           {
              if(j > i*k)
              {
                 count++;
                 i = i*k + 1;
              }
           }
           n = count;
        }
        cout << n << endl;
      }
   }

   return 0;
}
