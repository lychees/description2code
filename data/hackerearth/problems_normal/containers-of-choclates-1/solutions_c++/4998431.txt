#include<bits/stdc++.h>
using namespace std;
#define LL long long
#define S 1000005
#define W while
#define M 1000000007
#define str string
#define pi 3.14159265
LL mini=INT_MAX;
LL maxi=INT_MIN;
vector<int> v[100001];
LL visited[100001];
int n;
LL bfs(int i)
{
	LL ma=0;
	queue<pair<LL,LL> > q;
	q.push(make_pair(i,1));
	visited[i]=1;
	int cnt2=0,cnt1=0;
	cnt1++;
	W(!q.empty())
	{
		i=q.front().first;
		int j=q.front().second;
		q.pop();
		for(int k=0;k<v[i].size();k++)
		{
			int x=v[i][k];
			if(visited[x]==-1)
			{
				if(j==1)
				{
					visited[x]=2;
					cnt2++;
				}
				else
				{
					visited[x]=1;
					cnt1++;
				}
				q.push(make_pair(x,visited[x]));	
			}
		}	
	}
	return max(cnt1,cnt2);
}
int main()
{
  int t;
  cin>>t;
  int y=0;
  W(y<t)
  {
	cin>>n;
	maxi=0;
	for(int i=0;i<n;i++)
	{
		int a,b;
		cin>>a>>b;
		visited[a]=-1;
		visited[b]=-1;
		v[a].push_back(b);
		v[b].push_back(a);
	}
	for(int i=1;i<=100000;i++)
	{	
		if(visited[i]==-1)
		{
			maxi+=bfs(i);
		}	
	}
	for(int i=0;i<100001;i++)
	{
		v[i].clear();
		visited[i]=0;
	}
	y++;
	cout<<"Case "<<y<<": "<<maxi<<endl;
  }
  return 0;
}