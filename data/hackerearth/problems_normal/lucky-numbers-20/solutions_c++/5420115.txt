#include <iostream>
using namespace std;

int main() {
	long long t; long long n; cin >> t; int p; long long sum,m;
	while(t--) {
		cin >> n; sum = 0; p=0;
		for(long long i=2; i<n; i = i << 1) {
			for(long long j=1; j<i; j= j << 1) {
				m = i + j;
				if(m > n) break;
				sum = ( sum + m ) % 1000000007;
			}
			
			
		}
		cout << sum << endl;
	}
	return 0;
}