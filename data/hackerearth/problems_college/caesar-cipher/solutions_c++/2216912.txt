#include <bits/stdc++.h>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;


int main() {
	int t;cin>>t;
          while(t--){
          	int k,i,n;char s[10001];cin>>k ;cin>>s; int l=strlen(s);  
            for(i=0;i<l;i++){
                  if((s[i]+k%26)>'z' && (s[i]>='a' && s[i]<='z'))
                      s[i]='a'+(k%26-('z'-s[i]))-1;
                  else if((s[i]+k%26)>'Z' && (s[i]>='A' && s[i]<='Z'))
                      s[i]='A'+(k%26-('Z'-s[i]))-1;
                  else if((s[i]>='a' && s[i]<='z')|| (s[i]>='A' && s[i]<='Z'))
                      s[i]+=k%26;
          } 
            cout<<s<<endl;
       }
     
    /* Enter your code here. Read input from STDIN. Print output to STDOUT */   
    return 0;
}