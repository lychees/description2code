#include <iostream>
#include <algorithm>
#include <cmath>

using namespace std;

int main()
{
	long long N,Steps1=0,Steps2=0;
	cin>>N;
	long long a[N],i,avg=0,med1,med2;
	for(i=0;i<N;i++)
	{
		cin>>a[i];
		avg+=a[i];
	}
	avg/=N;
	for(i=0;i<N-1;i++)
	{
		a[i]=avg-a[i];
		a[i+1]-=a[i];
	}
	a[N-1]=0;
	sort(a,a+N);
	if(N%2==1)
	{
		med1=a[N/2];
		for(i=0;i<N;i++)
		{
			Steps1+=abs(a[i]-med1);
		}
		cout<<Steps1<<"\n";
	}
	else
	{
		med1=a[N/2];
		med2=a[(N/2)+1];
		for(i=0;i<N;i++)
		{
			Steps1+=abs(a[i]-med1);
			Steps2+=abs(a[i]-med2);
		}
		if(Steps1<=Steps2)
		{
			cout<<Steps1<<"\n";
		}
		else
		{
			cout<<Steps2<<"\n";
		}
	}
	return 0;
}