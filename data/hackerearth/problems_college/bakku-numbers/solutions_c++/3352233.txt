#include <bits/stdc++.h>
using namespace std;

int main()
{
	int p,q;
	cin>>p>>q;
    int t;
    cin>>t;
    while(t--)
    {
    	int l,r;
    	cin>>l>>r;
    	int pp=r/p;
    	int qq=l/p;
    	if(l%p==0)
    	pp++;
    	int rr=r/q;
    	int ss=l/q;
    	if(l%q==0)
    	rr++;
    	int tt=r/(p*q);
    	int uu=l/(p*q);
    	if(l%(p*q)==0)
    	tt++;
    	int sum=(pp-qq)+(rr-ss)-(tt-uu);
    	//cout<<sum<<endl;
    	float suma= (float)(float(sum)/float(r-l+1));
    	printf("%.6f\n",suma);
    }
    return 0;
}
