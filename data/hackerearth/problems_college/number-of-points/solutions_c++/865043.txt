#include <iostream>
#include <stdio.h>
#include <math.h>
#include <stdlib.h>

using namespace std;

typedef long long int Lint;

Lint GCD( Lint a, Lint b ) {
	
	if( ( a % b ) == 0 )
		return b;
	else 
		return GCD( b, ( a % b ) );
}
int main()
{
	Lint t, d1, d2, gcd, x1, y1, x2, y2;
	
	scanf("%lld", &t );
	
	while( t-- ) {
		
		scanf("%lld %lld %lld %lld", &x1, &y1, &x2, &y2 );
		d1 = (Lint)( abs( x2 - x1 ) );
		d2 = (Lint)( abs( y2 - y1 ) );
		if( ( d1 == 0 ) && ( d2 == 0 ) )
			printf("0\n");
		else if( d1 == 0 ) { 
			printf("%lld\n", d2 - 1 );
		}
		else if( d2 == 0 )
			printf("%lld\n", d1 - 1 );
		else {
			gcd = GCD( d1, d2 );
			printf("%lld\n", gcd - 1 );
		}
	}
	return 0;
}
