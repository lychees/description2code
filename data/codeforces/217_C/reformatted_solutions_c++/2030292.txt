#include <algorithm>
#include <cassert>
#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <iostream>
#include <map>
#include <numeric>
#include <queue>
#include <set>
#include <vector>

using namespace std;

string S;

int solve(int a, int &b) {
  b = a + 1;
  if (S[a] == '0') {
    return 1 << 0;
  } else if (S[a] == '1') {
    return 1 << 15;
  } else if (S[a] == '?') {
    return (1 << 3) | (1 << 12);
  }
  int c;
  int x = solve(a + 1, c);
  char ch = S[c];
  int y = solve(c + 1, b);

  b++;

  int res = 0;
  for (int i = 0; i < 16; i++) {
    if (~x & 1 << i)
      continue;
    for (int j = 0; j < 16; j++) {
      if (~y & 1 << j)
        continue;
      int k = 0;
      if (ch == '^')
        k = i ^ j;
      if (ch == '&')
        k = i & j;
      if (ch == '|')
        k = i | j;
      res |= 1 << k;
    }
  }
  return res;
}

int main() {
  int N;
  cin >> N >> S;
  int e;
  cout << (~0x8241 & solve(0, e) ? "YES" : "NO") << endl;
  return 0;
}
