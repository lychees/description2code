/*****************************************************************
***   Author       : Md.Belal mondol shuvo                     ***
***   E-mail       : belalcseiu20@gmail.com                    ***
***   University   : Islamic University,Dept. of CSE           ***
***   Team         : IU_Little_Boys                            ***
***   Facebook     : https://web.facebook.com/mdbelal.mondol   ***
*****************************************************************/

#include<bits/stdc++.h>
#define clr(x) memset(x,true,sizeof(x))
#define LL   long long int
#define MOD  1000000007
using namespace std;

bool a[1000006],x;
int ans[1000003];

void pri()
{
    int i,j;
    clr(a);
    a[0]=a[1]=false;
    for(i=4;i<=1000005;i+=2)
        a[i]=false;
    for(i=3;i<=sqrt(1000005);i+=2)
    {
        if(a[i]==true)
        {
            for(j=i*i;j<=1000005;j+=i*2)
                a[j]=false;
        }
    }
}

int main()
{
    int i,j,k,l,r,x,n,tc,ca=1,m;
    pri();
    ans[0]=0,m=0,x=0;
    for(i=1;i<=1000000;i++)
    {
        if(a[i])
        {
            x++;
        }
        if(a[x]){
                m++;
             ans[i]=m;
        }
        else ans[i]=ans[i-1];
    }
    cin>>tc;
    while(tc--)
    {
        cin>>l>>r;
        cout<<ans[r]-ans[l-1]<<endl;
    }
    return 0;
}
