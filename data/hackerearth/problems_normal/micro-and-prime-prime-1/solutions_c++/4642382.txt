#include <bits/stdc++.h>
using namespace std;

int main() {
	int limit = 1e6;
	vector<bool > prime(limit + 1, 1);

	prime[0] = prime[1] = 0;
	for(int i = 2; i * i <= limit; ++i) {
		if(prime[i]) {
			for(int j = 2*i; j <= limit; j += i) prime[j] = 0;
		}
	}

	vector<int > cnt(limit + 1, 0);
	for(int i = 2; i <= limit; ++i) {
		if(prime[i]) 
			cnt[i] = 1 + cnt[i - 1];
		else
			cnt[i] = cnt[i - 1];
	}

	vector<int > primeprime(limit + 1, 0);
	
	for(int i = 2; i <= limit; ++i) {
		if(prime[cnt[i]]) 
			primeprime[i] = primeprime[i - 1] + 1;
		else
			primeprime[i] = primeprime[i - 1];
	}	

	int q;
	cin >> q;

	while(q--) {
		int l, r;
		cin >> l >> r;

		cout << (primeprime[r] - primeprime[l - 1]) << endl;
	}

	return 0;
}

