#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
const ll N = 1000001;
const ll INF = 2009000999;
const ll md =1000*1000*1000+7;
ll n,a[100001],t,f,l,ans;
ll binpow (ll x,ll xa)
{
    if (xa==0)
        return 1;
    ll g=binpow(x,xa/2);
    g=(g*g)%md;
    if (xa&1)
        return (g*x)%md;
    else
        return g;
}
ll C(ll d,ll p)
{
    if (d<p)
        return 0;
    if (p==0)
        return 1;
    ll ge=a[d];
    ll ge1=(a[p]*a[d-p])%md;
    return (ge*binpow(ge1,md-2))%md;
}
string s;
int main()
{


    cin>>t;
    a[0]=1;
    for (int i=1;i<=100000;i++)
        a[i]=(a[i-1]*i)%md;
        ll fa=C(2,1);
    while (t--)
    {
       cin>>s>>n;
       f=l=0;
       ans=0;
       for (int i=0;i<=s.size()-1;i++)
        if (s[i]=='l')
            f++;
       for (int i=0;i<s.size();i++)
       {
           l+=(s[i]=='l');
           if (s[i]=='u')
            ans=(ans+C(l,n/2)*C(f-l,n/2))%md;
       }
       printf("%lld\n",ans);
    }
}
