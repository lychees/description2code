#include<iostream>
#include<math.h>
using namespace std;
long long int isprime[10000001];
long long int check[10000001];
long long int smith[10000001];
 
 
void generate()
{
	int i,j=4;
	while(j <= 1000000){
		isprime[j] = 1;  
		j = j+2;
	}
	
	
	for(i=3;i<=1000000;i=i+2)
	{
		if(isprime[i]==0)
		{
			for(j=3*i;j<=1000000;j=j+2*i)
			isprime[j]=1;
			
			
		}
		
		
	}
	
}
 
long long int add(long long int n)
{
	long long int sum=0;
	while(n!=0)
	{
		sum=sum+n%10;
		n=n/10;
		
	}
	
	return sum;
}
 
void smithg()
{
	int i,j,k;
	smith[1]=0;
	for(i=2;i<=1000000;i++)
	{
		if(isprime[i]==0)
		check[i]=add(i);
		else if(i%2==0)
		check[i]=check[i/2]+2;
		
		else{
				for(j=3;2*j<i;j=j+2){
					if(i%j==0) {check[i]=check[i/j] + check[j]; break;} 
				}
		}
	if(add(i)==check[i])
	smith[i]=smith[i-1]+1;
	else
	smith[i]=smith[i-1];
	
	}
	
	
}
 
 
 
int main()
{
	int t,l,r,i,j,k;
	generate();
	smithg();
	scanf("%d",&t);
	while(t--)
	{
			scanf("%d",&l);
			scanf("%d",&r);
			printf("%lld\n",smith[r]-smith[l-1]);
		
		
	}
	
	
	return 0;
}