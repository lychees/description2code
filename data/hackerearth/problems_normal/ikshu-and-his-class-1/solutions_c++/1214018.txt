/* Deathsurgeon (Rupesh Maity)
 * 2nd year, B.Tech in IT
 * IIIT - Allahabad
 */

#include <iostream>
#include <cstdio>
#include <math.h>
#include <string>
#include <cstring>
#include <algorithm>
#include <cstdlib>
#include <stack>
#include <queue>
#include <vector>
#include <map>

typedef long long LL;

#define MOD 1000000007
#define MAX 100000
#define pb push_back
#define yes puts("YES")
#define no puts("NO")
#define sd(x) scanf("%d", &x)
#define PI 3.14159265

using namespace std;

vector<int> adj[MAX];
bool done[MAX];
LL ans;
int fact[MAX+1];

int main() {
	fact[1] = 1;
	for (int i=2; i<MAX; i++) {
		fact[i] = i*(LL)fact[i-1]%MOD;
	}
	
	int n, k;
	cin >> n >> k;
	
	while (k--) {
		int a, b;
		cin >> a >> b;
		adj[a].pb(b);
		adj[b].pb(a);
	}
	
	ans=1;
	
	for (int i=0; i<n; i++) {
		if (!done[i]) {
			int tot=1;
			stack<int> st;
			st.push(i);
			done[i]=true;
			
			while (st.size()) {
				int p=st.top();
				st.pop();
				int l = adj[p].size();
				for (int j=0; j<l; j++) {
					if (!done[adj[p][j]]) {
						done[adj[p][j]]=true;
						st.push(adj[p][j]);
						tot++;
					}
				}
			}
			
			ans = (LL)ans*fact[tot]%MOD;
		}
	}
	
	cout << ans << endl;
	
	return 0;
}