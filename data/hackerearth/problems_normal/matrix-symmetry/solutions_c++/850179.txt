#include <iostream>
#include<bits/stdc++.h>
using namespace std;
int main ()
{
	int tc;
	cin >> tc;

	while (tc--)
	{ int count=0,h=0,v=0;
 int n;
 cin>>n;
 char a[n][n];
 int i=0,j=0;
 for(i=0;i<n;i++)
 for(j=0;j<n;j++)
    cin>>a[i][j];
j=n-1; int k;

for(i=0;i<n;i++,j--)
    for(k=0;k<n;k++)
    if(a[i][k]==a[j][k])
     count++;
     if(count==n*n)
        h=1;

     count=0;
     j=n-1;
for(i=0;i<n;i++,j--)
    for(k=0;k<n;k++)
    if(a[k][i]==a[k][j])
     count++;

     if(count==n*n)
        v=1;
  // cout<<"h="<<h<<" v="<<v<<endl;
   if(h==1 && v==1)
    cout<<"BOTH\n";
   else if(h!=1 && v!=1)
    cout<<"NO\n";
else if(h==1)
    cout<<"HORIZONTAL\n";
else if(v==1)
    cout<<"VERTICAL\n";



	}
	return 0; }
