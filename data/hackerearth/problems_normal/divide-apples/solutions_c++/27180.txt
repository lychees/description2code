#include<iostream>              //------------------------------------------------------------//
#include<cstdio>                //  ___  ___ _____ ______                                     //
#include<algorithm>             //  |  \/  |/  ___|| ___ \     This C++ Template Belongs to   //                   
#include<cmath>                 //  | .  . |\ `--. | |_/ /        Manish Singh Bisht          //
#include<vector>                //  | |\/| | `--. \| ___ \                                    //    
#include<set>                   //  | |  | |/\__/ /| |_/ /    Email: manish05@facebook.com    //
#include<map>                   //  \_|  |_/\____/ \____/                                     //    
#include<functional>            //------------------------------------------------------------//
#include<string>
#include<cstring>
#include<cstdlib>
#include<queue>
#include<utility>
#include<fstream>
#include<sstream>

#include<stack>
#include<cstdio>
#include<ctime>
         

using namespace std;
#define gc getchar_unlocked
#define MEM(a,b) memset(a,(b),sizeof(a))
#define FOR(i,n) for(long i=(0);i<(n);i++)
#define CLEAR(a) memset((a),0,sizeof(a))
#define S(n) scanf("%d", &n)
#define P(k) printf("%d\n", k)
#define fastS(n) scanint(&n)
#define pb push_back
#define mp make_pair
#define ll long long
#define VI vector<int>
#define PII pair<int, int>
#define ft first
#define sd second
#define inf (1<<30)
#define PNL printf("\n")
#define SP system("pause")
#define md 1000000007
#define PII pair<int, int>
#define mxx 1000000000
#define swap(a,b) {*b = (*a + *b) - (*a = *b);}

void scanint(long *x)
{
    register long c = gc();
    *x = 0;
    for(;(c<48 || c>57);c = gc());
    for(;c>47 && c<58;c = gc()) {*x = (*x<<1) + (*x<<3) + c - 48;  }
}
string convertInt(long number)
{
   stringstream ss;//create a stringstream
   ss << number;//add number to the stream
   return ss.str();//return a string with the contents of the stream
}

long convertString(string s)
{
    long num;
    stringstream sstr(s); // create a stringstream
    sstr>>num; // push the stream into the num
    return num;
}

long abss(long x) { return x<0?-x:x;}
int main()
{
    long n,*ar,mean=0;
    S(n);
    ar=new long[n];
    FOR(i,n)
    {
        S(ar[i]);
    	mean+=ar[i];
    	
    }
    
    mean=mean/n;
    
    long *dp=new long[n],sum=ar[0];
    dp[0]=ar[0];
    FOR(i,n)
    {
    	ar[i]-=mean;
	if(i>0)dp[i]=dp[i-1]+ar[i];
	sum+=dp[i];
    }
	
    long *tt=new long[n];
    FOR(i,n)tt[i]=dp[i];
    sort(tt,tt+n);
    long k= ((*(tt+(n/2))+*(tt+(n-1)/2))/2);
    long count=0;
    for(long i=0;i<n;i++)
    count+= abss(dp[i]-k);
    
    cout<<count;
    
    return 0;
}