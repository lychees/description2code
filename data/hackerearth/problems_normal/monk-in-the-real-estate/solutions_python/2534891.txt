tc = int(raw_input())
assert(tc>0 and tc<101)
while tc>0:
	tc = tc - 1
	n = int(raw_input())
	assert(n>0 and n<1001)
	visited = [False]*10013
	for i in xrange(n):
		a, b = map(int, raw_input().split())
		assert(a>0 and a<10001)
		assert(b>0 and b<10001)
		visited[a] = True
		visited[b] = True
	nodes = 0
	for i in xrange(10013):
		if visited[i]:
			visited[i] = False
			nodes += 1
	print nodes