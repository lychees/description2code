#include <iostream>
#include <stdio.h>
#include <algorithm>
#include <vector>
#include <stdlib.h>
#include <math.h>
#include <string.h>
using namespace std;
int t,n,k;
char s[100011];
long long base=1000000007;
long long gt[100011],igt[100011];
int f[100011];
long long pow(long long x,long long y){
    if (y==0) return(1);
    if (y==1) return(x);
    long long tmp=pow(x,y/2);
    if (y%2==0) return((tmp*tmp)%base);
    else return((tmp*tmp%base)*x%base);
}
long long C(int x,int y){
    //cout<<x<<" "<<y<<endl;
    if (y>x) return(0);
    return((gt[x]*igt[y]%base)*igt[x-y]%base);
}
int main(){
    //freopen("E.inp","r",stdin);
    scanf("%d\n",&t);
    gt[0]=1; igt[0]=1;
    for (int i=1;i<=100000;i++){
        gt[i]=(gt[i-1]*i)%base;
        igt[i]=pow(gt[i],base-2);
    }
    while (t){
        cin>>s;
        n=strlen(s);
        scanf("%d\n",&k);
        for (int i=1;i<=n;i++) f[i]=f[i-1]+(s[i-1]=='l');
        //for (int i=1;i<=n;i++) cout<<f[i]<<" ";
        //cout<<endl;
        long long ans=0;
        for (int i=1;i<=n;i++){
            if (s[i-1]=='u') ans=(ans+C(f[i-1],(k-1)/2)*C(f[n]-f[i],(k-1)/2)%base)%base;
        }
        printf("%lld\n",ans);
        t--;
    }
}
