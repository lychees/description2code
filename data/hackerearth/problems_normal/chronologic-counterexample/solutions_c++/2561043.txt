#include <bits/stdc++.h>
using namespace std;
#define FO(i,a,b) for (int i = a; i < b; i++)

int l[55], r[55];
int a[55];
int b[55];
int n, m;

bool check() {
	FO(i,0,n) b[i] = a[i];
	FO(i,0,m) {
		int x = l[i]-1, y = r[i];
		sort(b+x,b+y);
	}
	FO(i,0,n) if (b[i] != i+1) return false;
	return true;
}
bool u[55];

int main()
{
	scanf("%d%d", &n, &m);
	FO(i,0,m) scanf("%d%d", l+i, r+i);
	FO(i,0,n) a[i] = n-i;
	if (check()) puts("All ok!");
	else {
		for (int l = 0; l < n; l++) {
			for (a[l] = 1; a[l] <= n; a[l]++) if (!u[a[l]]) {
				int s = l+1;
				u[a[l]] = 1;
				for (int i = n; i >= 1; i--) if (!u[i]) {
					a[s++] = i;
				}
				if (!check()) break;
				u[a[l]] = 0;
			}
		}
		for (int i = 0; i < n; i++) printf("%d%c", a[i], " \n"[i+1==n]);
	}
    return 0;
}
