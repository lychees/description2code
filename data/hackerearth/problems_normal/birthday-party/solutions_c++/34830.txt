#include<cstdio>
#include<iostream>
#include<cstring>
#include<algorithm>
using namespace std;
#define gc getchar_unlocked
typedef long long int int64;
void scanint(int64 &x)
{
    register int64 c = gc();
    x = 0;
    for(;(c<48 || c>57);c = gc());
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
}
int64 p[1001],sn[1001];
int main()
{
//freopen("in.txt","r",stdin);
int64 i,j,n,m,t,k,ans,ts,cnt,prv,vl;
cin>>t;
while(t--)
{
scanint(m);scanint(n);
memset(p,0,sizeof(p));ts=0;ans=0;
for(i=1;i<=n;i++){scanint(sn[i]);ts+=sn[i];}
vl = ts;if(ts>=5000)vl=5000;
bool a[n+1][vl+1];
for(i=0;i<=n;i++)for(j=0;j<=vl;j++)a[i][j]=0;
for(i=0;i<m;i++){scanint(p[i]);}
for(i=0;i<=n;i++)a[i][0]=1;
for(i=1;i<=n;i++)for(j=1;j<=ts&&j<=5000;j++)
	{
	a[i][j]=a[i-1][j];
	if(j>=sn[i])a[i][j]=a[i][j]||a[i-1][j-sn[i]];
	}
sort(p,p+m);cnt=0;prv=p[0];
for(i=0;i<m;i++)
	{
	if(p[i]==prv)cnt++;
	else {if(cnt<=5000){if(a[n][cnt]==1)ans++;}prv=p[i];cnt=1;}
	}
if(cnt<=10000){if(a[n][cnt]==1)ans++;}
printf("%lld\n",ans);
}
return 0;
}
