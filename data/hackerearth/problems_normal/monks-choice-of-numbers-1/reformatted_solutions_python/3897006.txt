from operator import itemgetter

t = int(raw_input())
for i in range(t):
    n, k = list(map(int, raw_input().split()))
    arr = list(map(int, raw_input().split()))
    tempArr = []
    for each in arr:
        tempArr.append(str(bin(each)).count('1'))
    # tempArr.sort(key = itemgetter(1), reverse = True)
    tempArr.sort(reverse=True)
    print sum(tempArr[:k])
