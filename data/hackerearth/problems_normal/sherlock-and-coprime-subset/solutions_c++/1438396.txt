#ifdef ONLINE_JUDGE
#include <bits/stdc++.h>
using namespace std;
#else
#include "header.h"
#include "debug.h"
#endif

template <class T> inline T gcd(T a,T b){return (!b? a : gcd(b,a%b));}

int a[55][1000000], adj[55][55], m, s[55];

int clique(int s[],int l)
{
    int i,j,deg[l],mini;
    while(1)
    {
        int minn=l+5,maxx=0;
        memset(deg,0,sizeof(deg));
        for(i=0;i<l;i++)
        {
            for(j=0;j<l;j++)
            {
                if(adj[s[i]][s[j]] && i!=j)
                {
                    deg[i]++;
                }
            }
        
        }
        for(i=0;i<l;i++)
        {
            if(deg[i]<=minn)
                minn=deg[i],mini=i;
            if(deg[i]>maxx)
                maxx=deg[i];
        }
        if(minn==maxx)
            return l;
        else
        {
            l--;
            for(i=1;i<mini;i++)
                s[i]=s[i];
            for(;i<=l;i++)
                s[i]=s[i+1];
        }
    }
}

int main()
{
    #ifndef ONLINE_JUDGE
      freopen ("in.txt","r",stdin);
    #endif
    
    int tt;
    cin >> tt;
    while (tt--) {
      int i,j,maxx=0;
      
      int n;
      cin >> n;
      
      int arr [n + 1];
      
      for (int i = 0; i < n; ++i) {
        cin >> arr [i];
      }
      
      for (int i = 0; i < n; ++i) {
        for (int j = i + 1; j < n; ++j) {
          adj [i][j] = 0;
          adj [j][i] = 0;
        }
      }
      
      for (int i = 0; i < n; ++i) {
        for (int j = i + 1; j < n; ++j) {
          if (gcd (arr [i], arr [j]) == 1) {
            adj [i][j] = 1;
            adj [j][i] = 1;
          }
        }
      }
      
      for(i=0; i<n; i++)
      {
          int s[51]={i},len=1;
          for(j=0; j<n; j++)
              if(adj[i][j])
                  s[len++]=j;
          maxx=max(maxx,clique(s,len));
      }
      cout << maxx << '\n';
    }
    return 0;
}
