#include<bits/stdc++.h>
using namespace std;
#define MAX 1000007
int phi[MAX];
int lp[MAX];
void pre(void)
{
	int i,j;
	for(i=0;i<MAX;++i)
	{
		phi[i] = i;
	}
	for(i=2;i<MAX;++i)
	{
		if(lp[i]==0)
		{
			for(j=i;j<MAX;j+=i)
			{
				phi[j]/=i;
				phi[j]*=(i-1);
				lp[j] = 1;
			}
		}
	}
}
int main()
{
    //cout << "Hello World!" << endl;
    pre();
    int t;
    cin>>t;
    while(t--)
    {
    	int n,d;
    	cin>>n>>d;
    	if(n%d != 0 ) cout<<0<<endl;
    	else cout<<phi[n/d]<<endl;
    }
    return 0;
}
