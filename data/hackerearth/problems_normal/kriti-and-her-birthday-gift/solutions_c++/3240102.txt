#include<iostream>
#include<cmath>
#include<algorithm>
#include<cstdio>
#include<cstdlib>
#include<cstring>
#include<unordered_map>
#include<set>
#include<vector>
using namespace std;
#define ll long long
void include_test_case(){
    #ifndef ONLINE_JUDGE
       freopen("in", "r", stdin);
       freopen("out", "w", stdout);
    #endif
}
int block_size;

struct query{
    int l,r,pos;
    string s;
};

bool compare1(query q1,query q2){
    int q1_block=q1.l/block_size;
    int q2_block=q2.l/block_size;
    if(q1_block!=q2_block)
        return q1_block<q2_block;
    return q1.r<q2.r;
}

int main() {
    include_test_case();
	ios::sync_with_stdio(0);
	int n;
	cin>>n;
    block_size=sqrt(n);
    string s[n];
    for(int i=0;i<n;i++)cin>>s[i];
    int q;
    cin>>q;
    query qarr[q];
    int corr_pos[q];
    for(int i=0;i<q;i++){
        cin>>qarr[i].l>>qarr[i].r>>qarr[i].s;
        qarr[i].pos=i;
    }
    sort(qarr,qarr+q,compare1);
    int prevL=0,prevR=0;
    unordered_map<string,int> mp;
    for(int i=0;i<q;i++){
        int l=qarr[i].l,r=qarr[i].r;
        l--,r--;
        
        while(prevL<l){
            mp[s[prevL]]--;
            prevL++;
        }
        while(prevL>l){
            mp[s[prevL-1]]++;
            prevL--;
        }

        while(prevR<=r){
            mp[s[prevR]]++;
            prevR++;
        }
        while(prevR>r+1){
            mp[s[prevR-1]]--;
            prevR--;
        }
        corr_pos[qarr[i].pos]=mp[qarr[i].s];
    }
    for(int i=0;i<q;i++)cout<<corr_pos[i]<<endl;
	return 0;
}