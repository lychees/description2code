#include <bits/stdc++.h>

using namespace std;
int n,nxt[1000004],vis[1000004],ans[1000004],l[1000004],f, ii;
int dfs(int u,int d)
{
	if(vis[u])return ans[u];
	vis[u]=ii;l[u]=d;
	if(nxt[u]==-1)return ans[u]=1;
	if(vis[nxt[u]]==ii){f=l[nxt[u]];return ans[u]=d-l[nxt[u]]+1;}

	ans[u]=dfs(nxt[u],d+1);

	if(d<f)ans[u]++;
	return ans[u];
}

int main()
{
	int T,i;
	cin>>T;
	while(T--)
	{
		cin>>n;
		memset(nxt,-1,sizeof(nxt));
		memset(vis,0,sizeof(vis));

		for(i=0; i<n; i++)cin>>nxt[i],ans[i]=0;
		int res=0;
		ii=1;
		//for(i=n-1;i>=0;i--)
		for(i=0;i<n;i++)
		{
			if(!vis[i])
			{	f=n;
				ans[i]=dfs(i,1);ii++;
				if(ans[res]<ans[i])res=i;
			}
			//cout<<"-------"<<ans[i]<<endl;

		}
		cout<<res<<endl;
	}


    return 0;
}
