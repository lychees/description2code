#include <iostream>
using namespace std;
#include<bits/stdc++.h>
int main()
{
    ////cout << "Hello World!" << endl;
    int t;
    long n;
    long long a[1000000];
    scanf("%d",&t);
    while(t--)
    {
    	scanf("%ld",&n);
    	for(long i=0;i<n;i++)
    	scanf("%lld",&a[i]);
    	long long ans=0;
    	long  incl = a[1];
  long excl = 0;
  long  excl_new;
  for (long i = 2; i < n; i++)
  {
     /* current max excluding i */
     excl_new = (incl > excl)? incl: excl;
 
     /* current max including i */
     incl = excl + a[i];
     excl = excl_new;
  }
 
   /* return max of incl and excl */
   ans=((incl > excl)? incl : excl);
   incl=a[0];
   excl=0;
   for (long i = 1; i < n-1; i++)
  {
     /* current max excluding i */
     excl_new = (incl > excl)? incl: excl;
 
     /* current max including i */
     incl = excl + a[i];
     excl = excl_new;
  }
  long ans1=((incl > excl)? incl : excl);
   ans=(ans>ans1)?ans:ans1;
   printf("%lld\n",ans);
  
}
    return 0;
}
