n = int(input())
l = map(int, raw_input().split())
temp = l[:]
m = int(input())-1
p = len(l)
while p > 1:
    while m >= p:
        m = m-p
    l.pop(m)
    l = l[m:]+l[:m]
    p = len(l)

if l[0] % 2 == 0:
    k = sorted([x for x in temp if x % 2 == 0])
    k = list(map(str, k))
    print(' '.join(k))
else:
    k = sorted([x for x in temp if x % 2 != 0])
    k = list(map(str, k))
    print(' '.join(k))
