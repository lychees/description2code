n, m, s = map(int, raw_input().split())
lst = []
for _ in range(n):
    lst.append(raw_input())
if n == 1:
    print(2*m-1)
elif lst[0] != lst[1]:
    print(n*m)-(n*(m-1))
else:
    print((n*m)**2)-(n*m)
