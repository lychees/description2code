#include <iostream>
#include<math.h>
#include<cstdio>
using namespace std;
int n;
int x[3009]={0};
int y[3009]={0};
int f[3009]={0};
long double final[3009]={-1};
long double m=0;
int visit[3008]={0};
long double max(long double a,long double b)
{
	if(a>b)
	return a;
	else
	return b;
}
long double fun(int a,int b)
{

	if(b==n-1)
	return f[b]-sqrt((pow(x[a]-x[b],2)+pow(y[a]-y[b],2)));
		if(visit[b])
	return final[b]+f[b]-sqrt((pow(x[a]-x[b],2)+pow(y[a]-y[b],2)));
	int j;
	long double z=0,flag=0;
	for(j=b+1;j<n;j++)
	{
		if(flag==0)
	{	z=fun(b,j);flag=1;}
		else
	z=max(z,fun(b,j));	
		
	}
	visit[b]=1;
	final[b]=z;
	
	return final[b]+f[b]-sqrt((pow(x[a]-x[b],2)+pow(y[a]-y[b],2)));
	
	
	
	
	
}
int main()
{
    cin >> n;
    int i;
    for(i=1;i<=n;i++)
    cin >> x[i-1]>>y[i-1]>>f[i-1];
  for(i=0;i<n;i++)final[i]=-1;
   long double ans=fun(0,0);
   printf("%.6llf\n",final[0]+f[0]);
    
    return 0;
}
