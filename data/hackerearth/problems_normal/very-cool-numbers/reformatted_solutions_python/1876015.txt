coolness = []
for i in xrange(0, (10**5)+1):
    ib = bin(i)
    il = len(ib)
    temp = 0
    for j in xrange(0, il-2):
        if (ib[j] == '1' and ib[j+1] == '0' and ib[j+2] == '1'):
            temp += 1
    coolness += [temp]
t = input()
for _ in xrange(t):
    r, k = map(int, raw_input().split())
    temp = 0
    for i in xrange(r+1):
        if (coolness[i] >= k):
            temp += 1
    print temp
