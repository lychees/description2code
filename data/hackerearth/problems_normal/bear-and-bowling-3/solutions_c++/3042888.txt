#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define M 1000000007

ll int a[200000];
ll int exp(ll int a,ll int b){
	if (b==0) return 1;
	if (b%2==0){
		ll int x = exp(a,b/2);
		return (x*x)%M;
	}
	else return (a*exp(a,b-1))%M;
}

int main(){
	ll int n;
	scanf("%lld",&n);
	for (ll int i=0;i<n;i++) scanf("%lld",&a[i]);
	if (n==1){cout << a[0] << endl;return 0;}
	ll int sum=0;
	ll int pw = exp(2,n-2);
	for (ll int i=0;i<n;i++){
		ll int x = (((pw*a[i])%M*(i+2))%M)%M;
		sum=(sum+(x))%M;
	}
	printf("%lld",sum);
	return 0;
}
