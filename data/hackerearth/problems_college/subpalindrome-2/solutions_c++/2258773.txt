#include <iostream>
using namespace std;
long long int fun(string s)
{
	long long int len=s.length();

    
	
	long long int arr[len][len][len+1];
	for(long long int l=0;l<=len;l++)
	{
		
	for(long long int i=0;i<len;i++)
	{
		for(long long int j=0;j<len;j++)
		{
			arr[i][j][l]=0;
		}
	}
	
	}
	for(long long int i=0;i<len;i++)
	{
		for(long long int j=i;j<len;j++)
		{
			arr[i][j][1]=j-i+1;
		}
	}
	
	for(long long int i=0;i<len-1;i++)
	{
		for(long long int j=i+1;j<len;j++)
		{
	          if(s[i]==s[j]&& j-i+1>2)
	          arr[i][j][2]=1+arr[i+1][j-1][2];
	          else
	          arr[i][j][2]=1;
	    }
	}
	
	long long int i,j,count;
	for(long long int l=3;l<=len;l++)
	{
		for( i=0;i<=len-l;i++)
		{
		
			for(j=i+l-1;j<len;j++)
		   {	
		   	
		   	if(s[i]==s[j])
			arr[i][j][l]=arr[i+1][j-1][l-2] ;
			
		
			
		   }
		}
		
	}
	count=0;
	for(long long int l=0;l<=len;l++)
	{ 
		
	
			count+=arr[0][len-1][l];
		

	
	}
	return count;
	
}
long long int fun1(string s,int len)
{
	int dp[len][len];
	for(int i=0;i<len;i++)
	{
		for(int j=0;j<len;j++)
		{
			dp[i][j]=0;
		}
	}
	for(int i=0;i<len;i++)dp[i][i]=1;
	for(int i=0;i<len-1;i++)
	{
		if(s[i]==s[i+1])
		dp[i][i+1]=3;
		else
		dp[i][i+1]=2;
	}
	
	long long int l,r,t,e,j;
	for(int lt=2;lt<=len;lt++)
	{
		for(int i=0;i<=len-lt;i++)
		{
			j=i+lt-1;e=0;
			l=dp[i][j-1]-dp[i+1][j-1];
	        r=dp[i+1][j]-dp[i+1][j-1];
	        t=dp[i+1][j-1];
	         if(s[i]==s[j])
	         e=dp[i+1][j-1]+1;
			dp[i][j]=l+r+t+e;
		}
	}
	
	return dp[0][len-1];
	
	
}
int main()
{
    
    string s;
    int t;cin>>t;
      while(t--)
      {	cin>>s;
    	cout<<fun1(s,s.length())<<endl;
    	}
    
    return 0;
}
