
   #include <bits/stdc++.h>
    using namespace std;
    #define mod 1000000007
    
    int cc;
    vector<int> a[100005],numbercc(1000005);
    vector<bool> visit(1000005); 
     
    void dfs(int u)
    {
    	//	cout<<u<<a[u].size()<<"\n";	
    visit[u]=true;
    numbercc[cc]++;
    //cout<<"hello"<<v<<maxi[cc]<<numbercc[cc]<<"\n";
    for(int i=0;i<a[u].size();i++)
    	{
    	if(!visit[a[u][i]])
    	dfs(a[u][i]);
    	}
    }
     
    int main()
    {
    int t;
    cin>>t;
    while(t--)
    {
    int n,m;
    cin>>n>>m;
    
    cc=0;
    for(int i=0;i<=n;i++)
    {
    a[i].clear();
    visit[i]=false;
    numbercc[i]=0;
    }
    for(int i=0;i<m;i++)
    {
    int x,y;
    cin>>x>>y;
    a[x-1].push_back(y-1);
    a[y-1].push_back(x-1);
    }
    
    //memset(visit,false,sizeof(visit));
   	//memset(numbercc, 0, sizeof(numbercc));
   	for(int i=0;i<=n;i++)
    visit[i]=false;
 
   
   	
    for(int i=0;i<n;i++)
    {
    	if(!visit[i])
    	{
		 dfs(i);
    	 cc++;
    	}
    }
    //cout<<cc;
    long long int ans=max(1,numbercc[0]*(numbercc[0]-1)/2);
    for(int i=1;i<cc;i++)
    {
    //cout<<numbercc[i]<<cc<<"\n";
    int x=max(1,numbercc[i]*(numbercc[i]-1)/2);
    ans=(ans%mod*x%mod)%mod;
    }
    cout<<ans<<"\n";
    //cout << "Hello World!" << endl;
    }
    return 0;
    }
