#include <bits/stdc++.h>
using namespace std;

bool visited[100011];
int main(){
	long long  n,t;
	long long i;
	cin >> n >> t;

	long long a[n+1],b[n+1];
	for(i = 0; i<n ; i++)
		cin>>a[i+1];

	int p[n+1];
	for(i = 0; i<n ; i++)
		cin >> p[i+1];

	vector<vector<int> >cycle;
	for(int i=1;i<=n;i++){
		if(visited[i]) continue;
        int cur=i;
        vector<int>v;
        while(!visited[cur]){
            visited[cur]=1;
            v.push_back(cur);
            cur=p[cur];
        }
        cycle.push_back(v);
	}
	int shift;
	for(int i=0;i<cycle.size();i++){
		shift=t%cycle[i].size();
		for(int j=0;j<cycle[i].size();j++){
			b[cycle[i][j]]=a[cycle[i][(j+shift)%cycle[i].size()]];
		}
	}

	for(i = 0; i< n; i++)
		cout<<b[i+1]<<" ";
}
