#include<bits/stdc++.h>
using namespace std;
#define mod 1000000007
typedef long long ll;

ll inp(){
	ll n = 0;
	char c = getchar_unlocked();
	while( c < '0' || c > '9' )
		c = getchar_unlocked();
	while( !(c < '0' || c > '9') ){
		n = (n << 3) + (n << 1) + c - '0';
		c = getchar_unlocked();
	}
	return n;
}

ll a[1000008],b[1000008];

int main()
{
    ll t,i,j,s,n;
    cin>>t;
    while(t--){
    	n=inp();
    	for(i=0;i<n;i++){
    		a[i]=inp();
    		b[i]=0;
    	}
    	
    	if(n==0 || n==1){
    		cout<<"0\n";
    		continue;
    	}
    	s=a[0];
    	for(i=1;i<n;i++){
    		if(a[i]==s){
    			ll cc=1;
    			for(j=i;j<n;j++){
    				if(a[j]!=a[j-i])
    					break;
    				else{
    					if(b[j]<cc)
    						b[j]=cc;
    					cc++;
    				}
    			}	
    		}
    	}
    	ll ans=-1;
    	for(i=0;i<n;i++){
    		//cout<<b[i]<<",";
    		if(b[i]>ans)
    			ans=b[i];
    	}
    	cout<<ans<<endl;
    }
    return 0;
}
