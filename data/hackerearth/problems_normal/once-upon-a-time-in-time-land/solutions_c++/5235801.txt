#include<cstdio>
#include<cstring>
#include<algorithm>
#define MAXN 10000
using namespace std;
long long dp[MAXN+11],a[MAXN+11];
int main(){
    int cs;
    scanf("%d",&cs);
    while(cs--){
        int n,k;
        scanf("%d%d",&n,&k);
        memset(dp,0,sizeof(dp));
        for(int i=1;i<=n;i++){
            scanf("%lld",&a[i]);
        }
        for(int i=1;i<=k+1;i++){
            dp[i]=max(dp[i-1],a[i]);
        }
        if(a[k+2]>=0){
            dp[k+2]=dp[1]+a[k+2];
        }
        dp[k+2]=max(dp[k+2],dp[k+1]);
        for(int i=k+3;i<=n;i++){
            if(a[i]>=0){
                dp[i]=max(dp[i-k-1],dp[i-k-2])+a[i];
            }
            dp[i]=max(dp[i],dp[i-1]);
        }
        printf("%lld\n",dp[n]);
       /* for(int i=1;i<=n;i++){
            printf("%lld ",dp[i]);
        }
        printf("\n");*/
    }
    return 0;
}
