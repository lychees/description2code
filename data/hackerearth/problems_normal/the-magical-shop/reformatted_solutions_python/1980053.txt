import sys

n, k = map(long, raw_input().split())
days_allowed = raw_input()
potions = n % k
i_have = 0
# if days_allowed[0] == '1':
# i_have = n

list = []

for x in range(0, len(days_allowed)):
    if (days_allowed[x] == '1'):
        i_have = (i_have % k+potions % k) % k
    potions = ((potions % k)*(potions % k)) % k
print i_have
