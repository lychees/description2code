#include <iostream>
using namespace std;


int root(int a[], int i){
	
	while(a[i] != i){
		i = a[i];
	}
	
	return i;
}

void uni(int a[],int e[],  int i, int j){
	
	int root_i = root(a, i);
	int root_j = root(a, j);
	
	if(e[root_i] <= e[root_j]){
		a[root_j] = root_i;
	}
	else{
		a[root_i] = root_j;
	}
}
int main()
{
    int n;
    int k;
    int i, j;
    cin>>n;
    int e[n+1];
    int a[n+1];
    int num[n+1];
    for(int p=1; p<=n; p++){
    	cin>>e[p];
    	a[p] = p;
    	num[p] = 0;
    }
    
    cin>>k;
    while(k--){
    	cin>>i>>j;
    	uni(a, e, i, j);
    }
    
    for(int p=1; p<=n; p++){
    	
    	if( e[p] == e[root(a,p)]){
    		num[root(a, p)]++;
    	}
    }
    long int result = 1;
    for(int p=1; p<=n; p++){
    	
    	if( a[p] == p ){
    		result = result*num[p];
    		result = result%(1000000007);
    	}
    }
    
    cout<<result<<endl;
    return 0;
}
