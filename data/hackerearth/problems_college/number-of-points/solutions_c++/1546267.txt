#include <iostream>
#include<algorithm>
using namespace std;
int gcd(long long int a,long long int b)
{
	int c;
	if(a==0 && b==0)
        return 1;
	if(b==0)
	return a;
	while(a%b!=0)
	{
		c=b;
		b=a%b;
		a=c;
	}
	if(b>0)
	return b;
	else return 1;
}
int main()
{
    //cout << "Hello World!" << endl;
    int t;
     int x1,y1,x2,y2,a1,b1,a2,b2,dif1,dif2;
    scanf("%d",&t);
    for(int i=0;i<t;i++)
    {
    	scanf("%d %d %d %d",&x1,&y1,&x2,&y2);
    	a1=min(x1,x2);
    	b1=min(y1,y2);
    	a2=max(x1,x2);
    	b2=max(y1,y2);
    	dif1=a2-a1;
    	dif2=b2-b1;
    	cout<<gcd(dif1,dif2)-1<<endl;
    }
  	return 0;
}