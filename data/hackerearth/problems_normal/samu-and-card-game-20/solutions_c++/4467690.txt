#include<bits/stdc++.h>
#define ll long int
using namespace std;


int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int k;
		ll m,n,cposx,cposy,count=0;
		cin>>n>>m;
		cin>>k;
		cposx=1;
		cposy=1;
		for(int i=0;i<k;i++)
		{
			int stepx,stepy;
			cin>>stepx>>stepy;
			while(cposx+stepx >= 1 && cposx+stepx <= n  && cposy+stepy >= 1 && cposy+stepy <= m)
			{
				cposx+=stepx;
				cposy+=stepy;
				count++;
			}	
		}
		cout<<count<<endl;

	}
	
	return 0;
}