#include <bits/stdc++.h>
using namespace std;
#define ll long long
const ll mod = 1e9+7;
ll dp[1008][1008];
int a[1008][1008];
int n;

ll rec(int i,int j){

	if(dp[i][j] != -1)
		return dp[i][j];

	int dx[] = {-1,0,1,0};
	int dy[] = {0,1,0,-1};

	ll ans = 1;
	for(int p=0;p<4;p++){
		int x = i+dx[p];
		int y = j+dy[p];
		if(x >= 1 && x <= n && y >=1 && y <= n && a[i][j] > a[x][y]) 
			ans = (ans+ rec(x,y))%mod;
	}

	dp[i][j] = ans;
	return ans;
}


int main(int argc, char const *argv[])
{
	scanf("%d",&n);
	for(int i=1;i<=n;i++)
		for(int j=1;j<=n;j++)
			scanf("%d",&a[i][j]);
	memset(dp,-1,sizeof dp);
	ll ans = 0;

	for(int i=1;i<=n;i++){
		for(int j=1;j<=n;j++){
			ans = (ans + rec(i,j));
			if(ans >= mod)
				ans -= mod;
		}
	}

	printf("%lld\n",ans);
	return 0;
}