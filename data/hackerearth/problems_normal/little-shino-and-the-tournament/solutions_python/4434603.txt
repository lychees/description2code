n,q=map(int,raw_input().strip().split())
strn=map(int,raw_input().strip().split())
d={}
l=range(0,n)
while len(l)>1:
	i=0
	ln=len(l)
	tm=[]
	while i<ln:
		if i+1>=ln:
			tm.append(l[i])
		else:
			if strn[l[i]]>strn[l[i+1]]:
				tm.append(l[i])
			else:
				tm.append(l[i+1])
			if l[i] not in d:
				d[l[i]]=0
			d[l[i]]=d[l[i]]+1
			if l[i+1] not in d:
				d[l[i+1]]=0
			d[l[i+1]]=d[l[i+1]]+1
		i=i+2
	#print d,tm
	l=tm
	
while q>0:
	x=input()
	if x-1 in d:
		print d[x-1]
	else:
		print 0
	q=q-1