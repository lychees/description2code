#include <iostream>
using namespace std;
#include<map>
#define ll long long

int main()
{
    ll t,max2=0,max1=0,a[100005],fre[100005],c[100005],cnt=0;
    cin>>t;
    for(ll i=0;i<t;i++)
    {
    	cin>>a[i];
    	fre[a[i]]++;
    	max1=max(max1,fre[a[i]]);
    	if(i!=0&&a[i]==a[i-1])
    	   {
    	   	cnt++;
    	   	c[a[i]]++;
    	   	max2=max(max2,c[a[i]]);
    	   }
    	
    }
    if(max1>(t+1)/2)
    	cout<<"-1"<<endl;
    else
    cout<<max(max2,(cnt+1)/2)<<endl;
    return 0;
}
