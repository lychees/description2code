#include <bits/stdc++.h>
using namespace std;
const int INF = 1e9;
#define pb push_back
#define sqr(x) ((x)*(x))
#define fi first
#define se second
#define SS stringstream
#define m0(x) memset(x, 0, sizeof x)
#define m1(x) memset(x, -1, sizeof x)
#define minf(x) memset(x, 0x3f3f3f3f, sizeof x);
#define sz(x) (int)x.size()
#define endl '\n'
typedef long long ll;
typedef pair<int, ll> ii;
const int MAX = 1e6+5;
vector<ii>adj[MAX];
int vstd[MAX];
ll DP[MAX];
ll dp(int u){
	if(sz(adj[u]) == 0)return 0;
	if(DP[u] != -1)return DP[u];
	long long ans = 0;
	for(auto v : adj[u]){
		ans = max(ans, v.se + 2 + dp(v.fi));
	}
	return DP[u] = ans;
}
int main(){
	int n, m;
	int u, v;
	ll w;
	m1(DP);
	scanf("%d %d", &n, &m);
	for(int i = 0; i < m; i++){
		scanf("%d %d %lld", &u, &v, &w);
		adj[u].pb({v, w});
	}
	ll res = 0;
	for(int i = 1; i <=n; i++){res = max(res, dp(i));}
		printf("%lld\n", res);
}