#include <iostream>
//#include <fstream>
#include <stdio.h>
#include <cmath>
#include <algorithm>
#include <string>
#include <cstdlib>
#include <vector>
#include <deque>
#include <list>
#include <set>
#include <map>
#include <ctime>
 
#define MAXN 100000
#define INF 1000000000
#define pi 3.1415926535
#define LL long long
#define U unsigned
#define mp make_pair
#define pb push_back
#define eps 0.000000001
#define pii pair <int,int>
#define X first
#define Y second
#define MOD 1000000007
#define MOD2 1000000009
 
using namespace std;

//ifstream cin("input.txt");
//ofstream cout("output.txt");

vector <int> f(MAXN+1);
int phi (int n) {
	int result = n;
	for (int i=2; i*i<=n; ++i)
		if (n % i == 0) {
			while (n % i == 0)
				n /= i;
			result -= result / i;
		}
	if (n > 1)
		result -= result / n;
	return result;
}
int main()
{
	int q,t,a,b,i;
	int answer;
	cin >> t;
	for (i=1; i<=MAXN; i++)
		f[i]=phi(i);
		for (i = 0; i < 11; i++) {
		//	printf ("%d ", f [i]);
		}
	for (q=0; q<t; q++)
	{
		cin >> a >> b;
		answer=0;
		for (i=1; i<=min(a,b); i++)
			if (a%i==0 && b%i==0) answer=answer+f[i];
		cout << answer << "\n";
	}
	return 0;
}