
for _ in range(input()):
	dic={}
	n=input()
	list=[]
	list1=[]
	list3=[]
	last=[]
	for i in range(n):
		x=raw_input().split()
		z=len(x)
		if x[z-1].lower() not in last:
			last.append(x[z-1].lower())
		try:dic[x[z-1].lower()].append(x)
		except:
			dic[x[z-1].lower()]=[]
			dic[x[z-1].lower()].append(x)
	last.sort()
	for i in last:
		for j in reversed(dic[i]):
			for c in j:
				print c,
			print ""	
			

	
		
		
	