#include <bits/stdc++.h>
int main()
{
    int k, t, count = 0, o;
    char b[1000000], s[1000000];
    scanf("%s%d%d", b, &k, &t);
    //printf("%s %d %d\n",b, k, t);
    while(t--)
    {
        scanf("%s",s);
        //printf("%s\n",s);
        int i,j = 0,l=0,z=0;
        for(l=0;s[l]!='\0';l++);
        for(i=0;s[i]!='\0';i++)
        {
            while(b[j]!='\0') {
                if(s[i]==b[j])
                 {
                    z++;
                    j++;
                    break;
                 }
                 j++;
            }
            if(z>=l) {
                break;
                }
        }
        if (z >= l)
            count++;
    }
    if(count>=k)
        printf("%d LUCKY\n",count);
    else
        printf("%d UNLUCKY\n",count);
    return 0;
}

