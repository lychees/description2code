#include<bits/stdc++.h>
using namespace std;
typedef  int lli;
int len;
lli red=0;
char s[13];
int dp[11][2][2];

 int conv()
  {
  	int ret=0;
  	for(int i=0;i<len;i++)
 	  {
 	  	ret=ret*10+(s[i]-'0');
	   }
	   return ret;
  }
  
 int  solve(int pos,int tight,int state)
  {
  	
  	 if(pos==len) 
	   {
	   	 if(state) 
			{
				return 1;	 
			}
	   	 return 0;
	   }
	   
	   else if(dp[pos][tight][state]!=-1)
	    {
	    	 return dp[pos][tight][state];
		}
		
  	 else 
  	    {
  	    	int ret=0;
  	    	 if(tight==1)
  	    	  {
  	    	  	   for(int i=0;i<=s[pos]-'0';i++)
  	    	  	     {
  	    	  	     	  int st=state;
  	    	  	     	  if(i==3) st=1;
  	    	  	 	     if(i==s[pos]-'0')
  	    	  	 	      {
  	    	  	 	      	 ret+=solve(pos+1,1,st);				  
						  }
						  else ret+=solve(pos+1,0,st);
					 }
					 
					 dp[pos][tight][state]=ret;
					 return ret;
				}
				else
				{
					int ret=0;
					 for(int i=0;i<=9;i++)
					  {
					  	  int st=state;
					  	  if(i==3) st=1;
					  	 ret+= solve(pos+1,0,st);
					  }
					  dp[pos][tight][state]=ret;
					  return ret;
				}
  	  	
		}
  }
int main()
{
	   int t;
	    cin>>t;
	    while(t--)
	    {
	    	memset(dp,-1,sizeof dp);
	    	string ss="";
	    	      red=0;
		          scanf("%s",&s);
		          len=strlen(s);
			      int a=solve(0,1,0);
			      printf("%d\n",conv()-a);
		}
}