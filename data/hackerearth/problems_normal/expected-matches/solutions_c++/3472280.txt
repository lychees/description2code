#include <iostream>
using namespace std;

long double d[1010][1010][2];
double p[1010][1010];
int n,m,T;

int main()
{
	cin>>T;
	
	while (T--) 
	{
		long double up=0,down=0,sum =0;
		cin>>n>>m;
		for (int i=1;i<=n;i++)
			for (int j = 1;j<=m;j++)
				scanf("%lf",&p[i][j]);
		
		d[0][1][0] = d[0][1][1] = 1;
		d[1][0][0] = d[1][0][1] = 1;
		for (int i = 1;i <= n; i++)
			for (int j = 1;j<=m;j++)
			{
				sum = d[i-1][j][0] +d[i][j-1][1];
				d[i][j][0] = (1-p[i][j]) * sum;
				d[i][j][1] = p[i][j] * sum;
				if (i == n)
				{
					up += d[i][j][0]*(i+j-1);
					down += d[i][j][0];
				}
				if (j == m)
				{
					up += d[i][j][1]*(i+j-1);
					down += d[i][j][1];
				}
			}
		cout.precision(6);
		std::cout << std::fixed;
		if (up == 0)
			cout<<0<<"\n";
		else
			cout<<up/down<<"\n";
	}
	
	
	
    
    return 0;
}
