#include<iostream>
#include<algorithm>
#include<bitset>
using namespace std;

int main(){
    int T;
    int N,K;
    int sum=0;
    int n[103];
    int b[103]={};
    cin>>T;
    while(T--){
        sum=0;
        for(int i=0;i<103;i++){
            b[i]=0;
        }
        cin>>N;
        cin>>K;
        for(int i=0;i<N;i++){
            cin>>n[i];
            for(int j=0;j<8;j++){
                if((n[i]&(1<<j)) !=0){
                    b[i]++;
                }
            }
        }
        stable_sort(&b[0],&b[N]);
        for(int i=0;i<K;i++){
            sum = sum + b[N-1-i];
        }
        cout<<sum<<"\n";
    }
    return 0;

}
