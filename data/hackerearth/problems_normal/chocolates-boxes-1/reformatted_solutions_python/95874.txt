from sys import stdin


def go(k, occurrences):
    count = 0

    while occurrences:
        n, n_count = occurrences.popitem()
        m = k - n

        if m in occurrences:
            count += n_count * occurrences[m]
            occurrences.pop(m)
        elif n * 2 == k:
            count += sum(range(n_count))

    print count


t = int(raw_input())
for _ in range(t):
    cnt = int(raw_input())
    occurrences = {}
    for _ in xrange(cnt):
        number = []

        char = stdin.read(1)

        while not (char == " " or char == "\n"):
            number.append(char)
            char = stdin.read(1)

        n = int(''.join(number))
        occurrences[n] = occurrences.get(n, 0) + 1

    k = int(raw_input())
    go(k, occurrences)
