#include <cstdio>
#include <cmath>

using namespace std;

int main()
{
int t, i, n, len, max_len, a, b;
char last;
scanf("%d", &t);

for (; t; --t) {
scanf("%d", &n);
int arr[n];

for (i = 0; i < n; ++i) {
scanf("%d", &arr[i]);
}

max_len = 0;
len = 2;
a = 0;
for (i = 1; i < n; ++i) {
if (arr[a] != arr[i]) break;
len++;
}

if (i == n) {
printf("%d\n", n);
} else {
b = i++;
for (; i < n; ++i) {
if (arr[i] == arr[a]) {
++len;
a = i;
} else if (arr[i] == arr[b]) {
++len;
b = i;
} else {
if (len > max_len) {
max_len = len;
}

if (abs(arr[i] - arr[a]) > 1) {
if (a < b) {
a = i;
len = a - b + 1;
} else {
a = i;	
// search new b
len = 2;
for (i = a+1; i < n; ++i) {
if (arr[a] != arr[i]) break;
len++;
}
b = i;
if (i == n) {
len = n - a;
if (len > max_len) max_len = len;
break;
}
}
} else {
if (a < b) {
a = i;
// search new b
len = 2;
for (i = a+1; i < n; ++i) {
if (arr[a] != arr[i]) break;
len++;
}
b = i;
if (i == n) {
len = n - a;
if (len > max_len) max_len = len;
break;
}
} else {
b = i;
len = b - a + 1;
}
}
}
}
if (len > max_len) {
max_len = len;
}
printf("%d\n", max_len);
}
}

return 0;
}