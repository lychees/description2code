#include<bits/stdc++.h>
using namespace std;
 
#define mod 1000000007
#define W while
#define LL long long int
 
typedef struct tower
{
	LL r,h;
}tower;
 
int mycomp(tower t1,tower t2)
{
	if(t1.h<t2.h)
		return 0;
	else if(t1.h>t2.h)
		return 1;
	else
	{
		return t1.r>t2.r;
	}
}
 
int main()
{
	LL  ans,t,n,r,i,h,j;
	cin>>t;
	W(t--)
	{
		cin>>n;
		tower obj[n];
		for(i=0;i<n;i++)
		{
			cin>>r>>h;
			obj[i].r=r;
			obj[i].h=h;
		}
		sort(obj,obj+n,mycomp);
		LL dp[n];
		for(i=0;i<n;i++)
			dp[i]=obj[i].h;
		ans=obj[0].h;
		for(i=1;i<n;i++)
		for(j=0;j<i;j++)
		{
			if(obj[j].r>obj[i].r&&obj[j].h>obj[i].h)
				dp[i]=max(dp[i],dp[j]+obj[i].h);
			ans=max(ans,dp[i]);
		}	
		cout<<ans<<endl;
	}
	return 0;
}