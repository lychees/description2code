#include<iostream>
        #include<cstdio>
        #include<cmath>
        using namespace std;
         
        #define max 10000009L
        #define sqr (long)sqrt(max)
        long small[max+10]={0};
        int count1[max+10];
        int main(){
        	int i,j;
    	for(i=3;i<=3163;i+=2)
    	{
    		if(small[i]==0){
    		for(j=i*i;j<=10000000;j+=(i+i))
    		{
    			if(small[j]==0)
    			small[j]=i;
    		}}
    	}
    	for(i=2;i<=10000000;i++)
    	{
    		if(!(i&1))
    		small[i]=2;
    		else if(!small[i])
    			small[i]=i;
        }
        int sum1=0,sum2=0;
        for(i=2;i<=10000000;i++){
        	int x=i,y=i;
        	while(x){
        		sum2+=x%10;
        		x/=10;
			}
        	while(y>1){
        		int pfac = small[y];
        		while(pfac){
        			sum1+=pfac%10;
        			pfac/=10;
				}
        		y/=small[y];
        	}if(sum1 == sum2) count1[i] = count1[i-1] + 1;
        		else count1[i] = count1[i-1];
        		sum1=0;sum2=0;
		}
		int t;
		scanf("%d",&t);
		while(t--){
			int m,n;
			scanf("%d %d",&m,&n);
			printf("%d\n",count1[n] - count1[m-1]);
		}
	}