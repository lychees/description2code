#include <vector>
#include <list>
#include <map>
#include <set>
#include <queue>
#include <deque>
#include <stack>
#include <bitset>
#include <algorithm>
#include <cassert>
#include <functional>
#include <numeric>
#include <utility>
#include <sstream>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <ctime>
#include <cstring>
#include<stdio.h>

#define uniq(coffee) (c).resize(unique(c.begin(),c.end())-(c).begin());
#define all(angel) a.begin(),a.end()
#define FOR(i,a,b) for(long int i=a;i<b;i++)
#define pb push_back
#define PI 3.14159265
#define eps 1e-10
#define LL long long
#define ULL unsigned long long
#define MOD 1000000007



using namespace std;

int main()
{
    int tc;
    long long int n,a[1111],l,d;
    float p[1111],ans[1111];
        cin>>n>>l>>d;

        long long int m = -1,i,j;
        for(i=0;i<n;i++)
        {
            cin>>p[i];
        }
       for(i=0;i<n;i++)
        {
            cin>>a[i];
        }

        for(i=0;i<n;i++)
        {
            ans[i]=-1;
            for(j=i-1;j>=-1;j--)
            {

                if(j!=-1 && a[i]-a[j]>l)
                    break;

                if(j==-1 && a[i]-l<=0)
                {
                    ans[i]=p[i];
                }
                else
                {
                    if(a[i]-a[j]<=l && ans[j]>=0 && p[i]*ans[j]>ans[i])
                    {
                        ans[i]=p[i]*ans[j];
                    }
                }
            }
            
           if(ans[i]==-1)
	            cout<<"IMPOSSIBLE\n";

        }
//        sort(a,a+n);

//        long long int ans=0;


       float an = -1;
         if(d<=l)
           {
               an= 1;
             printf("%f",an);//an;
             exit(0);
           }

        for(i=n-1;i>=-1;i--)
        {
         if(d-a[i]<=l && an<ans[i] && ans[i]>=0)
         {
             an= ans[i];
         }
         else
            {
            	if(d-a[i]>l)
            	break;
            }
        }

        if(an<0)
            cout<<"IMPOSSIBLE\n";
        else
            printf("%f",an);
    return 0;
}
