#include<bits/stdc++.h>
#define FOR(i,a,n) for(int i=a;i<n;i++)
#define si(x) scanf("%d",&x)
#define sll(x) scanf("%lld",&x)
#define pi(x) printf("%d\n",x)
#define pll(x) printf("%lld\n",x)
#define INF 2000000000
#define ll long long
#define MOD 1000000007
#define pb push_back
#define mp make_pair
using namespace std;
vector <int> v[100069];
int c,visited[100069]={};
void dfs(int x)
{
    if(visited[x])
        return;
    visited[x]=1;
    c++;
    FOR(i,0,v[x].size())
        dfs(v[x][i]);
}
int main()
{
    ll f[100069];
    f[0]=1,f[1]=1;
    FOR(i,2,100006)
        f[i]=(f[i-1]*i)%MOD;
    int n,k,x,y;
    si(n),si(k);
    ll sum=1;
    while(k--)
    {
        si(x),si(y);
        v[x].pb(y),v[y].pb(x);
    }
    FOR(i,1,n+1)
    {
        c=0;
        dfs(i);
        sum=(sum*f[c])%MOD;
    }
    pll(sum);
    return 0;
}
