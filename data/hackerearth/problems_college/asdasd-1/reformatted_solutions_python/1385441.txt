import math


def gcd(a, b):
    if b == 0:
        return a
    else:
        return gcd(b, a % b)


y = math.sqrt
t = input()
while t:
    t -= 1
    a, b = map(int, raw_input().split())
    a, b = (1 << a)-1, (1 << b)-1
    a = gcd(a, b)
    b = int(y(a))
    c = 0
    for i in range(2, b+1):
        if a % i == 0:
            c += 1
        while a % i == 0:
            a /= i
        if a == 1:
            break
    if a != 1:
        c += 1
    print c
