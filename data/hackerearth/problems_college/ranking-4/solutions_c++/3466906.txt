#include <bits/stdc++.h>
#define ll long long int
using namespace std;

struct student {
    int marks;
    int index;
    int rank;
};

bool cmp1(student s1, student s2) {
    return (s1.marks > s2.marks);
}

bool cmp2(student s1, student s2) {
    return (s1.index < s2.index);
}

int main()
{
    int t, n, m;
    struct student A[10005];

    cin >> t;
    while (t--) {
        cin >> n;

        for (int i = 0; i < n; i++) {
            cin >> m;
            A[i].marks = m;
            A[i].index = i;

        }

        sort(A, A + n, cmp1);
        vector<int> ranks;

        //cout << endl;
        int r = 1;
        //A[0].rank = 1;
        //ranks.push_back(1);

        int i = 0;
        while (i < n - 1) {
            if (A[i].marks == A[i + 1].marks) {
                int j = i;
                int c = 1;

                while (j + 1 < n && A[j].marks == A[j + 1].marks) {
                    //A[j].rank = r;
                    //cout << A[j].marks << " " << A[j].rank << " " << r << endl;
                    ranks.push_back(r);
                    j++;
                    c++;
                }
                //A[j].rank = r;
                ranks.push_back(r);
                //cout << A[j].marks << " " << A[j].rank << " " << r << endl;
                r = r + c;
                i = j + 1;
            } else {
                A[i].marks = r;
                //cout << A[i].marks << " " << A[i].rank << " " << r << endl;
                ranks.push_back(r);
                r++;
                i++;

            }
        }

        //A[n - 1].rank = r;
        ranks.push_back(r);
        //cout << "\n";

        for (int i = 0; i < ranks.size(); i++) {
            //cout << ranks[i] << " ";
            A[i].rank = ranks[i];
        }
        //cout << endl << endl;

        /*for (int i = 0; i < n; i++) {
            cout << A[i].marks << " " << A[i].rank << endl;

        }*/



        sort(A, A + n, cmp2);
        for (int i = 0; i < n; i++) {
            cout << A[i].rank << " ";
        }
        cout << endl;
    }
    return 0;
}
