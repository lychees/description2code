#include<cstdio>
using namespace std;
double table[1001][1001];
double dp[1001][1001];
int main(){
	int t,n,m;
	scanf("%d",&t);
	for(int i=0;i<t;i++)
	{
		scanf("%d%d",&n,&m);
		for(int j=0;j<n;j++)
		{
			for(int p=0;p<m;p++)
			{
				scanf("%lf",&table[j][p]);
			}
		}
		for(int j=0;j<=n;j++)
		{
			dp[j][m]=j+m;
		}
		for(int j=0;j<=m;j++)
		{
			dp[n][j]=j+n;
		}
		for(int j=n-1;j>=0;j--)
		{
			for(int p=m-1;p>=0;p--)
			{
				dp[j][p]=table[j][p]*dp[j][p+1]+(1.0-table[j][p])*dp[j+1][p];
			}
		}
		printf("%.6f\n",dp[0][0]);
	}
	return 0;
}
