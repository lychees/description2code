for tc in xrange(int(raw_input())):
    n = int(raw_input())
    arr = sorted(map(int, raw_input().split()))
    ans = 0
    cnt = 1
    for i in xrange(1, n):
        if arr[i] == arr[i-1]:
            cnt += 1
        else:
            ans += ((cnt+1)*cnt/2)
            cnt = 1
    ans += ((cnt+1)*cnt/2)
    print ans
