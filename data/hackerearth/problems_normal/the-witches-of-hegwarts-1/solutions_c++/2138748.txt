#include <bits/stdc++.h>
using namespace std;

#define SIZE 1000000000
#define LIMIT 10000000     // Max stack size

int *dp=new int[LIMIT];

void calculate()
{
  dp[0]=LIMIT+1;
  dp[1]=0;
  for(int i=2;i<LIMIT;i++)
  {
    dp[i]=dp[i-1]+1;
    if(i%2==0)
     dp[i]=min(dp[i],dp[i/2]+1);
    if(i%3==0)
     dp[i]=min(dp[i],dp[i/3]+1);
  }
}
int solve(int n)
{
  if(n>=LIMIT)
  {
     int ans=n-1;
     if(n%3==0)
      ans=min(solve(n/3)+1,ans);
     else
      ans=min(ans,solve(n-1)+1);
     if(n%2==0)
      ans=min(solve(n/2)+1,ans);
     else
      ans=min(solve(n-1)+1,ans);
     return ans; 
  }
  if(n==1||dp[n]>0)
   return dp[n];
}
int main()
{
	// your code goes here.
	calculate();
	int n,t;
	scanf("%d",&t);
	while(t--)
	{
    	scanf("%d",&n);
    	printf("%d\n",solve(n));
	}
	return 0;
}