#include <iostream>
using namespace std;
long long int mat[1005][1005];
int main()
{
    long long int r,c,i,j,k,l,m,ans=0;
    cin>>r>>c;
    for(i=0;i<r;i++){
    	for(j=0;j<c;j++){
    		cin>>mat[i][j];
    	}
    }
    for(i=0;i<r;i++){
    	for(j=0;j<c;j++){
    		
             k=i+1;
             l=1;
             while(mat[i][j]==mat[k][j]){
             	l++;
             	k++;
             }
             k--;
             m=j+1;
             while(mat[k][j]==mat[k][m]){
             	l++;
             	m++;
             }
             if(l>ans){
             	ans=l;
             }
    	}
    }
    cout<<ans<<endl;
    return 0;
}
