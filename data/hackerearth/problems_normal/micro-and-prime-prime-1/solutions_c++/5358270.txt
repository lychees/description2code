#include<iostream>

using namespace std;

int p[2*1000000];
int prime[2*1000000];
int count[2*1000000];

int length ;

void seive(int range)
{
	
	p[0] = 1;
	p[1] = 1;
	
	prime[0] = 2;
	
	for(long long int j = 4; j<=range; j+=2)
	   p[j] = 1 ;
	
	length = 1;
	   
	for(long long int i=3; i<=range; i+=2 )
	 {
	 	if( p[i]==0 )
	 	 {
	 	 	prime[length] = i;
	 	 	
	 	 	length++;

	 	 	for(long long int j=2; (i*j)<=range; j++)
	 	 	 {
	 	 	 	   p[i*j] = 1;
	 	 	 }
	 	 }
	 }
	  
	for( int i = 1; i<=range; i++ )
	 {
	 	if( p[i] == 0 )
	 	 {
	 	 	count[i] = 1 + count[i-1];
	 	 }
	 	else
	 	 {
	 	 	count[i] = count[i-1];
	 	 }
	 }
	 
	for( int i=1; i<=range; i++ )
	 {
	 	if( p[ count[i] ] == 0 )
	 	 {
	 	 	 count[i] = 1 + count[i-1];
	 	 }
	 	else
		 {
		 	count[i] = count[i-1];
		 } 
	 } 
	   
}




int main()
{
	int t;

    seive(1000000);
		 
	cin >> t;

	while( t-- )
	 {
	 	int l , r;
	 	
	 	cin >> l >> r;
	 	
		int answer  =  count[r] - count[l-1];
		
		
		cout << answer << "\n";  
	 }
	 
	return 0;
}

