#include <iostream>
#include<map>
using namespace std;
#define ll long long
map<string,int>m;
int main()
{
   ll n,t,i,j,k,p[1002][1002];string r,s,prev;
   cin>>n;
   for(i=1;i<=n;i++)
  {
  	cin>>s;
  	m[s]=i;
  	if(i==1)
  	{
  		r=s;
  	}
  }
  for(i=1;i<=n;i++)
 {
 	for(j=1;j<=n;j++)
 	{
 		cin>>p[i][j];
 	}
 }
 ll re=0;
 cin>>t;
 for(i=0;i<t;i++)
 {
 	cin>>s;
 	if(i==0)
 	{
 		re+=p[m[r]][m[s]];
 	}
 	else
 	{
 		re+=p[m[prev]][m[s]];
 	}
 		prev=s;
 }
 cout<<re;
    return 0;
}
