#include <bits/stdc++.h>
#define ll long long int
#define mod (int)(1e9 + 7)

using namespace std;

vector<pair<ll,ll> > a1,a2;

ll possible(ll n) {
	ll calc,ans,sz,i;
	calc = 0;
	ans = 0;
	sz = a1.size();
	for (int i = 0; i < sz; i++) {
		n -= a1[i].first;
		if(n < 0) return 0;
		n += a1[i].second;
	}
	
	sz=a2.size();
	for (int i = 0; i < sz; i++) {
		if(n < a2[i].second) return 0;
		n = n - a2[i].second + a2[i].first;
	}
	return 1;
}
ll binary()
{
	ll low = 1, high = (ll)((ll)mod * (ll)mod), mid;
	while (low <= high) {
		mid = (low + high) / 2;
		if (possible(mid) && possible(mid-1) == 0) {
			return mid;
		} else if (possible(mid)) {
			high=mid-1;
		} else {
			low=mid+1;
		}
	}
	return -1;
}

int main()
{
	ll t,x,n,ans,i,calc,sz;
	cin >> n;
	
	for (int i = 0; i < n; i++) {
		cin >> t >> x;
		if(x - t >= 0) {
			a1.push_back(make_pair(t, x));
		} else {
			a2.push_back(make_pair(x, t));
		}
	}

	sort(a1.begin(), a1.end());
	sort(a2.rbegin(), a2.rend());

	ans = binary();
	cout << ans << endl;
	
	return 0;
}