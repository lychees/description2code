#include <bits/stdc++.h>
using namespace std;

typedef long long lon;
int n;
vector<lon> a;

template<typename itor> bool ok(itor bb, itor ee, int c) {
	if (bb == ee) return true;
	lon last = max(*bb - c, (lon) 1);
	while (++bb != ee) {
		if (*bb + c <= last) return false;
		last = max(*bb - c, last + 1);
	}
	return true;
}

int main() {
    int t; scanf("%d", &t);
    while (t--) {
    	scanf("%d", &n);
    	a.resize(n);
    	for (auto& i: a) scanf("%lld", &i);
    	lon l = 0, r = 1000 * 1000 * 1000;
    	while (l < r) {
    		long mid = l + (r - l >> 1);
    		if (ok(a.begin(), a.end(), mid)) r = mid;
    		else l = mid + 1;
    	}
    	printf("%lld\n", l);
    }
    return 0;
}
