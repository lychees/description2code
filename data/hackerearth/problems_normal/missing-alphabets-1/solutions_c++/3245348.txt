
#include <iostream>
#include<stdio.h>
#include<string.h>
#include<map>
#include<algorithm>
using namespace std;

int main()
{
   int t;
   cin>>t;
   while(t--)
   {
 int i,j,k;
   char arr[26];
   cin>>arr;
map<char,int>m;
for(i=0;i<26;i++)
m[arr[i]]=i;
map<int,char>m1;
for(i=0;i<26;i++)
m1[i]=arr[i];


  cin>>k;
 char drr[100][51];
 for(i=0;i<k;i++)
 cin>>drr[i];
 char crr[100][51];
 for(i=0;i<k;i++)
 {
for(j=0;j<strlen(drr[i]);j++)
{

	crr[i][j]=(char)(m[drr[i][j]]+48);

 }
 crr[i][j]='\0';
   }
qsort(crr,k,51,(int(*)(const void *,const void *))strcmp);


   for(i=0;i<k;i++)
   {
   	for(j=0;j<strlen(crr[i]);j++)
   	{
   crr[i][j]=m1[(int)(crr[i][j]-'0')];
   	}}


   	for(i=0;i<k;i++)
   	cout<<crr[i]<<endl;;


   }

    return 0;
}
