#include <bits/stdc++.h>
#define vec vector
#define sz(c) int(c.size())
#define FOR(i, a, b) for (int i = a; i < (b); ++i)
#define DOWN(i, a, b) for(int i = (a) - 1; i >= (b); --i)
using namespace std;
const char eol = '\n';
typedef long long int64;
typedef pair<int, int> pii;
typedef vec<int> vi;
typedef vec<int64> vi64;

void umin(int64 &a, int64 b) {
	if (a > b) a = b;
}

int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(0);
	cout << fixed << setprecision(10);

	int n, k;
	cin >> n >> k;
	vi64 a(n);
	FOR(i, 0, n) cin >> a[i];

	int64 const inf = 1e18;
	vec<vi64> best(n + 1, vi64(k + 1, inf));
	best[0][0] = 0;
	FOR(i, 0, n) {
		FOR(j, 0, k) {
			if (best[i][j] == inf) continue;
			int64 sum = 0;
			FOR(l, i, n) {
				sum += a[l];
				umin(best[l + 1][j + 1], best[i][j] + sum * sum);
			}
		}
	}

	int64 sum = accumulate(a.begin(), a.end(), 0ll);
	cout << k * best[n][k] - sum * sum << endl;

	return 0;
}
