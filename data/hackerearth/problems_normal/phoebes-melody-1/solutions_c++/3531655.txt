#include<bits/stdc++.h>
using namespace std;

int main()
 {
 	 int t;
 	  cin>>t;
 	  while(t--)
 	  {
 	  	vector<pair<int,int> > v;
        set<int> vs;
 	  	 int n,k;
 	  	 scanf("%d %d",&n,&k);
 	  	 for(int i=1;i<=n;i++)
 	  	  {
 	  	  	 int a;
 	  	  	 scanf("%d",&a);
 	  	  	 v.push_back(make_pair(a,i));
 	  	  	// cout<<" pair "<<a<<" "<<i<<endl;
			 }
			 sort(v.begin(),v.end());
		/*	 for(int i=0;i<n;i++)
			  {
			  	 cout<<v[i].first<<" "<<v[i].second<<endl;
			  }*/
			 long long int ans=0;
			 vs.insert(v[0].second);
			 for(int i=1;i<n;i++)
			  {
			  	int temp=100000000;
			  	 int num=v[i].first;
			  	 int pos=v[i].second;
			  	 int bb=pos-k;
			  	 int ff=pos+k;
			  	 // cout<<" pos is "<<pos<<" num is "<<num<<endl;
			  	 // cout<<" ff "<<ff<<" bb "<<bb<<" "<<endl;
			  	 set<int>:: iterator back,front;
			  	 
			  	 back=vs.lower_bound(bb);
			  	 int f=0;
			  	 if((back==vs.end() || *back>bb))
				   {
				   	if(back==vs.begin()) f=1;
				   	back--;
				   }
			  	 // cout<<" back is at pointing "<<*back<<endl;
			  	 if(f==0 && bb>=1)
			  	   {
			  	  	temp=abs(pos-*back);
			  	  //	 cout<<" back ans "<<temp<<endl;
					}
			  	 front=vs.lower_bound(ff);
			  	 if(front!=vs.end()  && ff<=n)
			  	  {
			  	  	temp=min(temp,abs(pos-*front));
			  	  //	cout<<" from front "<<temp<<endl;
					}
					if(temp!=100000000)
					 {
					 	ans+=temp;
					 }
					 vs.insert(pos);
			  }
			   printf("%lld\n",ans);
			 
	   }
 }