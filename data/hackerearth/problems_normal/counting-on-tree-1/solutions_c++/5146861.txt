#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

#define MAX 500004
#define MOD 1000000007
#define INF 999999999999999


vector<ll> v[MAX];
ll dp1[MAX],dp[MAX][105],tsub[MAX],sub[MAX],a[MAX];
ll n,k1;

void dfs(ll i,ll pi)
{
	sub[i]=a[i];tsub[i]=a[i];
	for(ll k=0;k<v[i].size();k++)
	{
		if(v[i][k]==pi)
		continue;
		dfs(v[i][k],i);
		tsub[i]+=tsub[v[i][k]];
	}
	for(ll k=0;k<=k1&&k<=tsub[i];k++)
	dp[i][k]=0;
	dp[i][a[i]]=1;
	for(ll k=0;k<v[i].size();k++)
	{
		if(v[i][k]==pi)
		continue;
		for(ll x=0;x<=k1&&x<=sub[i]+sub[v[i][k]];x++)
	  dp1[x]=0;
		for(ll x=0;x<=sub[i];x++)
		dp1[x]=dp[i][x];
		for(ll x=0;x<=k1&&x<=sub[i];x++)
		{
			for(ll y=0;y<=k1-x&&y<=sub[v[i][k]];y++)
			dp1[x+y]=(dp1[x+y]+dp[i][x]*dp[v[i][k]][y])%MOD;
		}
		for(ll x=0;x<=k1&&x<=sub[i]+sub[v[i][k]];x++)
		dp[i][x]=dp1[x];
		sub[i]+=sub[v[i][k]];
	}
}


int main()
{
	ll t;
	cin>>t;
	while(t--)
	{
		cin>>n>>k1;
		for(ll i=1;i<=n;i++)
		{
			cin>>a[i];
		}
		ll x,y;
		for(ll i=1;i<n;i++)
		{
			cin>>x>>y;
			v[x].push_back(y);
			v[y].push_back(x);
		}
		dfs(1,0);
		ll ans=0;
		for(ll i=1;i<=n;i++)
		{
			if(tsub[i]>=k1)
			ans=(ans+dp[i][k1])%MOD;
			v[i].clear();
		}
		cout<<ans<<endl;
	}
	return 0;
}
