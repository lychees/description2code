/*
 * Samu_and_Card_Game.cpp
 *
 *  Created on: 14-Sep-2016
 *      Author: mukesh
 */
#include <iostream>

using namespace std;

int main(int argc, char **argv) {
	int t;
	cin>>t;
	for (int i = 0; i <t; ++i) {
		int m, n ;
		cin>>m>>n;
		int s;
		cin>>s;
		int step =0,k=1,l=1;
		for (int j = 0; j < s; ++j) {
			int a,b;
			cin>>a>>b;
			while(k+a>=1&&k+a<=m&&l+b<=n&&l+b>=1){
				k+=a;
				l+=b;
				step++;
			}
		}
		cout<<step<<endl;
	}
}

