#include <iostream>
using namespace std ;
int main()
{

    int t ;
    cin >> t ;
    while ( t--)
    {
       long long  int n ;
        cin >> n ;
       string a ; 
        cin >> a ;
       long long  int r = 1 ;
       long long  int s = 0 ;
        int i ;
        for ( i = 0; i<n-1 ; i++)
        {
            if ( a[i] <= a[i+1])
            {
                r= r+1 ;
            }
            else{
                s = s+(r*(r+1))/2 ;
                r = 1 ;
            }
        }
        s = s+(r*(r+1))/2 ;
        cout << s <<endl;

    }
    return 0 ;
}
