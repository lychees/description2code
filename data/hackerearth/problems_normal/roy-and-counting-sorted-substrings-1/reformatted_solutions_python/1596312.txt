case = long(raw_input())
while (case != 0):
    case = case - 1
    Length = long(raw_input())
    String = raw_input()
    total, count = 1, 1
    for i in range(1, Length):
        if String[i] >= String[i-1]:
            count = count + 1
        else:
            count = 1
        total = total + count
    print total
