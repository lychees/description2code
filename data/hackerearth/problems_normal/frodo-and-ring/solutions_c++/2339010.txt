#include <bits/stdc++.h>
#define ll long long
using namespace std;
char mat[210][210];
int dp[210][210];
int main()
{
ios_base::sync_with_stdio(false);
cin.tie(NULL);
int test;
cin>>test;
while(test--)
{
	int r,c;
	int i,j,x,y;
	cin>>r>>c;//row & column
	string s;
	for(i=0;i<r;i++)
	{
		for(j=0;j<c;j++)
		{
			cin>>mat[i][j];
			//mat[i][j]=s.at(0);
		}
	}
	int ans;
	if(mat[0][0]=='L')
	ans=0;
	else if(mat[0][0]=='D')
	ans=-1;
	else
	{
		dp[0][0]=150;
		for(i=1;i<c;i++)
		{
			if(mat[0][i]=='D')
			{
				dp[0][i]=dp[0][i-1]-100;
				if(dp[0][i]<0)
				{
					dp[0][i]=-1;
					for(j=i+1;j<c;j++)
					dp[0][j]=-1;
					break;
				}	
			}
			else if(mat[0][i]=='L')
			dp[0][i]=dp[0][i-1];
			else
			{
				dp[0][i]=dp[0][i-1]+150;
			}
		}
		for(i=1;i<r;i++)
		{
			if(mat[i][0]=='D')
			{
				dp[i][0]=dp[i-1][0]-100;
				if(dp[i][0]<0)
				{
					dp[i][0]=-1;
					for(j=i+1;j<r;j++)
					dp[j][0]=-1;
					break;
				}	
			}
			else if(mat[i][0]=='L')
			dp[i][0]=dp[i-1][0];
			else
			{
				dp[i][0]=dp[i-1][0]+150;
			}
		}
		for(i=1;i<r;i++)
		{
			for(j=1;j<c;j++)
			{
				x=dp[i][j-1];
				y=dp[i-1][j];
				if(x==-1 && y==-1)
				dp[i][j]=-1;
				else
				{
					if(mat[i][j]=='D')
					{
						dp[i][j]=max(x,y)-100;
						if(dp[i][j]<0)
						dp[i][j]=-1;
					}
					else if(mat[i][j]=='L')
					dp[i][j]=max(dp[i-1][j],dp[i][j-1]);
					else
					{
						dp[i][j]=max(x,y)+150;
					}
				}
			}
		}
		ans=dp[r-1][c-1];
	}
	//~ for(i=0;i<r;i++)
	//~ {
		//~ for(j=0;j<c;j++)
		//~ cout<<dp[i][j]<<" ";
		//~ cout<<endl;
	//~ }
	cout<<ans<<endl;
}
return 0;
}
