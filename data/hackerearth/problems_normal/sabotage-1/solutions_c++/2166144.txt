#include<bits/stdc++.h>
#define ll long long
#define MOD 1000000007
#define fors(i,n) for(int i=0;i<(n);i++)
#define fr(i,a,n) for(int i=(a);i<=(n);i++)
#define frd(i,a,n) for(int i=(a);i>=(n);i--)
#define s(n) scanf("%d",&(n))
#define sl(n) scanf("%lld",&(n))
#define pb push_back
#define v vector
using namespace std;
int parent[100005];
int edges[100005][2];
int ans[100005];
int find(int u)
{
   if(parent[u]!=u)
    parent[u]=find(parent[u]);
   
   return parent[u];
}
bool merge(int u,int v)
{
   u=find(u);
   v=find(v);
   if(u==v)return false;
   parent[u]=v;
   return true ;
}
int main() {
	int n,m,u,v;s(n);s(m);
	fr(i,1,n)parent[i]=i;
	fr(i,1,m)
	 s(edges[i][0]),s(edges[i][1]);
	printf("%d\n",m-n+1);
	frd(i,m,1)
           ans[i]= !merge(edges[i][0],edges[i][1]);
    fr(i,1,m)
     if(ans[i]) printf("%d\n",i);
	return 0;
}