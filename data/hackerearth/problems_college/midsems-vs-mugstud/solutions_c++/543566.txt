#include<bits/stdc++.h>
long long int N[55][55][55];
using namespace std;
int main()
{
   int test;
   scanf("%d",&test);
   while(test--)
   {
      long long int n;
      scanf("%lld",&n);
      for(int k=1;k<=n;k++)
         for(int j=1;j<=n;j++)
            for(int i=1;i<=n;i++)
               scanf("%lld",&N[i][j][k]);
      for(int k=1;k<=n;k++)
         for(int j=1;j<=n;j++)
         {
            for(int i=1;i<=n;i++)
            {
               long long int ans=N[i][j][k]-N[i-1][j][k]-N[i][j-1][k]+N[i-1][j-1][k]-N[i][j][k-1]+N[i-1][j][k-1]+N[i][j-1][k-1]-N[i-1][j-1][k-1];
               printf("%lld ",ans);
            }
            printf("\n");
         }
   }
      return 0;
}
