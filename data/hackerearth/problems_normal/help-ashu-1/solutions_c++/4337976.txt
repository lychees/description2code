#include <iostream>
#define ll long long 
using namespace std;
pair<ll ,ll >bit[100005];
int a[100005];
ll n;
void update(ll pos,ll data)
{
	
	for(ll i=pos;i<=n;i+=(i&-i))
	{
		if(data%2)
		{
		bit[i].first++;
		bit[i].second--;
		}
		else
		{
		bit[i].first--;
		bit[i].second++;
		}
	}
  }
  void update1(ll pos,ll data)
  {
  	for(ll i=pos;i<=n;i+=(i&-i))
  	{
  		if(data%2)
  		bit[i].first++;
  		else
  		bit[i].second++;
  	}
  }
  
  ll  query(ll  f, ll pos)
  {
  	ll ans=0;
  	for(ll i=pos;i>0;i-=(i& -i))
  	{
  		if(f%2)
  		ans+=bit[i].first;
  		else
  		ans+=bit[i].second;
  	}
  	return ans;
  }
	
	
int main() {
	// your code goes here
	ll i,q,t,x,y;
	cin>>n;
	for(i=1;i<=n;i++)
	cin>>a[i];
	for(i=1;i<=n;i++)
	update1(i,a[i]);
	cin>>q;
	while(q--)
	{
		cin>>t>>x>>y;
		if(t==0)
		{
			if(a[x]%2==0 && y%2!=0)
			update(x,1);
			else if(a[x]%2!=0 && y%2==0)
			update(x,2);
			a[x]=y;
		}
		else if(t==1)
		{
			cout<<query(2,y)-query(2,x-1)<<endl;
		}
		else
		cout<<query(1,y)-query(1,x-1)<<endl;
	}
	return 0;
}