#include <iostream>
#include<vector>
#include<bits/stdc++.h>
#define ll long long
using namespace std;
ll timer=0;
ll i=0;
bool vis[100004];
vector<ll> vec[100004];
ll intime[100004];
ll outtime[100004];
void dfs(ll a)
{
	ll j;
	vis[a]=true;
	intime[a]=++timer;
	for(j=0;j<vec[a].size();j++)
	{
		if(!vis[vec[a][j]])
		dfs(vec[a][j]);
	}
	outtime[a]=++timer;
	return;
}
int main()
{
    ll n,q,wroom,x,y,a,b,z;
    cin>>n;
  	memset(vis,false,sizeof(false));
    for(i=1;i<n;i++)
    {
    	cin>>a>>b;
    	vec[a].push_back(b);
    	vec[b].push_back(a);
    }
    dfs(1);
    cin>>q;
    while(q--)
    {
    	cin>>wroom>>x>>y;
    	if(wroom==0)
    	{
    		z=x;
    		x=y;
    		y=z;
    	}
    	if((intime[x]>intime[y])&&(outtime[x]<outtime[y]))
    	cout<<"YES"<<endl;
    	else
    	cout<<"NO"<<endl;
    }
    	
	
}
