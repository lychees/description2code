t=input()
ar=map(int,raw_input().split())
ar1=[i for i in ar]
n=input()
s=0
def func(ar,s,n):
	l=len(ar)
	if l>1:
		ar.remove(ar[(s+n)%l])
		s=(s+n)%l
		func(ar,s,n)
	else:
		global ar1
		ar1.sort()
		if ar[0]%2==0:
			for i in ar1:
				if i%2==0:
					print i,
		else:
			for i in ar1:
				if i%2!=0:
					print i,
func(ar,s,n-1)