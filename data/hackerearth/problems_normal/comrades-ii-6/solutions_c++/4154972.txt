#include <iostream>
#include <list>
using namespace std;

long sum = 0;

long f(list<long> B[], int n){
	long curr = 0;
	if(!B[n].empty()){
		for(list<long>::iterator it=B[n].begin(); it!=B[n].end(); ++it){
			curr += 1+f(B,*it);
		}
	}
	sum += curr;
	return curr;
}

int main()
{
	long t;
	cin>>t;
	for(long i=0; i<t; i++){
		sum = 0;
		long n;
		cin>>n;
		long A[n+1];
		list<long> B[n+1];
		for(long j=1; j<=n; j++){
			cin>>A[j];
			if(A[j]!=0)
				B[A[j]].push_back(j);
		}
		long commander=1;
		while(A[commander]!=0){
			commander = A[commander];
		}
		f(B, commander);
		long fistbumps = (n*(n-1))/2 - sum;
		cout<<sum<<" "<<fistbumps<<endl;
	}
    return 0;
}