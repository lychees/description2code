t = input()
for _ in xrange(t):
    n, k = map(int, raw_input().strip().split())
    array = map(int, raw_input().strip().split())
    array = sorted(array, key=lambda x: bin(x).count("1"), reverse=True)
    print sum([bin(num).count("1") for num in array[:k]])
