#include <bits/stdc++.h>
using namespace std;

int main()
{	
	int x,y;
	long int m=1e9+7;
	long long int n,i,q;
	long long int a[1000000];
		cin>>x>>y;
	a[1] = x-y;
			for(i=2;i<=100000;i++){
			a[i]=x*a[i-1]-y;
			a[i] = a[i]%m;
		}

	cin>>q;
	
	while(q--){

		cin>>n;
		cout<<a[n]<<endl;
		
			
	}
}

