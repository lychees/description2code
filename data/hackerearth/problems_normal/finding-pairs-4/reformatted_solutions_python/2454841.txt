
if __name__ == '__main__':
    T = int(raw_input())
    for i in range(0, T):
        n = int(raw_input())
        numlist = list(map(int, raw_input().split()))
        num = set(numlist)
        memo = dict(zip(num, [0]*len(num)))
        for j in numlist:
            memo[j] += 1
        sum1 = 0
        for keys, values in memo.items():
            sum1 += (values*(values+1))//2

        print sum1
