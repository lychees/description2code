#include<bits/stdc++.h>
using namespace std;

vector<int> adj[100002];
int in[100002];
int out[100002];
bool visited[100002];
int ti=0;


void dfs(int src)
{
 
  if(visited[src])
  {
  return;
  }
  visited[src]=true;
  in[src]=ti++;
  vector<int>::iterator it;
  for(it=adj[src].begin();it!=adj[src].end();it++)
  {
  	 if(!visited[*it])
  	 dfs(*it);
  }
  out[src]=ti++;
  
}


int main()
{
	int n,var,x,y,q,ch;
	cin>>n;
	var=n-1;
	while(var--)
	{
		cin>>x>>y;
		adj[x].push_back(y);
		adj[y].push_back(x);
	}
	cin>>q;
	
	dfs(1);
	//cout<<"q="<<q<<"\n";
	while(q--)
	{
	//	cout<<"yes\n";
		cin>>ch>>x>>y;
		if(ch==0)
		{
			if(in[x]<in[y] && out[x]>out[y])
			cout<<"YES\n";
			else
			cout<<"NO\n";
		}
		if(ch==1)
		{
			if(in[x]>in[y] && out[x]<out[y])
			cout<<"YES\n";
			else
			cout<<"NO\n";
		}
		
	}
	return 0;
}