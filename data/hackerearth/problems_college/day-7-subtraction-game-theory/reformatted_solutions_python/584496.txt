x, y = map(int, raw_input().split())
a = [1]
for i in xrange(1, 1000001):
    value = (a[i-1]*x-y) % 1000000007
    a.append(value)
Q = int(raw_input())
for q in xrange(Q):
    n = int(raw_input())
    print a[n]
