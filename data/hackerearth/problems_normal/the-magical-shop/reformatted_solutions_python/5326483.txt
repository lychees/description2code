ab = raw_input().split()
ab = map(int, ab)
alloweddays = raw_input()
alloweddays = list(alloweddays)
potions = ab[0]
ans = 0
for x in xrange(0, len(alloweddays)):
    if (alloweddays[x] == '1'):
        ans += potions
        ans %= ab[1]
    potions = (potions**2) % ab[1]
print(ans)
