t = int(raw_input())
while t:
    n = int(raw_input())
    arr = []
    for i in xrange(n):
        x, y = map(int, raw_input().split())
        arr.append((x, y))
    x = 0
    s = []
    for i in xrange(n):
        s.append(arr[i][0]+arr[i][1])
        x += arr[i][1]
    s = sorted(s)
    print s[n-1]+s[n-2]-x
    t -= 1
