#include<bits/stdc++.h>
using namespace std;
int n,m,ar[1<<20];
long long s[1<<20];
long long bst[1<<20];
long long dp[105][2005];
int main(){

cin>>n>>m;
int S=0;
for (int i=1;i<=n;i++)
{
	int sz;
	//cin>>sz;
	scanf("%d",&sz);
	for (int j=1;j<=sz;j++)
	{
	//	cin>>ar[j];
		scanf("%d",&ar[j]);
	}
	for (int j=1;j<=sz;j++)
		s[j]=s[j-1]+ar[j];
	
	for (int j=1;j<=sz;j++)
		bst[j]=-1e15;
	
	for (int j=1;j<=sz;j++)
		for (int k=j;k<=sz && k-j+1 <=m;k++)
		{
			bst[k-j+1]=max(bst[k-j+1],s[k]-s[j-1]);
		}
	
	bst[0]=0;
	
	for (int j=0;j<=m;j++)
		for (int take=0;take<=sz&& take<=j &&take<=m;take++)
			dp[i][j]=max(dp[i][j],dp[i-1][j-take]+bst[take]);
}
//cout<<dp[n][m]<<endl;
printf("%lld\n",dp[n][m]);
 
return 0;}
