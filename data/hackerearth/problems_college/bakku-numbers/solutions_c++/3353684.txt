#include<bits/stdc++.h>
using namespace std;
int main()
{
	long long  a,b;
	cin>>a>>b;
	int t;
	cin>>t;
	while(t--)
	{
		long long l,r,i;
		cin>>l>>r;
		int p = l/a;
		int q = l/b;
		int s = l/(a*b) ;
		long long m = p+q-s;
//cout<<p<<" "<<q<<" "<<s<<"\n";
		//cout<<m<<" ";
		p = r/a;
		q = r/b;
		s = r/(a*b);
	//	cout<<p<<" "<<q<<" "<<s<<"\n";
		long long n = p+q-s;
		int c=0;
		if(l%(a) ==0 || l%b==0)
		{
			c++;
		}
		if(l%(a*b)==0)
		{
			c++;
		}
		int x = n -m+c;
		printf("%.6lf\n",(double)x/(r-l+1));
	}
}