import sys

N = int(sys.stdin.readline())

cities = dict([(raw_input(), i) for i in range(N)])

arr = []

for i in range(N):
    arr.append(map(long, sys.stdin.readline().split()))

P = int(sys.stdin.readline())

cost = 0
start = None

for z in range(P):
    end = raw_input()
    if start is None:
        i = 0
    else:
        i = cities[start]
    j = cities[end]
    cost += arr[i][j]
    start = end

print cost
