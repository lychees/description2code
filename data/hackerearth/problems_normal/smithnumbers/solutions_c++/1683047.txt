#include <iostream>
#include<stdio.h>
#include <math.h>
using namespace std;
#define INT(x) scanf("%d",&x)
#define LLD(x) scanf("%lld",&x)
int isprime[1000001]={0};
int smith[1000001];
int checker[1000001];
typedef long long LL;
void set_prime(){
	int j = 2+2;
	while(j <= 1000000){
		isprime[j] = 1;   //1 means it is not a prime number....0 means it is a prime number 
		j = j+2;
	}
	for(LL i = 3; i <= 1000000; i = i+2){
		if(isprime[i] == 0){
			j = i+i;
			while(j <= 1000000){
				isprime[j] = 1;
				j = j+i;
			}
		}
	}
}
int sum_dig(LL a){
	int ans=0;
	while(a!=0){
		ans+=(a%10);
		a=a/10;
	}
	return ans;
}
void set_smith(){
	smith[1]=0;
	for(LL i=2;i<=1000000;++i){
		if(isprime[i]==0) checker[i]=sum_dig(i);
		else{
			if(i%2==0) checker[i]=checker[i/2]+2;
			else{
				for(LL j=3;2*j<i;j=j+2){
					if(i%j==0) {checker[i]=checker[i/j] + checker[j]; break;} 
				}
			}
		}
	if(sum_dig(i)==checker[i]) smith[i]=smith[i-1]+1;
	else smith[i]=smith[i-1];
	}
}
int main(){
	set_prime();
	set_smith();
	LL t,l,r;
	LLD(t);
	while(t--){
		LLD(l); LLD(r);
		printf("%d\n", (smith[r] - smith[l-1]));
	}
}