#include<cstdio>
#include<iostream>
#include<vector>
#include<utility>
#include<string.h>
#include<algorithm>
#include<cmath>

#define LL long long int
#define s(a) scanf("%d",&a)

#define ss(a) scanf("%s",a)
#define w(t) while(t--)
#define f(i,n) for(i=0;i<n;i++)
#define fd(i,n) for(i=n-1;i>=0;i--)
#define p(a) printf("%d",a)

#define ps(a) printf("%s",a)
#define pc(a) printf("%c",a)
#define ent printf("\n")
bool wayToSort(int i, int j) { return i > j; }
using namespace std;
pair<long long int,char> a[10000];
pair<long long int ,long long int>b[10000];
LL d;
int main()
{
    char s[100];
	int t,n,i,j,k=0;
	s(t);
	w(t)
   {    k=0;

       s(n);
       int l=0,m=0;
        f(i,n)
        {
            cin>>d;
            cin>>s;
            if(s[0]=='t')
            {
                a[l].first=d;
                cin>>a[l].second;
                l++;
            }
            else
            {
                b[m].first=d;
                cin>>b[m].second;
                b[m].second=max(d-b[m].second,0LL);
                m++;
            }
        }
       // cout<<m;
        int c[m];
        f(i,m)
        c[i]=1;
        //c[m-1]=1;
        for(i=m-1;i>0;i--)
        {   j=i;

            while(j<=m-1)
            {
                if(c[j]==1&&b[i-1].first>=b[j].second)
                c[i-1]=0;
                j++;
            }
        }
        j=0;
        //f(j,m)
        //cout<<b[j].first<<b[j].second<<endl;
        f(i,l)
        {   int f=0,s=0;
           f(j,m)
            {//cout<<a[i].first<<" "<<b[j].second<<" ";
                if(a[i].first>=b[j].second&&a[i].first<=b[j].first&&c[j]==1)
                {
                    f=f^1;
                }
            }
            if(f==0)
                cout<<a[i].second;
        }
        cout<<endl;

   }
	return 0;
}
