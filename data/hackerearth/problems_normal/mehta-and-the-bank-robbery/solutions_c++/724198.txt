#include<iostream>
#include<stdio.h>
#include<vector>
#include<algorithm>
using namespace std;
long long dp[2][2001][2001];
int main()
{
    int n,W,i,j,k;
    long long ma;
    cin>>n>>W;
    long long v[n],w[n];
    for(i=0;i<n;i++)
    scanf("%lld%lld",&v[i],&w[i]);
    int p[]={1,2,3,5,7,11,13,17,19,23,29};
    vector<pair<long long,long long> > a;
    for(i=0;i<n;i++)
        a.push_back(make_pair(v[i],w[i]));
    sort(a.begin(),a.end());
    for(int pp=0;pp<=10;pp++)
    {
        for(i=1;i<=n;i++)
        {
            for(j=1;j<=W;j++)
            {
                if(i==0)
                {
                    dp[0][i][j]=dp[0][i-1][j];
                    if(j-a[i-1].second>=0)
                        dp[0][i][j]=max(dp[0][i][j],dp[0][i-1][j-a[i-1].second]+a[i-1].first);
                }
                else
                {
                    ma=0;
                    int cur,prev;
                    if(pp&1)
                        cur=1,prev=0;
                    else
                        cur=0,prev=1;
                    ma=dp[cur][i-1][j];
                    if(j-a[i-1].second>=0)
                    {
                        ma=max(ma,dp[cur][i-1][j-a[i-1].second]+a[i-1].first);
                        ma=max(ma,dp[prev][i-1][j-a[i-1].second]+a[i-1].first*p[pp]);
                    }
                    dp[cur][i][j]=ma;
                }
            }
        }
    }
    cout<<dp[0][n][W]<<"\n";
}
