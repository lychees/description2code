    #include <bits/stdc++.h>
    using namespace std;
    #define ll long long int
    ll sum(ll n)
    {
    	return(n*(n+1)/2);
    }
    int main()
    {
        int t;
        cin>>t;
        while(t--)
        {
        	int r;
        	cin>>r;
        	string str;
        	cin>>str;
        	ll res=0;
        	ll slength=1;
        	ll i;
        	for(i=0;i<str.size()-1;i++)
        	{
        		if(str[i]<=str[i+1])
        		slength++;
        		else
        		{
        			res+=sum(slength);
        			slength=1;
        		}
        	}
        	res+=sum(slength);
        	cout<<res<<endl;
        }
    }