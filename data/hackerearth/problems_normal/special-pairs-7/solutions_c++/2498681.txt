#include<bits/stdc++.h>
using namespace std;
#define ll long long
ll dp[1048576+5][22];
int freq[1048576+5];
int d[1000000+5];
int main()
{
	int t;
	cin>>t;
	while(t--){
		int n,x,mask;
		cin>>n;
		for(int i=1;i<=n;++i){
			cin>>d[i];
			freq[d[i]]++;
		}
		ll ans=0;
		for(int mask=0;mask<(1<<20);++mask){
			dp[mask][0]=freq[mask];
			if(mask&1){
				dp[mask][0]+=freq[mask-1];
			}
			for(int p=1;p<=20;++p){
				dp[mask][p]=dp[mask][p-1];
				if(mask&(1<<p)){
					dp[mask][p]+=dp[mask^(1<<p)][p-1];
				}
			}
		}
		for(int i=1;i<=n;++i){
			ans+=dp[(1<<20)-1-d[i]][20];
			freq[d[i]]=0;
		}
		cout<<ans<<endl;
	}
}

