#include <iostream>
using namespace std;

int main()
{
    int t;
    cin>>t;
    while(t--)
     {
     	string s;
     	cin>>s;
     	int n = s.size();
     	long long dp[n][n];
     	for(int i=0;i<n;i++)
     	 for(int j=0;j<n;j++)
     	  dp[i][j] = (i>=j);
     	for(int i=n-1;i>=0;i--)
     	 for(int j=n-1;j>=i+1;j--)
     	  if(s.at(i)==s.at(j))
     	   if(i+1<=j-1 && dp[i+1][j-1]>0)
     	   dp[i][j]=2+dp[i+1][j-1];
     	   else if(i+1>j-1)
     	   dp[i][j]=2;
     	long long ans=0;
        for(int i=0;i<n;i++)
         for(int j=i;j<n;j++)
          {ans+=dp[i][j]*dp[i][j];
           //cout<<dp[i][j]<<'-'<<i<<'-'<<j<<' ';
          }
        cout<<ans<<endl;
     }
    return 0;
}
