def sym(lis):
	l=len(lis)
	le=l/2
	count=0
	for i in range(le):
		if(lis[i]==lis[l-(i+1)]):
			count+=1
	if(count==le):
		return True
	return False
T=input()
while(T):
	a=input()
	lis=[]
	for i in range(a):
		k=list(raw_input())
		lis.append(k)
	lis2=zip(*lis)
	count=0
	if(sym(lis) and sym(lis2)):
		count=3
	elif(sym(lis)):
		count=1
	elif(sym(lis2)):
		count=2
	dic={1:"HORIZONTAL", 2:"VERTICAL", 3:"BOTH", 0:"NO"}	
	print dic[count]
	T-=1