#include <stdio.h>
#include<iostream>
#include <cmath>
using namespace std;
int main()
{
	int p1,p2;
	cin>>p1>>p2;
	int t;
	cin>>t;
	while(t--)
	{
		long long int l,r,x=0;
		cin>>l>>r;
		/*for(long long int i=l;i<=r;i++)
		{
			if(i%p1==0 || i%p2==0)
			{
				x++;
			}
		}
		* 
		* 
*/		
		long long int L,R,X;
		//if(l%p1 !=0 && r%)
		if(l%p1!=0)
		{
			L = (floor)(r/(float)p1)-(floor)(l/(float)p1);
		}
		else
		{
			L = (floor)(r/(float)p1)-(floor)(l/(float)p1)+1;
		}
		
		if(l%p2!=0 )
		{
			R = (floor)(r/(float)p2)-(floor)(l/(float)p2);
		}
		else
			R = (floor)(r/(float)p2)-(floor)(l/(float)p2)+1;
		
		if(l%(p1*p2)!=0 )
		{
			X = (floor)(r/(float)(p1*p2))-(floor)(l/(float)(p1*p2));
		}
		
		else
			X = (floor)(r/(float)(p1*p2))-(floor)(l/(float)(p1*p2))+1;
		
		//cout<<L<<" "<<R<<" "<<X<<endl;
		float res=((L+R-X)/(float)(r-l+1));
		printf("%f\n",res);
	}
	return 0;
}