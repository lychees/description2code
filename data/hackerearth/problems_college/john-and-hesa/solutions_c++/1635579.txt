#include <iostream>
using namespace std;

int main()
{
   
   long long int t=0;
   cin>>t;
  
  
   while(t>0)
   {
   	long long int count=0;
   long long int x=0,p=0;
    scanf("%lld%lld",&x,&p);
   while(true)
   {
   	if(x%p==0)
   	{
   		count++;
   //		coll=coll+(x/p);
   		x=x/p;
   	
   		
   	}
   	else
   	{
   		if(x==1)
   		x=0;
   		break;
   	}
   	
   }
   printf("%lld %lld\n",count,x);
   t--;
   }
}
