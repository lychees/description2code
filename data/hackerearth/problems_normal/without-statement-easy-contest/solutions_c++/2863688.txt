#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
#include <set>
using namespace std;
int sum(int a)
{
	int s1=0;
	while(a)
	{
		s1+=pow(a%10,2);
		a/=10;
	}
	return s1;
}
int main()
{
    int t,m,n;
    cin>>t;
    int ar[8] = {4 ,16 ,20, 37, 42, 58, 89, 145};
    set<int> s;
    s.insert(ar,ar+8);
    while(t--)
    {
    	cin>>m>>n;
    	m=sum(m);
    	n--;
    	while(n>0)
    	{
    		if(m==1)
    		{
    			break;
    		}
    		if(n>=8)
    		{
    			if(s.find(m) !=s.end())
    			{
    				n=n%8;
    			}
    			else
    			{
    				m=sum(m);
    				n--;
    			}
    		}
    		else
    		{
    			m=sum(m);
    			n--;
    		}
    	}
    	cout<<m<<endl;
    }
    return 0;
}
