#include <bits/stdc++.h>
#define mp make_pair
#define pb push_back
#define mod 1000000007
#define pairI pair<int,int>
long long ans,r,a[1001][1001]={0},data[1001][1001]={0};
long long dfs(int x,int y){
    if(a[x][y])
        return a[x][y];

    if(x>1 && data[x-1][y]<data[x][y])
        a[x][y]=(a[x][y]+dfs(x-1,y)+1)%mod;
    if(y>1 && data[x][y-1]<data[x][y])
        a[x][y]=(a[x][y]+dfs(x,y-1)+1)%mod;
    if(x<r && data[x+1][y]<data[x][y])
        a[x][y]=(a[x][y]+dfs(x+1,y)+1)%mod;
    if(y<r && data[x][y+1]<data[x][y])
        a[x][y]=(a[x][y]+dfs(x,y+1)+1)%mod;

    return a[x][y];
}

using namespace std;
int main()
{
    int i,j;

    cin>>r;
    for(i=1;i<=r;i++)
        for(j=1;j<=r;j++)
        cin>>data[i][j];
    //dfs
   ans=0;
    for(i=1;i<=r;i++)
        for(j=1;j<=r;j++)
            if(!a[i][j])
                ans=(ans+dfs(i,j))%mod;
            else
                ans=(ans+a[i][j])%mod;

    cout<<ans+r*r<<endl;
    return 0;
}
