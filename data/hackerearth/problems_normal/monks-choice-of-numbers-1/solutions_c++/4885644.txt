#include <bits/stdc++.h>
using namespace std;

int main()
{
    int test;
    cin>>test;
    
    while(test--){
    	int n;
    cin>>n;
    int k;
    int x;
     //number of ones
    cin>>k;
    int count;
    	vector <int> a;
    	for(int i=0; i<n; i++){
    		cin>>x;
    		count=0;
    		while(x){
    			x=x&(x-1);
    			count++;
    		}
    		a.push_back(count);
    	}
    	
    	sort(a.begin(), a.end());
    	int answer=0;
    	for(int i=n-1; i>=n-k; i--) 
    		answer+=a[i];
    	
    	cout<<answer<<endl;	
    }
    
    return 0;
}
