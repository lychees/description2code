#include <iostream>
using namespace std;
#define ll long long

int main()
{
    int T;
    cin>>T;
    ll n,sum,x,temp;
    
    while(T--){
    	cin>>n;
    	sum=0;
    	
    	if(n<=2){
    		cout<<"0\n";
    		continue;
    	}
    	
    	x=2;
    	while(x<n){
    		temp=x>>1;
    		while(temp){
    			if(x+temp<=n)
    				sum=(sum+x+temp)%1000000007;
    				
    			temp=temp>>1;
    		}
    		x=x<<1;
    	}
    	cout<<sum<<endl;
    }
}
