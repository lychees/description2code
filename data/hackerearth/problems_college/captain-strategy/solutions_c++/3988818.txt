#include<bits/stdc++.h>
using namespace std;

int dfs(vector<int> v[],bool visited[],int arr[],int val){
	visited[val]=true;
	int res=0;
	for(int i=0;i<(int)v[val].size();i++){
		if(!visited[v[val][i]])
		res+=dfs(v,visited,arr,v[val][i]);
	}
	return arr[val]+res;
}


int main(){
	int n,q;
	cin>>n>>q;
	int arr[n+1];
	arr[0]=0;
	for(int i=1;i<=n;i++)
		cin>>arr[i];
	vector<int> v[n+1];
	for(int i=0;i<n-1;i++){
		int a,b;
		cin>>a>>b;
		v[a].push_back(b);
	}
	while(q--){
		char c;
		cin>>c;
		if(c=='Q'){
			bool visited[n+1];
			memset(visited,false,sizeof(visited));
			int val;
			cin>>val;
			int res=dfs(v,visited,arr,val);
			cout<<res<<endl;
		}
		else{
			int a,b;
			cin>>a>>b;
			arr[a]=b;
		}
	}
}