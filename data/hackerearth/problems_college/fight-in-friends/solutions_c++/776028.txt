#include <iostream>
#include <bits/stdc++.h>

using namespace std;

int f[1005][1005];

int main()
{
	int n, m, x, y;
	cin >> n >> m >> x >> y;
	for (int i = 1; i <= n; i++) {
		for (int j = 1; j <= n; j++) {
			if (j == i) {
				continue;
			} 
			f[i][j] = 1;
		}
	}
	int pp, qq;
	for (int i = 0; i < m; i++) {
		scanf ("%d%d", &pp, &qq);
		f[pp][qq] = 0;
		f[qq][pp] = 0;
	}
	// bfs
	
	int vis[1005] = {0};
	int col[1005];
	memset (col, -1, sizeof col);
	queue <int> q;
	q.push(x);
	col[x] = 0;
	while (!q.empty()) {
		x = q.front();
		q.pop();
		
		for (int j = 1; j <= n; j++){
			if (f[x][j] && !vis[j]) {
				vis[j] = 1;
				col[j] = col[x] + 1;
				q.push(j);
			}
		}
	}
	cout << col[y] << endl;
    return 0;
}
