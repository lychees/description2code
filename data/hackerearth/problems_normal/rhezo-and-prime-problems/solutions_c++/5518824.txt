#include <bits/stdc++.h>

using namespace std;

#define MOD 1000000007
#define ll long long int
#define ld long double
#define pb push_back
#define mkp make_pair

ll p[100001], ans[100001], arr[100001];
vector <ll> prime;

int main()
{
	ll i, n, j, k, a, b, c, x, t, z;
	for (i = 2; i <= 100000; ++i) {
		if (p[i] == 0) {
			prime.pb(i);
			for (j = i*i; j <= 100000; j += i) p[j] = 1;
		}
	}

	cin >> n;
	for (i = 1; i <= n; ++i) {
		cin >> arr[i];
		arr[i] += arr[i-1];
	}
	
	a = 0;
	b = 0;
	for (i = 2; i <= n; ++i) {
		ans[i] = ans[i-1];
		for (j = 0; j < prime.size(); ++j) {
			if (prime[j] > i) break;
			a = arr[i] - arr[i-prime[j]];
			if (i-prime[j] > 0) {
				a += ans[i-prime[j]-1];
			}
			ans[i] = max(a, ans[i]);
		}
		b = max(b, ans[i]);
	}
	cout << b << endl;

	return 0;
}