import sys

T = int(raw_input())
for tests in range(1,T+1):
	dimensions = map(int, raw_input().split())
	rows = dimensions[0]
	cols = dimensions[1]
	cards = int(raw_input())
	curRow = 1
	curCol = 1
	count = 0
	for card in range(1,cards+1):
		transform = map(int, raw_input().split())
		hzDist = transform[0]
		verDist = transform[1]
		hzBou = rows;
		verBou = cols;
		possibleX = 0;
		possibleY = 0;
		
		if(hzDist < 0):
			hzBou = 1
		if(verDist < 0):
			verBou = 1
		if(hzDist != 0):
			possibleX = abs(hzBou - curRow)/abs(hzDist)
		if(verDist !=0):	
			possibleY = abs(verBou - curCol)/abs(verDist)
		
		if(hzDist!=0 and verDist!=0):	
			temp =  min(possibleX,possibleY)
		if(hzDist==0):
			temp = possibleY
		if(verDist==0):
			temp = possibleX
		
		count = count + temp
		curRow = curRow + temp * hzDist;
		curCol = curCol + temp * verDist;
	print count