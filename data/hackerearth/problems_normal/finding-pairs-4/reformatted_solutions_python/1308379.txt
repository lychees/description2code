from collections import Counter
for T in range(input()):
    N, A = input(), map(int, raw_input().split())
    print sum(i * (i + 1) for i in Counter(A).values()) / 2
