#include <iostream>
#include <algorithm>
#include <climits>
#include <cstring>
#include <cmath>
#include <map>
#include <vector>
#include <cstdio>
#define pp push_back
#define gc getchar_unlocked
int MOD  = 1000000000 + 7;

using namespace std;

int count = 0;



int main()
{
	bool prime[5000001];
	memset(prime,0,sizeof(prime));
	for (int i = 2;i<3000;i++)
	{
		for (int j = i*i;j<5000001;j+=i) prime[j] = 1;
	}

	prime[0] = 0;
	prime[1] = 1;




	int test;
	cin>>test;
	while(test--)
	{


		int q1,q2;

		cin>>q1>>q2;
		int answer = 0;

		while(q1!=q2)
		{
			if (q1>q2)
			{
				if (!prime[q1])
				{
					answer-=q1;
				}
				else
				{
					answer+=q1;
				}
				q1/=2;
			}
			else
			{
				if (!prime[q2]) 
				{
					answer-=q2;
				}
				else
				{
					answer+=q2;
				}
				q2/=2;
			}
		}
		if (!(prime[q1])) answer-=q1;
		else answer+=q1;
		cout<<answer<<"\n";
	}

	return 0;
}