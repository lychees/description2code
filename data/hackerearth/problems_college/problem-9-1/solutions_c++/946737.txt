#include <iostream>
using namespace std;
 
int main()
{//0 is tails,1 is heads
    int n,q;
    cin>>n>>q;
    int arr[n];
    for(int i=0;i<n;i++)
    {
    	arr[i]=0;
    }
    for(int i=0;i<q;i++)
    {
    	int d;
    	cin>>d;
    	if(d==0)
    	{
    		int a,b;
    		cin>>a>>b;
    		for(a;a<=b;a++)
    		{
    			arr[a]=1-arr[a];
    		}
    	}
    	else
    	{
    		int a,b,count=0;
    		cin>>a>>b;
    		for(a;a<=b;a++)
    		{
    			if(arr[a]==1)
    			{
    				count++;
    			}
    		}
    		cout<<count<<endl;
    	}
    }
    return 0;
}
