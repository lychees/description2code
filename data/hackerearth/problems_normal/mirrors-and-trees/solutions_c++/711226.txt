#include <bits/stdc++.h>
#define vi vector<int>
using namespace std;

int main()
{
	int  t;
	cin>>t;
	while(t--)
	{
		int n,j,level=0;
		cin>>n;
		vi tree;
		int right[20]={0},left[20]={0};
		for(int i=0;i<n;++i){
			
			cin>>j;
			if(left[level]==0 && j!=0){
					left[level]=i+1;
			}
			if(j!=0)
			right[level]=i+1;
			if((i+2)==(1<<(level+1)))
				level++;
			tree.push_back(j);
		}
		for(int i=0;i<level;++i){
			if(right[i]!=0)
				cout<<tree[right[i]-1]<<endl;
		}
		for(int i=0;i<level;++i){
			if(right[i]!=left[i])
				cout<<tree[left[i]-1]<<endl;
		}
		cout<<endl;
	}
}