#include <bits/stdc++.h>
#include <assert.h>
using namespace std;
typedef long long ll;
#define MOD 1000000007LL
#define MP make_pair
#define PB push_back
#define INF 99999999999999999LL
#define M 100000LL
int main() {
	ios_base::sync_with_stdio(false);
	ll n;
	cin >> n;
	ll *a = new ll[n+1];
	ll h[M+1];
	for (ll i = 0; i <= M; i++) {
		h[i] = 0;
	}
	for (ll i = 0; i < n; i++) {
		cin >> a[i];
	}
	for (ll i = 0; i < n; i++) {
		ll x = a[i];
		h[x]++;
	}
	ll big = 0;
	for (ll i = 0; i <= M; i++) {
		big = max(big, h[i]);
	}
	if ((n-big) < n/2) {
		cout << -1 << endl;
		return 0;
	}
	for (ll i = 0; i <= M; i++) {
		h[i] = 0;
	}
	a[n] = 0;
	bool seg = false;
	{
		ll l = -1; ll r = -1;
		for (ll i = 1; i <= n; i++) {
			if (a[i] == a[i-1]) {
				if (!seg) {
					l = i-1;
					seg = true;
				}
			}
			else {
				if (seg) {
					seg = false;
					r = i-1;
					ll swaps = r-l;
					ll k = a[i-1];
					h[k] += swaps;
				}
			}
		}
	}
	ll sum = 0;
	ll g = 0;
	for (ll k = 0; k <= M; k++) {
		sum += h[k];
		g = max(g, h[k]);
	}
	{
		ll r = sum - g;
		ll ans = -2;
		if (g > r) {
			ll lonely = g - r;
			ll paired = sum - lonely;
			ans = lonely + (paired+1)/2;
		}
		else {
			ans = (sum+1)/2;
		}
		cout << ans << endl;
	}
}
