#include <bits/stdc++.h>
#define ll long long
using namespace std;

ll int a[110],n,m,dp[110][110];
ll int mod(ll int x,ll int y)
{
    if( (x-y) < 0)
        return -1*(x-y);
    return x-y;
}
ll int build(ll int idx,ll int cnt)
{
    ll int i;
    if(cnt<0) return -1e9;
    if(idx==1 && cnt>0 ) return -1e9;
   // if(idx==1 && cnt==0) return 0;
    if(idx-1==cnt) return 0;
    if(dp[idx][cnt]!=-1) return dp[idx][cnt];

        for(i=idx-1;i>=1;i--) //max(1,i-cnt-1)
        {
            ll int lft=cnt-(idx-i-1);
            //cout<<"going to i"<<i<<"from"<<idx<<"to get"<<build(i,lft)<<"now left"<<lft<<endl;
            dp[idx][cnt]=max(dp[idx][cnt],build(i,lft)+mod(a[idx],a[i]) ) ;
        }

    return dp[idx][cnt];
}

 int main()
{
    ll int t,i,j,ans;

    //freopen("input.txt","r",stdin);
    cin>>t;
    while(t--)
    {
        cin>>n>>m;

        ans=-1e9;

        ll int lv=n-m;
        for(i=1;i<=n;i++)
            for(j=0;j<=n;j++)
                dp[i][j]=-1;

        for(i=1;i<=n;i++)
            cin>>a[i];



        if(m==1)
        {
            for(i=1;i<=n;i++)
                ans=max(ans,0LL);
        }
        else if(m==0)
        {
            ans=0;
        }
        else
        {
          for(i=n;i>=n-lv;i--)
            { //cout<<"now running for"<<i<<lv-(n-i)<<endl;
            ans=max(ans,build(i,lv-(n-i))  );}

            /*for(i=1;i<=n;i++)
                {for(j=1;j<=lv;j++)
            {
                cout<<dp[i][j]<<" ";
            }
                cout<<endl;
                }*/
        }


        cout<<ans<<endl;
    }
}
