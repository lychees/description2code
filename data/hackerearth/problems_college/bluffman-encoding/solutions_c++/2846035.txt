#include <iostream>
#include <string>
#include <string.h>
#include <cmath>
#include <cstdio>
#include <vector>
#include <algorithm>
using namespace std;

int main()
{
	int i,t,j,key,k,x;
	
   cin>>t;
   while(t--)
   {
       int n;
   	cin>>n;
           char s[1201];
   	int a[n];
   	char b[n],c;
   	for(i=0;i<n;i++)
   		cin>>b[i]>>a[i];
   		for(i=0;i<n;i++)
    {
    	c=b[i];
        key=a[i];
        j=i-1;
        while(j>=0 && a[j]>key)
        {
            a[j+1]=a[j];
            b[j+1]=b[j];
            j--;
        }
        a[j+1]=key;
        b[j+1]=c;
    }
    cin>>s;
    k=strlen(s);
       i=0;
       x=0;
    while(i<k)
    {
    	if(s[i]=='1')
        {
            x=x+1;
            if(x==n-1)
               { 
                cout<<b[x];
            x=0;
               }
        }
    else
    {
    	x=x+1;
    	cout<<b[x-1];
    	x=0;
    }
    i=i+1;
   }
   cout<<"\n";
   }
    return 0;
}
