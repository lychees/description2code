#include <bits/stdc++.h>
using namespace std;
int a[51][51];
int sear(int a[][51],int n,int ch[],int go,int f,int size)
{
	if(a[go][f]==1||a[go][f]==2)
	return 2;
	if(size==n)
	return -1;
	int ret=0;
	for(int i=1;i<=n&&ret==0;i++)
	{
		if(a[go][i]==1)
		{
			if(ch[i]==0)
			{
				ch[i]=1;size++;
				ret=sear(a,n,ch,i,f,size);
				
			}
		}
		
	}
	return ret;
}
int main()
{
    int n,c;
    cin>>n>>c;
    
    while(c--)
    {
    	int r,c;
    	cin>>r>>c;
    	a[r][c]=1;
    	a[c][r]=1;
    }
    for(int i=1;i<=n;i++)
    {
    	
    	
    	for(int j=i+1;j<n;j++)
    	{int ch[n+1];
    	memset(ch,0,sizeof(int)*n+1);
    		if(a[i][j]==0)
    		{
    			a[i][j]=sear(a,n,ch,i,j,0);
    			a[j][i]=a[i][j];
    			
    				
    			
    		}
    	}
    	
    }
    int q;
    cin>>q;
    while(q--)
    {
    	int i,j;
    	cin>>i>>j;
    	if(a[i][j]==1)
    	cout<<"Direct Connection";
    	else if(a[i][j]==2)
    	cout<<"Indirect Connection";
    	else
    	cout<<"No Connection";
    	cout<<endl;}
    	
    return 0;
}
