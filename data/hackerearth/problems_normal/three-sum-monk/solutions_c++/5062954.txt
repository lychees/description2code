#include <bits/stdc++.h>

using namespace std;

int main() {
	bool isCube[6001];
	memset(isCube, false, sizeof isCube);
	for (int i = 1; i <= 18; i++) {
		isCube[i*i*i] = true;
	}
	
   	int T;
   	cin >> T;
   	for (int t = 0; t < T; t++) {
   		int N;
   		cin >> N;
   		int arr[N];
   		for (int i = 0; i < N; i++) {
   			cin >> arr[i];
   		}
   		double num = 0;
   		for (int i = 0; i < N; i++) {
   			for (int j = i+1; j < N; j++) {
   				for (int k = j+1; k < N; k++) {
   					if (isCube[arr[i] + arr[j] + arr[k]])
   						num++;
   				}
   			}
   		}
   		double den = (N*(N-1)*(N-2))/(3*2*1);
   		cout << fixed << setprecision(9) << num/den << endl;
   	}
    return 0;
}
