#include <iostream>
#include<string.h>
using namespace std;

void swap(char* x , char* y)
{
    char temp;
    temp = *x;
    *x = *y;
    *y = temp;
}

void fun(char *a, int i, int n) {
    int j;
    if(i == n) {
        cout << a << endl;
    } else {
        for(j = i; j <= n; j++) {
            swap(a + i, a + j);
            fun(a, i + 1, n);
            swap(a + i, a + j);
        }
    }
}

int main()
{
    char arr[100];
    int n , a[5][5];

    cin >> arr;
    cin >> n;

    for(int i = 0 ; i < n ; i++)
    {
        for(int j = 0 ; j < 2 ; j++)
        {
            cin >> a[i][j];
        }
    }

    for(int i = 0 ; i < n ; i++)
    {
            fun(arr, a[i][0], a[i][1]);
            cout << endl;
    }
}

