tests = input()
while (tests):
    edges = input()
    dic = {}
    while edges:
        l = map(int, raw_input().split())
        # print "fsfdsdddddddddddddddddddd",l
        if l[0] in dic:
            dic[l[0]] = dic.get(l[0], 1)
        else:
            dic[l[0]] = 1
        # edges-=1
        if l[1] in dic:
            dic[l[1]] = dic.get(l[1], 1)
        else:
            dic[l[1]] = 1
        edges -= 1
    print len(dic.keys())
    tests -= 1
