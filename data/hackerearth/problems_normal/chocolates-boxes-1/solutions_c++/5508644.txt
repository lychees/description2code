#include <bits/stdc++.h>
using namespace std;
#define ll long long
main()
{
    int t;
    cin>>t;
    while(t--)
    {
    	int n;
    	cin>>n;
    	int a[n];
    	for(int i=0;i<n;i++)
    	cin>>a[i];
    	int k;
    	cin>>k;
    	map<int,int> m;
    	m.clear();
    	vector<int> v;
    	for(int i=0;i<n;i++)
    	{
    		if(m.find(a[i])==m.end())
    		{
    			v.push_back(a[i]);
    		}
    		m[a[i]]++;
    	}
    	
    //	cout<<m[a[1]]<<endl;
    	sort(v.begin(),v.end());
    	int l = 0;
    	int r=v.size()-1;
    	int ans=0;
    	while(l<r)
    	{
    		if(v[l]+v[r]==k)
    		{
    			ans += m[v[l]]*m[v[r]];
    			l++;
    			r--;
    		}else if(v[l]+v[r]>k)
    		{
    			r--;
    		}else
    		{
    			l++;
    		}
    	}
    	
    	int t=0;
    	if(k%2==0)
    	t= m[k/2];
   // 	cout<<t*(t-1)/2<<endl;
   		if(t>=2)
    	ans +=t*(t-1)/2;
    	cout<<ans<<endl;
    }
    return 0;
}
