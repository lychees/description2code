#include<iostream>
#include<cstdlib>
using namespace std;
int comp (const void * a, const void * b)
{
   return ( *(int*)a - *(int*)b );
}
int main()
{
int t,n,b[100000],g[1000000],i;
cin>>t;
while(t--)
{ int c=0;
cin>>n;
for(i=0;i<n;i++)
cin>>g[i];
for(i=0;i<n;i++)
cin>>b[i];
qsort(g,n,sizeof(int),comp);
qsort(b,n,sizeof(int),comp);
for(i=0;i<n;i++)
{
if(b[n-1-i]%g[i]==0 || g[i]%b[n-1-i]==0)
c++;
}
cout<<c<<endl;
}
return 0;
}
