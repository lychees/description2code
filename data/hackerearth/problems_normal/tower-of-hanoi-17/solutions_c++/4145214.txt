#include <iostream>
#include <utility>
#include <vector>
#include <algorithm>
using namespace std;

typedef pair<long int,long int> ii;
typedef vector<ii> vii;
typedef vector<long long int> vi;

int main()
{
   int t;
   cin>>t;
   while(t--){
   	int n;
   	cin>>n;
   	vii disks;
   	vi lis(n,1);
   
   	for(int i=0;i<n;++i){
   		int r,h;
   		cin>>r>>h;
   		disks.push_back({r,h});
   	}
   	std::sort(disks.begin(), disks.end());
   	
   	//for(auto &v : disks) cout<<v.first<<":"<<v.second<<" "; cout<<"\n";
   	
   	vi sum(n,0);
   	for(int i=0; i<n; ++i){
   	//	lis[i] = disks[i].second;
   		sum[i]=disks[i].second;
   	}
   	
   	
   	
   	long long int ans = 0;
   	for(int i=1; i<n; ++i){
   		for(int j=0; j<i; ++j){
   			if((disks[j].second < disks[i].second) && (disks[j].first < disks[i].first)){
   				lis[i] = max(lis[i], 1 + lis[j]);
   				if(disks[i].second + sum[j] > sum[i]){
   					sum[i] = disks[i].second + sum[j];
   				}
   			}
   		}
   	}
   	//for(auto v : lis) {
   	//	cout<<v<<" "; 
   //		ans = max(ans, v);
   	//}
   	//	cout<<"\n";
   	for(auto v : sum) {
   		//cout<<v<<" "; 
   		ans = max(ans, v);
   	}
   	//cout<<"\n";
   	cout<<ans<<"\n";
   }
   
    return 0;
}
