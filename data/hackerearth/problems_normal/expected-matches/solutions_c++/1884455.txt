#include <bits/stdc++.h>

using namespace std;

double A[1002][1002];
int vis[1002][1002];
double dp[1002][1002];

int n,m,tc;

double f(int i, int j)
{
	if ( i == n+1 || j == m+1 ) return 0.0;
	if ( vis[i][j] == tc ) return dp[i][j];
	vis[i][j] = tc;
	double ans = 0.0;
	ans = ans + A[i][j]*(1.0 + f(i,j+1));
	ans = ans + (1.0-A[i][j])*(1.0 + f(i+1,j));;
	dp[i][j] = ans;
	return ans;
}

int main()
{
	int t;
	scanf("%d", &t);
	for ( tc = 1; tc <= t; tc++ ) {
		scanf("%d%d", &n, &m);
		for ( int i = 1; i <= n; i++ ) {
			for ( int j = 1; j <= m; j++ ) {
				scanf("%lf", &A[i][j]);
			}
		}
		double ans = f(1,1);
		printf("%0.6lf\n", ans);
	}
	return 0;
}