#include <iostream>
#include<bits/stdc++.h>
typedef long long int ll;
using namespace std;

int main()
{
    string str;
    cin>>str;
   
    ll k;
    scanf("%lld", &k);
    ll test;
    ll win= 0;
    scanf ("%lld", &test);
    while (test--){
    	string s;
    	cin>>s;
    	
    	int i;
    	int crn = 0;
    	int ctr = 0 ;
    	ll len;
    
		len = s.length(); 
    	for (i = 0; str[i]!='\0' ;i++){
    		
    		if (s[crn] == str[i]){
    			crn++;
    			ctr++;
    		}
    		if (ctr == len) {
    			break;
    		}
    	} 
    	if (ctr == len) {
    		win++;
    	}
    }
    if (win >= k){
    	printf("%lld LUCKY\n",win);
    }else{
    	printf("%lld UNLUCKY\n", win);
    }
    return 0;
}
