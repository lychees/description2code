#include <iostream>
#include <algorithm>
using namespace std;

int ar[100005],ans[100005];
int main()
{
    int *an,t,n,k,m;
    cin>>t;
    while(t--){
    	cin>>n>>k;
    	for(int i=0;i<n;i++)
    	cin>>ar[i];
    	for(int i=0;i<=k;i++){
    		if(ar[i]<0)
    		ans[i]=0;
    		else
    		ans[i]=ar[i];
    	}
    	m=ar[0];
    	for(int i=k+1;i<n;i++){
    		m=max(m,ans[i-k-1]);
    	//	cout<<*m<<" ";
    		if(ar[i]<0)
    		ans[i]=m;
    		else
    		ans[i]=m+ar[i];
    	}
    //	cout<<endl;
    	//for(int i=0;i<n;i++)
    	//cout<<ans[i]<<" ";
    //	cout<<endl;
    	an=max_element(ans,ans+n);
    	cout<<*an<<endl;
    }
    return 0;
}
