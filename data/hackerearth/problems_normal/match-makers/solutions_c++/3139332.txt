#include <bits/stdc++.h>

using namespace std;

int main()
{
    int tc;
    cin >> tc;

    vector<int> girl;
    vector<int> boy;
    int num;
    while(tc--)
    {
        int n;
        cin >> n;

        for (int i = 0;i < n;i++)
        {
            cin >> num;
            boy.push_back(-num);
        }

        for (int i = 0;i < n;i++)
        {
            cin >> num;
            girl.push_back(num);
        }

        sort(boy.begin(),boy.end());
        sort(girl.begin(),girl.end());

        int count = 0;
        for (int i = 0;i < n;i++)
        {
            if ((abs(boy[i]) % girl[i] == 0) || (girl[i] % abs(boy[i]) == 0))
                count++;
        }

        cout << count << endl;
        boy.clear();
        girl.clear();
    }

    return 0;
}
