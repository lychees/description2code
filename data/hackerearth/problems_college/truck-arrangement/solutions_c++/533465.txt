#include <cstdio>
#include <iostream>
#include <cmath>
#include <string>
#include <cstring>
#include <climits>
#include <algorithm>
#include <vector>
#include <map>
#include <cassert>
#include <set>


using namespace std;
typedef long long int LL;

#define fr(i,a,b) for(int i = a; i < b; i++)
#define frll(i,a,b) for(LL i = a; i < b; i++)
#define s(x) scanf("%d",&x)
#define sll(x) scanf("%lld",&x)
#define p(x) printf("%d\n",x)
#define pll(x) printf("%lld\n",x)

#define MAX 10001
int arr[MAX];
/*int count1[MAX];
int total[MAX];
int current[MAX];*/


int main(){
    int t; 
    int n, ans;
    s(t);
    while(t--){
		int count1[MAX] = {0};
		int total[MAX] = {0};
		int current[MAX] = {0};
        ans = 0;
		//int count = 0;
		s(n);
		fr(i, 0, n){
			s(arr[i]);
			//count = 0;
			count1[arr[i]]++; 
		}
		int sum = 0;
		fr(i, 1, MAX){
			//sum 
			if(count1[i]){
				total[i] = count1[i] + total[i-1];
			}
			else{
				total[i] = total[i-1];
			}
		}
		int diff = 0;
		fr(i, 0, n){
			diff = abs(total[arr[i]] - count1[arr[i]] + current[arr[i]] - i);
			if(diff > ans){
				ans = diff;
			}
			//p(diff);
			if(count1[arr[i]] > 0){
				current[arr[i]]++;
			}
		}
		p(ans);
	}
    return 0;
}