#include <iostream>
#include<cmath>
#include<stdio.h>
using namespace std;

int main()
{
    long long t,n,k,a[100000],s,p,ma,pre;
    
    cin>>t;
    while(t--)
    {
    	long int s[100000]={0};
    	cin>>n>>k;
    	
    	for(int i=0;i<n;i++)
    	{
    		scanf("%lld",&a[i]);
    		
    	}
    	pre=0;
    for(int j=n-1;j>=0;j--)
    {
    	ma=0;
    	/*for(int l=j+k+1;l<n;l++)
    	if(s[l]>ma)
    	ma=s[l];*/
    	if(j+k+1<n)
    	ma=s[j+k+1];
    	//cout<<ma<<"\n";
    	if(a[j]>0)
    	{ma+=a[j];
    
    	}
    if(pre<ma)
    s[j]=ma;
    else
    s[j]=pre;
    if(pre<ma)
    pre=ma;
    	
    	
    }
    ma=0;
    for(int i=0;i<n;i++)
    {
    //	cout<<s[i]<<" ";
    	if(ma<s[i])
    ma=s[i];
    }
    cout<<ma<<"\n";
  
    }
    
}
