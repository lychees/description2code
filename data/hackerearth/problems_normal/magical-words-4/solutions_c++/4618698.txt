#include <iostream>
#include<cstring>
using namespace std;
/*int isPalin(char a[],int i,int j)
{
while(i<j)
{
	if(a[i]!=a[j])
	return 0;
	i++;
	j--;
}
return 1;
}*/
int main()
{
    int t;
    cin >> t;
    while(t--)
    {
    	string str;
    	cin >> str;
    	char a[1010];
    	strcpy(a,str.c_str());
    	int len = str.length();
    	int T[len][len];
    	memset(T,0, sizeof(T));
    long long int total=0;
    	for(int i=0;i<len;i++)
    {	T[i][i]=1;
    total++;
    }
    	for(int l=2;l<=len;l++)
    	{
    		for(int i=0;i<=len-l+1;i++)
    		{
    			int j=i+l-1;
    		/*	if(isPalin(a,i,j))
    			{
    				total+=l*l;
    				T[i][j]=l;
    			}
    			else
    			{
    				T[i][j]=max(T[i+1][j],T[i][j-1]);
    			}*/
    			if(l==2 && a[i]==a[j])
    			{
    				T[i][j]=1;
    				total+=l*l;
    			}
    			else if(a[i]==a[j] && T[i+1][j-1]==1)
    			{
    				total+=l*l;
    				T[i][j]=1;
    			}
    			else
    			T[i][j]=0;
    		}
    	}
   /* 	for(int i=0;i<len;i++)
    	{
    		for(int j=0;j<len;j++)
    		cout<<T[i][j]<<" ";
    		cout<<endl;
    	}*/
    	cout << total<<endl;
    	
    }
    return 0;
}

