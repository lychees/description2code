t=input()
while(t>0):
    t=t-1
    n,m=raw_input().split(" ")
    n=int(n)
    m=int(m)
    if(m==1):
        print n
        continue
    tot=0
    while(n):
        ret=1
        for i in range(1,60):
            if(ret>n):
                break
            ret=ret*m
        ret=ret/m
        fac=n/ret
        tot=tot+fac
        n=n-fac*ret
    print tot
        
