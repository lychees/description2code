/*
-----------------------------------------------------------------------------
Author :            ---------------------------------------------------------
    UTKAR$H $AXENA  ---------------------------------------------------------
    IIT INDORE      ---------------------------------------------------------
-----------------------------------------------------------------------------
*/
#include<bits/stdc++.h>
#include<iostream>
using namespace std;
#define fre 	freopen("0.in","r",stdin);freopen("0.out","w",stdout)
#define abs(x) ((x)>0?(x):-(x))
#define MOD 1000000007
#define LL signed long long int
#define scan(x) scanf("%d",&x)

#define MAXN 280000
int dp[MAXN+5];
vector<int>fact[MAXN+5];
int main(){
	int N,K,M,x;
	set<int>bad;
	cin>>N>>K>>M;
	for(int i=2;i<=MAXN;++i){
		for(int j=2*i;j<=MAXN;j+=i){
			fact[j].push_back(i);
		}
	}
	while(M--){
		cin>>x;
		bad.insert(x);
	}
	int p = 1;
	cout<<1<<' ';
	dp[1] = 1;
	for(int x=2;x<=MAXN and p<N;++x){
		dp[x] = MOD;
		for(int j=0;j<fact[x].size();++j){
			int d = fact[x][j];
			dp[x] = min(dp[x],dp[d]+dp[x/d]);
		}
		if(bad.find(x)!=bad.end()){
				continue;
		}
		if(dp[x] > K){
			dp[x] = 1;
			p++;
			cout<<x<<' ';
		}
	}
}
