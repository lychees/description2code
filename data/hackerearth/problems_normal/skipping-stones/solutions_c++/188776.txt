#include <iostream>
#include <iomanip>
using namespace std;

int main() {
   int n,L,D;
   int i,j;
   cin>>n>>L>>D;
   long double p[n+2];
   for(i=1;i<n+1;i++)
   cin>>p[i];
   int dist[n+2];
   p[n+1] = 1.0;
   dist[0] = 0;
   dist[n+1] = D;
   long double dp[n+1];
   dp[0] = 1;
   for(i=1;i<n+2;i++) {
      if(i <= n) scanf("%d",&dist[i]);
      long double mx = 0.0;
      int flag = 0;
      for(j=0;j<i;j++)
      if(dist[i]-dist[j] <= L) {
         mx = max(dp[j]*p[i],mx);
         flag = 1;
      }
      if(!flag) {
         cout<<"IMPOSSIBLE"<<endl;
         return 0;
      }
      dp[i] = mx;
   }
	cout << std::fixed;
   cout<<setprecision(6)<<dp[n+1]<<endl;
   return 0;
}