#include <bits/stdc++.h>
using namespace std;

int v[101][101],n,m;
int c=0;
void f(int arr[][100],int x,int y,int d)
{
	if(x<0 || y<0 || x>=n || y>=m)
	return ;
	
	v[x][y]=1;
	
	c++;
	
	if(abs(arr[x-1][y]-arr[x][y])<=d)
	{
		if(!v[x-1][y])
		f(arr,x-1,y,d);
	}
	if(abs(arr[x+1][y]-arr[x][y])<=d)
	{
		if(!v[x+1][y])
		f(arr,x+1,y,d);
	}
	if(abs(arr[x][y-1]-arr[x][y])<=d)
	{
		if(!v[x][y-1])
		f(arr,x,y-1,d);
	}
	if(abs(arr[x][y+1]-arr[x][y])<=d)
	{
		if(!v[x][y+1])
		f(arr,x,y+1,d);
	}
}	
int main()
{
    int q,arr[100][100];
    cin>>n>>m>>q;
    for(int i=0;i<n;i++)
    {
    	for(int j=0;j<m;j++)
    	{
    		cin>>arr[i][j];
    	}
    }
    while(q--)
    {
    	int x,y,d;
    	cin>>x>>y>>d;
    	c=0;
    	memset(v,0,sizeof(v));
    	f(arr,x-1,y-1,d);
    	cout<<c<<endl;
    }
    return 0;
}
