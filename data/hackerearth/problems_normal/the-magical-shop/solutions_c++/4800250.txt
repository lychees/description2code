#include <iostream>

using namespace std;

int main()
{
    long long a,b,pot;
    int res=0;
    int i;
    string str;
    cin>>a>>b;
    cin>>str;
    pot=a;

    for(i=0;i<str.size();i++)
    {   if(str[i]=='1')
        res=(res+pot)%b;

        pot=(pot*pot)%b;
    }

    cout<<res;


}
