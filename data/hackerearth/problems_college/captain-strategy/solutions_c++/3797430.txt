#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

typedef vector <int> vi;

vi energy;
vector <vi> AdjList;

int N, M;

int DFS(int u)
{
    int e = energy[u];

    for (int j = 0; j < (int)AdjList[u].size(); j++)
        e += DFS(AdjList[u][j]);

    return e;
}

int main()
{
    cin >> N >> M;

    AdjList.assign(N+1, vi());
    energy.assign(N+1, 0);

    for (int i = 1; i <= N; i++)
        cin >> energy[i];

    for (int i = 1; i < N; i++)
    {
        int u, v;

        cin >> u >> v;
        AdjList[u].push_back(v);
    }

    for (int i = 1; i <= M; i++)
    {
        char ch;
        int u, e;

        cin >> ch;

        if (ch == 'Q')
        {
            cin >> u;
            cout << DFS(u) << endl;
        }
        else if (ch == 'U')
        {
            cin >> u >> e;
            energy[u] = e;
        }

    }
    
    return 0;
}