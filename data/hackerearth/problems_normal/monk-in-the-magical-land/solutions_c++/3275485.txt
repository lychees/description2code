#include <bits/stdc++.h>
using namespace std;
int key[200];
int chest[200];
int paisa[200];
int hashed[2000];
int arr[200][200];

int main(){
    int test;
    cin>>test;
    while(test--){
        int n,m,k;
        cin>>n>>m>>k;
        memset(arr,sizeof(arr),0);
        for(int i=0;i<n;i++)
            cin>>key[i];
        for(int i=0;i<m;i++)
            cin>>chest[i];
        for(int i=0;i<m;i++)
            cin>>paisa[i];
        for(int i=0;i<n;i++){
            for(int j=0;j<m;j++){
                    if(__gcd(key[i],chest[j])>1){
                        arr[i][j]=1;
                    }
                    else
                    	arr[i][j]=0;
            }
        }
        int ans=0;
        int maxi=1<<n;
        for(int b=0;b<maxi;b++){
            int x=__builtin_popcount(b);

            if(x==k){
                for(int i=0;i<100;i++)
                    hashed[i]=0;

                for(int i=0;i<n;i++){
                    if( (b&(1<<i) )!=0 )
                        {
                            for(int j=0;j<m;j++){
                                if(arr[i][j]==1){
                                    hashed[j]=2;
                                }
                            }
                        }
                }
                int tre=0;
               for(int i=0;i<100;i++)
                    if(hashed[i]==2)
                        tre+=paisa[i];
                if(tre>ans)
                    ans=tre;
            }
        }
        cout<<ans<<endl;
    }
    return 0;
}
