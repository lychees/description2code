#include <bits/stdc++.h>
using namespace std;
#define llong long long
#define long llong

bool existed[60];
int L[60], R[60], A[60], B[60];
int n, m;

bool has_counter ()
{
	for (int i = 1, j = n; i <= n; ++i)
	if (A[i]) B[i] = A[i];
	else
	{
		while (existed[j]) --j;
		B[i] = j--;
	}

	for (int i = 1; i <= m; ++i) 
		sort(B + L[i], B + R[i] + 1);

	// ------------------------------------------

	for (int i = 1; i <= n; ++i)
	if (B[i] != i) return true;

	return false;
}

void enter ()
{
	cin >> n >> m;
	for (int i = 1; i <= m; ++i) cin >> L[i] >> R[i];
}

void solve ()
{
	for (int i = 1; i <= n; ++i)
	{
		for (A[i] = 1; A[i] <= n; ++A[i])
		if (!existed[A[i]])
		{
			existed[A[i]] = true;
			if (has_counter()) break;
			existed[A[i]] = false;
		}

		if (A[i] > n)
		{
			cout << "All ok!";
			return;
		}
	}

	for (int i = 1; i <= n; ++i) cout << A[i] << " ";
}

int main ()
{
    ios::sync_with_stdio(false); cin.tie(nullptr);
	if (ifstream("test.inp")) cin.rdbuf((new ifstream("test.inp"))->rdbuf());

	enter();
	solve();
}