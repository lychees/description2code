// Anuraag Singh IIITDM-J
#include<iostream>
#include<math.h>
#include<algorithm>
using namespace std;
typedef long long ll; 

int main()
{
	ll t;
	cin>>t;
	while(t--)
	{
		vector<int> v;
		long long int sum=0;
		for(int i=0;i<7;i++)
			{
				int c;
				cin>>c;
				sum+=c;
				
				while(c--)
				{
				int n1,n2;
				cin>>n1;
				cin>>n2;
				v.push_back(n2-n1);
				}
			}
		double l=0.75*sum;
		long long int no=(long long int)(ceil(l));
		sort(v.begin(),v.end());
		sum=0;
		for(int i=0;i<no;i++)
				sum+=v[i];
				long long int m=60*60*24*7-sum;
		cout<<m<<endl;
	
	}
	return 0;
}