test = int(raw_input())
while test > 0:
    n = int(raw_input())
    arr = list(map(int, raw_input().split()))
    dct = {}
    for i in range(0, n):
        if arr[i] in dct:
            dct[arr[i]] += 1
        else:
            dct[arr[i]] = 1
    for i in dct:
        n += int((dct[i]*(dct[i]-1))/2)
    print(n)
    test -= 1
