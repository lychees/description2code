#include <bits/stdc++.h>
using namespace std;

long long int po(long long int a,long long int b){
	if(b==1){
		return a;
	}
	long long int re = po(a,b/2);
	re=re*re;
	if(b&1){
		re*=a;
	}
	return re;
}

void cal(){
	long long int a,b,c,r,g,rd,gd,og;
	cin>>a>>b>>c;
	if(a==1){
		if(c==1){
			cout<<1<<'\n';
		}
		else{
			cout<<0<<'\n';
		}
		return;
	}
	if(b<0){
		cout<<0<<'\n';
		return;
	}
	if(b==0){
		if(c==1){
			cout<<1<<'\n';
		}
		else{
			cout<<0<<'\n';
		}
		return;
	}
	r=po(a,b);
	og=r;
	r=(r/c)*c;
	g=r+c;
	rd=og-r;
	gd=og-g;
	rd+=gd;
	if(rd<=0){
		cout<<r<<'\n';
	}
	else{
		cout<<g<<'\n';
	}
}

int main()
{
    //cout << "Hello World!" << endl;
    int t;
    cin>>t;
    while(t--){
    	cal();
    }
    return 0;
}
