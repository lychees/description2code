#include<cstdio>
#include<vector>
const int N = 1e5 + 1;
std::vector<int>v[N];
int n, x, i;

void kolejny(int x)
{
  x--;
  bool zabity = 0;
  for(int i = 0; i < v[x].size(); i++)
  {
    if (zabity == 0)
    {
      v[x + 1].push_back(v[x][i]);
    }
    if (i + 1 < v[x].size() && v[x][i] > v[x][i + 1])
    {
      zabity = 1;
    }
    else
    {
      zabity = 0;
    }
  }  
}

int main()
{
  scanf("%d", &n);
  
  while(n--)
  {
    scanf("%d", &x);
    v[0].push_back(x);
  }
  
  kolejny(1);
  i = 2;
  
  while(v[i - 1].size() != v[i - 2].size())
  {
    kolejny(i);    
    i++;
  }
  printf("%d\n", i - 2);
  
return 0;
}