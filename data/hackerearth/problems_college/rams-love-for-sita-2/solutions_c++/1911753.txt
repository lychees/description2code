#include <bits/stdc++.h>
using namespace std;
typedef long long LL;
#define MIN(a,b) (a>b?b:a)
#define MAX(a,b) (a>b?a:b)
int main(){
	LL t;cin>>t;
	while(t--){
		LL n,c,m;cin>>n>>c>>m;
		LL choc=n/c;
		LL wrap=choc;
		while(wrap>=m){
			LL newwrap=wrap/m;
			LL remwrap=wrap%m;
			choc+=newwrap;
			wrap=newwrap+remwrap;
		}
		cout<<choc<<"\n";
	}
	return 0;
}