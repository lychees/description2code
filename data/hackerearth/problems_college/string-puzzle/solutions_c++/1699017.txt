#include <iostream>
#include<string>

using namespace std;

void swap (char *x, char *y){
    char temp;
    temp = *x;
    *x = *y;
    *y = temp;
}
 
void PrintAllString(char *a, int s, int e) {
   int j; 
   if (s == e)
     printf("%s\n", a);
   else{
        for (j = s; j <= e; j++){
          swap((a+s), (a+j));
          //if(a[j] == a[j+1])
                //j++;
          PrintAllString(a, s+1, e);
          swap((a+s), (a+j)); //backtrack
       }
   }
} 

int main()
{
    char Text[500];
    cin>>Text;
    int Q;
    cin>>Q;
    while(Q--){
    	int s,e;
    	cin>>s>>e;
    	PrintAllString(Text,s,e);
    	printf("\n");
    }
    return 0;
}
