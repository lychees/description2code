#include <iostream>
using namespace std;
typedef long long ll;


	ll B[1000000]={},A[1000000],t,count=0,n;
	
int main()
{   
	for(ll i=0;i<50;i++)
	B[i*i*i]=1;
	cin>>t;
	while(t--)
	{
		count=0;
		ll count1=0;
		cin>>n;
		for(ll i=0;i<n;i++)
		{
			cin>>A[i];
		}
		for(ll i=0;i<n;i++)
		for(ll j=i+1;j<n;j++)
		for(ll k=j+1;k<n;k++)
		{
			if(B[A[i]+A[j]+A[k]] == 1)
			{ count++;}
			count1++;
		}
		printf("%.9lf\n",double(count/(1.0*count1)));
	}
    return 0;
}
