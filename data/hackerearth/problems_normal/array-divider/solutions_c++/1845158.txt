#include <cstdio>
#include <cassert>
#include <cstdlib>
#include <cstring>
#include <climits>
#include <ctime>
#include <iostream>
#include <algorithm>
#include <vector>
#include <map>
#include <set>
#include <cctype>
#include <utility>
#include <queue>
#include <cmath>
using namespace std;

typedef pair<int, int> pii;
typedef long long LL;
typedef vector<int> vi;
typedef vector<pii> vpii;

#define pb push_back

#define X first
#define Y second

#define N 505

#define INF 1000000000000000000LL

int a[N];
LL s[N], val[N][N];

int main() {

	int i, j, k, n, m;
	scanf("%d%d", &n, &m);
	for (i = 1; i <= n; i++) {
		scanf("%d", &a[i]);
		s[i] = s[i - 1] + a[i];
	}
	for (i = 1; i <= n; i++) {
		val[i][1] = 1LL * s[i] * s[i];
		for (j = 2; j <= i; j++) {
			val[i][j] = INF;
			for (k = j - 1; k < i; k++) val[i][j] = min(val[k][j - 1] + 1LL * (s[i] - s[k]) * (s[i] - s[k]), val[i][j]);
		}
	}

	printf("%lld\n", m * val[n][m] - 1LL * s[n] * s[n]);
	return 0;
}