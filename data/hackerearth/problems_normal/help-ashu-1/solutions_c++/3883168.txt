#include<stdio.h>
#include <iostream>
using namespace std;
int bit[100005]={0};//count of even
int n;
int a[100005]={0};
int update(int i,int x)
{
	while(i<=n)
	{
		bit[i]+=x;
		i+=(i&-i);
	}
	return 0;
}
int count(int i)
{
	int s=0;
	while(i>0)
	{
		s+=bit[i];
		i-=(i&-i);
	}
	return s;
}
int main()
{
    scanf("%d",&n);
    for(int i=1;i<=n;i++)
    {
    	scanf("%d",&a[i]);
    	if(!(a[i]&1))
    	{
    		update(i,1);
    	}
    }
    int q,x,y,z,s;
    scanf("%d",&q);
    while(q--)
    {
    	scanf("%d %d %d",&x,&y,&z);
    	switch(x)
    	{
    		case 0:	if((a[y]^z)&1)
    				{
    					if(a[y]&1)
    					update(y,1);
    					else
    					update(y,-1);
    				}
    				a[y]=z;
    				break;
    		case 1:	s=count(z)-count(y-1);
    				printf("%d\n",s);
    				break;
    		case 2: s=(z-y+1)-(count(z)-count(y-1));
    				printf("%d\n",s);
    				break;
    	}
    	
    }
    return 0;
}
