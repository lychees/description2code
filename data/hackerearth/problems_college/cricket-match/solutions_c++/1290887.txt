#include <bits/stdc++.h>
using namespace std ;

#define sc(x) scanf("%d",&x)
#define pr(x) printf("%d ",x) 
#define prn(x) printf("%d\n",x)
#define MAXN 100001 
vector<int> adj[MAXN] ;
int visited[MAXN],N,M,U,V,T;


bool check(int u){

	queue<int> Q ;
	Q.push(u) ;
	visited[u] = 1 ;
	bool ok = 1;
	while(!Q.empty()){
		u = Q.front() ;
		Q.pop() ;
		for(vector<int> :: iterator it = adj[u].begin() ; it!=adj[u].end() ; ++it){
			if(!visited[*it]){
				visited[*it] = 3-visited[u] ;
				Q.push(*it) ;
			}else{
				if(visited[*it] != 3-visited[u]){
					ok = 0 ;
				}
			}
		}
	}
	return ok ;
}

int main(){

	sc(T) ;
	while(T--){
		sc(N) ;
		sc(M) ;
		for(int i=1;i<=M;i++){
			sc(U) ;
			sc(V) ;
			adj[U].push_back(V) ;
			adj[V].push_back(U) ; 
		}
		bool ok = 1 ;
		for(int i=1;i<=N;i++){
			if(!visited[i]){
				ok = (ok&check(i)) ;
			}
		}
		if(N == 1 || ok == 0){
			printf("NO\n") ;
		}else{
			printf("YES\n") ;
		}
		for(int i=1;i<=N;i++){
			visited[i] = 0;
			adj[i].clear() ;
		}		
	}		
	return 0 ;
}