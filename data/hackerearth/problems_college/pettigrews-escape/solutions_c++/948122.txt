#include <iostream>
using namespace std;



int ans=0,n,a[86][86];;
int flag[100][100]={0};	
 
void solvemaze(int x,int y){
 
    if(flag[x][y]==1 || x<1 || y<1 || x>n || y>n )return ;
    if(x==n && y==n) ans++;
    
    flag[x][y]=1;
    if(x+1<=n && flag[x+1][y]==0 && a[x+1][y]==0)
        solvemaze(x+1,y);
    if(x-1>0 && flag[x-1][y]==0 && a[x-1][y]==0)
        solvemaze(x-1,y);
    if(y+1<=n && flag[x][y+1]==0 && a[x][y+1]==0)
        solvemaze(x,y+1);
    if(y-1>0 && flag[x][y-1]==0 && a[x][y-1]==0)
        solvemaze(x,y-1);
    
    flag[x][y]=0;
    return;
}
int main()
{

	cin>>n;
	for(int i=1;i<=n;i++)
	{
		for(int j=1;j<=n;j++)
		{
			cin>>a[i][j];
		}
	}
	if(a[n][n]==1){
        printf("-1\n");
        return 0;
    } 
	solvemaze(1,1);
	printf("%d\n",ans);
    return 0;
	

}
