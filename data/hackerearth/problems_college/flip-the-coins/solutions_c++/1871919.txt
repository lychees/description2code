#include <iostream>
using namespace std;

int main()
{
    int n,q,bo,a,b;
    cin>>n;
    cin>>q;
    int x[n];//"0" is for tail
    for(int i=0;i<n;i++){
    	x[i]=0;
    }
    while(q--){
    	cin>>bo>>a>>b;
    	if(bo==0){
    		for(int i=a;i<=b;i++){
    			if(x[i]==0){
    				x[i]=1;
    			}else{
    				x[i]=0;
    			}
    		}
    	}else {
    		int count=0;
    		for(int i=a;i<=b;i++){
    			if(x[i]==1)
    			count++;
    		}
    	cout<<count<<"\n";
    	}
    }
    
    return 0;
}
