m = input()
for w in range(m):
    a = raw_input()
    n = input()
    hh = []
    hhh = []
    d = dict(zip(list(a), range(len(a))))
    for i in range(n):
        z = raw_input()
        h = [d.get(z[x]) for x in xrange(len(z))]
        hh.append(h)
        hhh.append((h, z))
    hh.sort()
    hhh.sort()
    jk = [y for (x, y) in hhh if x in hh]
    for k in range(len(jk)):
        print "%s" % (jk[k])
