#include <bits/stdc++.h>
using namespace std;

int cc[1001];
bool visited[1001];
vector<int> adj[1001];
int ct[1001];

int dfs(int s,int id)
{
	//if(visited[s]==true) return 0;
	visited[s]=true;
	cc[s]=id;
	int sum=1;
	
	for(int i=0;i<adj[s].size();i++)
	{
		if(visited[adj[s][i]]==false)
		{
			
			sum+=dfs(adj[s][i],id);
		}
	}
	return sum;
}
int main()
{
    int nodes,edge,x,y,sum;
    cin>>nodes>>edge;
    
    for(int i=0;i<edge;i++)
    {
    	cin>>x>>y;
		adj[x].push_back(y);
		//adj[y].push_back(x);
    }
    int ans=100000000;
    for(int i=1;i<=nodes;i++)
    {
    	memset(visited,false,sizeof(visited));
    	if(visited[i]==false)
    	{
    		sum=999999;
    		sum=dfs(i,i);
    		ans=min(ans,sum);
    	}
    }
    cout<<ans<<endl;
   /* for(int i=1;i<=nodes;i++)
    {
    	ct[cc[i]]++;
    }
    
   // for(int i=1;i<=nodes;i++)cout<<ct[i]<<" ";
    int ans=0;
    for(int i=1;i<=nodes;i++)
    {
    	if(ct[i]>1)ans+=ct[i];
    }
    cout<<ans<<endl;*/
    return 0;
}
