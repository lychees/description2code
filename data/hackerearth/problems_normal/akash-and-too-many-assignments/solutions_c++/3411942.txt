#include <bits/stdc++.h>
#define ll long long int
#define gt(i) scanf("%lld", &i)

using namespace std;
ll b[1000001][27];

void update(ll idx, char c, ll n, ll val)
{
    idx = idx + 1;
    ll v = (ll)c - 97;
  //  cout << v << endl;
    while(idx <= n) {
        b[idx][v] += val;
        idx += (idx & -idx);
    }
}

void sum(ll idx, ll sm[])
{
        idx = idx + 1;
        while(idx > 0) {
            for(ll i = 0; i < 26; i++) {
                sm[i] += b[idx][i];
            }
            idx -= (idx & -idx);
        }
}

void prt(ll sm1[], ll sm2[])
{
	ll i;
    for(i = 0; i < 26; i++)
       cout << sm1[i] << " ";
    cout << endl;
    for(i = 0; i < 26; i++)
       cout << sm2[i] << " ";
    cout << endl;
}

int main()
{
    ll n, i, j, k;
    gt(n);
    gt(k);
    string a;
    cin >> a;
    memset(b, 0, sizeof(b));
    for(i = 0; i < a.size(); i++) {
        update(i, a[i], n, 1);
    }
    ll idd;
    char ca;
    ll x, y, z;
    ll sm1[26], sm2[26];
    while(k--) {
        gt(i);
        if(i == 0) {
            gt(idd);
            cin >> ca;
            update(idd-1, a[idd-1], n, -1);
            a[idd-1] = ca;
            update(idd-1, ca, n, 1);
        }
        else {
            gt(x);
            gt(y);
            gt(z);
            memset(sm1, 0, sizeof(sm1));
            memset(sm2, 0, sizeof(sm2));
            if(x > 1)
            sum(x-2, sm1);
            sum(y-1, sm2);
            j = 0;
            ll flag = 0;
 //           prt(sm1, sm2);
            for(i = 0; i < 26; i++) {
            	//cout << sm1[i] << " " << sm2[i] << endl;
                j += sm2[i] - sm1[i];
                if(j >= z) {
                   flag = 1;
                    break;
                }
            }
            if(flag == 1)
            	cout << (char)(i+97) << endl;
            else
            	cout << "Out of range" << endl;
        }
    }
    return 0;
}
