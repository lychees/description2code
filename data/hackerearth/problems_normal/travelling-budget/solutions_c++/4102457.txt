#include<bits/stdc++.h>
#define ll long long
#define maxi 2000000000
using namespace std;

struct cont
{
    ll int s,l,c;
};

ll int dp[505][1005]={0};
vector<cont> d[505];

ll int f(int des,int co)
{
    if(des==1)
        return 0;

    if(dp[des][co]!=0)
        return dp[des][co];

    ll int ans=maxi;
    for(int j=0;j<d[des].size();j++)
    {
        if(co>=d[des][j].c)
            ans=min(ans,f(d[des][j].s,co-d[des][j].c)+d[des][j].l);
    }

    dp[des][co]=ans;
    return dp[des][co];
}

int main()
{
    ios::sync_with_stdio(0);
    cin.tie(0);

    //freopen("problem2.txt","r",stdin);
    //freopen("output.txt","w",stdout);

    int t;
    cin>>t;

    while(t--)
    {
        int n,m,b;
        cin>>n>>m>>b;

        for(int i=0;i<=503;i++)
            for(int j=0;j<=1000;j++)
                dp[i][j]=0;

        for(int i=0;i<=n;i++)
            d[i].clear();


       /* for(int i=0;i<=n;i++)
        {
            for(int k=0;k<=b;k++)
            {
                if(dp[i][k]==maxi)
                    cout<<"M ";
                else
                    cout<<dp[i][k]<<" ";
            }

            cout<<endl;
        }*/
        //cout<<"HIIIIIIIIIIII\n";

        for(int i=0;i<m;i++)
        {
            int u,v,l,c;
            cin>>u>>v>>c>>l;

            cont temp;
            temp.s=u,temp.l=l,temp.c=c;
            d[v].push_back(temp);
        }

        for(int i=0;i<=b;i++)
            dp[1][i]=0;

        for(int i=2;i<=n;i++)
            dp[i][0]=maxi;

        for(int i=2;i<=n;i++)
        {
            for(int k=1;k<=b;k++)
            {
                ll int ans=maxi;
                for(int j=0;j<d[i].size();j++)
                {
                    if(k>=d[i][j].c)
                    {
                            ans=min(ans,f(d[i][j].s,k-d[i][j].c)+d[i][j].l);
                    }
                }
                dp[i][k]=ans;
            }
        }

       /* for(int i=0;i<=n;i++)
        {
            for(int k=0;k<=b;k++)
            {
                if(dp[i][k]==maxi)
                    cout<<"M ";
                else
                    cout<<dp[i][k]<<" ";
            }

            cout<<endl;
        }*/

        int q;
        cin>>q;

        while(q--)
        {
            int x,y;
            cin>>x>>y;

            if(dp[x][y]>=maxi)
                cout<<"-1\n";

            else
                cout<<dp[x][y]<<"\n";
        }
    }
}
