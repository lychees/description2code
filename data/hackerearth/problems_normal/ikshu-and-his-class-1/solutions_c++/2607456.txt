#include <iostream>
#include<bits/stdc++.h>
using namespace std;
#define MAX 100002
#define MOD 1000000007
long long  fact[MAX];
long long int find(long long int parent[],long long int x)
{
	if(parent[x]==x)
	return x;
	parent[x]=find(parent,parent[x]);
	return parent[x];
}	
void cal_fact(){
	fact[0] = fact[1] = 1;
	for(long long  i=2;i<MAX;i++){
		fact[i] = i*fact[i-1];
		fact[i] %= MOD;
	}
}

int main() 
{
	long long int n,m,x,y,xp,yp,i,ans=1;
	cin>>n>>m;
	long long int parent[n+1],ctr[n+1];
	memset(ctr,0,sizeof ctr);
	for(i=1;i<=n;i++)
	parent[i]=i;
	cal_fact();
	while(m--)
	{
		cin>>x>>y;
		x++;y++;
		xp=find(parent,x);
		yp=find(parent,y);
		if(xp!=yp)
		parent[xp]=yp;
	}
	for(i=1;i<=n;i++)
	{
		x=find(parent,i);
		//cout<<x<<" "<<endl;
		ctr[x]++;
	}
	for(i=1;i<=n;i++)
	{
		if(ctr[i]!=0)
		{
			//cout<<ctr[i]<<endl;
			ans*=fact[ctr[i]];	
			ans %= MOD;
		}
		
	}
	cout<<ans;
	return 0;
}