#include <bits/stdc++.h>
using namespace std;
#define ll long long
const int N=(1<<21)+5;

int f[N];
int c[N];
int main()
{
	int n;
	int t;
	scanf("%d",&t);
	while(t--)
	{
	scanf("%d",&n);
	memset(f,0,sizeof(f));
	memset(c,0,sizeof(c));
	for(int i=1;i<=n;i++)
	{
		int a;
		scanf("%d",&a);
		c[a]++;
	}	
	n=1e6;
	int mx=0;
	while((1<<mx)<=n)
		mx++;
	for(int i=0;i<(1<<mx);i++)
		f[i]=c[i];
	for(int i=0;i<mx;i++)
		for(int mask=0;mask<(1<<mx);mask++)
			if(mask&(1<<i))
				f[mask]+=f[mask^(1<<i)];
	ll ans=0;
	for(int i=0;i<(1<<mx);i++)
	{
		int comp=(1<<mx)-1;
		comp^=i;
		ans+=(1LL*c[i]*f[comp]);
	}		
	cout<<ans<<endl;
	//cout<<(ans/2LL)<<endl;	
	}

	return 0;	
}