#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define xx first
#define yy second
#define mod 1000000007
#define pb push_back
ll modpow ( ll a , ll b )
{
ll res =1;
while ( b )
{
if ( b &1) res =( res * a )  ;
a =( a * a ) ;
b >>=1;
}
return res ;
}
ll n,m,i,j,k,ans=0,sum=0,x,y,t,r,h,w,b,c,d,z;
vector<vector<ll> > v;
vector<ll> visit,cnt,q,disc,low,parent;
ll dfs(ll x){
  ll count=1;
  visit[x]=1;
  for(ll i=0;i<v[x].size();i++){
    if(!visit[v[x][i]]){
      count+=dfs(v[x][i]);
    }
    }
  return cnt[x]=count;
}
void bridge(ll x){
  q[x]=1;
  disc[x]=low[x]=++z;
  for(ll i=0;i<v[x].size();i++){
    ll d=v[x][i];
    if(!q[d]){
      parent[d]=x;
      bridge(d);
      low[x]=min(low[x],low[d]);
      //cout<<low[x]<<" "<<disc[d]<<endl;
      if(low[d]>disc[x]){
        ll p = min(visit[x],visit[d]);
        p=max(p,w-p);
        if(p<k)ans++;
        //cout<<x<<" "<<d<<" "<<visit[x]<<" "<<visit[d]<<endl;
      }
    }
    else if(d!=parent[x]){
      low[x] =min(low[x],disc[d]);
    }
  }
}
 
int main(){
  
 
    
      scanf("%lld %lld %lld",&n,&m,&k);
      v.clear();v.resize(n);
      visit.clear();visit.resize(n,0);
      cnt.resize(n);
      q.resize(n,0);
      disc.resize(n);low.resize(n);parent.resize(n,-1);
      for(i=0;i<m;i++){
        scanf("%lld %lld",&x,&y);
        x--;y--;
        v[x].pb(y);
        v[y].pb(x);
      }
      for(i=0;i<n;i++){
        if(!visit[i]){
          w=dfs(i);
          bridge(i);
        }
      }
      
      cout<<ans<<endl;
    
    
  return 0;
    
    
}