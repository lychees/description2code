#include<iostream>
#include<stdio.h>
#include<math.h>
using namespace std;
typedef long long int LL;
int main()
{
    int t,i,j,k;
    LL x1,x2,y1,y2,x,y,count,dx,dy,a,b,c;
    scanf("%d",&t);
    while(t--)
    {
        scanf("%lld%lld%lld%lld",&x1,&y1,&x2,&y2);
        if(x1==x2 && y1==y2)
        {
               printf("%lld\n",0);
               continue;   
        }
        else if(x1==x2)
        {
            printf("%lld\n",(abs(y2-y1)-1));
            continue;      
        }
        else if(y1==y2)
        {
             printf("%lld\n",(abs(x2-x1)-1));
             continue;
        }
        if(abs(x2-x1)>abs(y2-y1)){
          if(x1>x2)
          {
            x=x1;
            x1=x2;
            x2=x;
            y=y1;
            y1=y2;
            y2=y;     
          }
          count=0;
          dy=y2-y1;
          dx=x2-x1;
          for(x=x1+1,c=0;x<x2 && !count;x++,c++)
          {
               if((dy*(x-x1))%dx == 0)
                         count++;                
          }
          if(x<x2)
          {
             a=dx-1;
             b=a/c;
             count=count+b-1;   
          }
        }
        else
        {
           if(y1>y2)
           {
             x=x1;
             x1=x2;
             x2=x;
             y=y1;
             y1=y2;
             y2=y;        
           } 
           count=0;
           dy=y2-y1;
           dx=x2-x1;
           for(y=y1+1,c=0;y<y2 && !count;y++,c++)
           {
               if( (dx*(y-y1))%dy==0 )
                        count++;                                
           }
          if(y<y2)
          {
             a=dy-1;
             b=a/c;
             count=count+b-1;   
          }
        }
        printf("%lld\n",count);      
    }
}
