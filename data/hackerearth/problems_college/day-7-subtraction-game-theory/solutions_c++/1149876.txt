#include<iostream>
#include<stdio.h>
#define large 1000000007
using namespace std;
int x,y;
int main()
{
	long Q,N,res[1000000];
	register long i;
	cin>>x>>y;
	cin>>Q;
	res[0]=x-y;
	for(i=1;i<1000000;i++)
        {
            res[i]=(x*res[i-1]-y)%large;
        }
	while(Q--)
	{
		scanf("%ld",&N);
		printf("%ld\n",res[N-1]);
	}
	return 0;
}
