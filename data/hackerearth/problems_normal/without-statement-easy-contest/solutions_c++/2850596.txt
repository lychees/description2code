#include <bits/stdc++.h>
using namespace std;
int len(int m)
{
	set<int> ss;
	while(1)
	{
		int cur = 0;
		while(m)
		{
			cur+= (m%10)*(m%10);
			m/=10;
		}
	//	m = cur;
	}
}

int main()
{

   int t;
   scanf("%d",&t);
   while(t--)
   {
   	int n,m;
   	scanf("%d%d",&n,&m);
   	int ans ;
   	int org = n;
   	set<int> ss;
   	map<int,int> gr;
   	map<int,int> rev;
   	gr[n] = 1;
   	rev[1] = n;
   	ss.insert(n);
   	int in = 1;
   	rev[0] = n;
   	int l;
   	int pr ;
   	if(m<1000)
   	{
   		int cur ;
   		while(m--)
   		{
   			cur = 0;
   			while(n)
   			{
   				cur+=(n%10)*(n%10);
   				n/=10;
   				
   			}
   			n = cur;
   		}
   		printf("%d\n",n);
   		
   	}
   	else {
   	while(1)
   	{
   		int cur = 0;
   		while(n)
   		{
   			cur+= (n%10)*(n%10);
   			n/=10;
   		}
   			n = cur;
   			if(ss.find(n)!=ss.end()){
   				pr = gr[n];
   				l = in - gr[n];
   				break;
   			}
   			ss.insert(n);
   			rev[in] = n;
   			gr[n] = in++;
   	}
   //	printf("a cycle of %d\n",l);
   	if(m<in)
   	{
   		printf("%d\n",rev[m]);
   	}
   	else {
   		printf("%d\n",rev[(m-pr)%l + pr]);
   	}
   	}
   //	printf("%d\n",n);
   }
    return 0;
}
