#include <iostream>
#include<vector>
using namespace std;

vector<int> grf[1005];

bool vis[1005];
int count=0;
int dfs(int n){
	if(vis[n]){
		return count+1;
	}
    count+=1;

	vis[n]  = true;

	int sz = grf[n].size();
	for(int i = 0;i < sz;++i){
		int next = grf[n][i];
		dfs(next);
	}

	return count;
}

int main(){
	int n, m;
	cin >> n >> m;
	for(int i = 1;i <= m;++i){
		int u, v;
		cin >> u >> v;
		grf[u].push_back(v);

	}
	for(int i = 1;i <= n;++i){
		vis[i] = false;
	}
    int ans=10000;
	for(int i = 1;i <= n;++i){
        count=0;
		ans=min(dfs(i),ans);
		for(int i = 1;i <= n;++i){
		vis[i] = false;}

	}
	cout<<ans<<"\n";
	return 0;
}
