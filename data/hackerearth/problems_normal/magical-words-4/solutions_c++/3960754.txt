#include<bits/stdc++.h>
#define ll long long
#define s(t) scanf("%d",&t)
using namespace std;
int main(){
	int t;
	s(t);
	while(t--){
		string str;
		cin>>str;
		int n=str.size();
		ll ans=0;
		for (int pivot = 0; pivot < n; pivot++) {
			ll cnt=0;
            for (int i = 0; pivot + i < n && pivot - i >= 0; i++) {
                if(str[pivot + i] == str[pivot - i]) {
                	cnt++;	
                	ans+=(2*cnt-1)*(2*cnt-1);
                }                
                else break;
            }
            cnt=0;
            for (int i = 0; pivot + i < n && pivot - i - 1 >= 0; i++) {
                if(str[pivot + i] == str[pivot - i - 1]) {
                	cnt++;
                	ans+=(2*cnt)*(2*cnt);	
				}
                else break;       
            }
            
        }
        cout<<ans<<'\n';
	}
}