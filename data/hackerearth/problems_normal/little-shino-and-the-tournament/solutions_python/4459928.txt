import sys
lineArray = sys.stdin.readline().rstrip().split()
fighters = int(lineArray[0])
queries = int(lineArray[1])
sequence = sys.stdin.readline().rstrip().split()
strengthSeq = {}
fighterNumber = 1
for c in sequence:
        strengthSeq[fighterNumber] = int(c)
        fighterNumber = fighterNumber + 1

result = {}
for c in range(1,fighters+1):
        result[c] = 0
contendorList = range(1, fighters+1)
while(len(contendorList) > 1):
        newList=[]
        count = 0
        contendorLen = len(contendorList)
        while(count < contendorLen):
                if(count + 1 == contendorLen):
                        newList.append(contendorList[count])
                        break
                result[contendorList[count]] = result[contendorList[count]] + 1
                result[contendorList[count+1]] = result[contendorList[count+1]] + 1
                if(strengthSeq[contendorList[count]] > strengthSeq[contendorList[count+1]]):
                        newList.append(contendorList[count])
                if(strengthSeq[contendorList[count]] < strengthSeq[contendorList[count+1]]):
                        newList.append(contendorList[count+1])
                count = count + 2
        contendorList = list(newList)

for i in range(0,queries):
        k = int(sys.stdin.readline())
        print result[k]
