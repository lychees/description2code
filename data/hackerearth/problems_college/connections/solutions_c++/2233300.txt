#include <iostream>
using namespace std;
int root(int *id,int i)
{
	while(id[i]!=i)
	i=id[i];
	return i;
}
void unio(int *id,int i,int j)
{
	int x=root(id,i);
	int y=root(id,j);
	if(x!=y)
	id[x]=y;
	
}
int main()
{
    long long int n,i,j;
    cin>>n;
    int *id=new int[n+1];
    for(int i=1;i<=n;i++)
    id[i]=i;
    long long int c,q;
    cin>>c;
    while(c--)
    {
    	cin>>i>>j;
    	unio(id,i,j);
    }
    cin>>q;
    while(q--)
    {
    	cin>>i>>j;
    	if(root(id,i)!=root(id,j))cout<<"No Connection"<<endl;
    	else
    	{
    		
    		if(id[i]==j || id[j]==i)cout<<"Direct Connection"<<endl;
    		else
    		cout<<"Indirect Connection"<<endl;
    	}
    }
    return 0;
}
