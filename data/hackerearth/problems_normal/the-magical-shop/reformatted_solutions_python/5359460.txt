'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
a, b = map(int, raw_input().split())
txt = raw_input()
soma = 0
c = a
for i in txt:
    if i == "1":
        soma = (soma+c) % b
    c = (c*c) % b

print soma % b
