#include <bits/stdc++.h>
using namespace std;
int main()
{
	long long int n,k,d;
	cin>>n>>k>>d;
	int a[n];
	for(long long int i=0;i<n;i++)
	cin>>a[i];
	long long int sum=0;
	long long int size=0;
	long long int i=0;
	int ans=0;
	int last=-1;
	while(i<n)
	{
		if(a[i])
		last=i;
		sum=sum+a[i];
		size++;
		i++;
		if(size==k)
		{
			if(sum>=d)
			{
				sum=sum-a[i-k];
				size--;
			}
			else if(sum!=0)
			{
				ans++;
				i=last+k;
				sum=0;
				size=0;
			}
			else
			{
				ans=-1;
				break;
			}
		}
	}
	cout<<ans;
	return 0;
}