#include <bits/stdc++.h>
using namespace std;

typedef pair<int,int> pp;
typedef vector<pp> vp;
typedef vector<vp> vpi;

typedef vector<int> vi;
typedef vector<vi> vii;

#define pb push_back
#define mp make_pair
#define LL long long

int d4r[] = {0, -1,  0, 1};
int d4c[] = {1,  0, -1, 0};

int d8r[] = {-1, -1, -1,  0,  1,  1, 1, 0};
int d8c[] = { 1,  0, -1, -1, -1,  0, 1, 1};

const int MAXN = 1e6 + 10;
const LL MOD = 1e9 + 7;

int tc,N;
int ans[MAXN];
int final_Ans[MAXN];
int main(){
	string s;
	cin >> s;
	N = s.size();
	ans[0] = 0;
	for(int i = 1;i < N;++i){
		if(s[i] == s[i - 1])
			ans[i] = 1 + ans[i - 1];
		else ans[i] = 0;
	}
	final_Ans[0] = (s[0] == s[N - 1] ? 1 : 0);
	for(int i = 1;i <= N;++i){
		final_Ans[i] = min(final_Ans[i - 1], ans[i]);
		int j =  i - final_Ans[i];
		int k =  N - 1 - final_Ans[i];
		while(j >= 0 && k >= 0 &&s[j] == s[k]){
			++final_Ans[i];
			--j;
			--k;
		}
	}/*
	for(int i = 0;i < N;++i){
		cout << ans[i] << " ";
	}
	cout << "\n";
	for(int i = 0;i < N;++i){
		cout << final_Ans[i] << " ";
	}*/
	cout << "\n";
	int q;
	scanf("%d", &q);
	while(q--){
		int x;
		scanf("%d",&x);
		printf("%d\n", final_Ans[x - 1]);
	}
	return 0;
}
