#include <cstdio>
#include <cstring>
#include <algorithm>
#define MX 100005
using namespace std;
typedef long long LL;
int n, len[MX];
char buf[MX][100];
LL s;

int main() {
//	freopen("in.txt", "r", stdin);
//	freopen("out.txt", "w", stdout);
	
	int i, b, j, k = 0;
	scanf("%d", &n);
	for (i = 0; i < n; i++) {
		scanf("%s", buf[i]);
		for (j = 0; buf[i][j]; j++) {
			if (buf[i][j] >= 'a' && buf[i][j] <= 'z') buf[i][j] = buf[i][j] - 'a' + 10;
			else if (buf[i][j] >= 'A' && buf[i][j] <= 'Z') buf[i][j] = buf[i][j] - 'A' + 10;
			else if (buf[i][j] >= '0' && buf[i][j] <= '9') buf[i][j] -= '0';
			k = max(k, buf[i][j] + 1);
		}
		len[i] = j;
	}
	scanf("%lld", &s);
	LL t, x;
	for (int b = k; b <= 16; b++) {
		for (t = i = 0; i < n; i++) {
			for (x = j = 0; j < len[i]; j++) x = x * b + buf[i][j];
			t += x;
		}
		if (t == s) {
			printf("%d\n", b);
			return 0;
		}
		
	}
	return 0;
} 