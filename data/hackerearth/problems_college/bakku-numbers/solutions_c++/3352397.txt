#include <iostream>
using namespace std;

int main()
{
    int t,l,r,n,d,p1,p2;
    cin>>p1>>p2;
    cin>>t;
    while(t--)
    {
      cin>>l>>r;
      int a=0,b=0,c=0,x=0,y=0;
      a=r/p1;b=r/p2,c=r/(p1*p2);
      x=a+b-c;
      //cout<<x;
      if(l>1)
      {
        a=(l-1)/p1;b=(l-1)/p2;c=(l-1)/(p1*p2);
        y=a+b-c;
        x=x-y;
      }
      double p;
      p=(double)x/(r-l+1);
      printf("%.6lf\n",p);
    }
    return 0;
}
