#include <bits/stdc++.h>

#define gc getchar
#define pc putchar

using namespace std;

// Sieve of Eratosthenes
const int N = 1000000;
bool p[N+1];
void sieve(){
    memset(p,true,sizeof(p));
    p[0] = p[1] = false;
	int m;
    for(int i=2; i<N; ++i){
        if(p[i]){ // if prime then mark multiples of that no
			m = i+i;
			while(m <= N){
				p[m] = false;
				m += i;
			}
        }
    }
}

void scanInt(int &x) {
    register int c = gc();
    x = 0;
    for(;(c<48 || c>57);c = gc());
    // (x<<1) + (x<<3) makes the x ten times i.e. 10*x
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
}

 void writeInt(int x) {
 	register char buffer[35];
 	register int i=0;
 	do {
       	buffer[i++]=(x%10)+'0';
       	x/=10;
    }while(x);
   	i--;
    while(i>=0) pc(buffer[i--]);
	pc('\n');
}

int main(){
    sieve();
    int ans[N+1],i;
    memset(ans,0,sizeof(ans));
    for(i=2; i<=N; ++i){
        if(p[i]){
            ans[i] = ans[i-1] + 1;
        }else{
            ans[i] = ans[i-1];
        }
    }
    int fans[N+1],k;
    memset(fans,0,sizeof(fans));
    for(k=2; k<=N; ++k){
        if(p[ans[k]]){
            fans[k] = fans[k-1] + 1;
        }else{
            fans[k] = fans[k-1];
        }
        //cout<<k<<" "<<ans[k]<<" "<<fans[k]<<endl;
    }
    int t,l,r;
    cin>>t;
    while(t--){
        scanInt(l);
        scanInt(r);
        printf("%d\n",fans[r]-fans[l-1]);
    }
    return 0;
}
