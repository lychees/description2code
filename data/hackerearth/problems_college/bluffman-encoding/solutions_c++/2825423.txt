#include<bits/stdc++.h>
#define MAX 100000
using namespace std;
int main()
{
    int t;
    scanf("%d",&t);
    char A[30];
    int n,freq[30];
    char B[30];
    while(t--)
    {
        scanf("%d",&n);
        for(int i=0;i<n;i++)
        {
            cin>>A[i]>>freq[i];
        }
        //cout<<endl<<endl;
        //for(int i=0;i<n;i++)
          //  cout<<A[i]<<":"<<freq[i]<<endl;
        int m,j=0,p=0;
        for(int i=0;i<n;i++)
        {
            m=MAX;
            for(int k=0;k<n;k++)
            {
                if(freq[k]<m)
                {
                m=freq[k];
                p=k;
                }
            }
            freq[p]=MAX;
            B[j++]=A[p];
        }
       // printf("\n\n");
        //for(int i=0;i<n;i++)
          //  cout<<B[i]<<endl;
        string s;
        cin>>s;
        int l=s.length();
        //cout<<l<<endl;
        int c=0;
        while(c<l)
        {
            int i=0;
            if(s[c]=='0')
            {
                cout<<B[0];
                //cout<<"inside if"<<endl;
                c++;
                //cout<<"c:"<<c<<endl;
            }
            else
            {
                int u=0;
                for(i=0;i<n-1;i++)
                {
                    if(s[c]=='0')
                    {
                        c++;
                        break;
                    }
                    c++;
                    u++;
                }
                //cout<<"c:"<<c<<endl;
                cout<<B[u];
            }
        }
        printf("\n");

    }
    return 0;
}
