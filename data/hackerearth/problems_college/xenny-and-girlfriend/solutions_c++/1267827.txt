#include <bits/stdc++.h>
using namespace std ;

#define MAXN 100001
#define pb push_back

int N,M,T,D[MAXN],V[MAXN],vtx;

vector<int> adj[MAXN] ;

void dfs(int u){
	V[u] = 1 ;
	for(vector<int> :: iterator it = adj[u].begin() ; it!=adj[u].end() ; ++it){
		if(V[*it] == 0){
			dfs(*it) ;
		}
	}
}

int main(){

	scanf("%d",&T) ;
	while(T--){
		scanf("%d%d",&N,&M) ;
		while(M--){
			int u,v ;
			scanf("%d%d",&u,&v) ;
			adj[u].pb(v) ;
			adj[v].pb(u) ;
			vtx = u ;
			D[u] ++ ;
			D[v] ++ ; 
		}
		bool ok = 1 ;
		int check =  0;
		for(int i=1;i<=N;i++){
			if(D[i]%2)
				check ++ ;
		}
		if(check!=0 && check!=2)
			ok = 0 ;
		if(ok){

			dfs(vtx) ;
			for(int i=1;i<=N;i++){
				if(!V[i]){
					if(adj[i].size()){
						ok = 0 ;
						break ;					
					}
				}
			}
		}
		puts(ok ? "Yes" : "No") ;
		for(int i=1;i<=N;i++){
			adj[i].clear() ;
			D[i] = 0 ;
			V[i] = 0 ;
		}
	}
	return 0 ;
}