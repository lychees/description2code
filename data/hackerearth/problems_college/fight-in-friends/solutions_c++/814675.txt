#include <bits/stdc++.h>
using namespace std;
//vector< vector<int> >g(1005);
int g[1005][1005],i,j,n,m;
int dist[10000005]={0};
int bfs(int w,int b)
{
	vector<bool>used(1005,false);
	queue<int>q;
	//map<int,int>mp;
	q.push(w);
	dist[w]=0;
	//mp[a]=-1;
	while(!q.empty())
	{
		int w=q.front();
		for(i=1;i<=n;i++)
		{
			if(g[w][i]!=-1&&(!used[i])&&i!=w){
				used[i]=true;
				//mp[i]=w;
				q.push(i);
				dist[i]=dist[w]+1;
				if(i==b)
				{
					return dist[i];
				}
			}
		}
		q.pop();
	}
	return -1;
}
int main() {
	int a,b;
	scanf("%d%d%d%d",&n,&m,&a,&b);
	while(m--)
	{
		
		cin>>i>>j;
		g[i][j]=-1;
		g[j][i]=-1;
	}
	for(i=1;i<=n;i++)
	{
		for(j=i;j<=n;j++)
		{
			if(g[i][j]!=-1)
			{
				g[i][j]=j;
				g[j][i]=i;
			}
			//printf("%d ",g[i][j]);
		}
		//cout<<endl;
	}
	cout<<bfs(a,b);
	return 0;
}