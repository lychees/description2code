#include<iostream>
#include<cmath>
#include<cstdio>
#include<vector>

using namespace std;

int main()
{
    int n,l,d;
    scanf("%d%d%d", &n, &l, &d);

    double p[n];
    int dis[n];

    for(int i=0;i<n;i++) {
        scanf("%lf",p+i);
    }
    for(int i=0;i<n;i++) {
        scanf("%d",dis+i);
    }

    double prob[n+2];
    prob[0] = p[0];

    if(l+dis[n-1]<d || dis[0]>l) puts("IMPOSSIBLE");
    else {
        for(int i=1;i<n;i++) {
            double mx = 0.0;
            if(dis[i]<=l) {
                double cal = p[i];
                if(cal>mx) mx = cal;
            }
            for(int j=i-1;j>=0;j--) {
                if(dis[i]-dis[j]<=l) {
                    double cal = prob[j]*p[i];
                    if(cal>mx) mx = cal;
                }
            }
            prob[i] = mx;
        }

        double mx = 0.0;

        for(int j=n-1;j>=0;j--) {
            if(d-dis[j]<=l) {
                double cal = prob[j];
                if(cal>mx) mx = cal;
            }
        }

        if(d<=l) mx = 1.0;

        printf("%lf\n",mx);
    }

}
