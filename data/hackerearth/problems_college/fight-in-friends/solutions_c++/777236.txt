#include<bits/stdc++.h>
#define pb push_back
#define mp make_pair
#define pii pair<int,int>
#define REP(i,n) for(i=0;i<n;i++)
using namespace std;

int main(){
    int n,m,a,b,i,j,k;
    cin>>n>>m>>a>>b;
    bool know[n+1], Present[n+1], Fights[n+1][n+1];
    memset(know,0,sizeof(know));
    memset(Present,0,sizeof(Present));
    memset(Fights,0,sizeof(Fights));
    REP(k,m){
        cin>>i>>j;
        Fights[i][j]=true;
        Fights[j][i]=true;
    }
    Present[a]=true;
    vector< pii > Q;
    Q.pb(mp(a,0));
    while(!Q.empty()){
        pii mypair=Q[0];
        Q.erase(Q.begin());
        int x=mypair.first, y=mypair.second;
        if(x==b) {cout<<y<<endl; return 0;}
        know[a]=true;
        for(k=1;k<=n;k++)
            if(!Present[k] && !know[k] && !Fights[x][k]){
                Q.pb(mp(k,y+1));
                Present[k]=true;
            }
    }
    cout<<-1<<endl;
    return 0;
}