#include <bits/stdc++.h>
using namespace std;

int main()
{
    string b;
    int k;
    cin>>b>>k;
    int t,len, cw = 0;
    len = b.length();
    scanf("%d",&t);
    while(t--)
    {
    	string s;
    	cin>>s;
    	int left=-1,ls=0, flag = 1;
    	while(left<len && flag)
    	{
    		flag = 0;
    	  	for(int i=left+1;i<len;i++)
    	  	{
    	  	 	if(b[i]==s[ls])
    	  	 	{
    	  	 		left  = i;
    	  	 		ls++;
    	  	 		flag = 1;
    	  	 		break;
    	  	 	}
    	    }
    	}
        if(ls == s.length())
        cw++;
        
    }
    printf("%d ",cw);
    if(cw>=k)
    	printf("LUCKY\n");
    else
    	printf("UNLUCKY\n");
          
          
    return 0;
}
