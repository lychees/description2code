#include <bits/stdc++.h>
using namespace std;

int main() {
	int tc;
	scanf("%d",&tc);
	while(tc--){
		int n; 
		scanf("%d",&n);
		vector < pair < int , int > > v;
		v.resize(n);
		int ranks[n];
		
		for(int i=0; i<n; i++){
			cin >> v[i].first;
			v[i].second=i;
		}
		sort(v.rbegin(),v.rend());
		
		int ans = 1;
		ranks[v[0].second]=ans;
		
		for(int i=1; i<n; i++){
			if(!(v[i].first==v[i-1].first)){
				ans=i+1;
				ranks[v[i].second]=ans;
			}
			else{
				ranks[v[i].second]=ans;
			}
		}
		for(int i=0;i<n;i++){
			cout << ranks[i] << " ";
		}
		puts("");
	}
    return 0;
}