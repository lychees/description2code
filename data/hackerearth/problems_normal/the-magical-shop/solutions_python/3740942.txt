data = raw_input().split()
calendar = raw_input()

pots = int(data[0])
modulo = int(data[1])
my_pots = 0

for i in range(0, len(calendar)):
    if calendar[i] == '1':
        my_pots += pots
        my_pots %= modulo

    pots = pots * pots
    pots %= modulo

print my_pots % modulo