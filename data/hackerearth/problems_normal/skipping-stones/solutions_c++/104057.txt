#include<iostream>
#include<stdio.h>
#include<algorithm>

using namespace std;

int main()
{
	int n,i,j,d,k,l,a[1010];
	double p[1010],m[1010],x,y,mx;
	
	cin>>n>>l>>d;
	
	p[0]=1.0;
	for(i=1;i<=n;i++)
		cin>>p[i];
	
	a[0]=0;
	for(i=1;i<=n;i++)
	{		
		cin>>a[i];
		m[i]=0.0;
	}
	
	for(i=1;i<=n;i++)	
	{
		mx=0.0;
		for(j=i-1;j>=0 && (a[i]-a[j]<=l);j--)
			mx=max(mx,(p[j]*p[i]*1.0));
		p[i]=mx*1.0;	
	}
	
	mx=0.0;
	
	for(j=n;j>=0 && (d-a[j]<=l);j--)
			mx=max(mx,p[j]);
	
	if(mx==0.0)	cout<<"IMPOSSIBLE";
	else		printf("%.6f",mx);
	
	return 0;
}