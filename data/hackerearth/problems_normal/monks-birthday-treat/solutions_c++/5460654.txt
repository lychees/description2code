#include<bits/stdc++.h>
using namespace std;
vector<int> v[1000];
bool arr[1000];
int k;
int dfs(int n)
 {
  arr[n]=true;
  k++;
  for(int i=0;i<v[n].size();i++)
   {
    if(arr[v[n][i]]==false)
    {
     dfs(v[n][i]);
    }
   }
 return k;
 }
 int main()
  {
   int n,d;
   int a,b;
   cin>>n >>d;
  for(int i=0;i<d;i++)
  {
   cin>>a >>b;
   v[a].push_back(b);
  // v[b].push_back(a);
  }
 int min1=INT_MAX;
  for(int i=1;i<=n;i++)
  { 
 //  int min=INT_MAX;
  for(int j=1;j<=1000;j++)
   {
    arr[j]=false;
   }
  k=0;
  int r=dfs(i);
  if(r<min1)
  min1=r;
  }
 cout<<min1<<endl;
 for(int i=1;i<=n;i++)
 {
 	v[i].clear();
 }
 
 return 0;
 }

  
  
  
   

 
   
