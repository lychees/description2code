#include<bits/stdc++.h>
using namespace std;
long long a[1000000+1]={0};
#define mod 1000000007

int main()
{
  long long x,y,q,temp;
  cin>>x>>y>>q;
  a[0]=1;
  for(int i=1;i<=1000000;i++)
  {
  	long long j=(x*(a[i-1]));
  	long long k=y;
//  	if(i<11)
//  	cout<<"j "<<j<<"  "<<k<<" "<<i<<endl;   
  	if(k>j)
  	a[i]=0;
  	else 
  	{
  		a[i]=(j-k)%mod;
  	}
  	
  }
  while(q--)
  {
  	scanf("%d",&temp);
  	printf("%d\n",a[temp]);
  }
}