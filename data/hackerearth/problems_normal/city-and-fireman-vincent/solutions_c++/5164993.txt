#include<bits/stdc++.h>
using namespace std;
#define ll long long int
#define m 1000000007
pair<ll,ll> ans[1100];ll n,size[1100],par[1100],e[1100];
void ini()
{
    ll i;
    for(i=1;i<=n;i++)
    {
        size[i]=1;
        par[i]=i;
    }
}
ll findpar(ll x)
{
    while(par[x]!=x)
    {
        par[x]=par[par[x]];
        x=par[x];
    }
    return x;
}
void merge(ll a,ll b)
{
    ll para=findpar(a);
    ll parb=findpar(b);
    if(para==parb)
        return;
    else if(size[para]>=size[parb])
    {
        par[parb]=para;
        size[para]+=size[parb];
    }
    else
    {
        par[para]=parb;
        size[parb]+=size[para];
    }
    return;
}
int main()
{
    ll i,k,a,b,p;
    ios::sync_with_stdio(0);
    cin.tie(0);
    cin>>n;
    for(i=1;i<=n;i++)
    {
        cin>>e[i];
    }
    ini();
    cin>>k;
    while(k--)
    {
        cin>>a>>b;
        merge(a,b);
    }
    for(i=1;i<=n;i++)
    {
        k=findpar(i);
        if(ans[k].first==0)
        {
            ans[k].first=e[i];
            ans[k].second=1;
        }
        else if(e[i]<ans[k].first)
        {
            ans[k].first=e[i];
            ans[k].second=1;
        }
        else if(e[i]==ans[k].first)
        {
            ans[k].second++;
        }
    }
    p=1;
    for(i=1;i<=n;i++)
    {
        if(ans[i].first!=0)
        {
            p=((p%m)*(ans[i].second%m))%m;
        }
    }
    cout<<p<<"\n";
    return 0;
}