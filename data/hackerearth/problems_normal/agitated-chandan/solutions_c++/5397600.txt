#include<bits/stdc++.h>
#define FOR(i,a,b) for(long long int i=(a);i<=(b);++i)
#define NFOR(i,a,b) for(long long int i=(a);i>=(b);--i)
#define pb push_back
#define ll long long
using namespace std;
pair<ll,pair<ll,ll>>p;
int main() {
	ll t;
	cin>>t;
	vector<pair<ll,ll>>v[100005];
	while(t--)
	{
		ll n,x,y,w;
		cin>>n;
		
		FOR(i,1,n-1)
		{
		cin>>x>>y>>w;
		v[x].pb(make_pair(y,w));
		v[y].pb(make_pair(x,w));
		}
		//bfs(1);
		queue<ll>q;
		q.push(1);
		ll visited[n+2];
		memset(visited,0,sizeof(visited));
		ll dist[n+2];
		memset(dist,0,sizeof(dist));
		visited[1]=1;
		while(!q.empty())
		{
			x=q.front();q.pop();
			ll sz=v[x].size()-1;
			FOR(i,0,sz)
			{
				if(!visited[v[x][i].first])
				{
					visited[v[x][i].first]=1;
					q.push(v[x][i].first);
					dist[v[x][i].first]=dist[x]+v[x][i].second;
				
				}
			}
		}
		ll pos=0,maxi=-1;
	    FOR(i,1,n)
	    {
	    	if(dist[i]>maxi)
	    	{maxi=dist[i];pos=i;}
	    	
	    }
	   
	memset(dist,0,sizeof(dist));
	memset(visited,0,sizeof(visited));
	//bfs(pos);
	visited[pos]=1;
	q.push(pos);
		while(!q.empty())
		{
			x=q.front();q.pop();
			ll sz=v[x].size()-1;
			FOR(i,0,sz)
			{
				if(!visited[v[x][i].first])
				{
					q.push(v[x][i].first);
					visited[v[x][i].first]=1;
					dist[v[x][i].first]=dist[x]+v[x][i].second;
				}
			}
		}
		ll max_dis=*max_element(dist+1,dist+n+1);
	
		if(max_dis<=100)
		cout<<"0 ";
		else if(max_dis>=100&&max_dis<1000)
		cout<<"100 ";
		else if(max_dis>=1000&&max_dis<10000)
		cout<<"1000 ";
		else
		cout<<"10000 ";
			cout<<max_dis<<endl;
			FOR(i,0,n)
			v[i].clear();
	}
	
	// your code goes here
	return 0;
}