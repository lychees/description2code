#include <cstdio>
#include <vector>
 
int main()
{
    int t;
    scanf("%d", &t);
    while ( t-- )
    {
        int n;
        scanf("%d", &n);
 
        std::vector<int> a(n);
        for ( int i = 0; i < n; ++i )
            scanf("%d", &a[i]);
 
 
        if ( n == 1 || n == 2 )
        {
            printf("%d\n",n);
            continue;
        }
 
        int cur1 = 0;
        for ( int i = 0; i < n; ++i )
        {
            ++cur1;
            while ( i < n - 1 && a[i] > a[i + 1] )
                ++i;
 
            ++i;
            if ( n <= i )
                break;
 
            ++cur1;
            while ( i < n - 1 && a[i] < a[i + 1] )
                ++i;
        }
 
        int cur2 = 0;
        for ( int i = 0; i < n; ++i )
        {
            ++cur2;
            while ( i < n - 1 && a[i] < a[i + 1] )
                ++i;
 
            ++i;
            if ( n <= i )
                break;
 
            ++cur2;
            while ( i < n - 1 && a[i] > a[i + 1] )
                ++i;
        }
 
        int ans = std::max(cur1, cur2);
        printf("%d\n", ans);
    }
 
    return 0;
}