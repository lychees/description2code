from sys import stdin
from bisect import bisect_left


def count_boxes(boxes):
    counted = dict()
    for chocolates in boxes:
        counted[chocolates] = counted.get(chocolates, 0) + 1
    return counted


def count_pairs(boxes, target):
    count = 0
    counted = count_boxes(boxes)
    for chocolates, number in counted.iteritems():
        other = target - chocolates
        if other == chocolates:
            delta = number * (number - 1)
        else:
            delta = number * counted.get(other, 0)
        count += delta
    return count / 2


if not stdin.isatty():
    case_count = int(stdin.readline())
    for case_number in xrange(case_count):
        box_count = int(stdin.readline())
        boxes = [int(s) for s in stdin.readline().split()]
        target = int(stdin.readline())
        print count_pairs(boxes, target)
