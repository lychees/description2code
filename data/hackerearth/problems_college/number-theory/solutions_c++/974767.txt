    #include<iostream>
    #include<cstdio>
    #include<algorithm>
    #include<cstring>
    #include<iomanip>
    #include<math.h>
    #include<vector>
    #include<map>
     
    using namespace std;
    #define SC(n) scanf("%d",&n)
    #define SCL(n) scanf("%ld",&n)
    #define SCLL(n) scanf("%lld",&n)
    #define FOR(a,b) for(int i=a;i<b;i++)
    
   
     
    int main()
    {
     int t,j;long int n;
      string st;
    scanf("%d",&t);
    int c,r;
   	while(t--)
   	{  c=0;
   		cin>>st;
   		n=atoi(st.c_str());
   		//cout<<n<<endl;
   		for(int i=1;i<=sqrt(n);i++)
   		{
   		
   			if(i*i == n)
   			{  
   			   // cout<<i<<" ";
   				j=i;
				   while(j>0)
				{   r=j%10;
					if(st.find(r+'0')!=std::string::npos)
					{
						c++;
						break;
					}
					j/=10;
				}	
   			}
   			else
   			{
   			
   			if(n%i ==0)
			{   j=i;
			   //cout<<i<<" "<<n/i<<" ";
				while(j>0)
				{   r=j%10;
					if(st.find(r+'0')!=std::string::npos)
					{
						c++;
						break;
					}
					j/=10;
				}
				j=n/i;
				while(j>0)
				{   r=j%10;
					if(st.find(r+'0')!=std::string::npos)
					{
						c++;
						break;
					}
					j/=10;
				}
			}
		}
   		}
   	
   		cout<<c<<endl;
   	}
     
    return 0;
    } 