#include<stdio.h>
#include<math.h>
long long int ans;
void w(int n)
{
    //printf("%d aa= \n",n);
    if(n==1)
    {
        ans++;
        return;
    }
    int i;
    for(i=2;i*i<=n;i++)
        if(n%i==0)
        break;

    if(i*i<=n)
        ans=ans+n;
    else
        ans=ans-n;
}
int main()
{
    int ntc,a,b,l1,l2,t;
    scanf("%d",&ntc);
    while(ntc--)
    {
        ans=0;
        scanf("%d%d",&a,&b);

        if(b>a)
        {
            t=a;
            a=b;
            b=t;
        }
        l1=log(a)*1.0/log(2);
        l2=log(b)*1.0/log(2);
        //printf("l1= %d l2= %d\n",l1,l2);
        while(l1!=l2)
        {
            w(a);
            a=a/2;
            l1--;
        }
        while(1)
        {
            if(a==b)
            {
                w(a);
                break;
            }
            w(a);
            w(b);
            a=a/2;
            b=b/2;
        }
        printf("%lld\n",ans);

    }
}

