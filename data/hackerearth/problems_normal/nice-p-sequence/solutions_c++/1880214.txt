#include<cstdio>
#include<iostream>
#include<vector>
#include<algorithm>
#include<string>
#include<cstring>
using namespace std;

typedef long long LL;
typedef vector<int> VI;

#define REP(i,n) for(int i=0, i##_len=(n); i<i##_len; ++i)
#define EACH(i,c) for(__typeof((c).begin()) i=(c).begin(),i##_end=(c).end();i!=i##_end;++i)
#define eprintf(s...) fprintf(stderr, s)

template<class T> inline void amin(T &a, const T &b) { if (b<a) a=b; }
template<class T> inline void amax(T &a, const T &b) { if (a<b) a=b; }
// ax + by = gcd(a, b)
LL extgcd(LL a, LL b, LL&x, LL&y) {
  LL g=a;
  x=1; y=0;
  if (b!=0) { g=extgcd(b, a%b, y, x); y-=a/b*x; }
  return g;
}

LL invMod(LL a, LL mod) {
    LL x, y;
    if (extgcd(a, mod, x, y) == 1) return (x + mod) % mod;
    return 0; // unsolvable
}

int T;
LL A, P, N;
int main() {
    scanf("%d", &T);
    REP ($, T) {
	scanf("%lld%lld%lld", &A, &P, &N);

	LL B = invMod(A, P);

	if (A * B % P == 1) printf("%lld\n", (N+1)/2*A + N/2*B);
	else puts("-1");
    }

    return 0;
}
