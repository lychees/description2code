#include <bits/stdc++.h>
using namespace std;
map <int,int> mp;
int main()
{
    int t,x,i,d,ans,p;
    cin>>t;
    while(t--)
    {
    	cin>>x;
    	ans=0;
    	d=x;
    	while(d>0)
    	{
    		mp[d%10]++;
    		d/=10;
    	}
    	for(i=1;i*i<=x;i++)
    	{
    		if(i*i==x)
    		{
    			d=i;
    			while(d>0)
    			{
    				p=d%10;
    				if(mp.find(p)!=mp.end())
    				{
    					ans++;
    					break;
    				}
    				d/=10;
    			}
    		}
    		else if(x%i==0)
    		{
    			d=i;
    			while(d>0)
    			{
    				p=d%10;
    				if(mp.find(p)!=mp.end())
    				{
    					ans++;
    					break;
    				}
    				d/=10;
    			}
    			d=x/i;
    			while(d>0)
    			{
    				p=d%10;
    				if(mp.find(p)!=mp.end())
    				{
    					ans++;
    					break;
    				}
    				d/=10;
    			}
    		}
    	}
    	cout<<ans<<endl;
    	mp.clear();
    }
    return 0;
}
