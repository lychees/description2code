#include <bits/stdc++.h>

using namespace std;

int main()
{
    int t, n, a, b, l, r, mul;
    scanf("%d %d", &a, &b);
    scanf("%d", &t);

    mul = a*b;
    while (t--) {
        scanf("%d %d", &l, &r);

        int x = r/a - (l-1)/a;
        int y = r/b - (l-1)/b;
        int z = r/mul - (l-1)/mul;

        printf("%.6lf\n", (double)(x+y-z)/(double)(r-l+1));
    }

    return 0;
}