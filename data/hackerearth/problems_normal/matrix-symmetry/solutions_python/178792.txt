'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
cases = int(raw_input())


for case in range(cases):
	size = int(raw_input())
	matrix = [ [ e for e in raw_input().strip() ] for row in range(size)]
	ver = 1
	hor = 1
	trans = zip(*matrix)
	for i in range(size/2):
		if matrix[i] != matrix[size-i-1]:
			hor = 0
		if trans[i] != trans[size-i-1]:
			ver = 0
	if ver and hor:
		print "BOTH"
	elif ver:
		print "VERTICAL"
	elif hor:
		print "HORIZONTAL"
	else:
		print "NO"
	
		