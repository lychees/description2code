#include <iostream>
#include <algorithm>
using namespace std;

int main()
{
	int t;
	cin>>t;
	for(int z=0;z<t;z++)
	{
		long long n;
		cin>>n;
		long long ar[n];
		for(long long i=0;i<n;i++)
		cin>>ar[i];
		
		sort(ar,ar+n);
		long long x,c;
		x=n;
		c=1;
		for(long long i=0;i<n;i++)
		{
			if(ar[i]==ar[i+1])
			{
				c++;
			}
			else if(c>1)
			{
				long long temp;
				temp=((c-1)*c)/2;
				x=x+temp;
				c=1;
			}
		}
		cout<<x<<endl;
	}
    //cout << "Hello World!" << endl;
    return 0;
}
