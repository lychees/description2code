#include <bits/stdc++.h>
using namespace std;

int p[100010], cc[100010];
map<int, int> mp;

int getpa(int x) {
    return x == p[x] ? x : p[x] = getpa(p[x]) ;
}

int main() {
    ios::sync_with_stdio(false);
    int N, Q;
    cin >> N >> Q;
    for (int i = 1; i <= N; ++ i) {
        p[i] = i;
        cc[i] = 1;
        ++ mp[1];
    }
    for (int i = 0; i < Q; ++ i) {
        int a , b;
        cin >> a >> b;
        int x = getpa( a ), y = getpa(b);
        if (x != y) {
            ++ mp[ cc[x] + cc[y] ];
            -- mp[cc[x]];
            if ( !mp[cc[x]] ) 
			    mp.erase(cc[x]);
            --mp[cc[y]];
            if ( !mp[cc[y]] ) 
			    mp.erase(cc[y]);
            cc[y] += cc[x];
            p[x] = y;
        }
        int SMALLEST = mp.begin()->first;
        int LARGEST = mp.rbegin()->first;
        cout << LARGEST - SMALLEST << endl;
    }
    return 0;
}