#include <bits/stdc++.h>
using namespace std;

#define MOD 1000000007

long long int power(int n, int ex)
{
	long long ans=1, prod=n;
	while(ex)
	{
		if(ex&1) {
			ans=(ans*prod)%MOD;
		}
		prod=(prod*prod)%MOD;
		ex=ex>>1;
	}
	return ans;
}

int main()
{
    //cout << "Hello World!" << endl;
    int t;
    cin>>t;
    while(t--)
    {
    	int n, i, x, m;
    	cin>>n;
    	m=n;
    	long long int ans=0;
    //	vector<int> v(n);
    	for(i=0; i<n; i++)
    	{
    		cin>>x;
    		ans=(ans+(x*((long long int)power(2,m-1)%MOD)))%MOD;
    		
    	}
    //	cout<<(long long int)pow(2,100)%MOD;
       cout<<ans<<endl;	
    }
    return 0;
}
