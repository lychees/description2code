import sys

def solve_fighters(fighters):
    cList = [0]*len(fighters)
    fList = [x for x in range(len(fighters))]
    nList = []
    while len(fList) > 1:
        for ind in range(0, len(fList), 2):
            if ind == len(fList)-1:
                nList.append(fList[ind])
            else:
                cList[fList[ind+1]] += 1
                cList[fList[ind]] += 1
                if fighters[fList[ind]] > fighters[fList[ind+1]]:
                    nList.append(fList[ind])
                else:
                    nList.append(fList[ind+1])
        fList = nList
        nList = []
    return cList

            

def solve():
    N, Q = map(int, sys.stdin.readline().strip().split())
    fighters = map(int, sys.stdin.readline().split())
    queries = [int(sys.stdin.readline())-1 for q in range(Q)]
    q_table = solve_fighters(fighters)
    for query in queries:
        print q_table[query]
solve()
