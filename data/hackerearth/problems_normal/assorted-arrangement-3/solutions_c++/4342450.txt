#include <bits/stdc++.h>

#define LL				long long
#define LD				long double
#define x				first
#define y 				second
#define NL				cout<<endl;
#define pf(n)			cout<<n<<"  ";
#define FOR(i,n)		for(int (i)=0;(i)<(n);++(i))
#define REV(i,n)		for(int (i)=n-1;(i)>=0;(i)--)
#define print(a,n)		FOR(F,n)pf(a[F]);NL;
#define print2(a,n)		FOR(F,n){FOR(G,n)pf(a[F][G]);NL}
#define printP(a,n)		FOR(F,n){pf(a[F].x)pf(a[F].y);NL};
#define all(a)			a.begin(),a.end()
#define clr(a,n)		FOR(i,n)a[i]=1;
#define test()			int t;s(t);while(t--)
#define s(n)			scanf("%d",&n);
#define sll(n)			scanf("%lld",&n);
#define sld(n)			scanf("%lf",&n);
#define ss(n)			scanf("%s",n);
#define pb(n)			push_back(n)
#define mp(a,b)			make_pair(a,b)
#define MOD				1000000007
#define N				100005
#define M 				1000006

using namespace std;

int main() {
	int n,m;
	s(n)s(m)

	int c[m+3],a[n+3],multiples[m+3];
	LL prod[n+3];
	prod[0] = 0;
	prod[n+1] = 0;
	for(int i=1;i<=m;i++){
		s(c[i])
	}

	for(int i=1;i<=n;i++){
		s(a[i])
		prod[i] = 0;
	}

	clr(multiples,m+2);

	for(int i=1;i<=n;i++){
		//cout << endl << "for : " << i << endl;
		while(1){
			int flag = 0;
			LL pr = multiples[a[i]]*c[a[i]];
			//cout << "trying " << c[a[i]] << " * " << multiples[a[i]] << endl;
			multiples[a[i]]++;
			for(int j=a[i]+1;j<=m;j++){
				if(pr%c[j]==0){
					flag = 1;
					//cout << "c[" << j << "] screwed up big time" << endl;
					break;
				}
			}
			if(flag == 0){
				//cout << c[a[i]] << " * " << multiples[a[i]]-1 << " actually worked " << endl;
				prod[i] = pr ;
				if(prod[i]>=prod[i-1]){
					break;
				}
			}
		}
	}
	//print(freq,m+2)
	//print(multiples,m+2)
	//print(prod,n+2)
	
	cout << prod[n] << endl;
}




