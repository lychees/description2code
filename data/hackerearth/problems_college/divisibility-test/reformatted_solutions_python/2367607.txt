for _ in xrange(input()):
    a = raw_input()
    n = input()
    x, y = map(int, raw_input().split())
    c = 0
    for z in xrange(x-1, y):
        s = 0
        for t in xrange(z, y):
            s = s+int(a[t])
            if s % n == 0:
                c = c+1
            s = s*10
    print c
