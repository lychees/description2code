s=0
mod=(10**9)+7
n=input()
c=pow(2,n-1,mod)
d=pow(2,abs(n-2),mod)
arr=map(int,raw_input().split())
for i in xrange(n):
	s=((s%mod)+((arr[i]*c)%mod))%mod
	c=((c%mod)+(d%mod))%mod
print s%mod