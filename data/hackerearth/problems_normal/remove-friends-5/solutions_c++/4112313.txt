#include<stdio.h>
#include<cstring>
#include<iostream>
#include<string.h>
#include<map>
#include<deque>
#include<queue>
#include<stack>
#include<limits.h>
#include<sstream>
#include<iostream>
#include<iomanip>
#include<cstdio>
#include<cmath>
#include<cstdlib>
#include<ctime>
#include<algorithm>
#include<vector>
#include<set>
#include<complex>
#include<list>
// TOO lazy  :)
using namespace std;
#define mfor(i,n) for(int i=0;i<n;i++)
#define LL long long
#define vi vector<int>
#define pb push_back
#define myfor(i,a,b) for(i=a;i<=b;i++)
#define IS_ODD( num )   ((num) & 1)
#define IS_EVEN( num )  (!IS_ODD( (num) ))
#define mod %
int compare (const void * a, const void * b)
{
 
 return *(int*)a-*(int*)b;
}
 
/*-----------------------------------------------*/
int main()
{
 
 int t,n,k,a[100000+1],ans;
 cin>>t;
 while(t--)
 {
  cin>>n>>k;
  ans=0; 
  mfor(i,n)
   cin>>a[i];
 
  mfor(i,n-1)
  {
   int tmp=i-1;
   if(a[i]<a[i+1])
   {
 
    a[i]=INT_MIN;
    ++ans;
    if(ans==k)
    {
     break;
     
    }
    else
    {
     while(tmp>=0)
     {
      if(a[tmp]==INT_MIN)
      {
      --tmp;
      continue;
      }
 
      if(a[tmp]<a[i+1])
      {
       a[tmp]=INT_MIN;
       ++ans;
       if(ans==k)
       {
        i=n+1;
        break;
       }
      }
      else
      {
      break;
      }
 
      --tmp;
     }
    }
   }
  }
  int p=0;
  mfor(i,n-(k-ans))
  {
   if(a[i]!=INT_MIN)
   {
    cout<<a[i];
    if(p!=k)
       cout<<" ";
       ++p;
   }
  }
  cout<<endl;
 }
}