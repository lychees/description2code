#include <bits/stdc++.h>

using namespace std;

#define REP(i,n) for(int (i) = 0; (i) < (n); (i)++)
#define ll long long
#define MOD 1000000007

ll modExp(ll x, int m)
{
    if(m==0)
        return 1;
    else
    {
        ll t = modExp(x, m/2);
        if(m%2==0)
            return (t*t)%MOD;
        else
            return (((t*t)%MOD)*x)%MOD;
    }
}

ll modInverse(ll x)
{
    return modExp(x, MOD-2);
}

ll nCr(int n, int r)
{
    if(n==0 || n<r)
        return 0;

    r = min(r, n-r);
    ll result = 1;
    for(int i=n;i>=n-r+1;i--)
        result = (result*i)%MOD;

    for(int i=r;i>=2;i--)
        result = (result*modInverse(i))%MOD;
    return result;
}

int main()
{
    int n,k,t;
    scanf("%d %d %d", &n, &k, &t);

    int initial_sum = 0;
    for(int i=0;i<k;i++)
    {
        int temp;
        scanf("%d", &temp);
        initial_sum += temp;
    }

    int m = abs(initial_sum - t);

    if(m>k || abs(k-m)%2==1)
        cout << "0\n" << endl;
    else
        cout << nCr(k, abs(k-m)/2) << endl;
}

