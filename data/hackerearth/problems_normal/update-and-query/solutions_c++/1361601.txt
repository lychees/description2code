#include <iostream>
#include <stdio.h>
using namespace std;
long long int a[200000];

int main(){
	int n,m;
	scanf("%d%d",&n,&m);
	for(int i=0;i<n;i++) cin>>a[i];
	for(int i=0;i<m;i++){
		char c;
		int x;
		long long int y;
		scanf(" %c%d%lld",&c,&x,&y);
		x--;
		if(c=='U'){
			a[x]=y;
		}
		else{
			int p=a[x]-y;
			int q=a[x]+y;
			int count=0;
			for(int i=x;i<n;i++){
				if(a[i]>=p&&a[i]<=q){
					count++;
				}
				else break;
			}
			if(count==0) printf("-1 -1\n");
			else{printf("%d ",count);
			int min=a[x],max=a[x],z=count+x;
			for(int i=x;i<z;i++){
				if(a[i]<min) min=a[i];
				if(a[i]>max) max=a[i];
			}
			min=a[x]-min;
			max=max-a[x];
			if(min>max) printf("%d\n",min);
			else printf("%d\n",max);
			}
		}
	}
}
