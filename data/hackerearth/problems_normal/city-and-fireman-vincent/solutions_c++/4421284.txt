#include <iostream>
#include <vector>
#define ll long long
using namespace std;
bool visited[100009]={false};
ll val,small=1009;
void dfs(vector<ll> v[],ll i,ll e[])
{
	if(e[i]<small)
	{
		small=e[i];
		val=1;
	}
	else if(e[i]==small)
	{
		val++;
	}
	visited[i]=true;
	for(ll j=0;j<v[i].size();j++)
	{
		if(visited[v[i][j]]==false)
			dfs(v,v[i][j],e);
	}
}
int main()
{
    //cout << "Hello World!" << endl;
    ll n,k;
    cin>>n;
    
    vector<ll> v[n];
    ll e[n];
    for(ll i=0;i<n;i++)
    {
    	cin>>e[i];
    }
    cin>>k;
    for(ll i=0;i<k;i++)
    {
    	ll x,y;
    	cin>>x>>y;
    	v[x-1].push_back(y-1);
    	v[y-1].push_back(x-1);
    }
    ll ans=1;
    
    for(ll i=0;i<n;i++)
    {
    	if(visited[i]==false)
    	{
    		val=0;
    		small=1009;
    		dfs(v,i,e);
    		ans=(ans*val)%1000000007;
    	}
    }
    cout<<ans<<endl;
    return 0;
}
