n = int(raw_input())
a = map(int, raw_input().split())
s = sum(a)
lis = []
val = 0
for i in xrange(n):
    val += (i+1)*a[i]
lis.append(val)
for i in xrange(n-1):
    lis.append(lis[-1] + ((n*a[i])-s))
print max(lis)
