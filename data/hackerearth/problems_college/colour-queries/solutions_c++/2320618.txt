#include <vector>
#include <list>
#include <map>
#include <set>
#include <deque>
#include <queue>
#include <stack>
#include <bitset>
#include <algorithm>
#include <functional>
#include <numeric>
#include <utility>
#include <sstream>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <cctype>
#include <string>
#include <cstring>
#include <ctime>
#include <string.h>

using namespace std;

int a[105][105];
int maxv = 1;
void calc(int x, int y, int d, int n, int m, int z, int v[][105])
{
	if(x>=2 && abs(a[x-1][y] - a[x][y])<= d && v[x-1][y] == 0)
	{
		v[x-1][y] = 1;
		maxv++;
		calc(x-1,y,d,n,m,z+1,v);
	}
	if(x<=n-1 && abs(a[x+1][y] - a[x][y])<= d && v[x+1][y] == 0)
	{
		v[x+1][y] = 1;
		maxv++;
		calc(x+1,y,d,n,m,z+1,v);
	}
	if(y>=2 && abs(a[x][y-1] - a[x][y])<= d && v[x][y-1] == 0)
	{
		v[x][y-1] = 1;
		maxv++;
		calc(x,y-1,d,n,m,z+1,v);
	}
	if(y<=m-1 && abs(a[x][y+1] - a[x][y])<= d && v[x][y+1] == 0)
	{
		v[x][y+1] = 1;
		maxv++;
		calc(x,y+1,d,n,m,z+1,v);
	}
}
		
int main()
{
	int v[105][105];
	for(int i = 0; i<105; i++)
		for(int j = 0; j<105; j++)
			v[i][j] = 0;
			
	int n, m, q;
	cin>>n>>m>>q;
	for(int i = 1; i<=n; i++)
		for(int j = 1; j<=m; j++)
			cin>>a[i][j];
			
	int x,y,d;
	int z = 0;
	for(int i = 0; i<q; i++)
	{
		cin>>x>>y>>d;
		v[x][y] = 1;
		maxv = 1;
		calc(x,y,d,n,m,z,v);
		cout<<maxv<<"\n";
		for(int i = 0; i<=n; i++)
			for(int j = 0; j<=m; j++)
				v[i][j] = 0;
	}
	return 0;
}
