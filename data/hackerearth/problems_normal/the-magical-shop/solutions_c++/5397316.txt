#include<iostream>
using namespace std;

int main()
{ long long int a,b,x=0;
string s;
cin>>a>>b;
cin>>s;
for(int i=0;i<s.length();i++)
{
	if(s[i]=='1')
	{ x=(x+a)%b; 
	a=a*a%b;
	}
	else
	a=a*a%b;
	
}
	cout<<x;
	
	
	return 0;
}