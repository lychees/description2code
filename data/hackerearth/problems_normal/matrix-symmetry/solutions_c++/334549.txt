using namespace std;
#include<iostream>
char ar[50][50];
int main()
{
    int t;
    cin>>t;
    while(t>0)
    {
        int n;
        cin>>n;
        int i=0;
        while(i<n)
        {
            int j=0;
            while(j<n)
            {
                cin>>ar[i][j];
                j++;
            }
            i++;
        }
        i=0;
        char c='1';
        while(i<n/2)
        {
           int j=0;
           while(j<n)
           {
               if(ar[i][j]!=ar[n-1-i][j])
                 { c='0'; break;}
                 j++;
           }
           if(c=='0')
            break;
           i++;
        }
        i=0;
        char c1='1';
        while(i<n/2)
        {
            int j=0;
            while(j<n)
            {
                if(ar[j][i]!=ar[j][n-1-i])
                {
                    c1='0';
                    break;
                }
               j++;
            }
            if(c1=='0')
                    break;
                i++;
        }
        if(c=='0'&&c1=='0')
            cout<<"NO"<<endl;
        else if(c=='0'&&c1=='1')
            cout<<"VERTICAL"<<endl;
        else if(c=='1'&&c1=='0')
            cout<<"HORIZONTAL"<<endl;
        else cout<<"BOTH"<<endl;
        t--;
    }
}
