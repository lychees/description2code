import sys


def main():
    s = raw_input().split()
    arr = []
    x = int(s[0])
    y = int(s[1])
    z = 0
    ans = x-y
    arr.append(ans)
    while (z < 1000000):
        ans = (ans*x-y) % 1000000007
        arr.append(ans)

        z = z+1
    n = input()
    for i in range(0, n):
        q = raw_input()
        q = int(q)
        print arr[q-1]


main()
sys.exit(0)
