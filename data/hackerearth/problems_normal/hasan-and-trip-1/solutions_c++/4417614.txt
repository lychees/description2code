//hk10july

#include "bits/stdc++.h"
using namespace std;
#define ll long long
#define s(n) scanf("%d", &n);
#define sll(n) scanf("%lld", &n);
#define p(n) printf("%d\n", n)
#define pll(n) printf("%lld\n", n)
#define MOD 1000000007
#define mp make_pair
#define pb push_back

double x[3500], y[3500], f[3500];
double net[3500];

double cost(int i, int j)
{
	return sqrt(1.0*((x[i]-x[j])*(x[i]-x[j]) + (y[i]-y[j])*(y[i]-y[j])));
}
int main()
{
	int n,t,i,j; 
	s(n);
	for(i=1; i<=n; i++)
	{
		cin >> x[i] >> y[i] >> f[i];
	}
	if(n == 1)
	{
		printf("%.6lf\n", f[n]);
		return 0;
	}
	net[n] = f[n];
	net[n-1] = f[n-1] + f[n] - cost(n-1,n);	
	for(i=n-2; i>=1; i--)
	{
		double maxi = -DBL_MAX;
		for(j=i+1; j<=n; j++)
		{
			double tmp = f[i] - cost(i,j) + net[j];
			if(tmp > maxi)
				maxi = tmp;
		}
		net[i] = maxi;
	}
	printf("%.6lf", net[1]);
	return 0;
}