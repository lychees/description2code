#include <bits/stdc++.h>
using namespace std;
int a[100005];
int fa[100005];
int si[100005];
int di[100005];
int main()
{
  // printf("Hello World!\n");
  int n,m,q,x,y;
  scanf("%d%d",&n,&m);
  map<string,int> gr;
  int i;
  
  for(i=1;i<=n;i++)
  {
  	fa[i] = -1;
  	si[i] = 1;
  }
  for(i=0;i<m;i++)
  {
  	scanf("%d%d",&x,&y);
  	if(x > y)
  	{
  		x = x^y;
  		y=x^y;
  		x=x^y;
  	}
  
  	char b[555];
  	sprintf(b,"%d#%d",x,y);
  	gr[b] = 1;
  	int fa1,fa2,si1,si2;
  	fa1 = x;
  	fa2 = y;
  	while(fa[fa1]!=-1)fa1 = fa[fa1];
  	while(fa[fa2]!=-1)fa2 = fa[fa2];
  	if(fa1!=fa2)
  	{
  		si1 = si[fa1];si2 = si[fa2];
  		if(si1>=si2)
  		{
  			fa[fa2] = fa1;
  			si[fa1]+=si2;
  		}
  		else {
  			fa[fa1] = fa2;
  			si[fa2]+=si1;
  		}
  	}
  	
  }
  scanf("%d",&m);
  for(i=0;i<m;i++)
  {
  	scanf("%d%d",&x,&y);
  	if(x > y)
  	{
  		x = x^y;
  		y=x^y;
  		x=x^y;
  	}
  
  	char b[555];
  	sprintf(b,"%d#%d",x,y);
  	int valid = 0;
  	if(gr.find(b)!=gr.end())valid = 1;
  	else {
  			int fa1,fa2,si1,si2;
  	fa1 = x;
  	fa2 = y;
  	while(fa[fa1]!=-1)fa1 = fa[fa1];
  	while(fa[fa2]!=-1)fa2 = fa[fa2];
  	if(fa1==fa2)valid = 2;
  	}
  	if(valid==1)printf("Direct Connection\n");
  	else if(valid==2)printf("Indirect Connection\n");
  	else printf("No Connection\n");
  }
  
    return 0;
}
