#include <cstdio>
using namespace std;
#define mod 1000000007
long long x,y,n,q;
long long memo[1000005];
long long res;
long long dp(int n)
{
	if(memo[n]!=-1)
	return memo[n];
	
	if(n==1)
	{
		res=x-y;
	}
	else
	{
		res=((x*dp(n-1))%mod-y+mod)%mod;	
	}
	memo[n]=res%mod;
	return memo[n];
}
int main()
{
	int i;
	for(i=0;i<1000005;i++)
	memo[i]=-1;
    scanf("%lld%lld",&x,&y);
    scanf("%lld",&q);
    while(q--){
    scanf("%lld",&n);
    printf("%lld\n",dp(n));}
    return 0;
}
