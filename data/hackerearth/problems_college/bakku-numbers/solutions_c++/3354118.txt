//-------------------------------
#include<bits/stdc++.h>
using namespace std ;

typedef long long ll ;
typedef vector<int> vi ;
typedef pair<int,int> ii ;

#define _CRT_SECURE_NO_WARNINGS
#pragma comment(linker, "/stack:16777216")
#define pb(a) push_back(a)
#define mp(a,b) make_pair(a,b)
#define rep(i,a,b) for(int i=(a) ; i<(b) ; ++i)
#define inf 2000000000
#define endl "\n"
#define tt() int t; scanf("%d",&t); while(t--)
#define dfddcvcvxcvxvxcvsldjflksjflsjfdlsjflsdjfslsfdksd
const int maxn = 1e5+5 ;

//@nilutpal---->I watch Pokemon , Sword Art Online , Flash , Arrow , Gotham

#define max(a,b) ( (a>b) ? (a) : (b)  )
#define min(a,b) ( (a<b) ? (a) : (b)  )
//------------------------------

int pr[maxn];
ll dp[maxn];
ll f(ll n, ll b) {
    return n / b ;
}
ll solve(ll x, ll y, ll z) 
{
 return f(y,z)-f(x-1,z) ;
}

int main()
{
	ios_base::sync_with_stdio(0);
	ll n , m  , t ;
	cin >> n >> m ;
	cin >> t ;
	while(t--)
	{
		ll l,r;
		cin >> l >> r ;

	//	cout << solve(l,r,n) << endl ;
	//	cout << solve(l,r,m) << endl ;
	//	cout << solve(l,r,n*m) << endl ;
		ll ans = solve(l,r,n) ;
		ans += solve(l,r,m) ;
		ans -= solve(l,r,m*n);
		double res = (double)ans / (double)(r-l+1) ;
		//cout << (ll)ans << endl ;		
		printf("%.6f\n",res);
	}

}


