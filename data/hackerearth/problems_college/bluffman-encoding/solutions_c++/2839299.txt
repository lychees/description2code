#include<bits/stdc++.h>
using namespace std;
struct node
    {
        char p;
        int no;
    };
  void sor(node a[],int st,int ed)
  {
      int n=ed-st+1,i,j;
    node b[ed-st+1];
    j=a[0].no;
    for(i=1;i<n;i++)
    {
        if(j<a[i].no)
            j=a[i].no;
    }
    node c[j+1];
    for(i=0;i<j+1;i++)
        c[i].no=0;
    for(i=0;i<n;i++)
    {
        c[a[i].no].no=c[a[i].no].no+1;
    }
    for(i=1;i<j+1;i++)
    {
        c[i].no+=c[i-1].no;
    }
    for(i=n-1;i>=0;i--)
    {
        b[c[a[i].no].no-1]=a[i];
        c[a[i].no].no--;
    }
    for(i=0;i<n;i++)
    {
        a[i]=b[i];
    }
}
int main()
{
    int t,n,i;
    cin>>t;
    while(t--)
    {
        cin>>n;
        node s[n];
        for(i=0;i<n;i++)
            cin>>s[i].p>>s[i].no;
            sor(s,0,n-1);
            for(i=0;i<n-1;i++)
            {
                if(s[i].no==s[i+1].no&&s[i].p>s[i+1].p)
                {
                    char qq;
                    qq=s[i].p;
                    s[i].p=s[i+1].p;
                    s[i+1].p=qq;
                }
            }
            string ans;
            cin>>ans;
            int mm=0;
            for(i=0;ans[i]!='\0';i++)
            {
                if(ans[i]=='1')
                    mm++;
                else
                {
                    cout<<s[mm].p;
                    mm=0;
                }
                if(mm==n-1)
                {
                    cout<<s[mm].p;
                    mm=0;
                }
            }
            cout<<endl;
    }
    return 0;
}
