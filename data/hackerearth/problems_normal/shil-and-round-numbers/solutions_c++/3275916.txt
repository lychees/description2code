#include<bits/stdc++.h>
using namespace std;
long long arr[200005];
long long bin[200005];

void update(long long pos, long long val)
{
    while(pos<200005)
    {
        bin[pos]+=val;
        pos+=(pos & -pos);
    }
}

long long query(long long pos)
{
    long long ans=0;
    while(pos>0)
    {
        ans+=bin[pos];
        pos-=(pos & -pos);
    }
    return ans;
}
int main()
{
    long long n,q,i;
    cin>>n>>q;
    for(i=0;i<n;i++)
    {
        long long val;
        cin>>val;
        if(val>0)
        {
            long long p=val,an;
            while(p!=0)
            {
                an=p%10;
                p=p/10;
            }
            if(val%10==an)
                {
                    arr[i]=1;
                    update(i+1,+1);
                }
            else
                    arr[i]=0;
        }
    }

    while(q--)
    {
        long long type;
        cin>>type;
        if(type==1)
        {
            long long a,b;
            cin>>a>>b;
            cout<<query(b)-query(a-1)<<endl;
        }
        else
        {
            long long ind,val;
            cin>>ind>>val;
            long long p=val,an;
            while(p!=0)
            {
                an=p%10;
                p=p/10;
            }

            if(val%10 == an && arr[ind-1]==0)
            {
                arr[ind-1]=1;
                update(ind,+1);
            }
            else if(val%10!=an && arr[ind-1]==1)
            {
                arr[ind-1]=0;
                update(ind,-1);
            }
        }
    }
 return 0;
}
