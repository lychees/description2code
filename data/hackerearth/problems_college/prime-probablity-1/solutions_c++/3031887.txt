#include <bits/stdc++.h>
using namespace std;
#define si 5000006
long int a[si]={1,1,0};
long int b[si]={0};
void primu()
{
	long int i,j;
	for(i=0;i<si;i++)
	{
		a[i]=b[i]=0;
	}
	a[0]=a[1]=1;
	for(i=4;i<si;i+=2)
	a[i]=1;
	for(i=3;i<si;i+=2) {
		if(a[i]==0) {
			for(j=i+i;j<si;j+=i) {
				a[j]=1;
			}
		}
	}
	for(i=2;i<si;i++) {
		b[i]=b[i-1];
		if(a[i]==0)
		b[i]++;
	}
}
int main()
{
   	long int t,l,r;
   	primu();
   	scanf("%ld",&t);
   	while(t--) {
   		scanf("%ld %ld",&l,&r);
   		printf("%.6lf\n",1.0f*(b[r]-b[l-1])/(r-l+1));
   	}
    return 0;
}

