#include <iostream>
#include <vector>
#include <algorithm>
#include <climits>
using namespace std;

long int n;

int main()
{
   long int m;
	cin >> n >> m;
	long int arr[n];
	long int arr1[n];
	char ch;
	bool found = false;
	for(long int i=0;i<n;++i)
	{
		cin >> arr[i];
		
	}
	for(long int i=0;i<n;++i)
	{
		cin >> arr1[i];
		
	}
		long int aa = arr1[0];
		long int xxx = 0;
		long int newpos = 0;
		long int d;
		long int targetpos;
		auto it = find(arr1,arr1+n,arr[0]);
		targetpos = it - arr1;
		//bool found = false;
	for(long int j=1;j<=m;++j)
	{
		cin >> ch;
		
		cin >> d;
	
			if(ch=='L')
			{
				newpos = (newpos - d);
				newpos %= n;
				
				if(newpos < 0)
					newpos = (n+newpos);
			
			}
			else
			{
				newpos = (newpos + d) %n;
			}	
			if(newpos == targetpos){
				cout << j << "\n";
				found = true;
				break;
			}
	}
	if(!found)
		cout << "-1" << "\n";
	
}
















