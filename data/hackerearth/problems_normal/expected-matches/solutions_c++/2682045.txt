#include <cstdio>
#include <iostream>
#include <iomanip>
#include <algorithm>
#include <cmath>
using namespace std;

typedef long long ll;

ll t, n, m;

int main()
{
    cin >> t;
    
    while( t-- ) {
    	cin >> n >> m;
    	
    	vector<vector<double>> p(n+3,vector<double>(m+3,-1));
    	vector<vector<double>> q(n+3,vector<double>(m+3,-1));
    	vector<vector<double>> dp(n+3,vector<double>(m+3,-1));
    	
    	for( int i = 0; i < n; i++ ) {
    		for( int j = 0; j < m; j++ ) {
    			scanf("%lf",&p[i][j]);
    			q[i][j] = 1 - p[i][j];
    		}
    	}
    	
    	dp[0][0] = 1.0;
    	
    	for( int i = 0; i < n; i++ ) {
    		for( int j = 0; j < m; j++ ) {
    			
    			if( i == 0 && j == 0 )
    				continue;
				
				if( i == 0 )
    				dp[0][j] = dp[0][j-1] * p[0][j-1];
				else if( j == 0 )
					dp[i][0] = dp[i-1][0] * q[i-1][0];
				else
					dp[i][j] = dp[i-1][j] * q[i-1][j] + dp[i][j-1] * p[i][j-1];
				
    		}
    	}
    	
    	double total = 0.0;
    	
    	for( int i = 0; i < n; i++ ) {
    		dp[i][m] = dp[i][m-1] * p[i][m-1];
    		total += dp[i][m] * (i+m);
    	}
    	for( int i = 0; i < m; i++ ) {
    		dp[n][i] = dp[n-1][i] * q[n-1][i];
    		total += dp[n][i] * (i+n);
    	}
    	
    	cout << fixed << setprecision(6) << total << endl;
    	
    }
    
    return 0;
}
