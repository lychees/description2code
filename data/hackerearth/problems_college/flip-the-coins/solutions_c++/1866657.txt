#include <iostream>
using namespace std;

int main()
{
    int n,q;
    cin>>n>>q;
    bool *hup;
    int  *ans;
    int k=0;
    hup = new bool[n];
    for(int i=0;i<n;i++)
    	hup[i]=false;
    ans = new int[q];
    for(int i=0; i<q; i++) {
    	int bit, a, b;
    	cin>>bit>>a>>b;
    	if(bit==0)
    	for(int j=a;j<=b;j++) {
    		if(hup[j]==false)
    			hup[j]=true;
    		else
    			hup[j]=false;
    	}
    	else {
    		ans[k]=0;
    		for(int j=a;j<=b;j++) {
    			if(hup[j]==true) {
    				ans[k]++;
    			}
    		}
    		k++;
    	}
    }
    for(int i=0;i<k;i++) {
    	cout<<ans[i]<<endl;
    }
    return 0;
}
