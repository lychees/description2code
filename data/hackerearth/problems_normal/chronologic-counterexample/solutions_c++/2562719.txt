#include<bits/stdc++.h>
using namespace std;

#define ll long long
#define cin(n) scanf("%d",&n)
#define pb push_back
#define mp make_pair

int main()
{
    int t,m,n,i,j,k,l;
    vector<pair<int,int> >sorts;
    vector<int>rem;
    
    cin(n);
    cin(m);
    
    for(i=1;i<=m;i++){
    cin(j);cin(k);
    sorts.pb(mp(j,k));
	}
    for(i=1;i<=n;i++)
        rem.pb(i);
    
    vector<int>v;
    for(i=1;i<=n;i++){
        vector<int>nv;
        int got=-1;
        for(j=0;j<rem.size();j++){
        	nv=v;
            nv.pb(rem[j]);
            for(k=rem.size()-1;k>=0;k--){
                if(k==j)
                    continue;
                nv.pb(rem[k]);
            }
            
            //new temporary vector created
            for(k=0;k<m;k++){
                int x=sorts[k].first-1;
                int y=sorts[k].second;
                sort(nv.begin()+x,nv.begin()+y);
            }
            
            int fg=0;
            for(k=1;k<n;k++){
                if(nv[k]>nv[k-1])
                    continue;
                fg=1;
            }
            if(!fg)
                continue;
            else{
                v.pb(rem[j]),got=rem[j];
                break;
            }
        }
        //cout<<got<<"\n";
        if(got==-1)
            break;
        vector<int>remn;
        for(j=0;j<rem.size();j++){
            if(rem[j]==got)
                continue;
            remn.pb(rem[j]);
        }
        rem=remn;
    }
    if(v.size()<n)
        cout<<"All ok!\n";
    else{
        for(i=0;i<v.size();i++)
            cout<<v[i]<<" ";
        cout<<"\n";
    }
    

    return 0;
}