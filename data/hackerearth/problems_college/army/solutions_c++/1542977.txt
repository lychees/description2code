#include <iostream>
#include <algorithm>
#include <cstdio>
using namespace std;
inline void readint(int &a)
{
    register int c;
    a = 0;
    do c = getchar_unlocked(); while(c < '0');
    do{
    a = (a << 1) + (a << 3) + c - '0';
    c = getchar_unlocked();
    }while(c >= '0');
}
     
inline void printint(int a)
{
    char s[11];
    int t = -1;
    do{
    s[++t] = a % 10 + '0';
    a /= 10;
    }while(a > 0);
    while(t >= 0)putchar_unlocked(s[t--]);
    putchar_unlocked('\n');
}
int finalans[1025];
int temp[100002],ans[100002][12];
void sel(int i,int m,int ch[],int n)
{
	if (i<m)
	{
		ch[i]=1;
		sel(i+1,m,ch,n);
		ch[i]=0;
		sel(i+1,m,ch,n);
	}
	else
	{
		int p=1,a,an=0;
		for (i=1;i<=n;i++) temp[i]=0;
		for (a=0;a<m;a++)
		{
//			cout<<a<<" "<<m<<" "<<p<<" "<<an<<" "<<n<<endl;
			if (ch[a]==1)
			{
				an+=p;
				for (i=1;i<=n;i++) if (ans[i][a]==1) temp[i]=1;
			}
			p*=2;
		}
	//	cout<<an<<endl; 
		int tempans=0;
		for (i=1;i<=n;i++) if (temp[i]) tempans++;
		finalans[an]=tempans;
	}
}
int main()
{
	int n,i,j,m,tempans,q,a;
	int ch[17];
	scanf("%d",&n);
//	cin>>n;
	
//	readint(n);
	for (i=1;i<=n;i++) for (j=0;j<10;j++) ans[i][j]=0;
	for (i=1;i<=n;i++)
	{
		j=i;
		while (j)
		{
			ans[i][j%10]=1;
			j/=10;
		}
	}
	sel(0,10,ch,n);
	scanf("%d",&q);
//	cin>>q;
	
//	readint(q);
	while (q--)
	{
		scanf("%d",&m);
//		cin>>m;
//		readint(m);
//		for (i=1;i<=n;i++) temp[i]=0;
		for (i=0;i<10;i++) ch[i]=0;
		while(m--)
		{
			scanf("%d",&a);
//			cin>>a;
//			readint(a);
			ch[a]=1;
//			for (i=1;i<=n;i++) if (ans[i][a]==1) temp[i]=1;
		}
		int an=0,p=1;
		for (i=0;i<10;i++)
		{
			if (ch[i]==1)
				an+=p;
			p*=2;
		}
//		tempans=0;
//		for (i=1;i<=n;i++) if (temp[i]) tempans++;
		printf("%d\n",finalans[an]);
//		cout<<finalans[an]<<endl;
//		printint(finalans[an]);
	}
	return 0;
}