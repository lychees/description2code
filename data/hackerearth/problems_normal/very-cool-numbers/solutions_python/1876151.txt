def occur(string, sub):
    count = start = 0
    while True:
        start = string.find(sub, start) + 1
        if start > 0:
            count+=1
        else:
            return count

t = input()
while t>0:
	n,k = map(int,raw_input().split(' '))
	cnt=0
	for i in range(n+1):
		if occur(bin(i),"101") >= k:
			cnt+=1
	print cnt
	t-=1