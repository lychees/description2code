#include <bits/stdc++.h>
using namespace std;
int main() {
	// your code goes here
	int t;
	cin>>t;
	while(t--)
	{
		int N;
		cin>>N;
		map<int,int> M;
		vector<int> V,O;
		for(int i=0;i<N;i++)
		{
			int Num;
			cin>>Num;
			O.push_back(Num);
			V.push_back(Num);
		}
		sort(V.begin(), V.end());
		int mark = V[N-1], rank = 1;
		if(N==1)
		{
			M[mark] = rank;	
		}
		else{
			M[mark] = rank;
			int count = 0;
			for(int i=N-2; i>=0; i--)
			{
				//cout<<V[i]<<" "<<mark<<" "<<rank<<endl;
				if(V[i] == mark)
				{
					M[mark] = rank;
					count++;
				}
				else
				{
					rank++;
					rank += count;
					count = 0;
					M[V[i]] = rank;
					mark = V[i];
				}
			}
		}
		for(int i=0;i<N;i++)
		{
			int val = O[i];
			if(i)
				cout<<" ";
			cout<<M[O[i]];
		}
		cout<<endl;
	}
	return 0;
}