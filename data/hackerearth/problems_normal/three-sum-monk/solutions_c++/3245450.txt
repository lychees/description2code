#include <iostream>
#include <cstdio>
#include <vector>

using namespace std;

int A[500];
vector<int> cubes;
vector<int> I[2001];

int main()
{
	for(int i = 1; i <= 20; i++) cubes.push_back(i * i * i);
	
    int T; cin >> T;
    
    while(T--) {
    	for(int i = 0; i <= 2000; i++) I[i].clear();
    	
    	int N; cin >> N;
    	
    	for(int i = 0; i < N; i++) {
    		cin >> A[i];
    		I[A[i]].push_back(i);
    	}
    	
    	double cnt1 = 0, cnt2 = 0;
    	
    	for(int i = 0; i < N; i++) {
    		for(int j = i + 1; j < N; j++) {
    			cnt2 += N - (j + 1);
    			for(auto k: cubes) {
    				int req = k - A[i] - A[j];
    				if(req > 0 && req <= 2000) {
    					cnt1 += I[req].end() - lower_bound(I[req].begin(), I[req].end(), j + 1);
    				}
    			}
    		}
    	}
    	
    	printf("%.9f\n", cnt1/cnt2);
    }
    return 0;
}
