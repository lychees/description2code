#include<bits/stdc++.h>
using namespace std;
int main() {
	int t,n=0,totalClass=0;
	long arr[2005],k=0;
	scanf("%d",&t);
	while(t--) {
		int x=7;
		k=0;
		totalClass=0;
		while(x--) {
			scanf("%d",&n);
			totalClass+=n;
			while(n--) {
				long a,b;
				scanf("%ld %ld",&a,&b);
				arr[k++]=(b-a);
			}
		}
		//cout<<"\ntotal class"<<totalClass<<endl;
		sort(arr,arr+k);
		/*for(int i=0;i<k;i++) {
			cout<<arr[i]<<" ";
		}*/
		long sum=0;
		int min=(ceil)(.75*totalClass);
		//cout<<"\nmin="<<min<<endl;
		for(int i=0;i<min;i++) {
			sum+=arr[i];
		}
		//cout<<"\nsum="<<sum<<endl;
		printf("%ld\n",((7*24*60*60)-sum));	
	}
	return 0;
}