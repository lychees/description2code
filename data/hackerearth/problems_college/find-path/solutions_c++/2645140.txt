#include <iostream>
using namespace std;

int main()
{
   unsigned long long int t,n;
   cin>>t;
   while(t--)
   {
   	cin>>n;
   	unsigned long long int a[n],i,count=0;
   	for(i=0;i<n;i++)
   	cin>>a[i];
   	for(i=1;i<n;i++)
   	{
   		if(a[i-1]>=a[i])
   		{
   			a[i-1]=a[i]-1;
   			count++;
   		}
   	}
   	cout<<count<<endl;
   }
   return 0;
}
