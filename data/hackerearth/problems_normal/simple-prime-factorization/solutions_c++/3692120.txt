#include<bits/stdc++.h>
using namespace std;
#define ll long long int
#define loop(i,a,b) for(i=a;i<b;i++)

int main(){
	ll a[1000001]={0};
a[0]=1;
a[1]=1;
ll t,n,i,j,k,l,l1;
ll count=0;
loop(i,2,sqrt(1000001)){
    if(a[i]==0){
    	//count++;
        for(j=2*i;j<1000001;j+=i){
        a[j]=1;
        }
    }
}
    loop(i,2,1000001){
        if(a[i]==0){
            count++;
        }
    }
ll b[count],g=0;
loop(i,2,1000001){
	if(a[i]==0){
	b[g]=i;
	g++;
	}
}
    cin>>t;
    while(t--){
        cin>>n;
        l1=0;
        if(a[n]==0){
            cout<<"2^0";
        }
        else{
            i=0;
            while(1){
                if(b[i]>n/2){
                    break;
                }
                else{
                    l=0;
                    k=n;
                    while(k%b[i]==0){
                        l++;
                        k=k/b[i];
                    }
                    if(l1==0){
                        if(l==0 && b[i]!=2){

                        }
                        else{
                    cout<<b[i]<<"^"<<l;
                            l1++;}
                    }
                    else{
                        if(l==0 && b[i]!=2){

                        }
                        else{
                            cout<<"*"<<b[i]<<"^"<<l;}
                    }
                }
                i++;
            }
        }
        cout<<endl;
    }
    return 0;
}


