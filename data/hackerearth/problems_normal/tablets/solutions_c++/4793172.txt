#include<iostream>
#include<bits/stdc++.h>

using namespace std;

int main()
	{
		int n;
		cin>>n;
		int hlth[n+1];
		for(int i=0;i<n;++i)
			cin>>hlth[i];
		int tblt[n+1];
		tblt[0]=1;
		for(int i=1;i<n;++i)
			{
				if(hlth[i]>hlth[i-1])
					tblt[i]=tblt[i-1]+1;
				else
					tblt[i]=1;
			}
		for(int i=n-2;i>=0;--i)
			{
				if(hlth[i]>hlth[i+1] && tblt[i]<=tblt[i+1])
					tblt[i]=tblt[i+1]+1;
			}
		int sum=0;
		for(int i=0;i<n;++i)
			sum+=tblt[i];
		cout<<sum<<endl;
		return 0;
	}
