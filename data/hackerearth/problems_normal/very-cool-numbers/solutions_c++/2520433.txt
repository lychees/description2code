#include <iostream>
#include <algorithm>
#include <sstream>
#include <string>
#include <bitset>
int main()
{	
	int testNum;

	std::cin>>testNum;
	while(testNum--){
		int range;
		int koolness;
		int count;
		int finalCount=0;
		
		std::cin>>range;
		std::cin>>koolness;
		
		for(int i=1;i<=range;i++){
			std::bitset<17> bs = i;
			std::string binString = bs.to_string();
		//	std::cout<<binString<<"\n";
			std::string toFind("101");
			std::size_t pos = binString.find(toFind,0);
			count = 0;
			while(pos != std::string::npos){
				count++;
				pos = binString.find(toFind,pos+1);
			}
			if(count>=koolness){
				finalCount++;
			}
		}
		
		std::cout<<finalCount<<"\n";
	}
    
    return 0;
}
