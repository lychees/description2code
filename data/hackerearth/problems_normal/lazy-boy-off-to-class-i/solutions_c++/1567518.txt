#include<iostream>
#include<cmath>
#include<cstdio>
using namespace std;
typedef long long ll;
long long  arr[100000];
void merge(long long int arr[],long long int left,long long int mid,long long int right)
{
  long long  int i=left,temp[100000];
   long long int j=mid+1,k=left;
   while(i<=mid&&j<=right)
   {
     if(arr[i]<arr[j])
     {
       temp[k++]=arr[i++];
     }
    else
     {
       temp[k++]=arr[j++];
     }
   }
   while(i<=mid)
   temp[k++]=arr[i++];
   while(j<=right)
   temp[k++]=arr[j++];
   for(i=left;i<=right;i++)
   {
     arr[i]=temp[i];
   }
}

void mergesort(long long int arr[],long long int left,long long int right)
{
   long long int mid;
   if(left<right)
   {
     mid=(left+right)/2;
     mergesort(arr,left,mid);
     mergesort(arr,mid+1,right);
     merge(arr,left,mid,right);
   }
}

int main()
{
	ll t,sum,ans=0,i,s,e,req;
	cin>>t;
	ll total=7*24*3600;
	while(t--)
	{
		ans=0;
		ll n,index=0;
		sum=0;
		for(ll d=1;d<=7;d++)
		{
			cin>>n;
			sum+=n;
			for(ll i=0;i<n;i++)
			{
			   cin>>s>>e;
			   arr[index]=e-s;
			   index++;
		    }
		}
	/*
		if(sum%4==0)
		{
			req=sum*3/4;
		}
		else
		req=sum*3/4+1;*/
		req=ceil(0.75*sum);
		//cout<<"     "<<req<<"       \n   "<<sum<<"            \n";
		mergesort(arr,0,index-1);
	     
	     
		for(ll i=0;i<req;i++)
		{
			ans+=arr[i];
		}
	
	    cout<<total-ans<<"\n";

}
	return 0;
}