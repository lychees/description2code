#include <iostream>
using namespace std;
long int CountCool(long int i){
	char a[100];
	int temp,index=0;
	while(i!=0){
		temp=i%2;
		i/=2;
		a[index]=(char)(temp+char('0'));
		index++;
	}
	a[index]='\0';
	long int count=0;
	for(int i=0;i<index-2;){
		if(a[i]=='1'){
			if(a[i+1]=='0'){
				if(a[i+2]=='1'){
					count++;
					i=i+2;
				}
				else{
					i++;
				}
			}
			else{
				i++;
			}
		}
		else{
			i++;
		}
	}
	return count;
}
int main()
{
	int t,k;
	long int r,count;
	cin>>t;
	while(t--){
		cin>>r>>k;
		count=0;
		for(long int i=1;i<=r;i++){
			if(CountCool(i)>=k){
				count++;
			}
		}
		cout<<count<<endl;
	}
    return 0;
}
