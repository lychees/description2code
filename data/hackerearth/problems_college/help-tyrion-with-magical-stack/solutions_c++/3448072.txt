#include<bits/stdc++.h>
#define si(n) scanf("%d",&n)
#define sll(n) scanf("%lld",&n)
#define mod 1000000007 // 10**9 + 7
#define INF 1e9
#define FOR(i,a,b) for(int (i) = (a); (i) < (b); ++(i))
#define RFOR(i,a,b) for(int (i) = (a)-1; (i) >= (b); --(i))
#define CLEAR(a) memset((a),0,sizeof(a))
#define mp(a, b) make_pair(a, b)
#define pb(a) push_back(a)
#define rep(i, a, b) for (int i = a; i < b; i++)
#define rrep(i, b, a) for (int i = b; i > a; i--)
#define all(v) v.begin(), v.end()
#define GETCHAR getchar_unlocked
#define pi(n) printf("%d\n",n)
#define pll(n) printf("%lld\n",n)
#define rk() int t; scanf("%d",&t); while(t--)
using namespace std;
const double pi = acos(-1.0);
//freopen("in","r",stdin);
//freopen("out","w",stdout);
const int er[8] = {-1,-1,0,1,1,1,0,-1};
const int ec[8] = {0,1,1,1,0,-1,-1,-1};
const int fr[4] = {-1,1,0,0};
const int fc[4] = {0,0,1,-1};
typedef unsigned long long ull;
typedef long long ll;
typedef long l;
typedef pair<int,int> pii;
typedef vector<int> vec;
typedef vector<pii> vpii;
ll po(ll a,ll p)
{ll ret = 1;while(p){if(p&1)ret = (ret*a)%mod;a=(a*a)%mod;p=p>>1;}return ret%mod;}
int a[105],repl[105],dp[105][105];

int tyrion(ll start, ll stop) {
 if(start>stop) 
 	return 0;
 if(dp[start][stop]<1000000000) 
 	return dp[start][stop];
 if(start-stop==0)
 	return dp[start][stop]=1;
 if(start==stop-1)
 	return dp[start][stop]=2;
 
 int &ans=dp[start][stop];
 //cout<<ans<<endl;
  ans=min(ans,1+tyrion(start+1,stop));
 ans=min(ans,1+tyrion(start,stop-1));
 //cout<<ans<<" ";
if(repl[start]==repl[stop]) 
	ans=min(ans,1+tyrion(start+1,stop-1));
 for(int i=start+1;i<=stop;i++) 
 	if(repl[i]==repl[start])
	ans=min(ans,1+min(tyrion(start+1,i-1),tyrion(start,i-1)-1)+min(tyrion(i+1,stop),tyrion(i,stop)-1));
 
 return ans;
}
inline bool cmp(const int &lhs, const int &rhs) {
    return a[lhs] < a[rhs];
}

int main() {

ios_base::sync_with_stdio(false);
cin.tie(NULL);
cout.tie(NULL);
//freopen("alter.in","r",stdin);
//freopen("alter.out","w",stdout);
 int t;
 scanf("%d",&t);
 
 while(t--) 
 {
 int i,j,f,ans=0;
 scanf("%d",&f);
 for(int i=0;i<f;i++)
  	scanf("%d",&a[i]);
 int x,y,n=0;
 for(x=0;x<f;x++)
 {
  repl[n]=a[x];
  n++;
  for(y=x;y<f;y++)
   	if(a[x]!=a[y]) 
   		break;
  x=y-1;
 }
for(int i=0;i<n;i++)
	for(int j=0;j<n;j++) 
		dp[i][j]=1000000000;
 
//memset(dp, 1000000000, sizeof(int [105][105]));
  ans=tyrion(0,n-1);
  printf("%d\n",ans);
 }
 return 0;
}