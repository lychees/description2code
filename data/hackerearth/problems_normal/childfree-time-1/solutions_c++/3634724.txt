#include <bits/stdc++.h>
using namespace std;
#define mod 1000000007
#define N 5000005
#define ll long long
#define p(t) cout<<t;
#define f(i,n) for(i=0;i<n;i++)
#define g(i,n) for(i=1;i<=n;i++)
#define s(x) scanf("%I64d",&x);
#define pb push_back
#define mp make_pair

ll a[N],b[N],r,m,n,d[N];
vector<pair<ll,ll> >v[N];

ll dfs(ll x){
   if(a[x])return a[x];
   if(v[x].size()==0)return 0;
   a[x]=2;
   ll k=0;
   for(int i=0;i<v[x].size();i++){
    k=max(k,dfs(v[x][i].first)+v[x][i].second);
   }
   a[x]+=k;
   return a[x];
}

int main()
{
ios_base::sync_with_stdio(0);
ll k=0,t=0,x,sum=0,q=0,z=0,y=0,l=0,i,j;
cin>>n>>m;
f(i,m){
        cin>>x>>y>>z;
        v[x].pb(mp(y,z));
}
g(i,n) r=max(r,dfs(i));
p(r);
return 0;
}
