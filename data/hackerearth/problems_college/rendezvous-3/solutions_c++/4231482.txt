#include<bits/stdc++.h>
			#define f(i,l,r) for(i=l;i<r;i++)
#define fr(i,r,l) for(i=r;i>l;i--)
#define s(n) scanf("%lld",&n)
#define pl(n) printf("%lld\n",n)
#define ss(s) scanf("%s",s);
#define sz size()
#define ll long long int
#define pb push_back
#define mp make_pair
#define vll vector<ll>
#define pll pair<ll,ll>
#define F first
#define S second
#define mod 1000000007
#define maxa 1000005
#define maxv 1000000009
#define pi 3.14159265358979323846
#define all(v) v.begin() , v.end()
using namespace std;
ll parent[500005],dist[500005]={0};
vector< pair< ll, pair<ll,ll> > >v;
vector< pll > v1[500005];
ll n,m;
ll find(ll x){
    if(parent[x] == x)
        return x;
    else
        return parent[x]=find(parent[x]);
}
ll dfs(ll i,ll p){
    ll j,R;
    R = 1;
    for(j=0;j<v1[i].size();j++){
        if(v1[i][j].F != p){
            ll k = dfs(v1[i][j].F , i);
            dist[v1[i][j].S]+=k*(n-k);
            R+=k;
        }
    }
    return R;
}
int main(){
    ll i,x,y,z,t1,t2,bm;
    v.clear();
    scanf("%lld%lld",&n,&m);
    f(i,0,n+5)
        parent[i]=i;
    for(i=0;i<m;i++){
        scanf("%lld%lld%lld",&x,&y,&z);
        v.push_back(pair< ll,pair<ll,ll> >(z,pair<ll,ll>(x,y)));
    }
    sort(v.begin(),v.end());
    ll ans=  0;
    for(i=0;i<v.size();i++){
        y = v[i].second.second;
        x = v[i].second.first;
        t1 = find(x);
        t2 = find(y);
        if(t1 != t2){
            parent[t1] = t2;
            v1[x].pb(mp(y,v[i].F));
            v1[y].pb(mp(x,v[i].F));
            ans += v[i].F;
        }
    }
   /* f(i,0,bm+1)
        dist[i] = 0;
    dfs(1,1);
    f(i,0,bm){
        dist[i+1]+=dist[i]/2;
        dist[i]%=2;
    }
    while(dist[bm] > 1){
        dist[bm+1]+=dist[bm]/2;
        dist[bm]%=2;
        bm++;
    }
    for(i=bm;i>=0;i--){
        printf("%lld",dist[i]);
    }*/
    printf("%lld\n",ans);
    return 0;
}
