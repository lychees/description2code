/*Deathsurgeon
 *B.Tech-3rd semester
 *IIIT - Allahabad
 */

#include <iostream>
#include <cstdio>
#include <math.h>
#include <string>
#include <cstring>
#include <algorithm>
#include <cstdlib>
#include <stack>
#include <queue>
#include <vector>
#include <map>

typedef long long LL;

#define MOD 1000000007
#define MAX 1000000
#define sd(x) scanf("%d", &x)

using namespace std;


int n;
bool togo[101][101];

int main() {
	cin >> n;
	
	for (int i=1; i<=n; i++) {
		int k=i;
	//	printf("%d: ", i);
		while (k) {
			int j=k;
			while (j<=n && togo[j][i]==false) {
			//	printf("%d ", j);
				togo[j][i]=true;
				j<<=1;
			}
			k>>=1;
		}
	//	putchar(10);
	}
	
	int arr[n+1][n+1];
	
	for (int i=0; i<n; i++) {
		for (int j=1; j<=n; j++) scanf("%d", &arr[i][j]);
	}
	
	for (int i=1; i<n; i++) {
		for (int j=1; j<=n; j++) {
			int add=0;
			
			for (int k=1; k<=n; k++) {
				if (togo[j][k]==true && add<arr[i-1][k]) add=arr[i-1][k];
			}
			
			
			if (add==0) arr[i][j]=0;
			else arr[i][j]+=add;
		}
	}
	
	int mx=0;
	for (int i=1; i<=n; i++) {
		if (arr[n-1][i]>mx)mx=arr[n-1][i];
	}
	
	cout << mx;
	
	return 0;
}