#include <bits/stdc++.h>
using namespace std;

typedef long long LL;

#define PII       pair<int,int>
#define all(c)    c.begin(),c.end()
#define sz(c)     (int)c.size()
#define clr(c)    c.clear()
#define pb        push_back
#define mp        make_pair
#define cin(x)    scanf("%d",&x)
#define MOD		1000000007
#define EPS		1E-10

LL dp[101][101];
int arr[101];

const LL inf = 1LL * MOD * MOD;

LL solve(int idx,int left)
{
	if(left == 0) return 0;
	else if(dp[idx][left] != -1) return dp[idx][left];
	LL ret = -inf;
	for(int next = 0; next < idx; next++)
		ret = max(ret, abs(arr[next] - arr[idx]) + solve(next, left - 1));
	return (dp[idx][left] = ret);
}

void solve()
{
	int n,m;
	cin(n);
	cin(m);
	for(int i = 0; i < n; i++)
		cin(arr[i]);
	memset(dp,-1,sizeof(dp));
	LL ans = 0;
	for(int i = 0; i < n; i++)
		ans = max(ans, solve(i, m - 1));
	printf("%lld\n",ans);
}

int main()
{
	int t;
	cin(t);
	while(t--)
		solve();
	return 0;
}