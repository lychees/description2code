#include<iostream>
#include<algorithm>
#include<math.h>
#include<string.h>
#include<stack>
#include<queue>
#include<stdio.h>
using namespace std;
int main()
{
    int t,n,n1,tp,ctr,i,j,ld;
    cin>>t;
    while(t--)
    {
    	ctr=0;
    	cin>>n;
    	n1=n;
    	int *h=new int[15];
    	for(j=0;j<15;j++)
    	   h[j]=0;
    	while(n1>0)
    	{
    		ld=n1%10;
    		h[ld]=1;
    		n1=n1/10;
    	}
    	
      if(n==1)
      {
    	   if(h[1]==1)	
    		cout<<1<<endl;
    	   else
    		cout<<0<<endl;
	  }
    	
      else
      {
		for(i=1;i*i<=n;i++)
    	{
    		if(n%i == 0)
    		{
    			tp=i;
    		    while(tp>0)
    		    {
    		    	if(h[tp%10] == 1)
    		    	{
    		    		ctr++;
    		    		//cout<<"hi1"<<" "<<i<<endl;
    		    	     break;
					}	
					tp=tp/10;
    		    }
			}

    		if((n%(n/i) == 0) && (i != n/i))
    		{
    			tp=n/i;
    		    while(tp>0)
    		    {
    		    	if(h[tp%10] == 1)
    		    	{
    		    		ctr++;
    		    		//cout<<"hi2"<<" "<<n/i<<endl;
    		    	     break;
					}	
					tp=tp/10;
    		    }
			}
    	}
    	
    	cout<<ctr<<endl;
      }
	}
	return 0;
}

