#include <iostream>
#include<string.h>
using namespace std;

int main()
{ int t;
    	cin>>t;
	while(t--)
	{   long long l,n=0,q=0;
		cin>>l;
		 string a; 
		cin>>a;
		long long  k=0;
		 long  long left=0,right=0;
		while(left<l && right<l)
		{
		  while(a[right+1]!=NULL && a[right]<=a[right+1] )
		     {
			right++;
		    }
		k=right-left+1;
		q=q+ k*(k+1)/2;
		left=right+1;
		right=right+1;
		}
		cout<<q<<endl;
	}
    return 0;
}
