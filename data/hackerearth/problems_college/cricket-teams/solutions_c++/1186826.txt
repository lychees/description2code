#include <bits/stdc++.h>
using namespace std;

int main()
{
		int n;
    	priority_queue<int> minH;
        priority_queue<int> maxH;
        while(true){
        	scanf("%d",&n);
        	if(n==-2)
        		break;
        		
        	if(n==0){
				if(minH.size()==maxH.size())
				{	printf("%d\n",-1); }
				else{
					if(minH.size()>maxH.size())
						printf("%d\n",-minH.top());
					else
						printf("%d\n",maxH.top());
				}
        	}				
			else{
		
				if(minH.size()==0 && maxH.size()==0)
				{	minH.push(-n);	}
				else{
					if(n<(-minH.top()))
					{	maxH.push(n);  }						
					else{
						minH.push(-n);
						maxH.push(-minH.top());
						minH.pop();
					}
						
					if((maxH.size()-minH.size()) >= 2) {
							minH.push(-maxH.top());
							maxH.pop();
					}
				}
			}
        	
        	
        }
    return 0;
}
