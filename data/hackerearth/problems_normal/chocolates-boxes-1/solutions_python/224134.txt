t = input()
for _ in range(t):
	n = input()
	ar = map(int,raw_input().split())
	k = input()
	temp = [0]*(k+1)
	for i in range(n):
		if ar[i] < k:
			temp[ar[i]] += 1
	c = 0
	for i in range(1,(k/2)+1):
		if i * 2 == k and temp[i] > 1:
			c += ((temp[i] * (temp[i]-1))/2)
		else:
			c += (temp[i] * temp[k-i])
	print c
