#include <cstdio>
#include <algorithm>
using namespace std;
struct node {
    int x1,x2,y2,y1;
    char c;
};
bool intersect(int x,int y,int x1,int y1,int x2,int y2)
{
    if(min(x1,x2)<=x && max(x1,x2)>=x && min(y1,y2)<=y && max(y1,y2)>=y)
	return true;
    return false;
}
int main() 
{
    int n,k;
    scanf("%d %d",&n,&k);
    node arr[k];
    for(int i=0;i<k;i++)
    {
	scanf("\n%d %d %d %d %c",&arr[i].x1,&arr[i].y1,&arr[i].x2,&arr[i].y2,&arr[i].c);

    }
    int ans=0;
    for(int i=1;i<=n;i++)
    {
	for(int j=1;j<=n;j++)
	{
	    int p = k-1;
	    int flag=1;
	    while(p>=0)
	    {
		if(intersect(i,j,arr[p].x1,arr[p].y1,arr[p].x2,arr[p].y2))
		{
		    if(arr[p].c=='b')
		    {
			flag=0;
		    }
		    break;
		}
		p--;
	    }
	    ans+=flag;
	}
    }
    printf("%d\n",ans);
    return 0;
}