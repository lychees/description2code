#include<iostream>
#include<cstdio>
#include<vector>
#include<string>
#include<map>
#include<math.h>
using namespace std;

int main()
{
int T;
cin>>T;
while(T--)
{
    int n;
    cin>>n;

    vector<int> inp(n);
    vector<int> myMap(9000,0);
    //map<int,int > myMap;
    int count=0;
    for(int i=0;i<n;i++)
    {
        cin>>inp[i];
    }
    for(int i=0;i<n;i++)
    {
        for(int j=i+1;j<n;j++)
        {
            for(int k=2;k<=18;k++)
            {
                int third = k*k*k - inp[i] -inp[j];
                if(third>0 && myMap[third] > 0)
                {
                    count+= myMap[third];
                }
            }
        }
        if(myMap[inp[i]])
            myMap[inp[i]]++;
        else
            myMap[inp[i]]=1;

    }
    //cout<<endl<<count<<" "<<n*(n-1)*(n-2)/6<<endl;
    double nn=n;
    printf("%.9f\n",double(count*6.0)/(nn*(nn-1)*(nn-2)));

}


}

