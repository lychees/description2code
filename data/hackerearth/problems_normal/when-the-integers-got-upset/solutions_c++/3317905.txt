#include <iostream>
#include <string.h>
#include <math.h>
#define ll long long int
#define LIM 1000000000
using namespace std;
ll dp[6000][15][15];
int n,a[15],p[15];
int ones(ll num){
	int count=0;
	while(num){
		num=num&(num-1);
		count++;
	}
	return count;
}
ll solve(ll mask,int last,int slast){
	if(dp[mask][last][slast]!=-1)
		return dp[mask][last][slast];
	ll ans=LIM;
	int o=ones(mask);
	if(o==n)
		return 0;
	for(int i=0;i<n;i++){
		if(((mask)&(1<<i))==0){
			ans=min(ans,(a[i]^a[last]^a[slast])*p[o]+solve(mask|(1<<i),i,last));
		}
	}
	dp[mask][last][slast]=ans;
	return dp[mask][last][slast];
}
int main(){
	int t;
	cin >> t;
	while(t--){
		memset(dp,-1,sizeof(dp));
		cin >> n;
		for(int i=0;i<n;i++){
			cin >> a[i];
		}
		for(int i=0;i<n;i++){
			cin >> p[i];
		}
		ll ans=LIM,mask;
		for(int i=0;i<n;i++){
			for(int j=0;j<n;j++){
				if(i!=j){
					mask=(1<<i)|(1<<j);
					ans=min(ans,solve(mask,i,j));
				}
			}
		}
		cout << ans <<endl;
	}
	return 0;
}