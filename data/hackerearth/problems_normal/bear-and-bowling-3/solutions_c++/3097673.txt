#include <cstdio>
#include <algorithm>

using namespace std;

const int MOD = 1e9 + 7;
int n,i,j,a[200005];

int main(){
	scanf("%d", &n);
	for(i = 0; i < n; i++)
	scanf("%d", &a[i]);
	long long val = 1;
	for(i = 0; i < n - 1; i++)
	val = (val * 2) % MOD;
	long long temp = 1;
	for(i = 0; i < n - 2; i++)
	temp = (temp * 2) % MOD;
	long long ans = 0;
	for(i = 0; i < n; i++){
		ans = (ans + (val * a[i]) % MOD) % MOD;
		val = (val + temp) % MOD;
	}
	printf("%lld\n", ans);
}
