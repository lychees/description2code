#include<bits/stdc++.h>
using namespace std;
int arr[10000009]={};
int main()
{
    int q;
    scanf("%d",&q);
    for(int i=0;i<q;i++)
    {
        int n,m;
        scanf("%d%d",&n,&m);
        if(n==0)
        {
            int p=0;
            while(true)
            {
                int t=m/(int)powl(2,p);
                arr[t]++;
                p++;
                if(t==0)
                    break;
            }
        }
        if(n==1)
        {
            int p=0;
            while(true)
            {
                int t=m/powl(2,p);
                arr[t]--;
                p++;
                if(t==0)
                    break;
            }
        }
        if(n==2)
        {
            printf("%d\n",arr[m]);
        }
    }
}
