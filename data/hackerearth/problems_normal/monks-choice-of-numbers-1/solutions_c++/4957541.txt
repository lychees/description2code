#include <stdio.h>
#include<algorithm>
using namespace std;
#define ll long long int
ll count(ll n){
	ll c=0;
	while(n>0){
		n=(n&(n-1));
		c++;
	}
	return c;
}
int main()
{
    ll t;
    scanf("%lld",&t);
    while(t--){
    	ll n,k;
    	scanf("%lld%lld",&n,&k);
    	ll a[n],b[n],i,maxind,s=0;
    	for(i=0;i<n;i++){
    		scanf("%lld",&a[i]);
    		b[i]=count(a[i]);
    	}
    	sort(b,b+n);
    	maxind=n-k;
    	for(i=maxind;i<n;i++){
    		s+=b[i];
    	}
    	printf("%lld\n",s);
    }
    return 0;
}
