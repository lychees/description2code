#include <bits/stdc++.h>

using namespace std;
vector<int> v[15];
int a[15], A[100005];


int main()
{ 
    //freopen("input.txt", "r", stdin);
    int n, q, m, ans;
    cin >> n >> q;
    char s[10];
    for(int i = 1;i <= n;++i)
    {
        sprintf(s, "%d", i);
        for(int j = 0, l = strlen(s);j < l;++j)
            v[s[j] - '0'].push_back(i);
    }
    while(q--)
    {
        cin >> m;
        for(int i = 0;i < m;++i)
            cin >> a[i];
        for(int i = 1;i <= n;++i)
            A[i] = false;
        ans = 0;
        for(int i = 0;i < m;++i)
            for(int j = 0;j < v[a[i]].size();++j)
                if(A[v[a[i]][j]] == false)
                    A[v[a[i]][j]] = true, ans++;
        cout << ans << endl;
    }
    return 0;
}