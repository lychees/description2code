#include <bits/stdc++.h>
using namespace std;

int main()
{
    char str[150];
    int X,Y,N,T,count;
    cin>>T;
    while(T--)
    {
    	count=0;
	    cin>>str;
	    scanf("%d",&N);
	    scanf("%d%d",&X,&Y);
	    for(int i=X-1;i<Y;i++)
	    {	
	    	int val=0;
	    	for(int j=i;j<Y;j++)
	    	{
	    		val=val*10+str[j]-'0';
	    		val%=N;
	    		if(!val)
	    		count++;
	    	}
	    }
	    printf("%d",count);
	    cout<<endl;
    }
    
    return 0;
}