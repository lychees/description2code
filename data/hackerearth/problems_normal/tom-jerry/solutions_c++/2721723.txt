#include <iostream>
#include <vector>
using namespace std;

void solution(int i, int j, const int N, int &ret, 
	const vector<vector<int>> &grid, vector<vector<bool>> &check) 
{
	if(i==N-1 && j==N-1) {
		++ret;
		return;
	}
	if(i<0 || j<0 || i==N || j==N || grid[i][j] || check[i][j]) return;
	check[i][j] = true;
	solution(i-1,j,N,ret,grid,check);
	solution(i,j-1,N,ret,grid,check);
	solution(i+1,j,N,ret,grid,check);
	solution(i,j+1,N,ret,grid,check);
	check[i][j] = false;
	return;
}

int main()
{
    int N;
    cin >> N;
    vector<vector<int>> grid(N,vector<int>(N));
    vector<vector<bool>> check(N,vector<bool>(N,false));
    for(int i=0; i!=N; ++i) {
    	for(int j=0; j!=N; ++j) {
    		cin >> grid[i][j];
    	}
    }
    int ret = 0;
    solution(0,0,N,ret,grid,check);
    cout << ret << endl;
    return 0;
}
