#include<bits/stdc++.h>
using namespace std;

int BIT[2000005];
int arr[2000005];
int n;
void update(int pos,long long int val,int type){

   int first=arr[pos];
   arr[pos]=val;
   for(;pos<=n;pos+=(pos&-pos)){
        if(type==0)
          BIT[pos]+=val;
        else{
          if(first>val){
            BIT[pos]--;
          }
          else if(val>first)
            BIT[pos]++;
        }
   }

}

int query(int pos){
    int ans=0;
    for(;pos>0;pos-=(pos&-pos))
         ans+=BIT[pos];
    return ans;
}


int check(long long int x){
        int plus=0;
        if(x>=0){
            long long int last=x%10;
            long long int first=x%10;
            while(x>0){
                first=x%10;
                x=x/10;
            }
            if(first==last)
                plus++;
        }
        return plus;
}

int main(){

    int q;
    cin>>n>>q;
    for(int i=0;i<n;i++){
        long long int x;
        cin>>x;
        arr[i+1]=check(x);
        update(i+1,arr[i+1],0);
    }
    for(int i=0;i<q;i++){
        int type;
        cin>>type;
        if(type==2){
            long long int i,k;
            cin>>i>>k;
            int val=check(k);
            update(i,val,2);
        }
        else{
            int l,r;
            cin>>l>>r;
            cout<<query(r)-query(l-1)<<endl;
        }
    }

    return 0;
}
