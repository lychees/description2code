//In the name of God
#include <bits/stdc++.h>
using namespace std;
const int Maxn = 550;
typedef long long ll;
ll dp[Maxn][Maxn];
ll arr[Maxn];
ll sum[Maxn];
int main(){
	int n,k;
	cin >> n >> k;
	for(int i = 0; i < n;i++) cin >> arr[i],sum[i+1] = sum[i] + arr[i];
	for(int i = 0; i < Maxn;i++)
		for(int j = 0; j < Maxn;j++)
			dp[i][j] = 4e18;
	dp[n][0] = 0;
	for(int i = n-1; i + 1;--i){
		for(int j = i; j < n;j++){
			ll s = sum[j + 1] - sum[i];
			for(int r = 1; r <= k;r++){
				dp[i][r] = min(dp[i][r],dp[j + 1][r - 1] + ((s * s) * (k - 1)) - (2 * s * (sum[n] - sum[j + 1])));
			}
		}
	}
	cout << dp[0][k] << endl;
	return 0;
}