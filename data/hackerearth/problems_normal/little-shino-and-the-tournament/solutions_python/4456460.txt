n,q = map(int,raw_input().strip().split(" "))
weight = map(int,raw_input().strip().split(" "))
totalCount = 0
fighters = range(0,n)
fights = [0]*n
fightersSubArray = []
while(len(fighters)>1):
    index = 0
    while(index < len(fighters)):
        if((index+1)<len(fighters)):
            fights[fighters[index]] += 1
            fights[fighters[index+1]] += 1
            if(weight[fighters[index]] < weight[fighters[index+1]]):
                fightersSubArray.append(fighters[index+1])
            elif(weight[fighters[index]] > weight[fighters[index+1]]):
                fightersSubArray.append(fighters[index])
            else:
                fightersSubArray.append(fighters[index])
                fightersSubArray.append(fighters[index+1])
        else:
            fightersSubArray.append(fighters[index])
        index += 2
    fighters = []
    fighters = fightersSubArray
    fightersSubArray = []



i = 0
while i<q:
    indexVal = int(raw_input())
    print fights[indexVal-1]
    i+=1
