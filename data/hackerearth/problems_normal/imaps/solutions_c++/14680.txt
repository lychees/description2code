#include <iostream>
#include <queue>

using namespace std;
typedef struct
{
	bool flag;
	int *adj;
	int len;
}node;
int main ()
{
	int t,n,a,b;
	node *graph;
	bool ex;
	cin>>t;
	for(int k=1;k<=t;++k)
	{
		ex=false;
		queue<int> q;
		cin>>n;
		graph=new node[n];
		for(int i=0;i<n;++i)
		{
			cin>>a;
			graph[i].len=a;			
			graph[i].adj=new int[a];
			graph[i].flag=false;
			for(int j=0;j<a;++j)
				cin>>graph[i].adj[j];						
		}
		for(int i=0;i<n;++i)
		{
			q.push(i);
			graph[i].flag=true;
			while(!q.empty())
			{
				int x=q.front();
				q.pop();
				for(int j=0;j<graph[x].len;++j)
				{
					if(graph[graph[x].adj[j]-1].flag!=true)
					{
						graph[graph[x].adj[j]-1].flag=true;
						q.push(graph[x].adj[j]-1);
						//cout<<graph[x].adj[j]-1<<endl;
					}
					else
					{
						cout<<"#"<<k<<":Yes\n";
						ex=true;
						break;
					}
				}
				if(ex==true)
					break;
			}
			if(ex==true)
				break;
			for(int l=0;l<n;++l)
				graph[l].flag=false;
		}
		if(ex==false)
			cout<<"#"<<k<<":No\n";
	}
	return 0;
}
