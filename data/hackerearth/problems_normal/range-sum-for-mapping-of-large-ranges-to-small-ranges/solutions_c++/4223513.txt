#include <bits/stdc++.h>
#define SI set<int> 
#define VI vector<int> 
#define ull unsigned long long 
#define inint(a) scanf("%d",&a)
#define input(a) cin>>a
#define ll long long 
#define print(a) cout<<a
#define printn(a) cout<<a<<"\n"
#define f first
#define s second
#define len(s) s.length()
#define range(a,b,n) for(int i=a;i<b;i+=n)
using namespace std;
vector<ll> G[200000];
vector <ll> visited(200000,0);
vector <ll> cc(200000);
ll mod=1000000007;
void dfs(int v,int id){
	//cout<<v<<" visited.";
	visited[v]=1;
	
	cc[v]=id;
	//cout<<cc[v]<<" ";
	for(int i=0;i<G[v].size();i++){
		if(!visited[G[v][i]]){
			//cc[G[v][i]]=id;
			dfs(G[v][i],id);
		}
	}
}
int main()
{
	int t;
	inint(t);
	while(t--){
		int n,m;
		inint(n);
		inint(m);
		for(int i=1;i<=n;i++){
			visited[i]=0;
			cc[i]=0;
		}
		for(int i=0;i<m;i++){
			int a,b;
			inint(a);
			inint(b);
			G[a].push_back(b);
			G[b].push_back(a);
		}
		for(int i=1;i<=n;i++){
			if(!visited[i])
				dfs(i,i);
		}
		sort(cc.begin(),cc.begin()+n+1);
		int count=1;
		ll ans=1;
		for(int i=1;i<=n;i++){
			//cout<<cc[i]<<" ";
			if(cc[i]==cc[i-1])count++;
			else {
				//cout<<count<<" ";
				if(count==1)ans*=1;
				else{
					ans=((ans%mod)*(((count*(count-1))/2)%mod)%mod);
					//ans/=2;
				}
				count=1;
			}
		}
		cout<<ans<<"\n";
		for(int i=1;i<=n;i++){
			G[i].clear();
		}
		
	}
	
	return 0;
}