#include <iostream>
#include <stdlib.h>
#include <string.h>

using namespace std ; 

int main ()
{
	int test ;
	cin >> test ; 
	
	for(int i = 0 ; i < test ; i++)
	{
		string str ;
		cin >> str ;
		
		int size = str.length() ;
		
		int array[size][size] ;
		
		
		unsigned long long int sum = 0 ; 
		
		for(int len = 1 ; len <= size ; len++)
		{
			int i = 0 , j = len-1 ;
			while(i<size && j <size)
			{
				if(str[i]==str[j])
				{
					if(len > 2 && array[i+1][j-1] == 1)
					{
						array[i][j] = 1 ;
						sum += len*len ;
					}
					else if (len <= 2)
					{
						array[i][j] = 1 ;
						sum += len*len ;
					}
					else
					{
						array[i][j] = 0 ;
					}
				}
				else 
				{
					array[i][j] = 0 ;
				}
				i++ ; j ++ ;
			}
		}
		cout << sum << endl ; 
	}
	
	
	return 0 ;	
}