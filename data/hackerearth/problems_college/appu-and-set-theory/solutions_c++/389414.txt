#include <iostream>
using namespace std;
#define ull unsigned long long
#define MOD 1000000007
ull mod(ull base,ull e,ull mod)
{
	ull res=1;
	while(e)
	{
		if(e&1) res=(res*base)%mod;
		base=(base*base)%mod;
		e=e>>1;
	}
	return res;
}
int main()
{
   ull x,a,x1,x2;
   int i,n;
   cin>>n;
   if(n==1)
  	{
  		cin>>a;
  		cout<<mod(2,a,MOD);
  	}
  	else
  	{
  		cin>>a;
  		x1=mod(2,a,MOD);
  		cin>>a;
  		x2=mod(2,a,MOD);
  		x=(x1+x2+(x1*x2)%MOD)%MOD;
	   for(i=2;i<n;i++)
	   {
	   		cin>>a;
	   		x1=mod(2,a,MOD);
	   		x=((x*(1+x1))%MOD+x1)%MOD;
	   }
	   cout<<x;
  	}
    return 0;
}
