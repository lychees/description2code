#include<iostream>
using namespace std;
typedef long long ll;
ll gcdex(ll a, ll b, ll & x, ll & y) {
	if (a == 0) {
		x = 0; y = 1;
		return b;
	}
	ll x1, y1;
	ll d = gcdex(b%a, a, x1, y1);
	x = y1 - (b / a) * x1;
	y = x1;
	return d;
}
ll inv(ll a, ll m)
{
	ll x,y;
	ll g = gcdex(a, m, x, y);
	if (g != 1)
		return 0;
	else {
		x = (x % m + m) % m;
		return x;
	}
}
int main()
{
	int t;
	cin >> t;
	for (int tt = 1; tt <= t; tt++)
	{
		ll a1, n, p;
		cin >> a1 >> p >> n;
		ll a2 = inv(a1, p);
		if ((a1*a2) % p != 1)
		{
			cout << -1 << endl;
			continue;
		}
		ll ans;
		if (n % 2 == 0)
		{
			ll tmp = n / 2;
			ans = a1*tmp + a2*tmp;
		}
		else
		{
			ll tmp = n / 2;
			ans = a1*(tmp + 1) + a2*tmp;
		}
		cout << ans << endl;
	}
}