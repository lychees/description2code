#include<bits/stdc++.h>
using namespace std;
int main(){
	long long n,q;
	cin>>n>>q;
	bool arr[n+1];
	for(int i=0;i<n;i++)
		arr[i]=false;
	while(q--){
		int c;
		long long l,r;
	    cin>>c>>l>>r;
		if(c==0){
			for(long i=l;i<=r;i++){
				if(arr[i]==true)
					arr[i]=false;
				else
					arr[i]=true;
			}
			
		}
		else{
			long long count=0;
			for(long i=l;i<=r;i++){
				if(arr[i])
					count++;
			}
			cout<<count<<endl;
		}
	}
}