#include<iostream>
#include<stack>
#include<map>
#include<utility>
#include<stdlib.h>
#include<math.h>
#include<stdio.h>
#include<map>
#include<fstream>
#include<algorithm>
#include<bitset>
#include<vector>
#include<cstring>
using namespace std;
#define mp make_pair
#define f first
#define pb push_back
#define s second
#define ull unsigned long long
#define ll long long
#define MOD 1000000007
int GCD(int a, int b)
{
    while( 1 )
    {
	a = a % b;
	if( a == 0 )
	    return b;
	b = b % a;

	if( b == 0 )
	    return a;
    }
}
bool p[10000001]={0};
int ans[10000001]={0};
void init()
{
    for(ll i=2;i<10000001;i++)
    {
	if(!p[i])
	{
	    ans[i]=1;
	    for(ll j=i*i,k=i;j<=10000000;j+=i,k++)
	    {
		p[j]=1;
		ans[j]=i;
	    }
	}
    }
   for(int i=4;i<10000001;i++)
    {
	if(ans[i]!=1)
	{
	    ans[i]=ans[ans[i]]+ans[i/ans[i]];
	}
    }
}
int main()
{
    init();
    int t;
    cin>>t;
    while(t--)
    {
	int u,v;
	scanf("%d %d",&u,&v);
	int g = GCD(u,v);
	v/=g;
	u/=g;
	printf("%d\n",(ans[v]+ans[u]));
    }
    return 0;
}
