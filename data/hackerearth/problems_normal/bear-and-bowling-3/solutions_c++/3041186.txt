#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define mod 1000000007
ll pow1(ll a,ll b)
{
	ll res=1;
	while(b)
	{
		if(b&1) res=(res*a)%mod;
		a=(a*a)%mod;
		b/=2;
	}
  return res;
}
int main()
{
    ll n;
    cin>>n;
    ll ans=0;
    ll x=pow1(2,n-1)%mod;
    ll y=pow1(2,n-2)%mod;
    for(ll i=0;i<n;i++)
    {
    	ll a;
    	cin>>a;
    	a=(a*x)%mod;
        ans=(ans+a)%mod;
        x=(x+y)%mod;
    }
    cout<<ans;
    return 0;
}
