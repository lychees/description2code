#include<iostream>
using namespace std;
void merge(int a[],int p,int q,int r1)
{
   int n1,n2,k,i,j,n;
  
   n1=q-p+1;
  n2=r1-q;
  int l[n1+1],r[n2+1];

for(i=0;i<n1;i++)
 l[i]=a[p+i];
for(j=0;j<n2;j++)
 { r[j]=a[(q+1)+j];
    
}

l[n1]=r[n2]=-2147483645;
i=j=0;
for(k=p;k<=r1;k++)
 {
   if(l[i]>=r[j])
    {
   a[k]=l[i];
   i++;
    
     }
else if(r[j]>l[i])
{
a[k]=r[j];
   j++;
}
}

}
void mergesort(int a[],int p,int r)
{
   if(p<r)
{
  int q=(p+r)/2;
mergesort(a,p,q);
mergesort(a,q+1,r);
merge(a,p,q,r);
}
}
int main()
{
  int t,k,n,sum;
   cin>>t;
   while(t--)
    {
      cin>>n;
      cin>>k;
      int no[n],arr[n],c,i,j;
   for(j=0;j<n;j++)
      { cin>>no[j];
         c=0;
     while(no[j])
    {
        no[j]=no[j]&(no[j]-1);
        c++;
     }
  arr[j]=c;
    }
 
       mergesort(arr,0,n-1);

       sum=0;
      for(i=0;i<k;i++)
        sum+=arr[i]; 
     cout<<sum<<endl;; 
   }
  return 0;
}
