#include<bits/stdc++.h>
using namespace std;
int main(){
	int n,q;
	string str;
	cin>>n;
	unordered_map<string,vector<int> >m;
	unordered_map<string,vector<int> >::iterator p;
	for(int k=1;k<=n;k++){
		cin>>str;
		for(int i=0;str[i]!='\0';i++){
			string temp="";
			for(int j=i;str[j]!='\0';j++){
				temp+=str[j];
				p=m.find(temp);
				if(p==m.end()){
					m[temp].push_back(k);
				}
				else if(p->second.back()!=k) p->second.push_back(k);
			}
		}
	}
	cin>>q;
	while(q--){
		int a,b;
		string str2;
		cin>>a>>b>>str2;
		p=m.find(str2);
		cout<<upper_bound((p->second).begin(),(p->second).end(),b)-lower_bound((p->second).begin(),(p->second).end(),a)<<endl;
	}
	return 0;
}