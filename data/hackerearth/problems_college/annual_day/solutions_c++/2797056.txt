#include <iostream>
#include <queue>
using namespace std;

int inttobinary(int n) {
	string s;
	int counter=0;
	while(n!=0) {
			if(n%2==1) {
				s+='1';
				counter++;
			}
			else
				s+='0';
			n = n/2;
		}
	return counter;
}
	
int main() {
	int t;
	cin>>t;
	while(t--) {
		priority_queue<int> myqueue;
		int n,k,i,max=0;
		int s;
		cin>>n>>k;
		int arr[110]={0};
		for(i=0;i<n;i++) {
			cin>>arr[i];
			s=inttobinary(arr[i]);
			myqueue.push(s);
		}
		for(i=0;i<k;i++) {
			max += myqueue.top();
			myqueue.pop();
		}
		cout<<max<<"\n";
	}
	return 0;
}