#include <bits/stdc++.h>
using namespace std;
# define ll long long
int main()
{
	ll p1,p2,l,r,pp;
	double diff,ans;
	int t;
	cin>>p1>>p2>>t;
	pp=p1*p2;
	while(t--)
	{
		cin>>l>>r;
		ll tmp1=l/p1;
		ll tmp2=r/p1;
		ll tmp3=l/p2;
		ll tmp4=r/p2;
		if(l%p1==0)
		tmp2++;
		if(l%p2==0)
		tmp4++;
		tmp2-=tmp1;
		tmp4-=tmp3;
		tmp1=l/pp;
		tmp3=r/pp;
		if(l%pp==0)
		tmp3++;
		tmp3-=tmp1;
		ans=tmp2+tmp4-tmp3;
		diff=r-l+1;
		ans/=diff;
		printf("%.6lf\n",ans);
	}
    return 0;
}
