#include<iostream>
using namespace std;
int main(){
    int t;
    cin>>t;
    for(int k=0;k<t;k++){
int n,flag1=0,flag2=0;
cin>>n;
char a[n][n];
for(int i=0;i<n;i++)
    for(int j=0;j<n;j++)
    cin>>a[i][j];
for(int i=0;i<n;i++){
    for(int j=0;j<n;j++)
if(a[i][j]!=a[n-1-i][j]){
   flag1++;
   break;
}
if(flag1)
    break;
}
for(int i=0;i<n;i++){
    for(int j=0;j<n;j++)
if(a[j][i]!=a[j][n-1-i]){
   flag2++;
   break;
}
if(flag2)
    break;
}

if(flag1!=0 && flag2!=0)
    cout<<"NO";
else
{
if(flag1==0 && flag2==0)
      cout<<"BOTH";
else{
    if(flag1==0)
        cout<<"HORIZONTAL";
    if(flag2==0)
        cout<<"VERTICAL";
}

}
cout<<endl;}


}
