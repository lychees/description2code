#include <stdio.h>
    const int MAXNM = 1100, MAXC = 1000, MOD = 1e9+7;
     
    int dp[MAXNM][MAXNM];
    int next[MAXNM], color[MAXNM], last[MAXC+10];
     
    int mod(int x){
        return ((x%MOD)+MOD)%MOD;
    }
     
    int main(){
        int t, n, m, l;
     
        scanf("%d", &t);
        while(t--){
            scanf("%d %d", &n, &m);
            for(int i = 1; i <= n; i++){
                scanf("%d %d", &l, &color[i]);
                next[l] = i;
            }
            int u = next[0];
     
            for(int i = 0; i <= MAXC; i++) last[i] = -1;
            for(int i = 0; i <= m; i++) dp[0][i] = 1;
     
            for(int i = 1; i <= n; i++){
                dp[i][0] = 1;
                for(int j = 1; j <= m; j++){
                    dp[i][j] = (dp[i-1][j]+dp[i-1][j-1])%MOD;
                    if(last[color[u]]!=-1) dp[i][j] = mod(dp[i][j]-dp[last[color[u]]-1][j-1]);
                }
                last[color[u]] = i;
                u = next[u];
            }
            printf("%d\n", dp[n][m]-1);
        }
     
        return 0;
    }