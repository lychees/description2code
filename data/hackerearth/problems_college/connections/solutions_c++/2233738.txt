#include <bits/stdc++.h>

using namespace std;

int main()
{
	int n;
	int c;
	map<int,int> mp;
	scanf("%d",&n);
	scanf("%d",&c);
	int i, j;
	for (i = 0; i < c; i++) {
		int x,y;
		scanf("%d %d",&x,&y);
		mp[x] = y;
	}
	int q;
	scanf("%d",&q);
	while (q --) {
		int x, y;
		scanf("%d %d",&x,&y);
		if (mp[x] == y) {
			printf("Direct Connection\n");
		} else {
			int f = 0;
			for (map<int,int> :: iterator it = mp.begin(); it != mp.end(); it++) {
				if (it -> second == y) {
					f = 1;
					break;
				}
			}
			if (f == 1) {
				printf("Indirect Connection\n");
			} else {
				printf("No Connection\n");
			}
		}
	}
	
	return 0;
}