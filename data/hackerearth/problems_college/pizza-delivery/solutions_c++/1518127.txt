#include <iostream>
using namespace std;


int main()
{
int d0[101][101],d1[101][101];
int N,M,S,G,D;
cin>>N;
for(int i=0;i<N;i++)
	for(int j=0;j<N;j++)
		cin>>d0[i][j];
	int f;
for(int k=0;k<N;k++){
	for(int i=0;i<N;i++)
		for(int j=0;j<N;j++)
			{
				if(k%2!=0)
					{d0[i][j]=min(d1[i][j],d1[i][k]+d1[k][j]);f=0;}
				else
					{d1[i][j]=min(d0[i][j],d0[i][k]+d0[k][j]);f=1;}
			}
			
}
	cin>>M;
	for(int i=0;i<M;i++)
	{
		cin>>S>>G>>D;
		if(f)
			cout<<d1[S][G]+d1[G][D]<<" "<<d1[S][G]+d1[G][D]-d1[S][D]<<endl;
		else
			cout<<d0[S][G]+d0[G][D]<<" "<<d0[S][G]+d0[G][D]-d0[S][D]<<endl;
	}
		
    
    
    return 0;
}
