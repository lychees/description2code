#include <bits/stdc++.h>
#define debug(x) "debug line: "<<x

using namespace std;
int arr[100000+50];
int sz[100000+50];
int ind_mx, ind_mn;
multiset<int>ms;

void initialise(){
	for(int i=0;i<100000+50; i++){
		arr[i]=i;
		sz[i]=1;
	}
}
int root(int i){
	if(i == arr[i])return i;
	else return arr[i]=root(arr[i]);
}
void uni( int i, int j){
	int rooti=root(i);
	int rootj=root(j);
	if(rooti==rootj)
		return ;
	if(sz[rooti]<sz[rootj]){
		arr[rooti]=rootj;
		ms.erase(ms.find(sz[rootj]));
		ms.erase(ms.find(sz[rooti]));
		sz[rootj]+=sz[rooti];
		ms.insert(sz[rootj]);

		if(sz[rootj]>sz[ind_mx]){
			ind_mx=rootj;
		}


	}
	else{
		arr[rootj]=rooti;
		ms.erase(ms.find(sz[rooti]));
		ms.erase(ms.find(sz[rootj]));
		sz[rooti]+=sz[rootj];
		ms.insert(sz[rooti]);

		if(sz[rooti]>sz[ind_mx]){
			ind_mx=rooti;
		}

	}
}
int main()
{
    int N, Q;
    cin>>N>>Q;
    int a, b;
    ind_mn=ind_mx=0;
    for(int i=0;i<N;i++)
        ms.insert(1);
    initialise();
    
    while(Q--){
    	cin>>a>>b;
    	a--; b--;
    	uni(a, b);
    	int mxx=sz[ind_mx];
    	int mnn=*(ms.begin());
    	//cout<<mxx<<" "<<mnn<<endl;
        cout<<mxx-mnn<<endl;
    }
    return 0;
}
