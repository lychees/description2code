#include <bits/stdc++.h>
using namespace std;
typedef vector<int> vi;
typedef vector<vi> vvi;
typedef long long int lol;
typedef vector<lol> vl;
typedef vector<vl> vvl;
typedef double db;
typedef pair<int,int> pai;
typedef vector< pai > vpi;
#define sz(a) int((a).size())
#define fs first
#define sd second
#define nl '\n'
#define sp ' '
#define ub upper_bound //first element greater than val range[first,last)
#define lb lower_bound //first equal or greater range[first,last)
#define pb push_back
#define mp make_pair
#define all(c) (c).begin(),(c).end()
#define fr(n,i) for(int i=0;i<n;++i)
#define fr1(n) for(int i=0;i<n;++i)
#define fr2(j,a,b) for(int j=a;j<b;++j)
#define MOD 1000000007
#define MAX_N 1000000
int N=16;
lol ans=0;
int n,p,a,b;
vvi check;
vvi dummy(N,vi(N));

void cal(int d,vector<int> B){
    
    if(d>n){
        ans++;
        return;
    }
    //cout<<nl;
    cal(d+1,B);
    fr1(d-1){
        if(B[i+1] && check[i+1][d]){
            return;
        }
    }
    B[d]=1;
    cal(d+1,B);
}

void work(){
    cin>>n>>p;
    check=dummy;
    ans=0;
    vector<int> A(N);
    fr1(p){
        cin>>a>>b;
        check[a][b]=1;
        check[b][a]=1;
    }
    cal(1,A);
    cout<<ans-1<<nl;
}


int main()
{
    ios::sync_with_stdio(false);cin.tie(NULL);cout.tie(NULL);
    int t;
    cin>>t;
    while(t--){
        work();
    }



    return 0;
}



