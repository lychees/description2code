#include <bits/stdc++.h>
using namespace std;
long arr[100003];
long brr[100003];
int main()
{
	ios_base::sync_with_stdio(false);
	int t,n,a,b;
	long c,count,count2;
	cin>>t;
	while(t--)
	{
		count=count2=0;
		memset(arr,0,sizeof(arr));memset(brr,0,sizeof(brr));
		cin>>n;
		cin>>a>>b>>c;
		for(int i=0;i<n;i++)
			cin>>arr[i]>>brr[i];
		for(int i=0;i<n;i++)
		{
			long res=a*arr[i]+b*brr[i]+c;
			if(res<0)
				count++;
			else if(res>0)
				count2++;
		}
		cout<<max(count,count2)<<endl;
	}
	return 0;
}
