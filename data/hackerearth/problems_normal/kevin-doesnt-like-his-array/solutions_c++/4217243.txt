#include <iostream>
#include <vector>
#include <algorithm>
#include <cmath>
#include <cstring>
#include <iterator>
#define ll long long int
#define pb(x) push_back(x)
#define mp(x,y) make_pair(x,y)
#define MAX 100007
using namespace std;
int b[MAX];
int a[MAX];
int c[MAX];
int main()
{
int n;
    cin >> n;
    vector<int> a(n);
    int B = 0;    int C = 0;    int S = 0;
    for(int i=0;i<n;i++)
    {
    	cin>>a[i];
        b[a[i]]++;
        B = max(B , b[a[i]]);
        if (i && a[i] == a[i - 1])
        {
            ++S;
            c[a[i]]++;
            C = max(C,c[a[i]]);
        }
    }
    if (B > (n + 1) / 2)
        cout << -1 << endl;
    else
        cout << max((S + 1) / 2 , C) << endl;
	return 0;
}