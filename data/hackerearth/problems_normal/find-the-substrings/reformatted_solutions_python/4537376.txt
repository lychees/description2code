
t = int(raw_input())
for w in range(t):
    s = raw_input()
    l = len(s)
    cnt = l*(l+1)/2
    a = 0
    b = 0
    c = 0
    for i in range(len(s)):
        if s[i] == 'a':
            a = i+1
            cnt -= min(b, c)
        if s[i] == 'b':
            b = i+1
            cnt -= min(a, c)
        if s[i] == 'c':
            c = i+1
            cnt -= min(a, b)
    print cnt
