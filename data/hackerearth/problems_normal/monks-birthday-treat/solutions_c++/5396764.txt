#include<iostream>
#include<bits/stdc++.h>
 using namespace std;
int n,m,x,y;
int p=0,flag=0;
vector<bool>vis(10001,false);
vector<int> v[100001];
void dfs(int);
 int main()
 {
 int i,j,m1=INT_MAX,count=0;
cin>>n;
cin>>m;
for(i=0;i<m;i++)
{
	cin>>x;
	cin>>y;
	
	v[x].push_back(y);
	
	
	}

for(i=1;i<=n;i++)
{
if(v[i].size()==0)
{
cout<<"1"<<endl;
flag=1;
break;
}
}
if(flag==0){

for(i=1;i<=n;i++)
{ 
	dfs(i);
	
	m1=min(p,m1);
	for(j=1;j<=n;j++)
	vis[j]=false;

p=0;
}
cout<<m1;
}

 }
 
void dfs(int x)
{int i;

vis[x]=true;
p++;
for(i=0;i<v[x].size();i++)
{
	if(vis[v[x][i]]==false)
	dfs(v[x][i]);
}
}