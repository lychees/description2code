#include <iostream>
#include<cmath>
using namespace std;

int level[20];

void printRight(int *arr,int index,int l,int *set)
{
	if(arr[index]!=0)
	{
		if(level[l]==0)
		{
			cout<<arr[index]<<endl;
			level[l]=1;
			set[index]=1;
		}
		printRight(arr,2*index+2,l+1,set);
		printRight(arr,2*index+1,l+1,set);
	}
}

void printLeft(int *arr,int index,int l,int *set)
{
	if(arr[index]!=0)
	{
		if(level[l]==0)
		{
			if(set[index]==0)
			{
				cout<<arr[index]<<endl;
				level[l]=1;
				set[index]=1;
			}
		}
		printLeft(arr,2*index+1,l+1,set);
		printLeft(arr,2*index+2,l+1,set);
	}
}

int main()
{
	int test=0,n=0;
	cin>>test;
	while(test--)
	{
		for(int i=0;i<20;i++)
			level[i]=0;
		int arr[300000]={0},set[300000]={0};
		cin>>n;
		for(int i=0;i<n;i++)
			cin>>arr[i];
		printRight(arr,0,0,set);
		for(int i=0;i<20;i++)
			level[i]=0;
		printLeft(arr,0,0,set);
		cout<<endl;
	}
    return 0;
}
