#include <iostream>
#include <vector>
#include <math.h>
using namespace std;
#define MM 1000000007
//great question
int node[10000] ;
int M,N ;

void init(){
    for( int i = 0 ; i < N ; i ++ ){
        node[i] = 0 ;

    }
}

int main()
{
    int t ;
    cin>>t;
    while( t-- ){
       cin>>N>>M ;
       init() ;
       bool mark = true ;
       int  count = 1 ;
       int ccc = 0 ;
       while( M-- ){
           int u , v ;

           cin>>u>>v ;

           if( node[u] == 0 && node[v] == 0  ){
               node[u] = count;
               node[v] = 0-count ;
               count ++ ;
               ccc++ ;
           }
           else if( node[u] != 0 && node[v] == 0  ){
               node[v] = 0-node[u];
           }
           else if( node[v] != 0 && node[u] == 0 ){
               node[u] = 0-node[v] ;

           }
           else
           {
               if( node[u] == node[v] )
               {
                   mark = false ;
               }
               else if( node[u] != 0-node[v])
               {
                   int temp = node[v] ;
                   for( int i = 0 ; i < N ; i ++ )
                   {

                       if( node[i] == temp   )
                          node[i] = 0-node[u] ;
                       else if( node[i] == 0-temp )
                          node[i] = node[u] ;

                   }
                   ccc-- ;

               }
           }
       }
       if( mark == false )
           cout<<"NOT POSSIBLE"<<endl ;
       else{
          int u1 = 0 ;
          for( int i = 0 ; i < N ; i ++ ){
             if( node[i] == 0 )
                 u1++ ;
          }
          /*cout<<u1<<" "<<count-1<<endl ;
cout<<endl<<ccc<<endl;*/
          long long  all1 = 1 ;
          for( int i = 0 ; i < u1+ccc-1 ; i ++ ){
              if( all1 *2 > MM )
                 all1 = (all1*2)%MM ;
              else all1 = all1*2 ;
          }
          if( u1 == N )
             all1 -= 1 ;

          cout<<all1%MM<<endl ;

       }
    }
    return 0 ;
}
