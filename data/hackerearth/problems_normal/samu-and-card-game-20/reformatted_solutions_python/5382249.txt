for _ in xrange(input()):
    m, n = map(int, raw_input().split())
    x, y = 1, 1
    total_step = 0
    for _ in xrange(input()):
        u, v = map(int, raw_input().split())
        bx = m if u > 0 else 1
        by = n if v > 0 else 1
        mx = float("inf") if u == 0 else (bx - x)/u
        my = float("inf") if v == 0 else (by - y)/v
        max_steps = min(mx, my)
        total_step += max_steps
        x += max_steps*u
        y += max_steps*v
    print total_step
