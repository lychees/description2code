#include <bits/stdc++.h>
using namespace std;

bool prime[1000000];
bool primeprime[1000000];
void sieve(){
	memset(prime,true,1000000);
	prime[0]=prime[1]=false;
	for(int i=2;i*i<=1000000;i++){
		if(prime[i]){
			for(int j=2;i*j<=1000000;j++){
				prime[i*j]=false;
			}
		}
	}
}

void primeprimegen(){
	//memset(primeprime,false,1000000);
	int cntprimes[1000000];
	cntprimes[0]=cntprimes[1]=0;
	int cnt=0;
	for(int i=2;i<=1000000;i++){
        if(prime[i])    cnt++;
        cntprimes[i]=cnt;
	}
	//cout<<"cntprimes"<<endl;
	for(int i=0;i<=1000000;i++){
		if(prime[cntprimes[i]])	primeprime[i] = true;
	}
}
int main()
{
    int tc;
    int l,r;
    sieve();
    //cout<<"jhinga"<<endl;
    primeprimegen();
    cin>>tc;

    int cntprimeprime[1000000];
    int c=0;
    for(int i=0;i<=1000000;i++){
        if(primeprime[i])   c++;
        cntprimeprime[i] = c;
    }
    while(tc--){
        cin>>l>>r;
    	cout<<cntprimeprime[r]-cntprimeprime[l-1]<<endl;
    }
    return 0;
}
