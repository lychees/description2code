def ones(n):
    count = 0
    while(n):
        n= n&(n-1)
        count+=1
    return count



T = int(raw_input())
for t in range(T):
    N,K = [int(x) for x in raw_input().split()]
    arr = [int(x) for x in raw_input().split()]
    z   = map(ones,arr)
    z.sort(reverse=True)
    ans = 0
    for i in range(K):
        ans+=z[i]
    print ans
    
