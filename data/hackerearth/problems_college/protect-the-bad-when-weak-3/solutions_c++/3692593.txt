    #include <iostream>
    using namespace std;

    int count=0, n, a[100][100];

    void find(int x, int y)
    {
    	if(x==n-1 && y==n-1)
    		count++;
    	else
    	{
    		if(x>0 && a[x-1][y]==0)
    			a[x][y]=1, find(x-1, y), a[x][y]=0;
    		if(x<n-1 && a[x+1][y]==0)
    			a[x][y]=1, find(x+1, y), a[x][y]=0;
    		if(y>0 && a[x][y-1]==0)
    			a[x][y]=1, find(x, y-1), a[x][y]=0;
    		if(y<n-1 && a[x][y+1]==0)
    			a[x][y]=1, find(x, y+1), a[x][y]=0;
    	}
    }

    int main()
    {
    	cin >> n;
    	for(int i=0; i<n; i++)
    		for(int j=0; j<n; j++)
    			cin >> a[i][j];
    	find(0,0);
    	cout << count;
        return 0;
    }
