#include <bits/stdc++.h>
#include <cstdio>
using namespace std;

int main()
{
    int n,l,d;
    cin>>n>>l>>d;
    vector<double> prob(n+2);
    vector<long long int> stones(n+2);
    prob[0]=1.0;
    stones[0]=0;
    for(int i=1;i<=n;i++)
    	cin>>prob[i];
    for(int i=1;i<=n;i++)
    	cin>>stones[i];
    prob[n+1]=1.0;
    stones[n+1]=d+1;
    if(stones[n]+l<=d)	
    {
    	cout<<"IMPOSSIBLE"<<endl;
    	return 0;
    }
    vector<double> DP(d+2,0.0);
    DP[0]=1.0;
    DP[d+1]=0.0;
    for(int i=0;i<=n+1;i++)
    {
    	int j=i+1;
    	while(j<=n+1 && (stones[j]<=stones[i]+l))
    	{
    		double temp = DP[stones[i]]*prob[j];
    		if(temp>DP[stones[j]])
    			DP[stones[j]]=temp;
    		if(stones[j]+l>=d+1)
    		{
    			if(DP[stones[j]]>DP[d+1])
    				DP[d+1]=DP[stones[j]];
    		}
    		j++;
    	}
    }
    std::cout << std::fixed;
    if(DP[d+1]==0.0)
    	cout<<"IMPOSSIBLE"<<endl;
    else
    	cout<<setprecision(6)<<DP[d+1]<<endl;
    
}
