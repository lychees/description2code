#include <bits/stdc++.h>
#define endl '\n'
using namespace std;

const int INF = (1e9) + 7;

int tests,n,a[1<<17][4];
bool used[1<<17][4];
int state[1<<17][4];

int recurse(int pos, int last) {
  if(pos>n) return 0;
  if(used[pos][last]) return state[pos][last];
  int ans=INF;
  int i;
  for(i=1;i<=3;i++) if(i!=last) ans=min(ans,a[pos][i]+recurse(pos+1,i));
  used[pos][last]=true;
  state[pos][last]=ans;
  return ans;
}

int main() {
  
  int i;
  
  scanf("%d", &tests);
  while(tests--) {
    scanf("%d", &n);
    for(i=1;i<=n;i++) scanf("%d %d %d", &a[i][1], &a[i][2], &a[i][3]),used[i][0]=0,used[i][1]=0,used[i][2]=0,used[i][3]=0;
    printf("%d\n", recurse(1,0));
}

  return 0;
}