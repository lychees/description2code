#include <iostream>
#include <iomanip>
#include <boost/math/common_factor.hpp>
using namespace std;

int main()
{
    //cout << "Hello World!" << endl;
    long long i, upper, lower, counter, t, a, b, x, y, count, z, lcm;
    cin>>a>>b>>t;
    long double ans;
    
    
    while(t--){
    	count=0;
    	cin>>x>>y;
    	if(y<=100000){
    	 count=0;
    	//cin>>x>>y;
    	for(i=x;i<=y;i++){
    		
    		if(i%a==0||i%b==0)
    			count++;
    		
    		
    		
    	}
    	
    	ans=count*1.0/(y-x+1);
    	cout<<fixed<<setprecision(6)<<ans<<endl;
    		
    	}
    	else{
    	lcm=boost::math::lcm(a,b);
    	//cout<<lcm<<endl;
    	
    	
    	
    	lower=(x)/a;
    	upper=y/a;
    	
    	if(x%a==0&&y%a!=0)
    		count++;
    	//if(x%a!=0&&y%a==0)
    	//	count--;
    	
    	count+=(upper-lower);
	//	cout<<count<<" ";
    	lower=(x)/b;
    	upper=y/b;
    	if(x%b==0&&y%b!=0)
    		count++;
    	//if(x%b!=0&&y%b==0)
    //		count--;
    	count+=(upper-lower);
    //	cout<<count<<" ";
    	lower=(x)/lcm;
    	upper=y/lcm;
    	if(x%lcm==0&&y%lcm!=0)
    		count++;
    	//if(x%lcm!=0&&y%lcm==0)
    	//	count--;
    	count-=(upper-lower);
    	
    //	cout<<count<<" "<<y-x+1<<endl;
    	
    	ans=count*1.0/(y-x+1);
    	cout<<fixed<<setprecision(6)<<ans<<endl;}
    	
    }
    return 0;
}
