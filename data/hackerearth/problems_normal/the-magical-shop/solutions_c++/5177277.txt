#include <bits/stdc++.h>

using namespace std;

int main() {
	long a, b, res = 0;
	string s;
	cin >> a >> b >> s;
	for (int i = 0; i < s.size(); ++i) {
		if (s[i] == 49) {
			res = (res + a) % b;
		}
		a = (a*a) % b;
	}
	cout << res;
	return 0;
}