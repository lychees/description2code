#include<iostream>
using namespace std;
int visited[100][100];
static int count=0;
int isSafe(int a,int i,int j,int n){
	if(a==0&&i>=0&&i<n&&j>=0&&j<n&&visited[i][j]==0)
	return 1;
	return 0;
}
void no_ways(int a[100][100],int i,int j,int n){
	visited[i][j]=1;
	if(i==n-1&&j==n-1){
	count++;
//	cout<<count<<"\n";
	visited[i][j]=0;
	return;
	
	}
	
	int h[]={0,1,0,-1};
	int v[]={1,0,-1,0};
	int p;
	for(p=0;p<4;p++){
		if(isSafe(a[i+h[p]][j+v[p]],i+h[p],j+v[p],n)){
		
	//	cout<<i<<"\t"<<j<<"\n";
		no_ways(a,i+h[p],j+v[p],n);
		visited[i+h[p]][j+v[p]]=0;
		
		}	
	}
	
} 
int main(){
	int a[100][100];
	
	/*{
		{0,0,0,0,0,0,0,0,0},
		{0,1,0,1,0,1,0,1,0},
		{0,0,0,0,0,0,0,0,0},
		{0,1,0,1,0,1,0,1,0},
		{0,0,0,0,0,0,0,0,0},
		{0,1,0,1,0,1,0,1,0},				
		{0,0,0,0,0,0,0,0,0},
		{0,1,0,1,0,1,0,1,0},
		{0,0,0,0,0,0,0,0,0},
				
	
	
	};*/
	int n,i,j,k;
	cin>>n;
	for(i=0;i<100;i++){
		for(j=0;j<100;j++){
			visited[i][j]=0;
		}
	}
	for(i=0;i<n;i++){
		for(j=0;j<n;j++){
			cin>>a[i][j];
		}
	}
	no_ways(a,0,0,n);
	cout<<count;
}