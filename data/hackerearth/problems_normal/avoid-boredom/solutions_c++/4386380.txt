#include <iostream>
#include <cstring>
using namespace std;
 
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n,m;
		cin>>n>>m;
		long long int input[n],a[m+1][n];
		memset(a,0,sizeof(a));
		for( int i = 0 ; i<n ; ++i )
			cin>>input[i];
		for( int i = 2 ; i<=m ; ++i )
		{
			for( int j = 0; j<n ; ++j )
			{
				long long int max = 0;
				for(int k = 0;k<j;++k)
				{
					long long diff = input[j] - input[k];
					if( diff < 0 )	
						diff = -diff;
					if(a[i-1][k] + diff > max)
						max = a[i-1][k] + diff;
				}
				a[i][j] = max;
			}
		}
		long long int max = 0;
		for(int i=0;i<n;++i)
		{
			if(a[m][i] > max)
				max = a[m][i];
		}
		cout<<max<<endl;
	}
    return 0;
}