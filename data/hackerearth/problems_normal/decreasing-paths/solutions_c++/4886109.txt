#include<bits/stdc++.h>
using namespace std;
#define mod 1000000007
long long int a[1002][1002],dp[1002][1002],n;
int x[]={-1,0,0,1};
int y[]={0,-1,1,0};
long long int rec(int row,int column){
	long long int s=1,s1[]={0,0,0,0};
	if(dp[row][column]!=-1){
		return dp[row][column];
	}
	for(int i=0;i<4;i++){
		int xcor=row+x[i];
		int ycor=column+y[i];
		if((xcor>=1 && xcor<=n) && (ycor>=1 && ycor<=n)){
			if(a[row][column]>a[xcor][ycor]){
				s1[i]=rec(xcor,ycor)%mod;
			}
		}
	}
	dp[row][column]=(s+s1[0]+s1[1]+s1[2]+s1[3])%mod;
	return (dp[row][column]%mod);
}
int main(){
	scanf("%lld",&n);
	for(int i=1;i<=n;i++){
		for(int j=1;j<=n;j++){
			scanf("%lld",&a[i][j]);
		}
	}
	memset(dp,-1,sizeof(dp));
	long long int ans=0;
	for(int i=1;i<=n;i++){
		for(int j=1;j<=n;j++){
			if(dp[i][j]==-1){
				dp[i][j]=(rec(i,j))%mod;
			}
		}
	}
	for(int i=1;i<=n;i++){
		for(int j=1;j<=n;j++){
			ans=(ans+dp[i][j])%mod;
		}
	}
	printf("%lld\n",ans%mod);
	return 0;
}