
#include<iostream>
#include<string>

using namespace std;


long findSubstring(string s, long n)
{
	long count = 1, total = 0;
	for(long int i = 1; i < n; i++)
	{
		if(s[i-1] <= s[i])
		{
			count ++;

		}
		else
		{
			total += (count*(count+1))/2;
			count = 1;
		}

	}
	total += (count*(count+1))/2;
	return total;
}


int main()
{
	int tcase;
	cin>>tcase;
	for(int i = 0; i< tcase;i++)
	{
		long length;
		cin>>length;
		string str;
		cin>>str;
		long ans = findSubstring(str,length);
		cout<<ans<<endl;
	}


	return 0;
}