n = int(raw_input())  # number of cities
cities = {}
for i in range(n):
    cities[raw_input()] = i

distanceMatrix = [[] for i in range(n)]

for i in range(n):
    distanceMatrix[i] = list(map(int, raw_input().split()))

m = int(raw_input())
currPos = 0
distance = 0

for i in range(m):
    city = raw_input()
    distance += distanceMatrix[currPos][cities[city]]
    currPos = cities[city]

print distance
