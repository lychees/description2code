#include <iostream>
using namespace std;

int main()
{
	long int A, B;
	cin >> A>>B;
	string str;
	cin >> str;
	int i =1;
	long int sum = 0;
	for(char c: str){
		if(c == '1'){
			sum = (sum+A)%B;
		}
		A = (A*A)%B;
		i++;
	}
    cout << (sum%B) << endl;
    return 0;
}
