#include<bits/stdc++.h>
using namespace std;
long long int sumf(long long int x)
{
    return (x*(x+1))/2;
}
long long int a[1000001];
int main()
{
   long long int t,q,i;
   scanf("%lld",&t);
   for(q=0;q<t;q++)
   {
       long long int n,ans,k;
       scanf("%lld",&n);
       for(i=0;i<n;i++)
       {
           scanf("%lld",&a[i]);
       }
       sort(a,a+n);ans=0;k=1;
       for(i=1;i<n;i++)
       {
           if(a[i]==a[i-1])
           {
               k++;
           }
           else
           {
               ans=ans+sumf(k);k=1;
           }
           
       }
       ans=ans+sumf(k);
       printf("%lld\n",ans);



   }
   return 0;

}
