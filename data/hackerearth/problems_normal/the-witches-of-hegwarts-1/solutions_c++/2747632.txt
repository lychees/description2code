#include <bits/stdc++.h>
using namespace std;
#define max1 10000000
int sol[max1];
void presolve()
{
	sol[0]=INT_MAX;
	sol[1]=0;
	for(int i=2;i<max1;i++)
	{
		sol[i]=1+sol[i-1];
		if(i%2==0)
		sol[i]=min(sol[i],sol[i/2]+1);
		if(i%3==0)
		sol[i]=min(sol[i],sol[i/3]+1);
	}
}
long long int solve(long long int n)
{
	long long int ans;
	if(n<max1)
	return sol[n];
	else
	{
	ans=n-1;
	if(n%2==0)
	ans=min(ans,solve(n/2)+1);
	else
	ans=min(ans,1+solve(n-1));
	if(n%3==0)
	ans=min(ans,solve(n/3)+1);
	else
	ans=min(ans,1+solve(n-1));
	}
	return ans;
}

int main()
{
    ///cout << "Hello World!" << endl;
    presolve();
    int t;
    cin>>t;
    while(t--)
    {
    long long int n;
    cin>>n;
    cout<<solve(n)<<endl;
    }
    return 0;
}
