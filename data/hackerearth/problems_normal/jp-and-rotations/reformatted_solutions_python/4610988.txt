'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
aryEle, ops = map(int, raw_input().split())
init = map(int, raw_input().split())
targ = map(int, raw_input().split())
rot = 0
targIndx = targ.index(init[0])
for x in xrange(ops):
    direction, shift = raw_input().split()
    sftCnt = int(shift)
    if direction == "L":
        rot -= sftCnt
        rot %= aryEle
    else:
        rot += sftCnt
        rot %= aryEle
    if rot == targIndx:
        print x + 1
        exit(0)
print "-1"
