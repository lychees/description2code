#include<bits/stdc++.h>
#include <iostream>
using namespace std;
#define ll long long
int main()
{
	ll t,d,p;
    cin>>t;
    while(t--)
    {
    	ll ct=0;
    	cin>>d>>p;
    	ll prod=d*d+4*p;
    	ll chk=sqrt(prod);
    //	cout<<chk<<endl;
    	ll a,b,c,d1;
    	map <pair<ll,ll>,ll> m1;
    	if((chk*chk)==prod)
    	{
    		//puts("dfgd");
    		a=d+chk;
    		b=d-chk;
    		c=-1*d-chk;
    		d1=-1*d+chk;
    		if((a%2)==0)
    		{
    			if(m1[make_pair(a/2,a/2-d)]==0)
    			{
    				m1[make_pair(a/2,a/2-d)]=1;
    				ct++;
    			}
    		}
    		if((b%2)==0)
    		{
    			if(m1[make_pair(b/2,b/2-d)]==0)
    			{
    				m1[make_pair(b/2,b/2-d)]=1;
    				ct++;
    			}
    		}
    		if((c%2)==0)
    		{
    			if(m1[make_pair(c/2,c/2+d)]==0)
    			{
    				m1[make_pair(c/2,c/2+d)]=1;
    				ct++;
    			}
    		}
    		if((d1%2)==0)
    		{
    				if(m1[make_pair(d1/2,d1/2+d)]==0)
    			{
    				m1[make_pair(d1/2,d1/2+d)]=1;
    				ct++;
    			}
    		}
    	}
    //	cout<<a<<" "<<b<<" "<< c << " " << d <<endl;
    	cout<<ct<<endl;
    }
    return 0;
}
