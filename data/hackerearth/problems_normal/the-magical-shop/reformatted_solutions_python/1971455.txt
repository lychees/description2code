a, b = map(int, raw_input().split())
s = raw_input()
total = 0
mult = a
for ch in s:
    if ch == "1":
        total = total + mult
        total = total % b
    mult = mult * mult
    mult %= b

print total
