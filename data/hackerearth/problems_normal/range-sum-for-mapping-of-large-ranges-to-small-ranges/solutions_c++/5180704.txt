#include<iostream>
#include<vector>
#include<cstring>
using namespace std;
#define mx (int(1e5)+9)
#define s(x) scanf("%d",&x)
#define ll long long
#define mod (int(1e9)+7)
vector<int>g[mx];
bool vis[mx];
int cnt=0;
void dfs(int p)
{
	//printf("curr is %d\n",p);
	vis[p]=true;
	for(size_t i=0;i<g[p].size();++i)
	{
		int to=g[p][i];
		if(!vis[to])
		{
			cnt++;
			dfs(to);
		}
	}
	return;
}
int main()
{
	int tc;	
	s(tc);
	while(tc--)
	{
		int n,k;	
		s(n);s(k);
		for(int i=1;i<=n;++i)
			g[i].clear();
		for(int i=1;i<=k;++i)
		{
			int u,v;
			scanf("%d %d",&u,&v);
			g[u].push_back(v);
			g[v].push_back(u);
		}
		memset(vis,0,sizeof vis);
		ll ans=1;	
		for(int i=1;i<=n;++i)
		{
			cnt=0;
			if(!vis[i])
			{
				cnt++;
				dfs(i);	
			}
			if(cnt>=2)
			{
				ans%=mod;
				ans*=((cnt)*(cnt-1))/2;
				ans%=mod;
			}
		}
		printf("%lld\n",ans);
	}
 
	return 0;
}