#include<bits/stdc++.h>

#define gc getchar
#define ii(x) scanf(" %d", &x)
#define ill(x) scanf(" %lld", &x)
#define ll long long
#define pb push_back
#define mp make_pair
#define F first
#define S second
#define all(x) x.begin(),x.end()
#define set(a,b) memset(a,b,sizeof(a))
#define clinic(a) memset(a,0,sizeof(a))

using namespace std;

void in(int &x){
    register int c=gc();
    x=0;
    for(;(c<48||c>57);c=gc());
    for(;c>47&&c<58;c=gc()){x=(x<<1)+(x<<3)+c-48;}
}

ll a[200005],fen[200005];
ll n;

void update(ll i){
	while(i<=n){
		fen[i]++;
		i+=(i&-i);
	}
}

void downdate(ll i){
	while(i<=n){
		fen[i]--;
		i+=(i&-i);
	}
}

ll solve(ll i){
	ll sum=0;
	while(i>0){
		sum+=fen[i];
		i-=(i&-i);
	}return sum;
}

int main()
{
	ll q,i,j,l,r,num;
	ill(n);ill(q);clinic(fen);
	for(i=1;i<=n;i++){
		ill(a[i]);j=a[i];
		if(a[i]<0) continue;
		l=a[i]%10;
		while(j>=10) j/=10;
		r=j;
		if(l!=r) continue;
		update(i);
	}
	while(q--){
		ill(num);
		if(num&1){
			ill(l);ill(r);
			printf("%lld\n", solve(r)-solve(l-1));
		}else{
			ill(i);j=a[i];
			l=j%10;
			while(j>=10) j/=10;
			r=j;
			if(a[i]>=0&&l==j) downdate(i);
			ill(j);a[i]=j;
			if(j<0) continue;
			l=j%10; while(j>=10) j/=10; r=j;
			if(l!=r) continue;
			update(i);
		}
	}
    
    return 0;
}