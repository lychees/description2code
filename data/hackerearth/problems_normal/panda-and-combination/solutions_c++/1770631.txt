#include <iostream>
#include <stdio.h>
#include <math.h>
using namespace std;
typedef long long lli;

int main(){
    int t;
    lli n, m;

    scanf("%d", &t);
    while(t--){
        scanf("%lld %lld", &n, &m);
        int lim = (m==1)?1:log10(n)/log10(m);
        lli resp = 0;
        for(int k = lim; k >= 0; k--){
            double pot = pow(m,k);
            resp+=n/pot;
            n = fmod(n,pot);
        }
        printf("%lld\n", resp);
    }

    return 0;
}
