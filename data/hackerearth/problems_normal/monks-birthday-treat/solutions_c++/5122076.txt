#include <iostream>
using namespace std;
int top=0;
int friends[1001][1001];
int stac[1000];

int push(int x)
{
    top++;
    stac[top]=x;
}

int pop()
{
    top--;
}

int main()
{
    int n,d,i,j,a,b;
    cin >> n >> d;
    int mincount=10000;
    for(i=1;i<=n;i++)
        for(j=1;j<=n;j++)
            friends[i][j]=0;

    for(i=1;i<=d;i++){
        cin >> a >> b;
        friends[a][b]=1;
    }
    int visited[n+1];
    for(i=1;i<=n;i++)
        visited[i]=0;

    int minfrnds=0;

    for(i=1;i<=n;i++)
    {
        top=0;
        for(j=1;j<=n;j++)
        visited[j]=0;
        a=i;
        stac[top]=i;
        visited[i]=1;
        minfrnds=1;

    while(top>=0)
    {
        j=1;
        while(j<=n)
        {
            if(visited[j]==0 && friends[a][j]==1)
            {
                push(j);
                minfrnds++;
                a=j;
                visited[j]=1;
                j=1;
            }
            else
                j++;
        }
        pop();
        a=stac[top];
    }
    if(minfrnds<mincount)
        mincount=minfrnds;
    }
    cout << mincount <<endl;
    return 0;
}
