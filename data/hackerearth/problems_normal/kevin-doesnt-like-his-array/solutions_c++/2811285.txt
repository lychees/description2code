#include <iostream>
#include <map>
using namespace std;

int main()
{
    int n, i, temp, max_count, cont_max_count, prev, cont_total;
    map <int, int> in_map, cont_map;
    cin >> n;
    for (i = 0, max_count = 0, cont_max_count = 0,
    		prev = 0, cont_total = 0; i < n; i++){
    	cin >> temp;
    	in_map[temp]++;
    	if (max_count < in_map[temp])
    		max_count = in_map[temp];
    	if (i && temp == prev){
    		cont_map[temp]++;
    		cont_total++;
    	}
    	if (cont_map[temp] > cont_max_count)
    		cont_max_count = cont_map[temp];
    	prev = temp;
    }
    if (max_count > (n + 1) / 2)
    	cout << "-1\n";
    else
    	cout << max((cont_total + 1) / 2, cont_max_count);
    return 0;
}
