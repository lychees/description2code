#include <iostream>
#include<vector>
#include<algorithm>
using namespace std;
vector<pair<int,pair<int,int> > > v;
int arr[55];
bool cmp(const pair<int,pair<int,int> >  &aa,const pair<int,pair<int,int> > &bb)
{
	if(aa.first<bb.first)
	return true;
	else if(aa.second.second>bb.second.second)
	return true;
	else return false;
}
int main()
{
    int t,n,m,a,b,w;
    cin>>t;
    while(t--)
    {
    	cin>>n>>m;
    	for(int i=0;i<n;i++)
    	{
    		cin>>a>>b>>w;
    		v.push_back(make_pair(a,make_pair(b,w)));
    	}
    	for(int i=0;i<m;i++)
    	cin>>arr[i];
    	sort(v.begin(),v.end(),cmp);
    	int p=0;
    	for(int i=0;i<n;i++)
    	{
    		bool flag=0;
    		int k1=v[i].first;
    		int k2=v[i].second.first;
    		for(int j=k1;j<k2;j++)
    		if(arr[j]<=0)
    		{
    			flag=1;break;
    		}
    		if(!flag)
    		p+=v[i].second.second;
    		for(int j=0;j<min(m,k2);j++)
    		arr[j]--;
    	}
    	cout<<p<<"\n";
    }
    return 0;
}