#include<bits/stdc++.h>
using namespace std;
int counter(int n) {
	int count = 0 ;
	while(n){
		if(n&1) count++;
		n=n>>1;
	}
	return count;
}

bool compare(int a , int b ){
	if(counter(a) > counter(b)) return true;
	return false;
}
int main()
{
	int t;
	cin >> t;
	while ( t-- )
	{
		int n , k ;
		cin >> n >> k;
		vector<int> v(n);
		for( int i = 0 ; i< n ; i++)
			cin >> v[i];
		sort(v.begin() , v.end() , compare);
		int sum=0;
		for(int i =0 ;i < k ; i++)
			sum+=counter(v[i]);
	    cout << sum << endl;
	}
	return 0;
}