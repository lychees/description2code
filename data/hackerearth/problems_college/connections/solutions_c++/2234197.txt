#include <bits/stdc++.h>
using namespace std;

int main()
{
    int n;
    cin >> n;
    int a, b, i, j;
    int arr[n][n];
   	for(i = 0; i < n; i++) {
   		for(j = 0; j < n; j++)
   			arr[i][j] = 0;
   	}
    cin >> a;
    vector<pair <int, int> > p;
    int c, d;
    while(a--) {
    	cin >> c >> d;
    	c--;
    	d--;
    	p.push_back(make_pair(c, d));
    }
    for(i = 0; i < p.size(); i++) {
    	arr[p[i].first][p[i].second] = 1;
    	arr[p[i].second][p[i].first] = 1;
    	
    	for(j = 0; j < n; j++) {
    		if(arr[p[i].first][j] == 1) {
    			arr[j][p[i].second] = 1;
    			arr[p[i].second][j] = 1;
    		}
    	}
    }
    /*for(i = 0; i < n; i++) {
    	for(j = 0; j < n; j++)
    	cout << arr[i][j] << " ";
    	cout << endl;
    }*/
    
    cin >> b;
    while(b--) {
    	cin >> c >> d;
    	c--;
    	d--;
    	int flag = 0;
    	for(i = 0; i < p.size(); i++) {
    		if((p[i].first == c && p[i].second == d) || (p[i].first == d && p[i].second == c))
    		{
    			flag = 1;
    			break;
    		}
    	}
    	if(flag == 1) 
    		cout << "Direct Connection" << endl;
    	else {
    		if(arr[c][d] == 1) 
    			cout << "Indirect Connection" << endl;
    		else 
    			cout << "No Connection" << endl;
    	}
    }
    
    return 0;
}
