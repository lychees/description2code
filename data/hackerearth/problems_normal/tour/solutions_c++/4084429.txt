#include <iostream>
#include<string>
using namespace std;

int main()
{
    
    int n,p,k=0,q;
    long int sum=0;
    cin>>n;
   long int**a=new long int*[n];
    for(int i=0 ;i<n; i++)
    a[i]=new long int[n];
    string *s=new string[n];
    for(int i=0; i<n; i++)
    {
    	cin>>s[i];
    }
    for(int i=0;i<n;i++)
    {
    	for(int j=0; j<n;  j++)
    	{
    
    		 	cin>>a[i][j];
    	
    	}
    }
    cin>>p;
    string *s1=new string[p];
    for(int i=0; i<p; i++)
    cin>>s1[i];
    for(int i=0; i<p; i++)
    {
    	for(int j=0; j<n; j++)
    	{
    	   if(s1[i].compare(s[j])==0)
    	   { 
    	   	  q=j;
    	   	 sum=sum+a[k][q];
    	   	 k=j;
    	   	 
    	   }
    	}  
    }
    cout<<sum;
    
    
    return 0;
}
