#include <bits/stdc++.h>
using namespace std;
#define ll long long
ll t , n ;
pair <ll,ll> p[2005];
ll dp[20005];
int main()
{
    ll i , j , k ;
    cin >> t;
    while(t--){
    	memset(dp,0,sizeof(dp));
    	cin >> n;
    	for(i = 0 ; i < n ; i++){
    		cin >> p[i].first >> p[i].second;
    	}
    	sort(p,p+n);
    	dp[0] = p[0].second;
    	ll ans = dp[0];
		for(i = 1 ; i < n ; i++){
			dp[i] = p[i].second;
			for(j = i-1 ; j >= 0 ; j--){
				if( p[j].first < p[i].first && p[j].second < p[i].second){
					dp[i] = max(dp[i],dp[j] + p[i].second);
				} 
			}
			ans = max(ans,dp[i]);
		}
		cout << ans << endl;
    }
    return 0;
}
