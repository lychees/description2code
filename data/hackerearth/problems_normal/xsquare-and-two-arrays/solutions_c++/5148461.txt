#include <iostream>
using namespace std;
#define SIZE 1000005
long long int a[SIZE],b[SIZE];
long long int dp1[SIZE],dp2[SIZE];
int main() {
long long int N,Q;
cin>>N>>Q;
for(int i=1;i<=N;i++)
{
	cin>>a[i];
}
for(int i=1;i<=N;i++)
{
	cin>>b[i];
}
dp1[0]=0;
dp2[0]=0;
dp1[1]=a[1];
dp2[1]=b[1];
for(int i=2;i<=N;i+=2){
		swap(a[i],b[i]);	
	}
for(int i=2;i<=N;i++)
{
	dp1[i]=dp1[i-1]+a[i];
	dp2[i]=dp2[i-1]+b[i];
}
int type;
long long int l,r;
while(Q>0)
{
	cin>>type;
    cin>>l;
    cin>>r;
    if(type==1)
    {
    	if(l%2)
    	{
    	cout<<dp1[r]-dp1[l-1]<<endl;
    	}
    	else
    	{
    	cout<<dp2[r]-dp2[l-1]<<endl;	
    	}
    }
    else
    {   if(l%2==0)
    	{
    	cout<<dp1[r]-dp1[l-1]<<endl;
    	}
    	else
    	{
    		cout<<dp2[r]-dp2[l-1]<<endl;	
    	}
    }
	Q--;
}



	return 0;
}