#include <iostream>
using namespace std;

int main()
{
    long long t;
    cin>>t;
    
    while(t--)
    {
    	long long n,m;
    	cin>>n>>m;
    	long long k;
    	cin>>k;
    	long long x=1,y=1,ct=0;
    	
    	while(k--)
    	{
    		long long c1,c2;
    		 cin>>c1>>c2;
    		while(((x+c1)<=n)&&((y+c2)<=m)&&(x+c1>=1)&&(y+c2>=1))
    		{
    		  ct++;
    		  
    		  x+=c1;
    		  y+=c2;}
    		
    	}
    	cout<<"\n"<<ct;
    }
    return 0;
}
