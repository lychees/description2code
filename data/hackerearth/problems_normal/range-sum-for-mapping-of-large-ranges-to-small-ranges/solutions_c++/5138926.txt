#include <bits/stdc++.h>
using namespace std;
#define MOD 1000000007
long long int count1;
bool vis[100001];
void dfs(int i,map<int,vector<int>> &m)
{
	vis[i]=1;
	count1++;
	vector<int>::iterator it;
	for(it=m[i].begin();it!=m[i].end();it++)
	{
		if(!vis[*it]) dfs(*it,m);
	}
}

int main()
{
    int t;
    cin>>t;
    while(t--)
    {
    	int n,k;
    	cin>>n>>k;
    	for(int i=0;i<=n;i++) vis[i]=0;
    	map<int,vector<int>> m;
    	int t1,t2;
    	for(int i=0;i<k;i++)
    	{
    		cin>>t1>>t2;
    		m[t1].push_back(t2);
    		m[t2].push_back(t1);
    	}
    	long long int ans=1;
    	for(int i=1;i<=n;i++)
    	{
    		if(!vis[i])
    		{
    			count1=0;
    			dfs(i,m);
    			if(count1!=1) ans=(ans*((count1*(count1-1)/2)%MOD))%MOD;
    		}
    	}
    	cout<<ans<<"\n";
    }
    return 0;
}
