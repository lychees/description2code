#include <iostream>
using namespace std;

const int maxn = 1000001;
int count[maxn];

void compute() {
	bool prime[maxn];
	int primePrime[maxn];
	for (int i = 0; i < maxn; i++)
		prime[i] = true;
	prime[1] = false;
	for (int i = 2; i * i <= maxn; i++)
		if (prime[i])
			for (int j = i + i; j < maxn; j += i)
				prime[j] = false;
	primePrime[1] = 0;
	for (int i = 2; i < maxn; i++)
		if (prime[i])
			primePrime[i] = primePrime[i - 1] + 1;
		else
			primePrime[i] = primePrime[i - 1];
	count[1] = 0;
	for (int i = 2; i < maxn; i++)
		if (prime[primePrime[i]])
			count[i] = count[i - 1] + 1;
		else
			count[i] = count[i - 1];
}

int main()
{
	compute();
	int t, l, r;
	cin >> t;
	while (t--) {
		cin >> l >> r;
		cout << (count[r] - count[l - 1]) << endl;
	}
    // cout << "Hello World!" << endl;
    return 0;
}
