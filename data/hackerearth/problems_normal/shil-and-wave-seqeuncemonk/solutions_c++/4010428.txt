#include <cstdio>

#define MOD 1000000007

int incBit[100010] = {0}, decBit[100010] = {0};

void update(int bit[], int ind, int val)
{
	while (ind < 100010)
	{
		bit[ind] += val;
		bit[ind] %= MOD;
		ind += ind & -ind;
	}
}

int query(int bit[], int ind)
{
	int sum = 0;
	while (ind > 0)
	{
		sum += bit[ind];
		sum %= MOD;
		ind -= ind & -ind;
	}
	return sum;
}

int main()
{
	int n, a, b, c, sum = 0;
	scanf("%d", &n);
	update(incBit, 1, 1);
	update(decBit, 100002, 1);
	for (int i = 0; i < n; i++)
	{
		scanf("%d", &a);
		b = query(incBit, a);
		c = (query(decBit, 100005) + (MOD - query(decBit, a+1))) % MOD;
		sum += b;
		sum %= MOD;
		sum += c;
		sum %= MOD;
		update(decBit, a+1, b);
		update(incBit, a+1, c);
	}
	printf("%d\n", (sum + MOD - 2*n) % MOD);
}