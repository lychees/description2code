#include <cstdio>
#include <vector>
using namespace std;

typedef long long ll;
typedef vector<ll> vl;
typedef vector<vl> vvl;
ll i,j,k;
ll T,q,w,e,r,t,n;
ll M=1000000007;

vvl mul(vvl a,vvl b)
{
	vvl c(5,vl(5,0));
	for(i=0;i<5;i++)
	for(j=0;j<5;j++)
	for(k=0;k<5;k++)
	c[i][j]=(c[i][j]+a[i][k]*b[k][j])%M;
	return c;
}

ll matexpo()
{
	if(n==0) return q;
	if(n==1) return w;
	if(n==2) return e;
	if(n==3) return r;
	if(n==4) return t;
	vvl b(5,vl(5,0));
	b[0][0]=b[0][1]=b[0][2]=b[0][4]=b[1][0]=b[2][1]=b[3][2]=b[4][3]=1;
	b[0][3]=2;
	vvl R=b;
	n-=5;
	while(n)
	{
		if(n&1) R=mul(R,b);
		b=mul(b,b);
		n>>=1;
	}
	n=(0+t*R[0][0])%M;
	n=(n+r*R[0][1])%M;
	n=(n+e*R[0][2])%M;
	n=(n+w*R[0][3])%M;
	n=(n+q*R[0][4])%M;
	return n;
}

int main()
{
	scanf("%lld",&T);
	while(T--)
	{
		scanf("%lld%lld%lld%lld%lld%lld",&q,&w,&e,&r,&t,&n);
		printf("%lld\n",matexpo());
	}
	return 0;
}