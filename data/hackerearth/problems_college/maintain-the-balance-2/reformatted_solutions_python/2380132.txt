def solve(s):
    c1 = c2 = c3 = 0
    c1 = s.count('{') + s.count('}')
    if c1 & 1:
        print -1
        return
    for _ in xrange(len(s)):
        c = s[_]
        if c == '{':
            c2 += 1
        if c == '}':
            if c2 == 0:
                c3 += 1
                c2 = 1
            else:
                c2 -= 1
    print c3+(c2/2)


tc = int(raw_input())
while tc:
    solve(raw_input())
    tc -= 1
