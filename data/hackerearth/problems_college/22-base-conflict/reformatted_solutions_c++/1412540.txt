#include <algorithm>
#include <bitset>
#include <cassert>
#include <cctype>
#include <cmath>
#include <complex>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <ctime>
#include <iostream>
#include <map>
#include <queue>
#include <set>
#include <string>
#include <utility>
#include <vector>
using namespace std;

#define pb push_back
#define fi first
#define se second
#define all(x) (x).begin(), (x).end()
#define sz(x) (int((x).size()))
#define bit(x) (1 << (x))

#ifdef _WIN32
#define LLD "%I64d"
#else
#define LLD "%lld"
#endif

template <class T> inline void chkmax(T &x, T y) {
  if (x < y)
    x = y;
}

template <class T> inline void chkmin(T &x, T y) {
  if (y < x)
    x = y;
}

typedef long long LL;
typedef pair<int, int> PII;
typedef vector<int> VI;
const int MX = 100005;
int n;
int a[MX][70];
int len[MX];
LL sum;

inline int get(char c) {
  if (isdigit(c))
    return c - '0';
  return tolower(c) - 'a' + 10;
}

int main() {
#ifndef ONLINE_JUDGE
  freopen("in.txt", "r", stdin);
  freopen("out.txt", "w", stdout);
#endif

  int i, j, k;
  char s[70];
  LL val, tot;

  scanf("%d", &n);
  k = 2;
  for (i = 0; i < n; i++) {
    scanf("%s", s);
    len[i] = strlen(s);
    for (j = 0; j < len[i]; j++)
      a[i][j] = get(s[j]);
    chkmax(k, *max_element(a[i], a[i] + len[i]) + 1);
  }
  scanf(LLD, &sum);

  for (; k <= 16; k++) {
    tot = 0;
    for (i = 0; i < n; i++) {
      val = 0;
      for (j = 0; j < len[i]; j++)
        val = val * k + a[i][j];
      tot += val;
    }
    if (tot == sum)
      break;
  }
  printf("%d\n", k);
  return 0;
}