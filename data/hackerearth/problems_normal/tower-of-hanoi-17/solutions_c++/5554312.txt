#include <bits/stdc++.h>
#define mp make_pair
#define pb push_back
#define MOD 1000000007
#define PI 3.14159265359
#define r first
#define h second

using namespace std;

typedef long long ll;
typedef vector<ll> vi;
typedef pair<ll,ll> pi;
typedef vector<pi > vpi;

int rcomp(pi a,pi b){
    if(a.r==b.r)
        return a.h<b.h;
    return a.r<b.r;
}

int main() {
    
    ios:: sync_with_stdio(0);
    cin.tie(NULL),cout.tie(NULL);
    int t;
    cin>>t;
    while(t--){
        int n,i,j;
        cin>>n;
        vpi tower(n);
        for(i=0;i<n;i++){
            cin>> tower[i].r >> tower[i].h ;
        }
        sort(tower.begin(),tower.end(),rcomp);
        vi dp(n);
        dp[0]=tower[0].h;
        for(i=1;i<n;i++){
            ll mv=0;
            for(j=0;j<i;j++){
                if(tower[j].h<tower[i].h && tower[j].r<tower[i].r)
                    mv=max(mv,dp[j]);
            }
            dp[i]=tower[i].h+mv;
        }
        ll ans=0;
        for(i=0;i<n;i++)
            ans=max(ans,dp[i]);
        cout<<ans<<endl;    
    }
	return 0;
}
