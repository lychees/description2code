#include <bits/stdc++.h>
using namespace std;

#define DEBUG ON

#ifdef DEBUG
#define dout(...) cout<<__VA_ARGS__
#else
#define dout(...) do_nothing()
#endif

void do_nothing() {}
vector<long int> array_s;
long m_count = 0, t_count = 0;

void initialize(long int no=1000000)
{
    array_s.clear();
    array_s.assign(no+1, 0);
}

int main()
{
    int no_tests;

    cin>>no_tests;

    while(no_tests--)
    {
        long n_val, s_val, r_val;
        cin>>n_val;
        initialize();
        int i;
        m_count = t_count = 0;
        for(i=1; i<= n_val; i++)
        {
            cin>>s_val>>r_val;

            if(r_val == 0)
            {
                if(t_count > m_count)
                 m_count = t_count;
                t_count = 0;
            }
            else
            if(r_val == 1 && array_s[s_val] == 0)
            {
                array_s[s_val] = 1;
                t_count++;
            }
            if(t_count > m_count)
                m_count = t_count;
        }
        cout<<m_count<<endl;
    }

    return 0;
}
