#include<iostream>
#include<algorithm>
#include<vector>
using namespace std;
vector<int> v[100001];
int main()
{
    int n;
    cin>>n;
    int a[n];
    int h=0;
    int b[100001];
    for(int i=0;i<n;i++)
    {
        cin>>a[i];
        b[a[i]]=0;
        h=max(h,a[i]);
    }
    int l=0;
    for(int i=0;i<=h;i++)
    {
        v[i].push_back(0);
    }
    for(int i=0;i<n;i++)
    {
        if(a[i-1]!=a[i])
        {
            b[a[i]]++;
            v[a[i]].push_back(0);
        }
        v[a[i]][b[a[i]]]++;
    }
    int c=0;
    long p=0;
    for(int i=0;i<=h;i++)
    {
        int k=0;
        for(int j=0;j<v[i].size();j++)
        {
            if(v[i][j]>1)
            {
                k=k+(v[i][j]-1);
            }
        }
        if(k>l)
        {
            l=k;
            p=v[i].size()-1;
        }
        c+=k;
    }
    if(n<(2*(l+p))-1)
    {
        cout<<-1<<endl;
        return 0;
    }
    if(l>c-l)
    {
        cout<<l<<endl;
        return 0;
    }
    int u=c%2;
    c=c/2;
    c+=u;
    cout<<c<<endl;
}