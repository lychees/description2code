x = input()
c = 0
lis = []
mi = []
pist = []
k = []
for i in range(int(x)):
    k = []
    c = 0
    mi = []
    lis = (raw_input().split())
    pist = (raw_input().split())

    for i in range(len(pist)):
        k.append(bin(int(pist[i])).count("1"))

    k.sort()
    for i in range(len(k)):
        mi.append(k[i])

    mi = mi[::-1]

    for i in range(int(lis[1])):
        c = c+mi[i]

    print(c)
