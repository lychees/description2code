#include <iostream>
#include<cstdio>
#include<cstring>
using namespace std;

long long int a[100010],n;

int count1[11][100010], dist[11];

int update(int id, int val, int c)
{

while(id<=n+1)
{
count1[c][id]+=val;
id += (id & -id);
}

return 0;
}

int read(int id, int c)
{
int sum=0;

while(id>0)
{
sum+=count1[c][id];
id -= (id & -id);
}

return sum;
}

int cnt(long long int x)
{

int j,p;
long long int d;

for(j=0;j<=9;j++)
dist[j]=0;

p=0;

while(x)
{
d=x%10;
if(dist[d]==0)
{
dist[d]=1;
p++;
}
x/=10;
}

return p;
}

int main()
{
int q,i,j,op,x,u,c,l,r,p,cnt1,cnt2;
long long int v;

memset(count1,0,11*100010*sizeof(int));
scanf("%d",&n);

for(i=1;i<=n;i++)
{
scanf("%lld",&a[i]);

cnt2=cnt(a[i]);
update(i,1,cnt2);
}

scanf("%d",&q);

for(i=0;i<q;i++)
{
scanf("%d",&op);
if(op==0)
{

scanf("%d%lld",&u,&v);
cnt1=cnt(a[u]);

update(u,-1,cnt1);
a[u]+=v;

cnt2=cnt(a[u]);

update(u,1,cnt2);
}
else
if(op==1)
{

scanf("%d%lld",&u,&v);
cnt1=cnt(a[u]);

update(u,-1,cnt1);

a[u]=v;

cnt2=cnt(a[u]);

update(u,1,cnt2);
}
else
{
scanf("%d%d%d",&l,&r,&c);

x=read(r,c)-read(l-1,c);
printf("%d\n",x);
}

}

return 0;
}
