#include<iostream>
#include<math.h>
using namespace std;
int a[100][100],n,m,q,x,y,d,c[100][100];
void color(int i,int j)
{
    if(c[i][j]==1)
     return ;
    c[i][j]=1;
    if(j-1>=0)
     if(abs(a[i][j]-a[i][j-1])<=d && c[i][j-1]==0)
       color(i,j-1);
     
   if(j+1<m)
     if(abs(a[i][j]-a[i][j+1])<=d && c[i][j+1]==0)
       color(i,j+1);
       
   if(i-1>=0)
     if(abs(a[i][j]-a[i-1][j])<=d && c[i-1][j]==0)
          color(i-1,j);
   
   if(i+1<n)
     if(abs(a[i][j]-a[i+1][j])<=d && c[i+1][j]==0)
       color(i+1,j);
       
}
int main()
{
    //int a[100][100],n,m,q,x,y,d,i,j;
    cin>>n>>m>>q;
    //int c[n][m];
    int i,j;
    for(i=0;i<n;i++)
    for(j=0;j<m;j++)
     cin>>a[i][j];
    while(q--)
    {
         cin>>x>>y>>d;
         for(i=0;i<n;i++)
          for(j=0;j<m;j++)
             c[i][j]=0;
         color(x-1,y-1);
         int count=0;
         for(i=0;i<n;i++)
          for(j=0;j<m;j++)
           if(c[i][j]==1)
             count++;
         cout<<count<<"\n";
    }
     
     
}