
#include<bits/stdc++.h>
int graph[1002][1003];
 int visited[10005];
#include<stdio.h>
using namespace std;

int main()
{
   long  int a,b,n,m,x,y,i,j;
   cin>>n>>m>>a>>b;
   queue <int> myq;
   
    for( i=0;i<=n;i++)
    {
    	for( j=0;j<=n;j++)
    	{
    		graph[i][j]=0;
    	}
    }
   
  
   
   for( i=0;i<=n;i++)
   visited[i]=-1;
   
   for(i=0;i<m;i++)
   {
   	  cin>>x>>y;
   	  
   	  graph[x][y]=1;
   	  graph[y][x]=1;
   }
   
   myq.push(a);
   visited[a]=0;
   
   if(a==b)
   {
     cout<<0<<endl;
   
     return 0;
   }
   
   while(!myq.empty())
   {
   	
   	    int value;
   	    value=myq.front();
   	    myq.pop();
   	    
   	     for(int i=1;i<=n;i++)
   	     {
   	     	  if( visited[i]==-1&& value!=i&& graph[value][i]==0)
   	     	  {
   	     	  	  visited[i]=visited[value]+1;
   	     	  	  
   	     	  	  myq.push(i);
   	     	  }
   	     }
   	    
   }
   
   cout<<visited[b]<<endl;
   
   
    return 0;
}
