#include <bits/stdc++.h>
using namespace std;

int main()
{
    long long int a[1005];
    int n;
    cin>>n;
    a[n] = 1;
    for(int i=0;i<n;i++)
    {
        cin>>a[i];
        a[n] *= a[i];
    }

    sort(a,a+n);
    int dp[1005];
    for(int i=0;i<=n;i++)
        dp[i] = 0;
    int ans = 0;
    for(int i=n-1;i>=0;i--)
    {
        for(int j=i+1;j<=n;j++)
            if(a[j]%a[i]==0)
                dp[i] = max(dp[i],1+dp[j]);
        ans = max(ans,dp[i]);
    }
	if(ans==1)
		ans = -1;
    cout<<ans<<endl;
    return 0;
}
