#include <iostream>
#include<cstdio>
#include<vector>
using namespace std;
int digit(int n)
{
	int sum=0;
	while(n>0)
	{
		sum+=n%10;
		n=n/10;
	}
	return sum;
}
int main()
{
	vector<int>co;
    vector<int>arr;
    vector<int>val;
    vector<int>left;
    vector<int>di;
    arr.push_back(0);
    arr.push_back(0);
    val.push_back(0);
    val.push_back(0);
    left.push_back(0);
    left.push_back(0);
    co.push_back(0);
    co.push_back(0);
    di.push_back(0);
    di.push_back(0);
    long long int i;
    for(i=2;i<=10000000;i++)
    {arr.push_back(1);
    val.push_back(0);
    left.push_back(i);
    co.push_back(0);
    di.push_back(digit(i));
    }
    for(i=2;i*i<=10000000;i++)
    {
    	if(arr[i]==1)
    	{
    		long long int j;
    		val[i]+=di[i];
    		left[i]=1;
    		for(j=2*i;j<=10000000;j+=i)
    	{
    		arr[j]=0;
    	int count=0;
    	int k=left[j];
	while(k%i==0)
	{
		k=k/i;
		count++;
	}
	val[j]+=count*di[i];
	left[j]=k;
    	}
    	}
    }
    for(i=2;i<=10000000;i++)
   {
   	co[i]=co[i-1];
   
    if(left[i]>1)
    val[i]+=di[left[i]];
    if(val[i]==di[i])
    co[i]+=1;
   }
    int t;
    scanf("%d",&t);
    while(t--)
    {
    	int l,r;
    	scanf("%d %d",&l,&r);
   
    	int x=0;
    	if(val[l]==di[l])
    	x=1;
    	int final=co[r]-co[l-1];
    	printf("%d\n",final);
    }
    
    return 0;
}
