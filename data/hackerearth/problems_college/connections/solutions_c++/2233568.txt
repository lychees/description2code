#include <bits/stdc++.h>
using namespace std;
int ar[51],siz[51];

inline int root(int i)
{
     int root = i;
        while (root != ar[root])
            root = ar[root];
        while (i != root) {
            int newp = ar[i];
            ar[i] = root;
            i = newp;
        }
        return root;
}


int main()
{
    int n;
    cin>>n;
    vector<int> a[n+1];
    for(int i=1;i<=n;++i)
  {ar[i]=i; siz[i]=1;}
    int c,x,y;
    cin>>c;
     int ex[c],ey[c];
    for(int i=0;i<c;++i)
      {
      	cin>>x>>y;
        ex[i]=x;ey[i]=y;
        int roota=root(x);
        int rootb=root(y);
  if(roota != rootb)
 if(siz[roota]<siz[rootb])
  {
   siz[rootb]+=siz[roota];
   ar[roota]=rootb;
  }
  else
 {
 siz[roota]+=siz[rootb];
   ar[rootb]= roota;
 }
      }
    int q;
    cin>>q;
    for(int i=0;i<q;++i){
    	cin>>x>>y;
    	int f=1;
    	for(int j=0;j<c;++j)
           if(x==ex[j]&& y==ey[j])
            {printf("Direct Connection\n"); f=0;}
         if(root(x)==root(y) && f)
          printf("Indirect Connection\n");
         else if(f) printf("No Connection\n");
    }
    return 0;
}
