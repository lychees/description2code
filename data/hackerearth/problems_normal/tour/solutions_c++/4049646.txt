#include <bits/stdc++.h>
using namespace std;

int main()
{   int n;
cin>>n;

	string s;
	map<string,int> q;
	
   for(int i=0;i<n;i++)
   {
   	cin>>s;
   	q[s]=i;
   }
   long long int a[n][n];
   for(int i=0;i<n;i++)
   {
   	for(int j=0;j<n;j++)
   	cin>>a[i][j];
   }
   int p;
   cin>>p;
   long long int c=0;
   map<string,int>::iterator m;int l;
   for(int i=0;i<p;i++)
   {
   	cin>>s;
   	if(i==0)
   	{
   		c=a[0][q[s]];
   		l=q[s];
   	}
   	else
   	{
   		c+=a[l][q[s]];
   		l=q[s];
   	}
   }
   cout<<c;
    return 0;
}
