#include <iostream>
#include <queue>
using namespace std;



int main()
{   
    int t,n,v,a,b,i,j,flag,flag2;
    scanf("%d",&t);
    while(t--)
    {
      scanf("%d",&n);
      scanf("%d",&v);
      int G[n][n];
      for(i=0;i<n;i++)
      {for(j=0;j<n;j++)
       G[i][j]=0;
      }
      
      for(i=0;i<v;i++)
      {
      	scanf("%d %d",&a,&b);
      	G[a][b]=1;
      }
     /* for(i=0;i<n;i++)
      {for(j=0;j<n;j++)
      cout<<G[i][j]<<" ";
      cout<<endl;
      }*/
      
      
      int flag=0,flag2=0;
    int color[n];
    for(i=0;i<n;++i)
    color[i]=-1;
    
    color[0]=1;
    
    queue <int> q;
    q.push(0);
    
    while(!q.empty())
    {
     int u=q.front();
     q.pop();
     for(int v=0;v<n;v++)
     {
     	if(G[u][v]&&(color[v]==-1))
       {	color[v]=1-color[u];
     	   q.push(v);
     	}
     	else if (G[u][v] && color[v] == color[u])
        {flag=1;break;}     
     }
     if(flag){ flag2=1;break;}
    }
    if(flag2)cout<<"NOT BICOLORABLE."<<endl;
    else
    cout<<"BICOLORABLE."<<endl;
   }
}
