#include <bits/stdc++.h>
using namespace std;
#define l long long

int ar[100009];
int dp[100009];
void solve(int ar[],int i){
	if(ar[i]==0)return;
	solve(ar,ar[i]);
	dp[i]=dp[ar[i]]+1;
}
int main()
{
	int t;cin>>t;
	while(t--){
		int n;cin>>n;
		for(int i=1;i<=n;i++)cin>>ar[i];
		
		memset(dp,0,sizeof(dp));
		for(int i=1;i<=n;i++){
			if(dp[i]==0)solve(ar,i);	
		}
		l ans=0;
		for(int i=1;i<=n;i++)ans+=dp[i];
		l ans1=(l)n*(n-1)/2;
		ans1=ans1-ans;
		cout<<ans<<" "<<ans1<<endl;
	}
}
