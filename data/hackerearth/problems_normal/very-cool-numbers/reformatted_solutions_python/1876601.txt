import sys

cases = int(sys.stdin.readline())

arr = [0 for x in range(10**5)]
for x in range(1, 10**5+1):
    a = bin(x)
    ctr = 0
    for y in range(len(a)-2):
        if a[y:y+3] == '101':
            ctr += 1
    arr[x-1] = ctr

for case in range(cases):
    [R, K] = [int(x) for x in sys.stdin.readline().split()]
    ctr = 0
    for x in range(R):
        if arr[x] >= K:
            ctr += 1
    print ctr
