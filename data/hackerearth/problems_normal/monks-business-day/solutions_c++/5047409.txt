#include <cstdio>
#include <vector>
using namespace std;
const int MAXN=100005,INF=1000000005;
vector <pair<int,int> > v[MAXN];
int d[MAXN];

bool bellmanFord(int s,int n){
    for(int i=0;i<n;i++)
        d[i]=INF;
    d[s]=0;
    int change=1,cnt=0;
    while(change && cnt++<n){
        change=0;
        for(int i=0;i<n;i++)
            for(int j=0;j<v[i].size();j++)
                if(d[i]!=INF && d[v[i][j].first]>d[i]+v[i][j].second)
                    d[v[i][j].first]=d[i]+v[i][j].second,
                    change=1;
        }
    return !change;
}

int main(){
    int a,b,c,n,m,s,t;
    scanf("%d",&t);
    while(t--){
    scanf("%d %d",&n,&m);
    for(int i=0;i<m;i++)
        scanf("%d %d %d",&a,&b,&c),
        v[--a].push_back(make_pair(--b,-c));
    if(bellmanFord(0,n))
        printf("No\n");
    else
        printf("Yes\n");
    for(int i=0;i<n;i++)
        v[i].clear();
    }
}


