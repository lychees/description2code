#include<bits/stdc++.h>
#define ll long long
 
using namespace std;
 
ll n;
vector<ll> adj[100005];
bool marked[100005];

ll dfs(ll start, ll *count)
{

   // marked[start] = true;
    for(auto it=adj[start].begin(); it!=adj[start].end(); it++)
    {

      //  if(!marked[*it])
            count[start] += dfs(*it,count);
    }
    return count[start] + 1;
}
int main()
{

    ll test;
    cin>>test;
    while(test--)
    {
        ll start=0;
        cin>>n;
        ll count[n];
        for(int i=0; i<n; i++)
        {
            count[i] = 0;
            marked[i] = false;
            adj[i].clear();

        }
        for(int i=0; i<n; i++)
        {
            ll x;
            cin>>x;
            if(x == 0)
                start = i;
            else
            {
                adj[x-1].push_back(i);
            }
        }
        dfs(start,count);
        ll ans =0;
        for(int i=0; i<n; i++)
            ans += count[i];
        cout<<ans<<" "<<(n*(n-1))/2 - ans<<endl;

    }
}
