'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
num = int(raw_input())
city_nums = {}
for i in range(0,num):
	city = raw_input()
	city_nums[city] = i
distances = []
for i in range(0,num):
	distances.append([])
	distances[i] = raw_input().split(" ")
	'''
	distances.append([])
	for j in range(0,num):
		distances[i].append(int(raw_input()))
	'''

num = int(raw_input())
total = 0
last = 0
for i in range(0,num):
	current = city_nums[raw_input()]
	total += int(distances[last][current])
	last = current
print total