#include<bits/stdc++.h>
using namespace std;
#define ll long long int
#define MOD 1000000007
#define MAX 100005
#define LCM 360360
int rems[20];
string cad;
int lp[100];
vector<ll> vt;
void siever()
{
		int i ,j;
		lp[0]=-1;
		lp[1]=-2;
		for(i=2;i<100;++i)
		{
				if(lp[i] == 0)
				{
						for(j=i;j<100;j+=i)
						{
								lp[j]=i;
						}
				}
		}
}
int n;
void rec(int pos, ll num, bool isp)
{
		if(pos >= n)
		{
				return;
		}
		if(isp) vt.push_back(num);
		int pre = num%10;
		int d,ndig,start;
		bool ntight,nisp;
		ll nnum;
		start = (pos==0) ? 1: 0;
		for(d=start;d<10;++d)
		{
				ndig = pre*10 + d;
				nisp = (pos == 0) ? 0: (lp[ndig] == ndig);
				nnum = (num*10 + d);
				if(nnum%(pos+1) == rems[pos+1]) 
				{
						rec(pos+1,nnum,isp|nisp);
				}
		}
}
void sets(ll num)
{
		ostringstream ss;
		ss<<num;
		cad = ss.str();
		n = cad.size();

}
int main()
{
		siever();
		int i;
		for(i=1;i<=15;++i)
				scanf("%d",rems+i);
		int q;
		sets(9999999999999999L);
		rec(0,0,0);
		sort(vt.begin(),vt.end());
		scanf("%d",&q);
		while(q--)
		{
				ll a,b;
				scanf("%lld %lld",&a,&b);
				b = upper_bound(vt.begin(),vt.end(),b) - vt.begin();
				a = lower_bound(vt.begin(),vt.end(),a) - vt.begin();
				printf("%lld\n",b-a);
		}
		return 0;
}


