#include <bits/stdc++.h>
using namespace std;
const int MAX = 1000000;
int ans[MAX];
void precompute()
{
 ans[0]	 = 0;
 ans[1] = 0;
 for(int i = 2; i < MAX; i++)
 {
 	 //int min = i-1;
 	  ans[i]  = 1 + ans[i-1];
 	 if(i%3 == 0)
 	 ans[i]  = min(ans[i] , 1 + ans[i/3]);
 	 if(i%2 == 0)
 	 ans[i] = min(ans[i]  , 1+ ans[i/2]);
 }
 return;
}
int solve(long n)
{
	
	if( n < MAX)
	return ans[n];
	int k1 = n-1, k2 = n-1 , k = n-1;
	int ans = n-1;
	
	if(n%3 == 0)
	 k =  1 + solve(n/3);
	 else
	  k = 1 + solve(n-1);
	if(n%2 == 0)
	 k1 = 1 + solve(n/2);
	 else
	  k1 = 1 + solve(n-1);
	
	 
	ans = min ( ans , min(k1 , k) );
	
	return ans;
}

int main()
{
    int T ;
    long n;
    scanf("%d" , &T);
    precompute();
    while(T--)
    {
    	
    	scanf("%ld" , &n);
      printf("%d\n", solve(n));
    }
    
    return 0;
}
