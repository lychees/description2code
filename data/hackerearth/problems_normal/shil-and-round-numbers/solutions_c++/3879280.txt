#include<bits/stdc++.h>
using namespace std;
#define ll long long int 
#define MAX 200000
int n;
ll arr[MAX+1],bit[MAX+1];
int cntd(ll n)
{
		int tmp;
		int cnt=1;
		n/=10;
		while(n)
		{
				n/=10;
				cnt++;
		}
		return cnt;
}
int ld(ll n)
{

	while(n/10)
	{
		n/=10;
	}
	return n;
}
int ck(ll n)
{
	    if(n<0) return 0;
		int nd = cntd(n);
		if(nd==1) return 1;
		//cout<<"first one is "<<n/pow(10,nd-1)<<" second one is "<<n%10<<endl;
		return ld(n) == n%10;
}
void update(int i, int ele)
{
		for(;i<=n;i+=i&-i)
				bit[i]+=ele;
}
ll query(int i)
{
		ll sum=0;
		for(;i>0;i-=i&-i)
				sum+=bit[i];
		return sum;
}
int main()
{
		//cout << "Hello World!" << endl;
		int q;
		cin>>n>>q;
		int i;
		for(i=0;i<=n;++i)
				bit[i]=0;
		for(i=1;i<=n;++i)
		{
				scanf("%lld",&arr[i]);
				if(ck(arr[i])) update(i,1);

		}
						//int j;
						//for(j=1;j<=n;++j)
						//		cout<<bit[j]<<" ";
						//cout<<endl;
		ll tmp,l,r;
		for(i=0;i<q;++i)
		{
				scanf("%lld %lld %lld",&tmp,&l,&r);
				if(tmp==2)
				{
						int ck1,ck2;
						ck1=ck(arr[l]);
						ck2=ck(r);
						if(ck1 != ck2)
						{
								if(ck2 == 1) update(l,1);
								else update(l,-1);
						}
						arr[l]=r;
						//cout<<"bit is ";
						//for(j=1;j<=n;++j)
						//		cout<<bit[j]<<" ";
						//cout<<endl;
				}
				else
				{
						printf("%lld\n",query(r) - query(l-1));
				}
		}
		/*int c;
		cin>>c;
		cout<<"digs are "<<cntd(c)<<endl;
		cout<<ck(c)<<endl;*/
		return 0;
}

