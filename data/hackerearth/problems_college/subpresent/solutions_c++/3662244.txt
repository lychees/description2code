#include <iostream>
#include <cstring>
using namespace std;

int main()
{
    string str, sub;
    int t, k;
    cin >> str;
    cin >> k;
    cin >> t;
    int cnt=0;
    while(t--) {
    	cin >> sub;
    	int i=0, j=0;
    	while(j< sub.length() && i<str.length()) {
    		if(sub[j] == str[i])
    			j++;
    		i++;
    	}
    	if(j == sub.length()){
    		//cout<<"Yes"<<endl;
    		cnt++;
    	}
    	
    }
    if(cnt >= k)
    	cout << cnt << " LUCKY" << endl;
    else
    	cout << cnt << " UNLUCKY" << endl;
    return 0;
}
