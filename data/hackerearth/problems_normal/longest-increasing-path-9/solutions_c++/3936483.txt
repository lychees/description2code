#include <iostream>
using namespace std;

int main()
{
    int t;
    cin>>t;
    while(t--)
    {
    	int n,m,flg=0,ma=1;
    	int dp[101][101]={0};
    	cin>>n>>m;
    	int a[n+1][m+1];
    	for(int i=1;i<=n;i++)
    		for(int j=1;j<=m;j++)
    			cin>>a[i][j];
    	dp[1][1]=1;
    	for(int i=1;i<=n;i++)
    		if(a[i][1]<a[i+1][1])
    			dp[i+1][1]=1+dp[i][1];
    		else
    			break;
    	for(int i=1;i<=m;i++)
    		if(a[1][i]<a[1][i+1])
    			dp[1][i+1]=1+dp[1][i];
    		else
    			break;
    	for(int i=2;i<=n;i++)
    		for(int j=2;j<=m;j++)
    			if(a[i][j]>a[i-1][j] && a[i][j]>a[i][j-1] && dp[i-1][j]!=0 && dp[i][j-1]!=0)
    				dp[i][j]=1+max(dp[i][j-1],dp[i-1][j]);
    			else if(a[i][j]>a[i-1][j] && dp[i-1][j]!=0)
    				dp[i][j]=1+dp[i-1][j];
    			else if(a[i][j]>a[i][j-1] && dp[i][j-1]!=0)
    				dp[i][j]=1+dp[i][j-1];
    	for(int i=1;i<=n;i++)
    		for(int j=1;j<=m;j++)
    			ma=max(ma,dp[i][j]);
    		cout<<ma<<endl;
    }
    return 0;
}
