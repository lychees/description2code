#include <bits/stdc++.h>
using namespace std;
#define ll long long
ll a[10000+1];
vector<pair<int,int> >v;
bool compare(const pair<int, int>&i, const pair<int, int>&j)
{
    return i.first > j.first;
}
int main() {
	ll t,n,temp;
	cin>>t;
	pair<int,int>p;
	
	while(t--)
	{
		cin>>n;
		for(int i=1;i<=n;i++)
		{
			cin>>temp;
			//a[i]=temp;
			p=make_pair(temp,i);
			v.push_back(p);
		}
	

std::sort(v.begin(), v.end(), compare);
ll k=v.size(),tt=v[0].first,rr;
a[v[0].second]=1;
for(int i=1;i<k;i++)
{
    if(v[i].first==tt)
    {rr=i;
    //cout<<rr<<endl;
    	while(v[i].first==tt&&i<v.size())
    	   {
    	   	a[v[i].second]=rr;
    	   	i++;
    	   }
    	   i--;
    }
    else
    {
    	tt=v[i].first;
    	a[v[i].second]=i+1;
    }
    
    }
    for(int i=1;i<=n;i++)
    cout<<a[i]<<" ";
    cout<<endl;
    v.clear();
}
	
}