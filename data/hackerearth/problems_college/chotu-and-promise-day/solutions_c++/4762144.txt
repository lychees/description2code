#include <bits/stdc++.h>
using namespace std;

int main()
{
	int t;
	int n,d,i;
	cin>>t;
	int k;

	
	while(t--){
    
   		int ans;
	    cin>>n>>d;
	    k = n/d;
	    if(n%d != 0){
	    	 ans = 0;
	    }
	   
	    else{
		    ans=k;
		    if(k%2==0)
		    {
		        ans*=(2-1);
		        ans/=2;
		        while(k%2 == 0){
		            k/=2;
		           // cout<<"2 ";
		        }
		    }
		    for(i=3;i*i<=k;i++)
		    {
		        if(k%i==0)
		        {
		            ans*=(i-1);
		            ans/=i;
		            while(k%i==0)
		            {
		                k/=i;
		                //cout<<i<<" ";
		            }
		        }
		    }
		    if(k>1)
		    {
		        ans*=(k-1);
		        ans/=k;
		       // cout<<n<<endl;
		    }
		    
		}
		cout<<ans<<endl;
	}
}

