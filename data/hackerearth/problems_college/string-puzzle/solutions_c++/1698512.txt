#include <iostream>
using namespace std;
#define MAX 100000

void swap(char *a, char *b)
{
	char t;
	t=*a;
	*a=*b;
	*b=t;
}	

void perm(char *s,int i,int n)
{
	int j;
	if(i==n)
	{
		cout<<s<<"\n";
	}
	else
	{
		for(j=i;j<=n;j++)
		{
			swap((s+i),(s+j));
			perm(s,i+1,n);
			swap((s+i),(s+j));
		}
	}
}	

int main()
{
    char str[MAX];
    int Q,L,R;
    cin>>str;
    cin>>Q;
    while(Q--)
    {
    	cin>>L>>R;
    	perm(str,L,R);
    	cout<<"\n";
    }
    return 0;
}
