#include<iostream>
#include<string>
using namespace std;

int a, b, c;

char plate[16][16][16];
const char dot = '.';
const char checked = 'X';
void renderLayout(int z, int x, int y)
{
		plate[z][x][y] = checked;
		
		if (plate[z][x + 1][y] == dot && x < b)	renderLayout(z, x + 1, y);
		if (plate[z][x][y + 1] == dot && y < c)	renderLayout(z, x, y + 1);
		if (plate[z + 1][x][y] == dot && z < a)	renderLayout(z + 1, x, y);
		
		if (plate[z][x - 1][y] == dot && x > 1)	renderLayout(z, x - 1, y);
		if (plate[z][x][y - 1] == dot && y > 1)	renderLayout(z, x, y - 1);
		if (plate[z - 1][x][y] == dot && z > 1)	renderLayout(z - 1, x, y);
		return;
}

int main()
{
	int t;
	int x, y, z;
	long long rc;
	string s;

	cin >> t;
	while (t--)
	{
		cin >> a >> b >> c;
		for (int i = 1; i <= a; i++)
			for (int j = 1; j <= b; j++)
			{
				do{
					cin >> s;
				}while (s[0] != dot && s[0] != '#');
				
				for(int k = 0; k < c; k++)
					plate[i][j][k + 1] = s[k];
			}

		cin >> x >> y;
		z = 1;
		if (plate[z][x][y] == dot)	renderLayout(z, x, y);
		rc = 0;
		for (int i = 1; i <= a; i++)
			for (int j = 1; j <= b; j++)
				for (int k = 0; k < c; k++)
					if (plate[i][j][k + 1] == checked)
						rc++;
						
	 	cout<<rc<<endl;
	}
	return 0;	
}