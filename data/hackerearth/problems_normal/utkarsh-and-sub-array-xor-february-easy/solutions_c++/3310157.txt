#include <bits/stdc++.h>

using namespace std;

long long int mod = 1e9+7;

long long power(long long b, long long e) {
	if(e == 0)	return 1;
	long long half = power(b, e/2);
	if(e%2 == 0)	return (half*half)%mod;
	else			return (half*half*b)%mod;
}

map<long long, long long> pr;

long long dsufind(long long x) {
	if(pr.find(x) == pr.end() || pr[x] == x) {
		return x;
	}
	long long res = dsufind(pr[x]);
	pr[x] = res;
	return res;
}

void dsujoin(long long u, long long v) {
	long long a = dsufind(u), b = dsufind(v);
	if(rand()%2)	pr[a] = b;
	else			pr[b] = a;
}

int main(void) {
	int n;
	cin>>n;
	int k;
	cin>>k;
	long long ans = power(2, n);
	while(k--) {
		long long u, v;
		cin>>u>>v;
		u--;
		if(dsufind(u) != dsufind(v)) {
			ans = (ans * power(2, mod-2ll))%mod;
			dsujoin(u, v);
		}
		cout<<ans<<"\n";
	}

	return 0;
}