#include <bits/stdc++.h>
using namespace std;
const int MAX = 1*1000 * 1000, MAXM = 8;
bool on[MAX];
int can[MAX];
int main()
{
    int n, k, m;
    scanf("%d%d%d", &n, &k, &m);
    for (int i = 1; i < MAX; i++)
    {
        on[i] = true;
        can[i] = MAX;
    }
    for (int i = 1; i <= m; i++)
    {
        int x;
        scanf("%d", &x);
        if (x < MAX)
        {
            on[x] = false;
        }
    }
    vector<int>ans;
    if (on[1])
    {
        ans.push_back(1);
        can[1] = 1;
    }
    for (int i = 2; i < MAX; i++)
    {
        if (ans.size() == n) break;
        if (on[i])
        {
            ans.push_back(i);
            can[i] = 1;
            for (int j = i + i; j < MAX; j += i)
            {
                for (int a = 1; a <= MAXM; a++)
                {
                    for (int b = 1; b <= a; b++)
                    {
                        can[j] = min(can[j], can[i] + can[j/i]);
                    }
                }
                if (can[j] <= k) on[j] = false;
            }
        }
    }
    assert(ans.size() == n);
    for (int i = 0; i < (int)ans.size(); i++)
    {
        printf("%d ", ans[i]);
    }
    printf("\n");
    return 0;
}

