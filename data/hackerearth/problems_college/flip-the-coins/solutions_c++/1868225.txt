#include <iostream>
using namespace std;

int main()
{
   int coins;
   cin>>coins;
   int c[100]={0};
   int ops;
   cin>>ops;
   int i,j,k,x,y,ans=0;
   for(int z=0;z<ops;z++){
   	ans=0;
   	cin>>i>>j>>k;
   	if(i==0)
	   	{
	   		for(x=j;x<=k;x++)
	   			c[x]=1-c[x];
	   	}
	 if(i==1)
	 	{
	 			for(x=j;x<=k;x++)
	 				if(c[x]==1)ans++;
	 				cout<<ans<<endl;
	 	}
	   	
   	
   }
    return 0;
}
