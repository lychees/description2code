#include <iostream>
#include <cstdio>

using namespace std;

int main()
{
    long long n1, n2;
    int t;
    cin >> n1 >> n2;
    cin >> t;
	while (t--) {
		long long l, r;
		scanf("%lld %lld", &l, &r);
		long long l1 = r/n1-(l-1)/n1;
		l1 += r/n2-(l-1)/n2;
		l1 -= r/(n1*n2)-(l-1)/(n1*n2);
		printf("%.6lf\n", l1/(double)(r-l+1));
	}    
    
    return 0;
}
