#include<iostream>
#include<cstring>
#define MAX 160000
#define INF 1<<20
using namespace std;
int lad[MAX+1],dp[MAX+1];
main() {
//    cout<<(INF)<<endl;
    int t;
    cin>>t;
    while(t--) {
        int n,l;
        cin>>n>>l;
//        memset(lad,0,sizeof(lad));
        for(int i=0;i<MAX;++i)
            lad[i]=0;
        for(int i=0;i<l;++i) {
            int b,u;
            cin>>b>>u;
            lad[b]=u;
        }
        for(int i=0;i<=MAX;++i)
            dp[i]=INF;
        dp[1]=0;
        if(lad[1]>0) {
            dp[lad[1]]=0;
            dp[1]=INF;
        }
        for(int i=2;i<=n;++i) { 
            for(int j=2;j<=12;++j) {
                if(i-j>=1) {
                    dp[i]=min(dp[i],dp[i-j]+1);
                }
            }
            if(lad[i]>0) {
                dp[lad[i]]=dp[i];
                dp[i]=INF;
            }
        }
//        for(int i=0;i<=n;++i)
  //          cout<<dp[i]<<" ";
    //    cout<<endl;
        cout<<dp[n]<<endl;
    }
    return 0;
}
