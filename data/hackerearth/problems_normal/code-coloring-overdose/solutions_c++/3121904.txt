#include <stdio.h>
#include <stdlib.h>
#include <iostream>
#include <string.h>
#include <algorithm>
#include <math.h>
#include <vector>
#include <queue>
#include <set>
#include <stack>
#include <map>
#define INF_MAX 2147483647
#define INF_MIN -2147483647
#define INF_LL 9223372036854775807LL
#define INF 2000000000
#define PI acos(-1.0)
#define inf INT_MAX
#define mod 1000000007
using namespace std;
typedef long long int LL;
long long int fastpow(long long int a, long long int b,long long int m)
{
	long long int r = 1;
	while (b > 0)
	{if (b % 2 == 1)r = (r * a) % m;b = b >> 1;a = (a * a) % m;}return r;
}
LL freq[500010] , N , K , M , color;
LL dp1[12] , dp2[12] , mult;
int main(){
cin >> N >> K >> M;
for(int i=0;i<12;i++)
	dp1[i] = 0 , dp2[i] = 0;
for(int i=1;i<=N;i++){
	cin >> color;
	freq[color]++;
}
dp1[0] = 1;
for(int i=1;i<=K;i++){
	mult = fastpow(2 , freq[i] , mod);
	mult = (mult + mod - 1 )%mod;
	for(int j=1;j<=M;j++)
		dp2[j] = (dp1[j] + (dp1[j-1]*mult)%mod)%mod;
	for(int j=1;j<=M;j++)
		dp1[j] = dp2[j];
}
LL answer = 0;
for(int i=0;i<=M;i++)
	answer = (answer + dp1[i])%mod;
cout << answer << endl;
return 0;
}
