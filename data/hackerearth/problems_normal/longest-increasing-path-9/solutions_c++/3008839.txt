#include <bits/stdc++.h>
using namespace std;

#define sd(x) scanf("%d",&x)
#define INF 1000000001LL

int main()
{
	int t,n,m;
	sd(t);
	while(t--)
	{
		sd(n);
		sd(m);
		vector<vector<int> > A(n,vector<int>(m));
		vector<vector<int> > DP(n,vector<int>(m));
		for(int i=0;i<n;++i)
			for(int j=0;j<m;++j)
				sd(A[i][j]);
		for(int i=n-1;i>=0;--i)
			for(int j=m-1;j>=0;--j)
			{
				int mVal = 0;
				if(i!=n-1)
					if(A[i+1][j]>A[i][j])
						mVal = max(mVal,DP[i+1][j]);
				if(j!=m-1)
					if(A[i][j+1]>A[i][j])
						mVal = max(mVal,DP[i][j+1]);
				DP[i][j] = mVal+1;
			}
		printf("%d\n",DP[0][0]);
	}
}