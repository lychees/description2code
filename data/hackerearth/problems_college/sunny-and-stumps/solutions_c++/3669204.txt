#include<bits/stdc++.h>
using namespace std;
bool compare(pair<pair<long long ,long long >,double > p1,pair<pair<long long ,long long >,double >p2)
{
       if(p1.first.first < p2.first.first )return 1; 
       else
       if(p1.first.first == p2.first.first &&  p1.first.second <p2.first.second)
       {
       	return 1;
	   }
	   else
	   if(p1.first.first == p2.first.first &&  p1.first.second == p2.first.second &&  p1.second <p2.second)
       {
       	return 1;
	   }
       return 0;
}
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n,i;
		cin>>n;
		pair< pair<long long int,long long int>,double >p[n];
		for(i=0;i<n;i++)
		{
		 long long int  a,b,c;
		 cin>>a>>b>>c;
		 long long int m = (__gcd(a,b));
		 int l = a/m;
		 int r = b/m;
		 
		 double o = (double)c/m;
		 p[i] = make_pair(make_pair(l,r),o);
		}
		sort(p,p+n,compare);
		
		int j=0;
		long long ans=1;
		long long x1,y1,x2,y2;
		double z1,z2;
		long long int sum=1;
		for(i=1;i<n;i++)
		{
			x1=p[j].first.first;y1=p[j].first.second;z1=p[j].second;
			x2=p[i].first.first;y2=p[i].first.second;z2=p[i].second;
			if(x1==x2&&y1==y2)
			{
				if(z1==z2)
				continue;
				sum++;
				j=i;
			}
			else
			{
				ans=max(ans,sum);
				sum=1;
				j=i;
			}
		}
		ans=max(ans,sum);
		printf("%lld\n",ans);
	}
}