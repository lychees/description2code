n = int(raw_input())
d = {}
l = []
lcity = []
dic = {}
ans = 0
for i in range(n):
    c = raw_input()
    l.append(c)
    d[c] = i
for i in range(n):
    co = list(map(int, raw_input().split(" ")))
    dic[l[i]] = co
p = int(raw_input())
for i in range(p):
    city = raw_input()
    lcity.append(city)
for i in range(p):
    ind1 = d[lcity[i]]
    if i != 0:
        ind2 = lcity[i-1]
    else:
        ind2 = l[0]
    ans += dic[ind2][ind1]
if n == 1:
    print '0'
print ans
