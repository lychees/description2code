#include<bits/stdc++.h>
using namespace std;
int main()
{ int i,z,a[1000],b,c,d,q,n;

  cin>>n;
  for(i=0;i<n;i++)
  {
    a[i]=0;
  }
  cin>>q;
  while(q--)
  {
    cin>>b>>c>>d;
    if(b==0)
    {
      for(i=c;i<=d;i++)
      {
        if(a[i]==1)
        {
          a[i]=0;
        }
        else
        {
         a[i]=1;
        }
      }

    }
  else
    { z=0;
      for(i=c;i<=d;i++)
      {
        if(a[i]==1)
        {
          z++;
        }
      }
      cout<<z<<"\n";

    }

  }





return 0;
}
