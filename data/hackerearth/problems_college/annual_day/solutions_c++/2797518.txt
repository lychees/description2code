#include <iostream>
#include <cstring>
#include <cmath>
#include <cstdio>
#include <functional>
#include <algorithm>

using namespace std;

int nlist[103];

int count_set(int a)
{
	if(a == 0)
	{
		return 0;
	}
	else
	{
		int count ;
		count = 0;
		while( a >= 1)
		{
			if(a%2 == 1)
			{
				count = count +1;
			}
			a= a/2;
			
		}
		return count ;
	}
}


int main()
{
	int t;
	cin >> t;
	
	while(t--)
	{
		memset(nlist,0,103);
		int n,k,bin_num,i;
		cin >> n >> k;
		for(int i=0;i<n ; i++){ cin >> nlist[i]; }

		for(int i=0;i<n ; i++){ nlist[i] = count_set(nlist[i]); }
		
		sort(nlist,nlist+n, std::greater<int>());
		i=0;
		for(int j=0;j<k;j++) { i = i + nlist[j]; }
			cout << i << endl;
	}
}
