#include<bits/stdc++.h>

using namespace std;

int main()
{
    long long t,n1,n2,m;
    long long  a[100],b[100];
    cin>>t;
    while(t--)
    {
        vector<long long> tmp;
        cin>>m>>n1>>n2;
        for(int i=0;i<n1;i++)
           cin>>a[i];


        for(int i=0;i<n2;i++)
            cin>>b[i];
        for(int i=0;i<(1<<n2) ;i++)
        {
            long long sum=0;
            for(int j=0;j<n2;j++)
            {
                if((i>>j)& 1)
                     sum+=b[j];

            }
            tmp.push_back(sum);


        }
        sort(a,a+n1,greater<long long>());
        sort(tmp.begin(),tmp.end());
        int flag=0;
        for(int i=0;i<tmp.size();i++)
        {
            if(flag==1)
                break;
            vector<long long> ans;
            if(tmp[i]<0 || tmp[i]>m)
                continue;
            long long tx=tmp[i];

            for(int j=0;j<n1;j++)
            {
                if(flag==1)
                break;

                if(tx+a[j]<=m)
                {


                tx+=a[j];
                ans.push_back(a[j]);
                }

                if(tx==m)
                {

                    sort(ans.begin(),ans.end());
                    cout<<"YES\n";
                    for(int k=0;k<ans.size();k++)
                        cout<<ans[k]<<" ";
                    cout<<"\n";
                    flag=1;
                }

            }
        }
        if(flag==0)
            cout<<"NO\n";

    }

}
