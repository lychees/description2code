#include <bits/stdc++.h>
    #define fun(i,a,b) for(int i=a;i<b;i++)
    #define ll long long int
    using namespace std;
    int main()
    {
    	int n,test,m,c,ans;
    	cin>>test;
    	ll ar[21],s=1;
    	fun(i,0,20)
    	{
    		ar[i]=s;
    		s*=2;
    	}
    	while(test--)
    	{
    		ans=1<<18;
    		vector <string> v;
    		string temp;
    		scanf("%d",&n);
    		fun(i,0,n)
    		{
    			cin>>temp;
    			v.push_back(temp);
    		}
    		m=v.back().size();
    		ll N=1<<m;
    		bool vis[n];
    		fun(i,0,N)
    		{
    			c=0;
    			fun(j,0,n)
    				vis[j]=0;
    			fun(j,0,m)
    				if(i&ar[j])
    					fun(k,0,n)
    						if(v[k][j]=='Y' and !vis[k])
    						{
    							c++;
    							vis[k]=1;
    						}

    			if(c==n)
    			{
    				int temp=__builtin_popcount(i);
    				ans=min(ans,temp);
    			}
    		}
    		printf("%d\n",ans);
    	}
    }