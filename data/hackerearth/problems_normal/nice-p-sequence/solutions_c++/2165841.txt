#include <bits/stdc++.h>
using namespace std;

int gcd(int a, int b)
{
	int temp;
	while(a)
	{
		temp = a;
		a = b%a;
		b = temp;
	}
	return b;
}

int modinv(int a, int m)
{
	int q,temp,temp2,temp3,s1=1,s2=0,t1=0,t2=1,temp4=m;
	while(a)
	{
		q = m/a;
		temp = a;
		temp2 = s2;
		temp3 = t2;
		a = m - q*a;
		m = temp;
		s2 = s1 - q*s2;
		t2 = t1- q*t2;
		s1 = temp2;
		t1 = temp3;
	}
	return (t1+temp4)%temp4;
}

int main()
{
	std::ios_base::sync_with_stdio(false);
	int t; cin>>t;
	while(t--)
	{
		int a,p,n; cin>>a>>p>>n;
		if(gcd(a,p) == 1)
		{
			int inv = modinv(a,p);
			cout<<((n%2)?((long long)a*(n+1)/2+(long long)inv*(n-1)/2):((long long)(a+inv)*n/2))<<endl;
		}
		else
			cout<<-1<<endl;
	}
	return 0;
}