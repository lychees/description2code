#include <iostream>
using namespace std;
long long a[2005],b[2005];
long long maxx[2005][2005];
long long fmxx(int i,int j){
	if(i==j)
	return a[i-1];
	if(maxx[i][j]!=-1){
		return maxx[i][j];
	}
	else {
		long long sum,sum2;
		sum=a[i-1];
		
		sum2=a[j-1];
		
		sum=sum+fmxx(i+1,j)+b[j]-b[i];
	
		sum2=sum2+fmxx(i,j-1)+b[j-1]-b[i-1];

		maxx[i][j]=max(sum,sum2);
	//	cout<<i<<" "<<j<<" "<<maxx[i][j]<<endl;
		return maxx[i][j];
	}
	
}
int main()
{
	int n;
	long long sum;
	
   cin>>n;
   int f=0;
   int flag=-1;
   int l;
   l=n-1;
   sum=0;
   for(int i=0;i<n;i++)
     cin>>a[i];
     b[0]=0;
    for(int i=1;i<=n;i++){
    	b[i]=b[i-1]+a[i-1];
    } 
     for(int i=0;i<=n;i++)
      for(int j=0;j<=n;j++)
       maxx[i][j]=-1;
    sum=fmxx(1,n);
     cout<<sum<<endl;
    return 0;
}
