#include <iostream>
#include <vector>
#include <algorithm>
#include <utility>
using namespace std;
vector<pair<int,int>> pp;
vector<int> order,temp;
bool vis[50];
int n,m;
void ini()
{
	for(int i=0;i<n;i++)
	vis[i]=false;
}
int check(vector<int> o)
{
	int x,y,f=1;
	for(int i=0;i<m;i++)
	{
		x=pp[i].first;
		y=pp[i].second;
		x--;
		sort(o.begin()+x,o.begin()+y);
	}
	for(int i=0;i<n;i++)
	{	//cout<<o[i]<<" ";
		if(o[i]!=i+1)
		{
			f=-1;
			break;
		}
	}
	return f;
}
int main()
{
    scanf("%d %d",&n,&m);
    int a,b,f=1;
    ini();
    for(int i=0;i<m;i++)
    {
    	scanf("%d %d",&a,&b);
    	pp.push_back(make_pair(a,b));
    }
    for(int i=0;i<n;i++)
    {
    	order.push_back(i+1);
    	temp.push_back(n-i);
    }
    if(check(temp)==1)
    {
    	printf("All ok!");
    	return 0;
    }
	for (int i = 0; i < n; ++i)
		for (int j = 0; j < n; ++j)
		{
			if (vis[j]==true) continue;
			vis[j] = true;
			order[i] = j+1;
			for (int k = i + 1, val = n - 1; val >= 0; --val)
				if (vis[val]==false)
					order[k++] = val+1;
			if (check(order)==-1) break;
			vis[j] = false;
		}
	for (int i = 0; i < n; ++i)
	printf("%d ", order[i]);
    
    return 0;
}
