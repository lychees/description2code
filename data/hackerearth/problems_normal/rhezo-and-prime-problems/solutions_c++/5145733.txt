#include <bits/stdc++.h>
#define MAX 100000
using namespace std;

int v[MAX+5]={0};
vector<int > prime;

void sieve(){
	prime.push_back(2);
	for(int i=0;i<MAX;i+=2){
		v[i]=1;
	}
	for(int i=3;i<MAX;i+=2){
		if(!v[i]){
			prime.push_back(i);
			
			for(int j=i;j<MAX;j+=i)v[j]=1;
		}
	}
	
}



int main()
{  sieve();
   
  // for(int i=0;i<prime.size();i++)cout<<prime[i]<<endl;
   
   int n;
   cin>>n;
   int arr[n+1],pre[n+1];
   int dp[n];
   for(int i=0;i<n+1;i++)pre[i]=0;
   for(int i=0;i<n;i++){
   	cin>>arr[i];dp[i]=arr[i];
   	if(i)pre[i]+=arr[i]+pre[i-1];else pre[i]=arr[i];
   }
   dp[0]=0;
   dp[1]=dp[0]+arr[1];
   
   
   for(int i=2;i<n;i++){
   	dp[i]=dp[i-1];
   		for(int j=0;j<prime.size();j++){
   			if(i+1-prime[j]<0)break;
   			else{
   				if(i+1-prime[j]==0) dp[i]=max(dp[i],pre[i]);
   				else
   				dp[i]=max(dp[i],dp[i-prime[j]-1]+pre[i]-pre[i-prime[j]]);
   				
   			//	cout<<dp[i-prime[j]-1]<<" "<<pre[i]-pre[i-prime[j]]<<" "<<prime[j]<<" "<<i<<" "<<dp[i] <<endl;
   			}
   		}
   	
   }
   cout<<dp[n-1];
    return 0;
}
