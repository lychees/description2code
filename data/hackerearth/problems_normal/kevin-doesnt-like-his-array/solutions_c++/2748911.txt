#include <bits/stdc++.h>
using namespace std;
int a[4324234],deg[4234242],occ[3242344];
int main()
{
    //freopen("input.txt","r",stdin) ;
    ios_base::sync_with_stdio(0) ;
    cin.tie(0) ;
    int n;
    scanf("%d", &n);
    for (int i = 1; i <= n; ++i)
    {
        scanf("%d", &a[i]);
        ++occ[a[i]];
        if(i>1 && a[i]==a[i-1])
            ++deg[a[i]];
    }
    priority_queue<pair<int,int> > Q;
    for(int i=1;i<=1e5;++i)
        if(occ[i]>(n+1)/2)
            {
                cout<<-1;
                return 0;
            }
    for(int i=1;i<=1e5;++i)
        if(deg[i])
            Q.push(make_pair(deg[i],i));
    int ans=0;
    while(Q.size()>1)
    {
        int u=Q.top().second;
        int du=Q.top().first;
        Q.pop();
        int v=Q.top().second;
        int dv=Q.top().first;
        Q.pop();
        --du;
        --dv;
        if(du)
            Q.push(make_pair(du,u));
        if(dv)
            Q.push(make_pair(dv,v));
        ++ans;
    }   
    if(!Q.empty())
        ans+=Q.top().first;
    cout<<ans;
    return 0; 
}