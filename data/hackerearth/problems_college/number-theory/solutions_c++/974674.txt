#include <iostream>
#include <cstring>
using namespace std;

int main()
{
	int t;
	cin>>t;
	long long num;
	while(t--)
	{
		int c=0;
		cin>>num;
		long long rum=num;
		int hash[11]={0};
		while(rum>0)
		{
			hash[rum%10]=1;
			rum/=10;
		}
		for(long long i=1;i*i<=num;i++)
		{
			if(num%i==0)
			{
				long long j=i;
				if(j==num/j)
				{
					int flag=0;
					while(j>0)
					{
						if(hash[j%10]==1) {flag=1;break;}
						j/=10;
					}
					if(flag==1) c++;
				}
				else
				{
					int f1=0,f2=0;
					int r=num/j;
					while(j>0)
					{
						if(hash[j%10]==1) {f1=1;break;}
						j/=10;
					}
					while(r>0)
					{
						if(hash[r%10]==1) {f2=1;break;}
						r/=10;
					}
					if(f1==1) c++;
					if(f2==1) c++;
				}
			}
		}
		cout<<c<<endl;
	}
    return 0;
}
