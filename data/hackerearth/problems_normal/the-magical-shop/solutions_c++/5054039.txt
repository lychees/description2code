    /*
    -----------------------------------------------------------------------------
    Author :            ---------------------------------------------------------
        RI$HABH $HARMA  ---------------------------------------------------------
        NIT WARANGAL    ---------------------------------------------------------
    -----------------------------------------------------------------------------
    */
    #include<iostream>
    #include<string.h>
    #include<math.h>
    #include<algorithm>
    #include<map>
    #include<stack>
    #include<vector>
    #include<stdio.h>
    #define pie 3.14159
    #define pi 2*acos(0.0)
    #define mod 1000000007
    #define LL long long

    using namespace std;
    long long int modularexponention(long long int b,long long int e,long long int m)
    {
        if(m==1)
            return 0;
        b=b%mod;
        long long int ans=1;
        while(e>0)
        {
            if(e%2==1)
                ans=(ans*b)%mod;
            e=e>>1;
            b=(b*b)%mod;
        }
        return ans;
    }
    long long int gcd(long long int a,long long int b)
    {
        if(b==0)
            return a;
        else
            return gcd(b,a%b);
    }
    long long int lcm(long long int a,long long int b)
    {
        return ((a*b)/gcd(a,b));
    }
    int readInt () {
	bool minus = false;
	int result = 0;
	char ch;
	ch = getchar();
	while (true) {
		if (ch == '-') break;
		if (ch >= '0' && ch <= '9') break;
		ch = getchar();
	}
	if (ch == '-') minus = true; else result = ch-'0';
	while (true) {
		ch = getchar();
		if (ch < '0' || ch > '9') break;
		result = result*10 + (ch - '0');
	}
	if (minus)
		return -result;
	else
		return result;
}

    int main()
    {
        //ios::sync_with_stdio(false);
        //freopen("input.txt","r",stdin);
        LL a,b;
        a=readInt();
        b=readInt();
        string s;
        cin>>s;
        LL len=s.length();
        LL ans=0;
        for(int i=0;i<len;i++)
        {
            if(s[i]=='1')
            {
                ans=ans+a;
                ans=ans%b;
            }
            a=((a%b)*(a%b))%b;
        }
        cout<<ans<<"\n";
        return 0;
    }
