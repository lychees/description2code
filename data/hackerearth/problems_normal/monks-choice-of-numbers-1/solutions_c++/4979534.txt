#include <iostream>
using namespace std;

int main()
{
 	int t,nb[99999],n,bite,buff,k;
 	cin>>t;
 	while(t){
 		cin>>n>>k;
 		nb[0]=0;
 		for(int x=0;x<n;x++){
 			cin>>bite;
 			buff=0;
 			do{
 				if(bite&1)buff++;
 				bite>>=1;
 			}while(bite);
 			for(int i=x;i>=0;i--){
 				if(buff<nb[i]){
 					break;
 				}
 				else{
 					nb[i+1]=nb[i];
 					nb[i]=buff;
 				}
 			}
 		}
 		bite=0;
 		for(int x=0;x<k;x++)bite+=nb[x];
 		cout<<bite<<endl;
 		t--;
 	}
    return 0;
}
