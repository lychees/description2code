/*input
2
4
2 3 4 6
4
1 1 6 25
*/

#include <bits/stdc++.h>
using namespace std;
#define M 1005
#define Cube(x) (x * x * x)
int a[M];
bool cube[10 * M];

int main() {
    int T, N;
    memset(cube, false, sizeof(cube));
    N = 1;
    while (true) {
        if (Cube(N) > 6000)
            break;
        cube[Cube(N)] = true;
        N++;
    }

    cin >> T;
    while (T--) {
        cin >> N;
        for (int i = 0; i < N; ++i)
            cin >> a[i];

        int cnt = 0, total = 0;
        for (int i = 0; i < N; ++i) {
            for (int j = i + 1; j < N; ++j) {
                for (int k = j + 1; k < N; ++k) {
                    if (cube[a[i] + a[j] + a[k]])
                        cnt++;
                    total++;
                }
            }
        }
//        cout << cnt << " " << total << endl;
        printf("%.9f\n", (double)cnt / total);
    }   
}