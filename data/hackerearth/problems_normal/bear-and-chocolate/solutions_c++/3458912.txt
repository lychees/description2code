#include <iostream>
using namespace std;

int main()
{
    long long int t,n,i,j;
    cin>>t;
    while(t--)
    {
    	cin>>n;
    	char mat[n][n];
    	long long int row[1001]={0},col[1001]={0};
    	for(i=0;i<n;++i)
    	{
    		for(j=0;j<n;++j)
    		{
    			cin>>mat[i][j];
    		}
    	}
    	for(i=0;i<n;++i)
    	{
    		for(j=0;j<n;++j)
    		{
    			if(mat[i][j]=='#')
    			++row[i];
    		}
    	}
    	for(j=0;j<n;++j)
    	{
    		for(i=0;i<n;++i)
    		if(mat[i][j]=='#')
    		++col[j];
    	}
    	long long int sum_r_l=0,sum_r_r=0,sum_c_l=0,sum_c_r=0;
    	sum_r_r=row[n-1];
    	sum_r_l=row[0];
    	for(i=1,j=n-2;i<=j;)
    	{
    		if(sum_r_r<sum_r_l)
    		{sum_r_r+=row[j];--j;}
    		else
    		{
    			sum_r_l+=row[i];
    			++i;
    		}
    	}
    	sum_c_l=col[0];
    	sum_c_r=col[n-1];
    	for(i=1,j=n-2;i<=j;)
    	{
    		if(sum_c_r<sum_c_l)
    		{sum_c_r+=col[j];--j;}
    		else
    		{
    			sum_c_l+=col[i];
    			++i;
    		}
    	}

    	if(sum_r_r==sum_r_l)
    	cout<<"YES\n";
    	else if(sum_c_r==sum_c_l)
    	cout<<"YES\n";
    	else
    	cout<<"NO\n";
    }
    return 0;
}
