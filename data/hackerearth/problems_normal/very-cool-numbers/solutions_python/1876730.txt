t=input()
ans=[]
a=[]
for x in range(101):
	a.append(0)
for y in range(100001):
	ans.append(list(a))
for n in range(1,100001):
	a=str("{0:b}".format(n))
	an=0
	for x in range(len(a)-2):
		if a[x:x+3]=="101":
			an+=1
	for y in range(101):
		ans[n][y]=ans[n-1][y]
	ans[n][an]+=1

while t:
	t-=1
	nn,k=map(int,raw_input().split())
	an=0
	for x in range(k,101):
		an+=ans[nn][x]
	print an
	