for _ in range(int(raw_input())):
    dic={}
    m=int(raw_input())
    ar=[int(i) for i in raw_input().split()]
    for i in ar:
        if dic.get(i):
            dic[i]+=1
        else:
            dic[i]=1
    su=m
    for i in dic.values():
        if i>1:
            su+=i*(i-1)/2
    print(su)
    
