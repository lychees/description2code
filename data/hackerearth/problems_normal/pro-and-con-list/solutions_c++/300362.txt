#include<iostream>
#include<cstdio>
#include<climits>
#include<string>
#include<cstring>
#include<algorithm>
#include<vector>
#include<stack>
#include<queue>
#include<set>
#include<map>
#include<cmath>
#include<queue>
#include<utility>
#include<fstream>

using namespace std;

//#define inp(a) scanf("%d",&a)
#define out(a) printf("%d\n",a)
#define in(a)  scanf("%d",&a);
#define inll(a) scanf("%lld",&a)
#define outll(a) printf("%lld\n",a)
#define VI vector<int>
#define VLL vector<long long int>
#define PQI priority_queue<int>
#define PQLL priority_queue<long long int>
#define VP vector<pair<int,int> >
#define ll long long int
#define MOD 1000000007
#define MP make_pair
#define X first
#define Y second
#define PB push_back
//#define n 150000
/*
inline void inp(int *n)
{
	*n = 0;
	int ch = getchar_unlocked();
	while(ch < '0' || ch > '9')
	{
		ch = getchar_unlocked();
	}
	while(ch >= '0' && ch <= '9')
	(*n) = ((*n)<<3) + ((*n)<<1) + ch - '0', ch = getchar_unlocked();
}*/

/*bool compare(const pair<ll,ll>& p,const pair<ll,ll> &q){
	return p.X<q.X;
}*/
/*bool comp(const node &x,const node &y){
	return x.a<y.a;
}*/
 

int main(){

 ll t,n,uhappy,lhappy,umax,lmax,ts,h,s,tot;
 inll(t);
 while(t--){
 	inll(n);
 	uhappy=lhappy=0;
 	lmax=umax=INT_MIN;
 	ts=0;
 	
 	inll(h);
 	inll(s);
 	umax=h+s;
 	ts+=s;
 	for(int i=1;i<n;i++){
 	inll(h);
 	inll(s);
 	ts+=s;
 	tot=h+s;
 	
 	if(lmax<tot&&tot<=umax){
 		lmax=tot;
 	}
 	else if(umax<tot){
 		lmax=umax;
 		umax=tot;
 	}
  }
	//outll(ts);
	//outll(lmax);
	//outll(umax);
	outll(umax+lmax-ts);
}
 return 0;
} 

