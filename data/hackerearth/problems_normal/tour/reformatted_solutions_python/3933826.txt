N = int(raw_input())
city = {}
cost = []
total_cost = 0
for i in range(N):
    city.update({raw_input(): i})
for i in range(N):
    cost.append(map(int, raw_input().split()))
curr_city = city.keys()[city.values().index(0)]
P = int(raw_input())
for i in range(P):
    travel = raw_input()
    total_cost = total_cost+cost[city[curr_city]][city[travel]]
    curr_city = travel
print total_cost
