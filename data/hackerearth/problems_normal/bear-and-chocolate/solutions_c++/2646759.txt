/**************************
* Sumit Kumar             *
* IIT Guwahati            *
***************************/
#include<bits/stdc++.h>
using namespace std;
#define TC(t) int t;sci(t);while(t--)
#define fill(a,b) memset(a,b,sizeof(a))
#define sci(a) scanf("%d",&a)
#define sci2(a,b) scanf("%d%d",&a,&b)
#define scl(a) scanf("%I64d",&a)
#define scs(x) scanf("%s",x);
#define INCR(x,a,b) for(int x=a;x<=b;x++)
#define DCR(x,a,b) for(int x=a;x>=b;x--)
#define FRI(it,container)  for(auto it=container.begin(); it!=container.end(); it++)
#define F first
#define S second
#define PB(a) push_back(a)
#define all(x) (x).begin(),(x).end()
#define MP(x,y) make_pair(x,y)
#define PF(a) push_front(a)
#define gcd __gcd
#define bcnt __builtin_popcount

#ifndef loc
  #define trace1(x)           cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "<<x<<endl
  #define trace2(x,y)         cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "<<x<<" | "#y" = "<<y<<endl
  #define trace3(x,y,z)       cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "<<x<<" | "#y" = "<<y<<" | "#z" = "<<z<<endl
  #define trace4(a,b,c,d)     cerr<<__FUNCTION__<<":"<<__LINE__<<": "#a" = "<<a<<" | "#b" = "<<b<<" | "#c" = "<<c<<" | "#d" = "<<d<<endl
  #define trace5(a,b,c,d,e)   cerr<<__FUNCTION__<<":"<<__LINE__<<": "#a" = "<<a<<" | "#b" = "<<b<<" | "#c" = "<<c<<" | "#d" = "<<d<<" | "#e" = "<<e<<endl
  #define trace6(a,b,c,d,e,f) cerr<<__FUNCTION__<<":"<<__LINE__<<": "#a" = "<<a<<" | "#b" = "<<b<<" | "#c" = "<<c<<" | "#d" = "<<d<<" | "#e" = "<<e<<" | "#f" = "<<f<<endl
  #define tracea(x,a,b)       cerr<<__FUNCTION__<<":"<<__LINE__<<": "#x" = "; INCR(i,a,b) cerr<<x[i]<<","; cerr<<endl;
#else
  #define trace1(x)
  #define trace2(x,y)
  #define trace3(x,y,z)
  #define trace4(a,b,c,d)
  #define trace5(a,b,c,d,e)
  #define trace6(a,b,c,d,e,f)
  #define tracea(x,a,b)
  #define endl '\n'
#endif

typedef long long ll;
typedef vector<int> vi;
typedef pair<int, int> ii;
typedef vector<vi> vvi;
typedef vector<ii> vii;
const int MOD = 1e9 + 7;
const int MAXN=1e6+9;

struct ListNode {
    int val;
    ListNode *nxt;
    ListNode(int x) : val(x), nxt(NULL) {}
};
ll poww(ll x,ll y){
    ll res=1;
    while(y>0){
        if(y%2) res=res*x;
        x=x*x; y/=2;
    }
    return res;
}

//********************************************************************************************template.......
char co[1009][1009];
void sol(int n){
	int cnt=0;
	vi row(1009,0);
	vi col(1009,0);
	INCR(i,0,n-1){
		INCR(j,0,n-1){
			if(co[i][j]=='#'){
				row[i]++;
				col[j]++;
				cnt++;
			}
		}
	}
	if(cnt%2){
		cout<<"NO"<<endl;
		return;
	}
	cnt=cnt/2;
	int i=0,j=n-1;
	int up=0,dwn=0;
	while(i<n && j>=0){
		//cout<<row[i]<<" ";
		up+=row[i];
		dwn+=row[j];
		i++; j--;
		if(up==cnt){
			cout<<"YES"<<endl;
			return;
		}
		if(dwn==cnt){
			cout<<"YES"<<endl;
			return;
		}
	}
	i=0,j=n-1;
	up=0,dwn=0;
	while(i<n && j>=0){
		//cout<<col[i]<<" ";
		up+=col[i];
		dwn+=col[j];
		i++; j--;
		if(up==cnt){
			cout<<"YES"<<endl;
			return;
		}
		if(dwn==cnt){
			cout<<"YES"<<endl;
			return;
		}
	}
	cout<<"NO"<<endl;
	return;
}

int main() {
    TC(t){
    	int n; sci(n);
 		INCR(i,0,n-1) scs(co[i]);
 		sol(n);
    }
	return 0;
}
