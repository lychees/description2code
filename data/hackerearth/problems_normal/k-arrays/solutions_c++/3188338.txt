#include <iostream>
#include<limits.h>
#include <math.h>
using namespace std;
#define MOD 1000000007

long long a1(long long a,long long b) {
long long x = 1, y = a;
    while(b > 0) {
        if(b%2 == 1) {
            x=(x*y);
            if(x>MOD) x%=MOD;
        }
        y = (y*y);
        if(y>MOD) y%=MOD;
        b /= 2;
    }
    return x;
}

long long a2(long long a) {
    return a1(a,MOD-2);
}

int main()
{
    int t,n,k,i,j,K,c;
    cin>>t;
    while(t--)
    {
    	cin>>n>>k;
    	long long  a[k][n];
    	for(i=0;i<k;i++)
    	{
    		for(j=0;j<n;j++)
    		cin>>a[i][j];
    	}
    long long max_l,min_l,M,m,s,l,S,len;
    M=INT_MIN;
    m=INT_MAX;
    max_l=INT_MAX;
    min_l=INT_MIN;
    for(i=1;i<=pow(2,n)-1;i++)
    {
    	//cout<<"hello\n";
    	j=i;
    	l=1;
    	c=0;
    	len=0;
    	while(j)
    	{
    		if(j&1)
    		{
    			S=0;
    			c++;;
    			for(K=0;K<k;K++)
    			{
    			    S=(S+a[K][len])%MOD;
    			    //cout<<a[K][len]<<" ";
    			}
    			l=(l*S)%MOD;
    		}
    		len++;
    		j=j>>1;
    	}
    	l=(l*a2(c))%MOD;
        //cout<<"\n"<<l<<" "<<c<<"\n";
    	if(m>=l)
    	{
    		if(m==l)
    		{
    			if(c>min_l)
    			min_l=c;
    		}
    		else
    		{
    			m=l;
    			min_l=c;
    		}
    	}
    	if(M<=l)
    	{
    		if(M==l)
    		{
    			if(c<max_l)
    			max_l=c;
    		}
    		else
    		{
    				M=l;
    				max_l=c;
    		}
    	}
    }
    //cout<<M<<" "<<m<<"\n";
    cout<<(M^m)<<" "<<(max_l^min_l)<<"\n";
   }
}
