#include <iostream>
#include <unordered_map>

using namespace std;

long long int util (int count)
{
	long long int ans = count*(count+1) ; 
	ans /= 2 ;
	return ans ;
}

int main()
{
    int test ;
    scanf("%d",&test) ;
    
    unordered_map <char,int> mp ; 
    mp['A'] = 1 ; mp['a'] = 1 ;
    mp['B'] = 1 ; mp['b'] = 1 ;
    mp['C'] = 1 ; mp['c'] = 1 ;
    
    while(test--)
    {
    	string str ; 
    	cin >> str ; 
    	
    	int len = str.length() ; 
    	int i = 0 ; 
    	long long int ans = 0 ; 
    	
    	while(i < len)
    	{	
    		int count = 0 ; 
    		if(mp[str[i]] > 0)
    		{
    			do{i++ ; count ++ ; }while(mp[str[i]] > 0 && mp[str[i-1]] > 0) ; 
    			ans = ans + util(count) ;  
    		}
    		else
    		{
    			i++ ;
    		}
    	}
    	
    	printf("%lld\n",ans) ;
    }
    
    return 0;
}
