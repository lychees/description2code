
t = int(raw_input())
for test_case in range(t):
    n = raw_input()
    nos = raw_input().split(' ')
    unique = set(nos)
    count = 0
    for no in unique:
        this = nos.count(no)
        no = (this * (this + 1)) / 2
        count += no
    print(count)
