#include <iostream>
using namespace std;
int phi(int a)
{
int r=a;
for(int p=2;p*p<=a;p++)
{
	if(a%p==0)
	{
		while(a%p==0)
		a/=p;
		r-=(r/p);
	}
}
if(a>1)
r-=r/a;
	
return r;	
	
}
int main() {
	int t,d,n;
	cin>>t;
	while(t--)
	{
		cin>>n>>d;
		if(n%d!=0)
		cout<<0<<endl;
		else
		{
			cout<<phi(n/d)<<endl;
			
		}
	}
	return 0;
}