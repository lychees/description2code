def main():
    ab = raw_input()
    at = ab.split(' ')[0]
    bt = ab.split(' ')[1]
    a, b = int(at), int(bt)
    c = raw_input()
    res = 0
    for n in c:
        if n == '1':
            res = ((res % b)+(a % b)) % b
        a = ((a % b)*(a % b)) % b
    print(res % b)


if __name__ == '__main__':
    main()
