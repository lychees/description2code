#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;

int main() {
long long int flag, i,j,r,x,y,rx,ry,k,l,m,n,a[1000][1000],t;
 

  
        {
    
        cin>>m>>n;
            for(i=0;i<m;i++)
                for(j=0;j<n;j++)cin>>a[i][j];
                
                
                
             int high=0;   
             
        for(x=m-1;x>=0;x--)
             for(i=0;i<n;i++)
                {
                k=a[x][i];
               int  c=0;
                for(j=i+1;a[x][j]==k;j++);
      c=j-i;
                for(j=x-1;a[j][i]==k;j--);
                c+=(x-j);
                if(c>high)high=c;
            }
            cout<<high-1;
       
    }
  return 0;
}