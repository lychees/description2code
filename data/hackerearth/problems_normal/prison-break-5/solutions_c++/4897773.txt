#include<bits/stdc++.h>
using namespace std;

int n,count_r;

void route(int i,int j,vector< vector<int> >&arr,vector< vector<int> >&mark)
{
	if( (i==n)&& (j==n) )
	{
		count_r++;
		return;
	}
	mark[i][j]=1;
	if( (j+1)<=n && mark[i][j+1]==0 &&  arr[i][j+1]==0 )
		route(i,j+1,arr,mark);
	if( (i+1)<=n && mark[i+1][j]==0 &&  arr[i+1][j]==0 )
		route(i+1,j,arr,mark);
	if( (j-1)>=1 && mark[i][j-1]==0 &&  arr[i][j-1]==0 )
		route(i,j-1,arr,mark);
	if( (i-1)>=1 && mark[i-1][j]==0 &&  arr[i-1][j]==0 )
		route(i-1,j,arr,mark);
	mark[i][j]=0;
	return;
	
}
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		cin>>n;
		vector< vector<int> >arr(n+1,vector<int>(n+1,0));
		vector< vector<int> >mark(n+1,vector<int>(n+1,0));
		for(int i=1;i<=n;++i)
		{
			for(int j=1;j<=n;++j)
				cin>>arr[i][j];
		}
		count_r=0;
		route(1,1,arr,mark);
		cout<< count_r<<endl;
	}
}