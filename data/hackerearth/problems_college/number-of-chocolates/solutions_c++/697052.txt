#include <iostream>
#include<cstdio>
using namespace std;
#define ll long long int
int main()
{
    ll n,t,g1,g2,p1,p2,q,i;
    ll a[1000006]={0};
    scanf("%lld %lld",&n,&q);
    for(i=0;i<n;i++)
    {
    	scanf("%lld",&a[i]);
    	if(i)
    	a[i]+=a[i-1];
    }
    while(q--)
    {
    	scanf("%lld %lld",&g1,&p1);
    	scanf("%lld %lld",&g2,&p2);
    	if(g1<p1)
    	{
    		if(g2>=p1)
    		{
    			if(p2<g2)
    			{
    			     if(g1)
    				 printf("%lld\n",a[g2]-a[g1-1]);
    				 else
    				 printf("%lld\n",a[g2]);
    			}
    			else
    			{
    				if(g1)
    				 printf("%lld\n",a[p2]-a[g1-1]);
    				 else
    				 printf("%lld\n",a[p2]);
    		    }
            }
            else
            {
            	if(g1)
            	printf("%lld\n",a[g2]-a[g1-1]+a[p2]-a[p1-1]);
            	else
            	printf("%lld\n",a[g2]+a[p2]-a[p1-1]);
            }
    	}
    	else if(g1==p1)
    	{
    		if(p1<g2)
    		{
    			if(g2<p2)
    			{
    			     if(g1)
    				 printf("%lld\n",a[p2]-a[p1-1]);
    				 else
    				 printf("%lld\n",a[p2]);
    			}
    			else 
    			{
    				if(g1)
    				 printf("%lld\n",a[g2]-a[p1-1]);
    				 else
    				 printf("%lld\n",a[g2]);
    			}
    		}
    			else if(p1==g2)
    			{
    				 if(g2==p2)
    				 {
    				 	if(g2)
    				     printf("%lld\n",a[g2]-a[g2-1]);
    				     else
    				     printf("%lld\n",a[g2]);
    				 }
    				 else
    				 {
    				 	if(g1)
    				     printf("%lld\n",a[p2]-a[p1-1]);
    				     else
    				     printf("%lld\n",a[p2]);	
    				 }
    		    }
            }    		
    	else if(p1<g1)
    	{
    		if(g1<=p2)
    		{
    			if(p2>g2)
    			{
    			     if(p1)
    				 printf("%lld\n",a[p2]-a[p1-1]);
    				 else
    				 printf("%lld\n",a[p2]);
    			}
    			else
    			{
    				if(p1)
    				 printf("%lld\n",a[g2]-a[p1-1]);
    				 else
    				 printf("%lld\n",a[g2]);
    		    }
            }
            else
            {
            	if(p1)
            	printf("%lld\n",a[p2]-a[p1-1]+a[g2]-a[g1-1]);
            	else
            	printf("%lld\n",a[p2]+a[g2]-a[g1-1]);
            }
    		
    	}
    }
    return 0;
}
