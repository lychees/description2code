#include<cstdio>
using namespace std;
const int MAXN = 1e3 + 5;
long double p[MAXN][MAXN] , dp[MAXN][MAXN];
int n , m;
long double solve()
{
    long double ans = 0;
    for(int i = 1;i <= n;i ++)
        for(int j = 1;j <= m;j ++)
        {
            if(i == 1 && j == 1)
            {
                dp[1][1] = 1.000;
                continue;
            }
            dp[i][j] = dp[i - 1][j] * (1.000 - p[i - 1][j]) + dp[i][j - 1] * (p[i][j - 1]);
        }
    for(int i = 1;i <= n;i ++)
        ans += (long double)(i + m - 1) * dp[i][m] * p[i][m];
    for(int i = 1;i <= m;i ++)
        ans += (long double)(i + n - 1) * dp[n][i] * (1.00 - p[n][i]);
    return ans;
}
int main()
{
    int T;
    scanf("%d" , &T);
    for(int i = 0;i < T;i ++)
    {
        scanf("%d%d" , &n , &m);
        for(int i = 1;i <= n;i ++)
            for(int j = 1;j <= m;j ++)
                scanf("%llf", &p[i][j]);
        printf("%.6llf\n", solve());
    }
    return 0;
}
