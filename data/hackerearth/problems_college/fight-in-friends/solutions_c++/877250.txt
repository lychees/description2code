#include<iostream>
#include<cstdio>
#include<queue>
#include<cstring>
#define inf 987654321
using namespace std;
int main () {
	int n,m,a,b,i,j,s,x,y,c=0,f=0;
	scanf("%d%d%d%d",&n,&m,&a,&b);
	if(a==b) printf("0");
	else {
	int g[n][n];
	int v[n];
	for(i=0;i<n;i++) 
	for(j=0;j<n;j++) g[i][j]=1;
	for (int i = 0; i < n; i++)
		v[i] = 0;
	queue <int> q;
	for(i=0;i<m;i++) {
		scanf("%d%d",&x,&y);
		g[x-1][y-1]=0;
		g[y-1][x-1]=0;
	}
	int w[n];
	for (int i = 0; i < n; i++) {
		w[i] = inf;
	}
	int p[n];
		q.push(a-1);
		w[a-1] = 0;
			while(!q.empty()) {
				s=q.front();
				//printf("%d ",s);
				v[s]=1;
				q.pop();
				for(j=0;j<n;j++) {
					if(g[s][j]==1 && v[j] != 1) {
						if(w[s]+1 < w[j]) {
						v[j]=1;
						w[j] = w[s]+1;
						q.push(j);
						}}}}
						if(w[b-1]==inf) printf("-1");
						else printf("%d",w[b-1]);}
						return 0;
	}