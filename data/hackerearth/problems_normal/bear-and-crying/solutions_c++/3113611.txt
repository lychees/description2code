//#include<stdio.h>
//#include<stdlib.h>
//#include<string.h>
#include<bits/stdc++.h>
using namespace std;
#define sd(x) scanf("%lld",&x)
#define slld(x) scanf("%lld",&x)
#define ss(x) scanf("%s",x)
long long int mod=1000000007;
int main()
{
    long long int n,i,j,k,temp,ans,x,y,p[100005];
    p[0]=1;
    for(i=1;i<=100000;i++)
        p[i]=(p[i-1]*2)%mod;
    char a[100005];
    ss(a);
    n=strlen(a);
    ans=0;temp=0;
    x=0;y=0;j=0;k=0;
    for(i=0;i<n;i++)
    {
        if(a[i]=='_')
        {
            x++;
            if(j!=0)
            {
                temp=(temp*p[y]+(p[y]-1)*k)%mod;
                ans=(ans+temp*j)%mod;
                k+=j;
                j=0;
            }
        }
        else
        {
            if(x!=0)
                y=x;
            x=0;
            j++;
        }
    }
    temp=(temp*p[y]+(p[y]-1)*k)%mod;
    ans=(ans+temp*j)%mod;
    printf("%lld\n",ans);
    return 0;
}
