#include <stdio.h>
#include <iostream>
#include <cstdlib>
#include <map>
using namespace std;
long int bin_search(long int arr[], long int low, long int high, long int x) {
    if(low<high){
        long int mid = (low + high ) / 2;
        if(arr[mid] == x){
            return mid;
        }
        if(arr[mid]<x){
            return bin_search(arr, low, mid, x);
        }
        if(arr[mid]>x){
            return bin_search(arr, mid + 1, high, x);
        }
    }
    return high - 1;
}
int main()
{
    long int t, n, i, x, max_dist;
    cin >> t;
    while(t--){
        max_dist = 0;
        cin >> n;
        long int _arr1[n];
        long int _arr2[n];
        for(i=0;i<n;i++){
            cin >> x;
            _arr1[i] = x;
        }
        for(i=0;i<n;i++){
            cin >> x;
            _arr2[i] = x;
        }
        i = 0;
        long int j = 0;
        while(i<n){
            if(_arr1[i] > _arr2[i]){
                i++;
                continue;
            }
            long int pos = bin_search(_arr2, i, n - 1, _arr1[i]);
            if(pos == -1) {
                continue;
            }
            j = pos;
            while(_arr2[pos] == _arr2[j] && max_dist <= j-i){
                max_dist = j - i;
                j++;
            }
            while(i < n && _arr1[i] == _arr1[i+1]){
                i++;
            }
            i++;
        }
        cout << max_dist << endl;
    }
    return 0;
}

