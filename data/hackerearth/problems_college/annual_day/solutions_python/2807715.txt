def maxi():
	for _ in xrange(input()):
		b = []
		N, K = map(int, raw_input().split())
		a = map(int, raw_input().split())
		
		for i in a:
			bin = str('{0:08b}'.format(i))
			x = bin.count('1')
			b.append(x)
			
		b.sort(reverse = True)
		
		sum = 0
		for i in range(K):
			sum += b[i]
		
		print sum
		
if __name__ == "__main__":
	maxi()
			

	