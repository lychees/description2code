t=input()
for _ in range(t):
	k=input()
	msg=raw_input()
	ans=""
	for ch in msg:
		if ord(ch)>=ord('a') and ord(ch)<=ord('z'):
			ans+=chr((k+ord(ch)-ord('a'))%26+ord('a'))
		else:
			ans+=chr((k+ord(ch)-ord('A'))%26+ord('A'))
	print ans