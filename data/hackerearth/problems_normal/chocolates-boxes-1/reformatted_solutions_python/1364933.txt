for T in range(input()):
    N, A = input(), map(int, raw_input().split())
    K = input()
    mul, ans = [0] * K, 0
    for i in A:
        if i < K:
            mul[i] += 1
    for i in range(1, (K / 2) + 1):
        if 2 * i == K and mul[i] >= 2:
            ans += mul[i] * (mul[i] - 1) / 2
        else:
            ans += mul[i] * mul[K - i]
    print ans
