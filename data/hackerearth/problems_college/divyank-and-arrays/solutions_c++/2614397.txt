#include <bits/stdc++.h>
using namespace std;
long long dp[2010][2010];
long long ans(int i,int j,int arr[],int n)
{


  int curr = max(i,j) + 1;
  if(curr>=n)
    return 0;
  //if picked
  if(dp[i+1][j+1]!=-1)
    return dp[i+1][j+1];
  int I = i,J = j;
  if(i == -1)
  {
      I = curr;
  }
  if(j==-1)
  {
      J = curr;
  }

  long long a = ans(curr,j,arr,n);
  //if not picked
  long long b = ans(i,curr,arr,n);
  long long k;
  k = min(abs(arr[curr] - arr[I]) + a, abs(arr[curr] - arr[J]) + b);
  dp[i+1][j+1] = k;
  //cout << "1. " << abs(arr[curr] - arr[I]) << " 2. " << abs(arr[curr] - arr[J]) << "a: " << a << "b: " << b << "\n";
  //cout << i << " " << j << " " << k << "\n";
  return k;
}
int main()
{

    int t,n;
    cin >> t;
    while(t--)
    {
        for(int i = 0; i<2010; i++)
            for(int j = 0; j<2010; j++)
            dp[i][j] = -1;
        cin >> n;
        int arr[n];
        for(int i = 0; i<n; i++)
        {
            cin >> arr[i];

        }
        cout << ans(-1,-1,arr,n) << "\n";
    }
    return 0;

}
