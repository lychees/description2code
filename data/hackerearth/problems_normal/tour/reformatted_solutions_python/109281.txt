def read_data():
    num_cities = int(raw_input())
    matrix = dict()
    cities_ordered = list()
    for c in range(num_cities):
        city = raw_input()
        matrix[city] = dict()
        cities_ordered.append(city)
    for d in range(num_cities):
        distances = [int(x) for x in raw_input().split(' ')]
        dist = matrix[cities_ordered[d]]
        for c in range(num_cities):
            dist[cities_ordered[c]] = distances[c]
    return (cities_ordered[0], matrix)


def calculate_distance(cur_city, data):
    num_cities = int(raw_input())
    distance = 0
    for c in range(num_cities):
        new_city = raw_input()
        distance += data[cur_city][new_city]
        cur_city = new_city
    return distance


def main():
    cur_city, data = read_data()
    distance = calculate_distance(cur_city, data)
    print distance


if __name__ == '__main__':
    main()
