#include <bits/stdc++.h>
using namespace std;
typedef long long int ll;
#define F(i,a,b) for(int i = (int)(a); i <= (int)(b); i++)
#define RF(i,a,b) for(int i = (int)(a); i >= (int)(b); i--)
int main()
{
    #ifndef ONLINE_JUDGE
        freopen("input.txt","r",stdin);
        freopen("output.txt","w",stdout);
    #endif
    int T,a,b,i,j;
    scanf("%d",&T);
    ll K;
    while(T--)
    {
        scanf("%d%d",&a,&b);
        ll x,y;
        x = (1<<a) - 1;
        y = (1<<b) - 1;
        int C = 0;
        K = __gcd(x,y);
        for(i = 2; i*i <= K; i++)
        {
            if(K%i == 0) C++;
            while(K%i == 0) K /= i;
        }
        if(K>1) C++;
        printf("%d\n",C);
    }
    return 0;
}

