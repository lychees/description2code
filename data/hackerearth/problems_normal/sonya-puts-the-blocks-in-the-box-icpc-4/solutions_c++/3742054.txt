#include<iostream>
#include<algorithm>
#include<vector>
using namespace std;
int n,m;
long long s[1<<17],ar[1<<17];
long long bst[1<<17];
long long dp[105][2005];
void sol()
{
    int i,j,q,take;
    for(int i=1;i<=n;i++)
    {
        int sz;
        cin>>sz;
        for( j=1;j<=sz;j++)
            cin>>ar[j];
        for( j=1;j<=sz;j++)
            s[j]=s[j-1]+ar[j];
        for( j=1;j<=m;j++)
            bst[j]=-1e15;
        for(j=1;j<=sz;j++)
            for( q=1;q<=m&&q+j-1<=sz;q++)
            bst[q]=max(bst[q],s[j+q-1]-s[j-1]);
        bst[0]=0;
        for(j=0;j<=m;j++)
            for(take=0;take<=m;take++)
            dp[i][j+take]=max(dp[i][j+take],dp[i-1][j]+bst[take]);
    }
    cout<<dp[n][m]<<endl;
}
int main()
{
    ios_base::sync_with_stdio(1);
    cin>>n>>m;
    sol();
    return 0;
}
