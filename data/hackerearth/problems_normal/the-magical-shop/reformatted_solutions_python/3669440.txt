s, m = map(int, raw_input().split())
A = raw_input()
s = s % m
total = 0
for c in A:
    total += s if c == '1' else 0
    s = (s**2) % m
print total % m
