#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;


int main() {
int t,n;
cin>>t;
for(int kk=0;kk<t;kk++){

    
    cin>>n;
    int a[n][n];
    for(int i=0;i<n;i++)
        for(int j=0;j<n;j++)
        a[i][j]=0;
     long k=1,i=0,j;
    while(i< n*n){
    for(j=i;j<n-i;j++)
    { if(a[i][j]==0){
     a[i][j]=k;
        k++;
        }
    }
    for(j=i+1;j<n-i;j++)
    {
    	if(a[j][i]==0){
     a[j][n-i-1]=k;
        k++;
        }
	}
	for(j=n-2-i;j>=i;j--)
	{
		if(a[n-1-i][j]==0){
     a[n-1-i][j]=k;
        k++;
        }
	}
	for(j=n-2-i;j>=i+1;j--)
	{
		if(a[j][i]==0){
     a[j][i]=k;
        k++;
        }
	}
    i=i+1;
    }
    for(int i=0;i<n;i++){
        for(int j=0;j<n;j++){
        cout<<a[i][j];
    }
    cout<<endl;
   }
   cout<<endl;
}
}
