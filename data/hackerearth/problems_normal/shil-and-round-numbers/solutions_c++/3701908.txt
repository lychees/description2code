#include<bits/stdc++.h>
using namespace std;

#define ll long long
#define mod 1000000007
#define INF 1000000000
#define pb push_back
#define ff first
#define ss second
#define pii pair<ll,ll> 
#define mp make_pair
#define set(x,y) memset(x,y,sizeof(x))

ll bit[600009],a[200009],idx,q,n,i,val,l,r,cnt,f,s,t;

void update(ll x,ll val)
{
	for(x;x<=n;x+=x&-x)
	{
		bit[x]+=val;
	}
}

void query(ll x,ll val)
{
	for(x;x>0;x-=x&-x)
	{
		if(val==1)
		cnt+=bit[x];
		else
		cnt-=bit[x];
	}
}

int main()
{
	ios_base::sync_with_stdio(false);cin.tie(0);
	cin>>n>>q;
	for(i=1;i<=n;i++)
	{
		cin>>a[i];
		if(a[i]<=0)
		{
			a[i]=0;
			continue;
		}
		f=(a[i]%10);
		s=0;
		while(a[i])
		{
			s=a[i]%10;
			a[i]=a[i]/10;
		}
		if(f==s)
		{
			a[i]=1;
			update(i,1);
		}
		else
			a[i]=0;
	}
	while(q--)
	{
		cin>>t;
		if(t==1)
		{
			cin>>l>>r;
			cnt=0;
			query(r,1);
			query(l-1,-1);
			cout<<cnt<<endl;
		}
		else
		{
			cin>>idx>>val;
			if(a[idx]==1)
			{
				update(idx,-1);
			}
			if(val<=0)
			{
				a[idx]=0;
				continue;
			}
			f=val%10;
			s=0;
			while(val)
			{
				s=val%10;
				val/=10;
			}
			if(s==f)
			{
				a[idx]=1;
				update(idx,1);
			}
			else	a[idx]=0;
		}	
	}
	return 0;
}