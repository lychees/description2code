#include <iostream>
using namespace std;

int main()
{
    int t;
    cin>>t;
    long int n,m,k,a,b,x=1,y=1,count=0;
    while(t--)
    {
    	x=1; y=1; count=0;
    	cin>>n>>m>>k;
    	while(k--)
    	{
    		cin>>a>>b;
    		while((x+a<=n) && (y+b<=m) && (x+a>=1) && (y+b>=1))
    		{
    			x+=a;
    			y+=b;
    			count++;
    		}
    	}
    	cout<<count<<"\n";
    }
    return 0;
}
