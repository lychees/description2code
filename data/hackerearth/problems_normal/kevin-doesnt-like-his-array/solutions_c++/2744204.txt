#include <bits/stdc++.h>
using namespace std;

int f[100005], g[100005];
int n, a[100005];
#define FO(i,a,b) for (int i = a; i < b; i++)

int main()
{
	scanf("%d", &n);
	FO(i,0,n) {
		scanf("%d", a+i);
		f[a[i]]++;
		if (i && a[i-1] == a[i]) g[a[i]]++;
	}
	int mx = 0;
	FO(i,0,100005) mx = max(mx, f[i]);
	if (mx > (n+1)/2) {
		printf("-1\n");
		return 0;
	}
	sort(g,g+100005);
	reverse(g,g+100005);
	int x = g[0];
	FO(i,1,100005) x -= g[i];
	if (x <= 0) {
		x -= 2*g[0];
		x *= -1;
		printf("%d\n", (x+1)/2);
	} else {
		printf("%d\n", g[0]);
	}
    return 0;
}
