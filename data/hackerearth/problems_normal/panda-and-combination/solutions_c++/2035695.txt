#include<bits/stdc++.h>
#define lli long long int

using namespace std;
vector<lli> A;
int main(){
	int T;cin>>T;assert(1<=T<=1e5);
	while(T--){
		lli N,M; cin>>N>>M;  assert(1<=N<=1e14);  assert(1<=M<=1e14);
		lli count=0,sum=0;
		if(M==1)
		sum=N;
		
		else{
			while(N>0){
			count+=N%M;
			N=N/M;
		     }
		   sum=count;
		   
		}
		cout<<sum<<endl;
		
	}
	
}