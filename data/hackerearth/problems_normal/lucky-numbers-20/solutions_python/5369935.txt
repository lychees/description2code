for _ in xrange(input()):
    n = input()
    b_n = bin(n)
    lim = len(b_n) - 2
    s = 0
    try:
        q = b_n[3:].index('1') + 1
        for j in xrange(0, q):
            s -= 2**(lim - 1) + 2**(lim - j - 1)
        s += 2**(lim - 1) + 2**(lim - 1)
    except:
        for j in xrange(1, lim):
            s -= 2**(lim - 1) + 2**(lim - j - 1)
    for i in xrange(lim - 1):
        s += (lim - i - 1) * 2**(lim - i - 1)
    s += 2**lim - lim - 1
    s = s % 1000000007
    print s 
