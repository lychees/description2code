#include<bits/stdc++.h>
#define ll long long
using namespace std;


int main()
{
	ll p1,p2;
	cin>>p1>>p2;
	ll test;
	cin>>test;
	while(test--)
	{
		ll l,r;
		cin>>l>>r;
		ll count;
		count=0;
		count=r/p1-(l-1)/p1;
		count=count+r/p2-(l-1)/p2;
		count=count-r/(p1*p2)+(l-1)/(p1*p2);
	//	cout<<count;
		double temp=(double)count/(r-l+1);
		printf("%.6lf\n",temp);
	}

	return 0;
}