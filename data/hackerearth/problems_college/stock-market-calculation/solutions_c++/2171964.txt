#include <bits/stdc++.h>
using namespace std;


int max_profit(int *arr,int i,int n,int share,int cst)
{
	int m1,m2,m3;
	if(i==n)
		return 0;
	int p=0;
	if(share>0)
		p=arr[i]*share-cst;
	m1=max_profit(arr,i+1,n,share+1,cst+arr[i]);
	m3=max_profit(arr,i+1,n,share,cst);
	if(share==0)
		m2=m3;
	else
		m2=p+max_profit(arr,i+1,n,0,0);
	
	return max(m1,max(m2,m3));
}

int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n;
		cin>>n;
		int arr[50009];
		pair<int,int> p[50009];
		for(int i=0;i<n;i++)
		{
			cin>>arr[i];
			//p[i].first[arr[i]];
			//p[i].second[i];
		}
		//sort(p,p+n);
		int ans=max_profit(arr,0,n,0,0);
		cout<<ans<<endl;
		
	}
    return 0;
}
