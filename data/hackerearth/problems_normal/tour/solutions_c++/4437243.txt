//Tour

#define _CRT_SECURE_NO_WARNINGS
#include <bits/stdc++.h>
#define forn(i, n) for (int i = 0; i < n; i++)
#define fori(i, a, b) for (int i = a; i <= b; i++)
#define pii pair<int, int>
typedef long long ll;
typedef unsigned int ui;
typedef unsigned long long ull;

using namespace std;
#define INF 1e9 + 10
#define MAX 1010

ll cost[MAX][MAX];
map<string, int> cities;

void Zfunction(int s[], int n, int z[]) {
	int L = 0, R = 0;
	for (int i = 1; i < n; i++) 
	{
		if (i > R) 
		{
			L = R = i;
			while (R < n && s[R-L] == s[R]) 
			{
				R++;
			}
			z[i] = R-L; 
			R--;
		} 
		else 
		{
			int k = i-L;
			if (z[k] < R-i+1) 
			{
				z[i] = z[k];
			} 
			else 
			{
				L = i;
				while (R < n && s[R-L] == s[R]) 
				{
					R++;
				}
				z[i] = R-L; 
				R--;
			}
		}
	}
}
int main()
{
#ifndef ONLINE_JUDGE
	freopen("INPUT.txt","rt",stdin);
#endif
	int n, p;
	scanf("%d", &n);
	char city[11];
	forn(i, n) {
		scanf("%s", &city);
		cities[city] = i+1;
	}

	forn(i, n) {
		forn(j, n) {
			scanf("%d", &cost[i+1][j+1]);
		}
	}

	scanf("%d", &p);
	ll total = 0;
	int cur = 1;
	forn(i, p) {
		scanf("%s", &city);
		total += cost[cur][cities[city]];
		cur = cities[city];
	}
	printf("%lld", total);
	return 0;
}