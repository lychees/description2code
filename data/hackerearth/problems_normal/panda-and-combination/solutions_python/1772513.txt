n=int(raw_input())
for i in range(n) :
	a=raw_input()
	a=a.split()
	x=int(a[0])
	y=int(a[1])
	ans=0
	if(y==1) :
		print x
	else :
		t=x
		while(t>=y) :
			j=1	
			while(j<=t) :
				j=j*y
			j=j/y
			ans=ans+t/j
			t=t%j
			
		ans=ans+t
		print ans
			
				
			
			
	