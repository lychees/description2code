#include <bits/stdc++.h>
using namespace std;
 
long long int arr[100005];
long long int dp[100005];
 
int main()
{
    int test;
    cin>>test;
    while(test--){
    	int n,k;
    	cin>>n>>k;
    	for(int i=0;i<n;i++)
    		dp[i]=0;
    	for(int i=0;i<n;i++)
    		cin>>arr[i];
    	long long int maxi=0;
    	for(int i=0;i<n;i++){
    	//	cout<<i<<" "<<dp[i]<<" ";
    		if(arr[i]>=0)
    			dp[i]+=arr[i];
    			
    		if(i!=0)
    			dp[i]=max(dp[i],dp[i-1]);
    		if(dp[i]>maxi)
    			maxi=dp[i];
    		if(  (i+k+1)<n)
    			dp[i+k+1]=dp[i];
    	//	cout<<i<<" "<<dp[i]<<endl;
    		
    	}	
    	cout<<maxi<<endl;
    	
    }
    return 0;
}
