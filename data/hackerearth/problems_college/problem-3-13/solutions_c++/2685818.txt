#include <iostream>
#include <algorithm>
using namespace std;
const int maxn = 1001;
int a[maxn][maxn], col[maxn][maxn];

int main() {
	int r, c;
	cin >> r >> c;
	for (int i = 0; i < r; i++)
	     for (int j = 0; j < c; j++)
	          cin >> a[i][j];
	int ans = 0;
	for (int i = 0; i < r; i++)
	     for (int j = 0; j < c; j++) {
	          int len = 1;
	          for (int k = j + 1; k < c; k++)
	               if (a[i][k] == a[i][j])
	                   len++;
	               else
	                   break;
	          col[i][j] = len;
	     }
	for (int i = 0; i < r; i++)
	     for (int j = 0; j < c; j++) {
	     	
	          int k, h = 1, v = 0, curr = a[i][j];
	          for (k = i; k < r; k++) {
	          	
	               if (a[k][j] == curr) {
	               	   v++;
	                   h = col[k][j];
	                   ans = max(ans , h + v - 1);
	              
	               }
	               else break;
	          }
	     }
	cout << ans << endl;
	return 0;
}
