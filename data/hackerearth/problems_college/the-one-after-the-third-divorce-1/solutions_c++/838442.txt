#include <iostream>
using namespace std;


long int gcd(long int a,long int b){
	for (;;) {
		if ( a==0) return b;
		b %= a;
		if (b == 0) return a;
		a %= b;
	}
}
long int lcm(long int a,long int b){
	return (a/gcd(a,b))*b;
}

int main()
{
    int t;
    long int x,y,a,b,l;
    cin>>t;
    while(t--){
    	cin>>x>>y>>a>>b;
    	l = lcm(x,y);
    	long int start = (a%l == 0? a : a + (l-a%l));
    	if (b>=start) {
    		cout<<(b-start)/l + 1<<endl;
    	} else {
    		cout<<0<<endl;
    	}
    }
}
