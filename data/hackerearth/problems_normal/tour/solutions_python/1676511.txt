def find_distance(c,d,v):
	i=0
	j=0
	total=0
	for k in v:
		j=c.index(k)
		total+=d[i][j]
		i=j
		j=0
	print total

if __name__ == "__main__":
	n=int(raw_input())
	cities=[]
	while n>0:
		city=raw_input()
		cities.append(city)
		n-=1
	dist=[]
	n=len(cities)
	while n>0:
		d=map(int,raw_input().split())
		dist.append(d)
		n-=1
	visit=[]
	p=int(raw_input())
	while p>0:
		city=raw_input()
		visit.append(city)
		p-=1
	find_distance(cities,dist,visit)
