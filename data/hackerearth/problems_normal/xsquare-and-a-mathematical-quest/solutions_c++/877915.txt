#include<stdio.h>
#include<iostream>
#include<string.h>
#include<queue>
#include<algorithm>
#include<string>
#include<map>
#include<set>
#include<fstream>
#include<cmath>
#include<iomanip>
#include<time.h>
#include<stack>
using namespace std;
#define ll long long
#define ull unsigned long long
#define inf 2000000007
#define mod 1000000007
#define pii pair<int,int>
#define vi vector<int>
#define VS vector<string>
#define all(x) x.begin(),x.end()
#define mp make_pair
#define pb push_back
#define x first
#define y second
#define N 1000010
#define pi 3.14159265358979323846
#define DBG(vari) cerr<<#vari<<"="<<(vari)<<endl;
#define FOREACH(i,t) for(__typeof(t.begin()) i=t.begin();i!=t.end();i++)

int main()
{
    //freopen("input.txt","r",stdin);
    //freopen("output.txt","w",stdout);
    int i,T,k,j,n,m;
	scanf("%d",&n);
	map<ll,int>g;m=1;
	for(i=0;i<n;i++)
	{
		ll x;cin>>x;
		while(x%2==0)x/=2;
		for(ll j=3;j*j<=x;j++)
		if(x%j==0)
		{
			int y=j%4;
			k=0;while(x%j==0)k++,x/=j,m=m*y%4;
			g[j]+=k;
		}
		if(x>1)g[x]++;
	}
	if(m==3){puts("0");return 0;}
	ll tot=1,one=1;vi v;
	FOREACH(it,g)
	{
		k=(it->x)%4;
		if(k==1)
		{
			one=one*(1+it->y)%mod;
			tot=tot*(1+it->y)%mod;
		}
		else 
		{
			tot=tot*(1+it->y)%mod;
			v.pb(it->y);
		}
	}
	ll a=1,b=0;
	for(i=0;i<v.size();i++)
	{
		ll odd,even;
		if(v[i]&1)
		{
			odd=even=(v[i]+1)/2;
		}
		else 
		{
			even=odd=v[i]/2,even++;
		}
		ll aa=a*even+b*odd,bb=a*odd+b*even;
		a=aa%mod,b=bb%mod;
	}
	ll div3=one*b%mod;
	ll div1=((tot-div3)%mod+mod)%mod;
	div1=(div1-div3)%mod;
	if(div1<0)div1+=mod;
	printf("%d\n",div1*4%mod);
    return 0;
}