#include <bits/stdc++.h>
#define ll long long
using namespace std;
int arr[2][1000006];
int main()
{
    int t;
    scanf("%d",&t);
    while(t--){
        memset(arr,0,sizeof(arr));
        ll n,m,p,x;
        scanf("%lld%lld%lld%lld",&n,&m,&p,&x);
        char s[1000005];
        scanf("%s",s);
        ll i;
        for(i=0;i<m;i++)
            if(s[i]=='1')
                arr[0][i]=1;
        ll j=0,k=0;
        while(j!=n-1){
            ll diff=log2((double)(n-1-j));
            ll val=(1<<diff);
            for(i=0;i<m;i++){
                arr[(k+1)&1][(i+val*p)%m]=arr[k&1][i]^x^arr[k&1][(i+val*p)%m];
                //cout<<j<<"  "<<val<<"  "<<(i+val*p)%m<<"  "<<arr[(k+1)&1][(i+val*p)%m]<<endl;
            }
            //cout<<"done \n";
            j+=val;
            k++;
        }
        for(i=0;i<m;i++){
            printf("%d",arr[k&1][i]);
        }
        printf("\n");
    }
    return 0;
}
