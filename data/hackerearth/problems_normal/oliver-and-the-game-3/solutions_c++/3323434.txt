#include <bits/stdc++.h>
using namespace std;
vector<long long int > a[100002];
long long int visited[100002];
long long int finish[100002];
long long int arrival[100002];
long long int countt=0;
void dfs(long long int x)
{
	visited[x]=1;
	arrival[x]=++countt;
	
	for(int i=0;i<a[x].size();i++)
	{
		if(visited[a[x][i]]==0)
		dfs(a[x][i]);
	}
	finish[x]=++countt;
	
}
int main()
{
  //  cout << "Hello World!" << endl;
  long long int n,x,y,q,no,o,b;
  cin>>n;
  bool flag=false;
  for(int i=0;i<=n;i++)
  {
  	visited[i]=0;
  }
  for(int i=1;i<n;i++)
  {
  	cin>>x>>y;
  	a[x].push_back(y);
  }
  
  dfs(1);
  
  cin>>q;
  for(int i=0;i<q;i++)
  {
  	cin>>no>>o>>b;
  	if(no==0)
  {
  	if(arrival[b]>arrival[o] && finish[b]<finish[o])
  		cout<<"YES\n";
  	else cout<<"NO\n";
  	
  }
  
  else
  {
  		if(arrival[b]<arrival[o] && finish[b]>finish[o])
  		cout<<"YES\n";
  	else cout<<"NO\n";
  	
  }
  
  
  }
  
  
  
    return 0;
}
