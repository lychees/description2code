#include <bits/stdc++.h>
using namespace std;
vector< pair<int,int> > v[3005];
int dis[3005];
int main()
{
    //cout << "Hello World!" << endl;
    int t,n,m;
    scanf("%d",&t);
    int inf = 1000000007;
    while(t--)
    {
    	scanf("%d%d",&n,&m);
    	int i;
    	for(i=1;i<=n;i++)v[i].clear(),dis[i] = inf;
    	int x,y,w;
    	for(i=0;i<m;i++)
    	{
    		scanf("%d%d%d",&x,&y,&w);
    		v[x].push_back(make_pair(w,y));
    		v[y].push_back(make_pair(w,x));
    	}
    	set< pair<int,int> > s;
    	set<pair<int,int> >::iterator I;
    	pair<int,int> cur;
    	scanf("%d",&x);
    	int st = x;
    	s.insert(make_pair(0,x));
    	dis[x] = 0;
    	while(s.size())
    	{
    		I = s.begin();
    		cur = *I;
    		s.erase(I);
    		x = cur.second;
    		w = cur.first;
    		for(i=0;i<v[x].size();i++)
    		{
    			y = v[x][i].second;
    			if(dis[y] > dis[x] + v[x][i].first)
    			{
    				if(dis[y]!=inf)s.erase(make_pair(dis[y],y));
    				dis[y] = dis[x] + v[x][i].first;
    				s.insert(make_pair(dis[y],y));
    			}
    		}
    		
    		
    	}
    	for(i=1;i<=n;i++)
    	if(i==st)continue;else
    		if(dis[i]==inf)printf("-1 ");
    		else printf("%d ",dis[i]);
    		printf("\n");
    }
    return 0;
}
