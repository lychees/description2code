#include <stdio.h>
#include <string.h>
#include <iostream>
using namespace std;
#define N 1000100
bool arr[N];
//int b[N] ;
int size=0;
void markmultiples(int a,int n)
	{
		int i=2,num;
		while((num=i*a) <= n)
			{
			arr[num-1] = 1;
			++i;
			}

	}

void SieveOf(int n)
{
if(n>=2)
	{
	//memset(arr,0,sizeof(arr));
	for (int i=1;i<n;++i)
		{
			if(arr[i]==0)
				{
				markmultiples(i+1,n);
				}
		}
	}	
}

int getCommon(string s1,string s2,int a){
	int len_a=s1.length();
	int len_b=s2.length();
	int i=len_a-1,j=len_b-1;
	
	while(i >=0  && j >=0  && a>0 ){
		int b=1,c=1;
		while(i>=0 ){ if(s1[i]== ((char)(a%10+'0')) ) { b=0;i--; break ;}
						i--; 
					}
		if(b==1) return -1;
		while(j>=0 ){ if(s2[j]== ((char)(a%10+'0') ) ) { c=0;j--;break ;}
						j--; 
					}
		if(c==1) return -1;
		a=a/10;


	}
	if(a==0) return 1;
	return -1;
}
int main()
{
	int a,b,t;
	SieveOf(1000010);
	string s1,s2;
	cin >> t;
	while(t--)
	{
	cin >> a;
	cin >>s1>>s2;
	b=1;
	for(int i=a-1;i>0;i--){
		if(arr[i]==0){
			if(getCommon(s1,s2,i+1)==1){
				cout<<i+1<<endl;b=0;
				break;
			}
		}
	}
	if(b){cout<<-1<<endl; }
	}
}