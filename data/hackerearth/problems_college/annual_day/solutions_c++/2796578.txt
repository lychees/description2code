#include<bits/stdc++.h>
using namespace std;
typedef struct my
{
    long a,b;
}node;
int compare(node x,node y)
{
    return (x.a < y.a);
}
int main()
{

   int t;
   cin>>t;
   while(t--)
   {
       long long n,k;
       cin>>n>>k;
       node x[n];
       int cu1=0;
       for(int i=0;i<n;i++)
       {
           long ax;
           cin>>ax;
           bitset<64> A=ax;
           int cu=0;

           for(int i=0;i<64;i++)
           {
               if(A[i]==1)cu++;
           }
       x[i].a=cu;
       x[i].b =ax;
       }
       sort(x,x+n,compare);

       int axx = n-k;
       for(int i= axx;i<n;i++)cu1+=x[i].a;
      cout<<cu1<<endl;

   }


}
