for _ in xrange(input()):
    x, p = map(int, raw_input().split())
    if x % p == 0:
        cnt = 0
        while x % p == 0:
            cnt += 1
            x /= p
        if x == 1:
            x = 0
        print cnt, x
    else:
        print '0', x
