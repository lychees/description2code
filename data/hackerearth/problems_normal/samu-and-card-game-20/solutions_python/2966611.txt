for _ in xrange(int(raw_input())):
	n,m = map(int,raw_input().split())
	jumps = 0
	cur = [1,1]
	for k in xrange(int(raw_input())):
		a,b = map(int,raw_input().split())
		pa = max(n,m)+1
		pb = pa
		if a>0:
			pa = (n-cur[0])/a
		elif a<0:
			pa = (1-cur[0])/a
		if b>0:
			pb = (m-cur[1])/b
		elif b<0:
			pb = (1-cur[1])/b
		
		jump = min(pa,pb)
		#if a==0 or b==0:
		#	jump = max(pa,pb)
			
	
		#print k,pa
		jumps = jumps+jump
		cur[0] = cur[0] + jump*a
		cur[1] = cur[1] + jump*b
	print jumps