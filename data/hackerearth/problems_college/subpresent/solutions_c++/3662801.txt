#include <stdio.h>
#include <iostream>
using namespace std;

int main()
{
    int w = 0, k, t;
    char b[100001];
    
    scanf ( "%s", b );
    cin>>k;
    cin>>t;
    
    for ( int i = 0;i < t;i++ ) {
    	char s[100001] = { '\0' };
    	scanf ( "%s", s );
    	
    	int p1 = 0, p2 = 0;
    	
    	while ( ( b[p1] != '\0' ) && ( s[p2] != '\0' ) ) {
    		if ( b[p1] == s[p2] ) {
    			p1++;
    			p2++;
    		} else {
    			p1++;
    		}
    	}
    	
    	if ( s[p2] == '\0' ) {
    		w++;
    	}
    
    }
    
    if ( w >= k ) {
    	cout<<w<<" LUCKY";
    } else {
    	cout<<w<<" UNLUCKY";
    }
    
    
    return 0;
}
