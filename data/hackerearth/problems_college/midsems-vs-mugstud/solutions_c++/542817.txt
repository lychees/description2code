#include <stdio.h>
#include <iostream>
#include <bits/stdc++.h>
#define ll long long
using namespace std;

int b[55][55][55];
int a[55][55][55];

int main()
{	
    int t; cin >> t;
    while (t--) {
    	int n; cin >> n;
		for (int i = 1; i <= n; i++) {
			for (int j = 1; j <= n; j++) {
				for (int k = 1; k <= n; k++) {
					scanf ("%d", &b[i][j][k]);
				}
			}
		}
		for (int i = 1; i <= n; i++) {
			for (int j = 1; j <= n; j++) {
				for (int k = 1; k <= n; k++) {
					a[i][j][k] = b[i][j][k] - b[i - 1][j][k] - b[i][j - 1][k] - b[i][j][k - 1]
								+ b[i - 1][j - 1][k] + b[i - 1][j][k - 1] + b[i][j - 1][k - 1] 
								- b[i - 1][j - 1][k - 1];
					printf ("%d", a[i][j][k]);
					if (k != n) printf (" ");
				}
				puts (" ");
			}
		}
    }
    return 0;
}
