#include<stdio.h>
#include<math.h>
int main()
{
    long long x,y,q,n,i,a=1,b=1000000007,c[1000001];
    scanf("%d%d",&x,&y);
    scanf("%ld",&q);
    c[0]=1;
    for(i=1;i<1000001;i++)
		c[i]=(((c[i-1]*x)%b-y%b)+b)%b;
    while(q--)
    {
    	scanf("%ld",&n);
    	printf("%llu\n",c[n]);
    }
    return 0;
}
