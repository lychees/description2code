#include <iostream>
#include <math.h>
using namespace std;
 //long long val[5000][5000];
 const long long m=100000000000000;
int main()
{
	long long t,i,ans,sum,p,q,k,ans1,s; 
	double po,l;
	cin>>t;
	i=0;
	while(t--){
  sum=0;
  i++;
  cin>>p>>q>>k;
   for(long long int x=0;x<10000000;x++){
   	ans=pow(x,p);
   	ans=ans+x;
   	if(ans>k)
   	break;
   	 
   	 else{
   	 	po=1.0/q;
   	 	l=k-ans;
   	 	l=pow(l,po);
   	    if(l-(int)l>0.5)
   	    s=(int)l+1;
   	    else s=int (l);
   	    s=pow(s,q);
   	    if(s==k-ans)
   	    sum++;
   	 }
   	 
   }
   cout<<"Case #"<<i<<": "<<sum<<endl;
   	
   }
    return 0;
}
