#include <bits/stdc++.h>
#define ll long long
using namespace std;
bool p[1000010];
ll int dp[1000010];//alpha-prime
bool is_alpha(ll int x)
{
	if(p[x]==0)//prime
	return 1;
	char str[10];
	sprintf(str,"%lld",x);
	ll int i,l=strlen(str);
	string s="";
	for(i=(l-1);i>=0;i--)
	{
		s=str[i]+s;
		char str2[10];
		strcpy(str2,s.c_str());
		sscanf(str2,"%lld",&x);
		if(p[x]==0)
		return 1;
	}
	return 0;
}
int main()
{
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	ll int i,j;
	memset(p,0,sizeof(p));
	p[0]=1;p[1]=1;
	for(i=2;(i*i)<=1000001;i++)
	{
		if(p[i])
		continue;
		for(j=2;(j*i)<=1000001;j++)
		{
			p[j*i]=1;//not prime
		}
	}
	dp[0]=0;
	for(i=1;i<=1000001;i++)
	{
		if(is_alpha(i))
		dp[i]=1;
		else
		dp[i]=0;
		dp[i]=dp[i]+dp[i-1];//prefix sum
		//~ if(i>=110 && i<115)
		//~ cout<<i<<" "<<dp[i]<<endl;
	}
	ll int q;
	cin>>q;
	while(q--)
	{
		 ll int l,r;
		 cin>>l>>r;
		 cout<<(dp[r]-dp[l-1])<<'\n';
	}
	return 0;
}
