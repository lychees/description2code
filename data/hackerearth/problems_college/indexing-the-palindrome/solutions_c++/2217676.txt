#include <iostream>
#include <cstring>
using namespace std;

int main()
{
	int t,j,k;
	char *str;
	str= new char[1000000];
	cin>>t;
	for(int i=0;i<t;i++)
	{
		int f=-1;
		cin>>str;
		int l=strlen(str);
		for(j=0,k=l-1;j<=k;j++,k--)
		{
			if(str[j]!=str[k])
			{
				f=-2; break;
			}
		}
		if(f==-1)
			f=-1;
		else if(str[j+1]==str[k])
			f=j;
		
		else f=k;
		cout<<f<<"\n";
	}
    
    return 0;
}
