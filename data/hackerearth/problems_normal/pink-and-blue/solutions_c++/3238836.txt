#include <bits/stdc++.h>
#define BLUE 1
#define PINK 2
#define INF INT_MAX/2
using namespace std;
char a[100005];
int color[100005];
vector<set<int > > v;
int func(int x);

int main(){
int n, m, x, y;
scanf("%d %d", &n, &m);
v.resize(n+1);
for(int i=1; i<=n; i++){
	scanf(" %c ", &a[i]);
	color[i]=-1;
}
for(int i=0; i<m; i++){
	scanf("%d %d", &x, &y);
	v[x].insert(y);
	v[y].insert(x);
}
int c=0, c1=0;
color[1]=BLUE;
c = func(1);
fill(color, color+n+1, -1);
color[1]=PINK;
c1 = func(1);
if(c==INF&&c1==INF){
	printf("Not possible\n");
}else{
	printf("%d\n", min(c, c1));
}
}

int func(int x){
/// chose_c 0 for blue and 1 for pink
int c=0, temp=0;
for(set<int >::iterator j=v[x].begin(); j!=v[x].end(); j++){
	if(color[*j]==-1){
		color[*j] = (color[x]==PINK)?BLUE:PINK;
		temp = func(*j);
		if(temp == INF){
			return INF;
		}else{
			c+=temp;
		}
	}else if(color[x] == color[*j]){
		return INF;
	}
}

if(( a[x] == 'B' && color[x]==PINK) || ( a[x] == 'G' && color[x]==BLUE) ){
	c++;
}
return c;
}
