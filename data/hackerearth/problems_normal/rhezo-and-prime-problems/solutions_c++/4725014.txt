#include<iostream>
#include<bits/stdc++.h>
using namespace std;
int a[5007];
int main()
	{
		int n,i,j;
		cin>>n;
		vector<int>v;
		v.push_back(2);
		for(int i=2;i*i<=5007;++i)
			{	
				if(!(a[i]))
					{
						
						for(int j=i*2;j<=5007;j+=i)
							a[j]=1;
					}
			}
		for(int i=3;i<=5007;++i)
			{
				if(!(a[i]))
					v.push_back(i);
			}
		int x;
		long long sum[n+1];
		sum[0]=0;
		for(int i=1;i<=n;++i)
			{
				scanf("%d",&x);
				sum[i]=sum[i-1]+x;
			}
		long long dp[n+1];
		dp[0]=dp[1]=0;
		for(int i=2;i<=n;++i)
			{
				dp[i]=dp[i-1];
				for(j=0;j<v.size() && v[j]<=i;++j)
					{
						int p=i-v[j]-1;
						if(p==-1)
							dp[i]=max(dp[i],sum[i]);
						else
							dp[i]=max(dp[i],dp[p]+sum[i]-sum[p+1]);
					}
			}
		cout<<dp[n]<<endl;
		return 0;
	}
