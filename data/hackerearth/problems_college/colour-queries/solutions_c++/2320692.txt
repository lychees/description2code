#include <iostream>
using namespace std;
#include<bits/stdc++.h>
long long int a[1000][1000],b[1000][1000];
int l ,n,m;
int fun(int i , int j,int d )
{
	if(i+1 <= n && b[i+1][j] == 0)
	{
		if(abs(a[i+1][j] - a[i][j]) <= d){
		b[i+1][j] = 1;
		l++;
		fun(i+1,j,d);
		}
	}
	if(i-1 >= 1  && b[i-1][j] == 0)
	{
		if(abs(a[i-1][j] - a[i][j]) <= d){
		b[i-1][j] = 1;
		l++;
		fun(i-1,j,d);
		}
	}
	if(j-1 >= 1  && b[i][j-1] == 0)
	{
		if(abs(a[i][j-1] - a[i][j]) <= d){
		b[i][j-1] = 1;
		l++;
		fun(i,j-1,d);
		}
	}
	if(j+1 <= m  && b[i][j+1] == 0)
	{
		if(abs(a[i][j+1] - a[i][j]) <= d){
		b[i][j+1] = 1;
		l++;
		fun(i,j+1,d);
		}
	}
	
	
	
	
}
int main()
{
    long long int i,j,k,q,d,x,y;
    
    cin >> n >> m >> q;
    for(i = 1 ; i <= n ;i++)
    {
    	for(j =1 ; j <=m ;j++)
    	cin >> a[i][j];
    }
    for(k = 0; k < q ;k++){
    cin >> x >> y >>d;
    for(i = 0 ; i <= n+1 ;i++)
    {
    	for(j =0 ; j <=m+1 ;j++)
    	b[i][j] = 0;
    }
    l = 1;
    b[x][y] = 1;
    fun(x,y,d);
    cout << l <<endl;
    }
    
    
}
