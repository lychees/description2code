#include<bits/stdc++.h>
using namespace std;
	int arr[10000005];
 int find(int i)
{
	vector<int> v;
	while(i)
	{
		v.push_back(i&1);
		i>>=1;
	}
	int j;
	reverse(v.begin(),v.end());
//	for(int i=0;i<v.size();i++)
//	 cout<<v[i]<<" ";

	vector<int> p(3);
	p[0]=1;p[1]=0;p[2]=1;
	int len=v.size();
	int c=0;int x;
	for(int i=0;i<len;i++)
	{
		j=0;
		if(v[i]==p[j])
		{
			x=i;
			x++;j++;
			  while(j<3 && x<len&&v[x]==p[j])
			  {
			    x++;j++;
		      }
			if(j==3)c++;
		}
       		
	}
     v.clear();
     p.clear();
	return c;
}
	
int main()
{
    int t;
    cin>>t;
     for(int i=1;i<=2000005;i++)
     {
        arr[i]=find(i); 	
    //   cout<<i<<"-->"<<arr[i]<<"\n ";
	 }
     
     while(t--)
    {
    	long long s=0;
       int r,k;
       cin>>r>>k;
       for(int i=1;i<=r;i++)
       {
       	if(arr[i]>=k)
       	s++;
       }
       cout<<s<<"\n";
    }

	return 0;
}