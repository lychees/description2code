#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<cstring>
#include<queue>
using namespace std;
#define mp make_pair
#define in(x,y) (x>=0 && x<y)
int n, m, q, x, y, d, x2, y2, s, i, j;
queue<pair<int, int> > Q;
int B[101][101], A[101][101];
int dx[] = { -1,0,1,0 };
int dy[] = { 0,1,0,-1 };
int main()
{
  scanf("%d%d%d", &n, &m, &q);
  for (i = 0; i < n; i++)
    for (j = 0; j < m; j++)
      scanf("%d", &A[i][j]);
  while (q--)
  {
    scanf("%d%d%d", &x, &y, &d);
    x--;
    y--;
    Q.push(mp(x, y));
    s = 0;
    memset(B, 0, sizeof B);
    while(!Q.empty())
    {
      s++;
      x = Q.front().first;
      y = Q.front().second;
      B[x][y] = 1;
      Q.pop();
      for (i = 0; i < 4; i++)
      {
        x2 = x + dx[i];
        y2 = y + dy[i];
        if (in(x2, n) && in(y2, m) && !B[x2][y2] && abs(A[x][y] - A[x2][y2]) <= d)
        {
          Q.push(mp(x2, y2));
          B[x2][y2] = 1;
        }
      }
    }
    printf("%d\n", s);
  }
  return 0;
}
