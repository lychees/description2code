#include <iostream>
#include <bits/stdc++.h>
using namespace std;





int main()
{
    
    int l,d,n;
    
    
    
    cin>>l;
    cin>>d;
    cin>>n;
    char inpu[d][l];
    string temp1;
  
    
    for(int i=0;i<d;i++)
    {
    	cin>>temp1;
    	strcpy(inpu[i],temp1.c_str());
       	
       	
    }
    
    for(int j=0;j<n;j++)
    {
    	int ll=-1;
    	string temp;
    	cin>>temp;
    	bool flag;
    	int res=0;
    	for(int t=0;t<d;t++)
    	{
    		int dd=-1;
    		
    	
    	   for(int i=0;i<temp.length();i++)
    	   {
    	   	flag=false;
    	   	++dd;
    	   	//cout<<"index d="<<dd<<endl;
    		if(temp.at(i)=='(')
    		  {
    			
    		
    			++i;
    			do
    			{
    				
                   if(inpu[t][dd]==temp.at(i))
                   {
                   	
                   	 flag=true;
                   }
            //    cout<<"string "<<t<<temp.at(i)<<i<<inpu[t][dd]<<endl;	
    		   
    			  ++i;	
    			}
    	       	while(temp.at(i)!=')');	
    		
			if(flag==false)
    		     break;
    		     
    		   	
    		}
    		else{
    			
    			if(inpu[t][dd]==temp.at(i))
                   {
                   	
                   	 flag=true;
                   }
               
               if(flag==false)
    		        break;
    		
			   }
                   
    			
    			
    	}
    		if(flag==true)
    		   ++res;
    		
    }
    	cout<<res<<endl;
    	
    	
            	
}

		
    
    

    return 0;
}

