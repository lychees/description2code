#include<bits/stdc++.h>
using namespace std;
int g[1001][1001],l[1001];
int dfs(int id,int n,int visited[],int g[1001][1001])
{
	int count=1,i;
	if(visited[id]==0)
	{
		visited[id]=1;
		for(i=1;i<=n;i++)
		{
			if(visited[i]==0&&g[id][i]==1)
				count+=dfs(i,n,visited,g);
		}	
	}	
	return count;
}
int main()
{
	int i,n,j,d;
	cin>>n>>d;
	
	for(i=0;i<=n;i++)
		for(j=0;j<=n;j++)
			g[i][j]=0;
	while(d--)
	{
		int a,b;
		cin>>a>>b;
		g[a][b]=1;
	}
	int visited[n+1];
	memset(visited,0,sizeof visited);

	int ans=INT_MAX;
	for(i=1;i<=n;i++)
	{
		int t=dfs(i,n,visited,g);
		ans=min(t,ans);
		memset(visited,0,sizeof visited);
	}
	cout<<ans<<"\n";
	return 0;
}