#include<iostream>
#include<stdio.h>
using namespace std;

char arr[100000];
char reach[100000];
int n,x,y;

char fillup(int a)
{
    if(reach[a-1]==1)
        return 0;
    reach[a-1]=1;
    if(arr[a-1]=='1')
        return 0;
    if(a==y)
        return 1;

    char ch1,ch2,ch3;
    ch1=ch2=ch3=0;
    if(a/2>0)
        ch1 = fillup(a/2);
    if(2*a <= n)
        ch2 = fillup(2*a);
    if(2*a+1 <= n)
        ch3 = fillup(2*a+1);

    if(ch1 || ch2 || ch3)
        return 1;
    else
        return 0;
}

int main()
{
int q;
scanf("%d %d",&n,&q);

int a,b;
for(int i=0; i<n;i++)
 cin>>arr[i];

while(q--)
{
scanf("%d %d",&x,&y);

/*  for(int i = 0;i<n;i++)
        reach[i]=0;
ch = fillup(x);
*/
a=x;
b=y;
while(a!=b)
{
    if(arr[a-1]=='1')
        break;
    if(arr[b-1]=='1')
        break;
  if(a>b)
    a=a/2;
  else
    b=b/2;
}
if(a==b && arr[a-1]=='0')
    printf("Yes\n");
else
    printf("No\n");
}

return 0;
}
