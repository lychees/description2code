#include <iostream>
using namespace std;
int check[101];
int main()
{
    int test,i,n,cnt=0,a[100001],k,mx,no;
    cin>>test;
    while(test--)
    {
                 //cin>>n;
                 //a = (int *)malloc(n*sizeof(int));
                 scanf("%d",&n);
                 mx = 0;
                 for(i=0;i<n;i++)
                 {
                                 //cin>>a[i];
                                 scanf("%d",&a[i]);
                                 check[a[i]] = check[a[i]] + 1;
                                 if(mx < a[i])
                                 mx = a[i];
                 }
                 //cin>>k;
                 scanf("%d",&k);
                 cnt = 0;
                 /*for(i=0;i<n;i++)
                 {
                                 if(a[i] == k - a[i] && check[a[i]])
                                 {
                                                //cout<<"1st part"<<a[i]<<"\n";
                                                cnt = cnt + check[a[i]] - 1;
                                                check[a[i]] = check[a[i]] - 1;
                                                
                                 }
                                 else
                                 {
                                     if(k-a[i] > a[i] && check[k-a[i]])
                                     {
                                               //cout<<"2nd part\n";
                                               cnt = cnt + check[a[i]]*check[k-a[i]];
                                               check[k-a[i]] = 0;
                                     }
                                 }
                 }*/
                 //cout<<"maximum "<<mx<<"\n";
                 for(i=1;i<=mx;i++)
                 {
                                   if(check[i])
                                   {
                                                  if(i == k - i)
                                                  {
                                                                   no = check[i];
                                                                   //cout<<"number "<<no;
                                                                   cnt = cnt + ((no*(no-1))/2);
                                                                   
                                                  }
                                                  else
                                                  {
                                                      if(k - i > i)
                                                      {
                                                           cnt = cnt + check[i]*check[k-i];
                                                      }
                                                  }
                                   				check[i] = 0;
                                   }
                 }
                 //cout<<cnt<<"\n";
                 printf("%d\n",cnt);
    }
    return 0;
}

                                                
                 
