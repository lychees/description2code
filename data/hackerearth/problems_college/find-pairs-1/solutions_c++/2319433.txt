#include <iostream>
#include<cstdio>
#include<algorithm>
#include<vector>
typedef long long int i64;
using namespace std;

int main()
{
    i64 n,i,tmp,res,cnt,p;
    int t;
    vector<int>arr;
    scanf("%d",&t);
    while(t--)
    {
    	scanf("%lld",&n);
    	for(i=0;i<n;i++)
    	{
    	scanf("%lld",&tmp);
    	arr.push_back(tmp);
    	}
    	sort(arr.begin(),arr.end());
    	for(res=n,i=0;i<arr.size();)
    	{
    	cnt=count(arr.begin(),arr.end(),arr[i]);
    	p=(cnt*(cnt-1))	/2;
    	res+=p;
    	i+=cnt;
    	}
    	arr.clear();
    	printf("%lld\n",res);
    }
    return 0;
}
