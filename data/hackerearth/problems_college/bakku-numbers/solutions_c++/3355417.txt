#include <bits/stdc++.h>
using namespace std;

int main()
{
	long long int x,p1,p2,t,l,r,a;
	cin>>p1>>p2;
	cin>>t;
	double y=0;
	while(t--) {
		cin>>l>>r;
		y=0;
		x = r/p1 - (l-1)/p1;
		x += r/p2 - (l-1)/p2;
		a = p1*p2;
		x += - (r/a) + (l-1)/a;
		
		y = (double)(x)/(double)(r-l+1);
		cout<< fixed << setprecision(6) << y <<endl;
	}
	
	return 0;
}