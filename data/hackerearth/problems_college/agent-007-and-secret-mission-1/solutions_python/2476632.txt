'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
test=int(raw_input())
for j in range(test):
    s=raw_input()
    N=int(raw_input())
    N=(N*(N+1))/2
    mask=0
    num=int(s,base=2)
    lens=len(s)
    for i in range(lens):
        mask=mask|1<<i
        #print mask
    flip=num ^ mask
    if N%2 == 0:
        print bin(num).count("1")
    else:
        print bin(flip).count("1")
