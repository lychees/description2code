#include <bits/stdc++.h>
using namespace std;

typedef long long int ll;

ll d[1001][1001]={-1};

ll solve(char a[1001][1001],ll i,ll j)
{
	if(i==0 && j==0)
	{
		if(a[i][j]=='T')
		return 150;
		
		else if(a[i][j]=='L')
		return 0;
		
		else
		return -9999999;
		
	}
	else if(i<0 || j<0)
	return -9999999;

	if(d[i][j]==-1)
	d[i][j]=max(solve(a,i,j-1),solve(a,i-1,j));
	
	
	if(a[i][j]=='L')
	{
		return d[i][j];
	}
	else if(a[i][j]=='T')
	{
		if(d[i][j]>=0)
		return d[i][j]+150;
	}
	
	else if(a[i][j]=='D')
	{
		return d[i][j]-100;
	}
	
}

int main()
{
    ios::sync_with_stdio(false);
    
    ll i,n,m,t,j,ctr=0,p=-1;
    char a[1001][1001];

    cin>>t;
    
    while(t--)
    {
    	memset(d,p,sizeof(d));
    	
    	cin>>n>>m;
    	
    	for(i=0;i<n;i++)
    	{
    		for(j=0;j<m;j++)
    		cin>>a[i][j];
    	}
    	
    	ctr=solve(a,n-1,m-1);
    	
    	
    	if(ctr>=0)
    	cout<<ctr<<endl;
    	
    	else
    	cout<<"-1"<<endl;
    	
    }
    
    return 0;
}
