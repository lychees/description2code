#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
#define sci(fd) scanf("%d",&fd)
#define scll(fd) scanf("%lld",&fd)
#define pb push_back
#define mp make_pair
#define MOD 1000000007
#define PI 3.1415926535897932
#define pii pair < int,int > 
#define fi first
#define se second
#define MAX 100006
const ll infi=1000000000000000009;
ll BIT1[MAX+3];
ll BIT2[MAX+3];
ll ar[MAX+3];
inline void initialise(int *ptr,int start,int end,ll val)
{
    for(int i=start;i<=end;ptr[i]=val,i++);
}
void update(ll *ptr,int i,int x)
{
    for(;i<=MAX;i+=(i&(-i)))
    ptr[i]=(ptr[i]+x)%MOD;
}
ll query(ll *ptr,int i)
{
    ll ans=0;
    for(;i>=1;i-=(i&(-i)))
    ans=(ans+ptr[i])%MOD;
    return ans;
}
int main()
{
    int i,j,n,a;
    sci(n);
    ll ans=0;
    for(i=1;i<=n;i++)
    {
        sci(a);
        ll a1=query(BIT1,a-1);
        ll a2=(query(BIT2,MAX)-query(BIT2,a)+2*MOD)%MOD;
        update(BIT1,a,a2+1);
        update(BIT2,a,a1+1);     
        ans=(ans+a1+a2)%MOD;  
    }
    printf("%lld\n",ans);
    return 0;
}