#include <bits/stdc++.h>
using namespace std;
long long int t,n,l,r,c,i,j,s;
int main()
{
    char str[200];
    
    cin>>t;
    while(t--)
    {
    	c=0;
	    cin>>str;
	    cin>>n;
	    cin>>l>>r;
	    for(i=l-1;i<r;i++)
	    {	
	    	s=0;
	    	for(j=i;j<r;j++)
	    	{
	    		s=s*10+str[j]-'0';
	    		s%=n;
	    		if(!s)
	    		c++;
	    	}
	    }
	    
	    cout<<c<<endl;
    }
    
    return 0;
}