#include <bits/stdc++.h>
using namespace std;
#define ll long long

int main()
{
    int T,k;
    cin>>T;
    ll n,m,a,b,x;
    
    while(T--){
    	cin>>n>>m;
    	cin>>k;
    	ll cnt=0;
    	pair<ll,ll> pre(1,1);
    	while(k--){
    		cin>>a>>b;
    		//cout<<pre.first<<" "<<pre.second<<endl;
    		if(a>0 and b==0){
    			x=(n-pre.first)/a;
    			cnt+=x;
    			pre.first+=x*a;
    			continue;
    		}
    		if(a<0 and b==0){
    			x=(pre.first-1)/abs(a);
    			cnt+=x;
    			pre.first+=x*a;
    			continue;
    		}
    		if(a==0 and b>0){
    			x=(m-pre.second)/b;
    			cnt+=x;
    			pre.second+=x*b;
    			continue;
    		}
    		if(a==0 and b<0){
    			x=(pre.second-1)/abs(b);
    			cnt+=x;
    			pre.second+=x*b;
    			continue;
    		}
    		if(a>0 and b>0){
    			x=min((n-pre.first)/a ,(m-pre.second)/b);
    			cnt+=x;
    			pre.first+=x*a;
    			pre.second+=x*b;
    			continue;
    		}
    		if(a<0 and b>0){
    			x=min((pre.first-1)/abs(a) ,(m-pre.second)/b);
    			cnt+=x;
    			pre.first+=x*a;
    			pre.second+=x*b;
    			continue;
    		}
    		if(a>0 and b<0){
    			x=min((n-pre.first)/a ,(pre.second-1)/abs(b));
    			cnt+=x;
    			pre.first+=x*a;
    			pre.second+=x*b;
    			continue;
    		}
    		if(a<0 and b<0){
    			x=min((pre.first-1)/abs(a) ,(pre.second-1)/abs(b));
    			cnt+=x;
    			pre.first+=x*a;
    			pre.second+=x*b;
    			continue;
    		}
    	}
    	
    	cout<<cnt<<endl;
    }
    return 0;
}
