#include<bits/stdc++.h>
using namespace std;
int main()
{
string s;

int t;
cin>>t;
while(t--){
	cin>>s;
    int l=s.length();
    int dp[l][l];
    memset(dp,0,sizeof(dp));
    for(int i=0;i<l;i++)
       dp[i][i]=1;
    long long int count=l;//stores final answer
    for(int len=2;len<=l;len++)//len is length of substing under consideration
    {
		for(int start=0;start+len<=l;start++)
		{
		int en=start+len-1;//ending point of considered substring
		if(len==2)
		{
		if(s[start]==s[en])
		dp[start][en]=1;
		}
		else
		{
			if(dp[start+1][en-1]==1 && s[start]==s[en])
			dp[start][en]=1;
		}
		if(dp[start][en])
		{
			count+=(en-start+1)*(en-start+1);
		}
		}
	}
	cout<<count<<endl;
}
}