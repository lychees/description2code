for t in range(input()):
	n,k=map(int,raw_input().split())
	arr=map(int,raw_input().split())
	ones=[]
	for i in arr:
		ones.append(bin(i).count('1'))
	print sum(sorted(ones,reverse=True)[:k])