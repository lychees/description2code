#include <string.h>
#include <stdio.h>

using namespace std;

int main()
{
	int t, n, m;
	long long k;
	scanf("%d", &t);
	char s[50][102];
	long long l[50], lT[50];
	while(t--)
	{
		scanf("%d %d\n", &n, &m);
		int i =0;
		while(i<n)
		{
			gets(s[i]);
			l[i] = (long long)strlen(s[i]);
			if(i>0)
				lT[i] = 2*lT[i-1]+l[i];
			else
				lT[i]= l[i];
			i++;
		}
		i = 0;
		while(i++<m)
		{
			scanf("%lld", &k);

			if(k<l[0])
			{
				printf("%c", s[0][k]);
				continue;
			}

			for(int x = n-1; x>0 && k>=0; x--)
			{
				if(k>=lT[x] - l[x])
				{
					printf("%c", s[x][k-2*lT[x-1]]);
					break;
				}
				else
				{
					if(k>=(lT[x]-l[x])/2 - l[x-1] && k<(lT[x]-l[x])/2 + l[x-1])
					{	
						if(k>=(lT[x]-l[x])/2 - l[x-1])
							k=k-((lT[x]-l[x])/2 - l[x-1]);
						if(k<l[x-1])
							printf("%c", s[x-1][k]);
						else
							printf("%c", s[x-1][2*l[x-1]-k-1]);
						break;
					}
					else
						if(k>=(lT[x]-l[x])/2 + l[x-1])
							k=k-((lT[x]-l[x])/2 + l[x-1]);
				}
			}
		}
		printf("\n");
	}
	return 0;
}