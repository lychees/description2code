#include <iostream>
#include <algorithm>
typedef long long ll;
using namespace std;
int p[100050]={0};
int pcount[100050]={0};
int main()
{
    int t, n, m;
    p[0]=p[1]=1;
    for(int i=2; i<=320; i++)
    {
    	if(p[i]!=1)
    	{
    		for(int j=i+i; j<100050; j+=i)
    		{
    			p[j]=1;
    		}
    	}    	
    }
    for(int i=1; i<100050; i++) 
    {
    	if(p[i]==1)
    	pcount[i]=pcount[i-1]+1;
    	else
    	pcount[i]=pcount[i-1];
    }
    //cout<<pcount[5]<<" "<<pcount[8]<<" "<<p[5]<<endl;
    cin>>t;
    while(t--)
    {
    	cin>>n>>m;
    	int a[n], inp[n];
    	for(int i=0; i<n; i++)
    	cin>>a[i];
    	ll res=1;
    	for(int i=0; i<n; i++)
    	{
    		if(p[a[i]]==0)
    		inp[i] = pcount[m]-pcount[a[i]];
    		else
    		inp[i] = pcount[m]-pcount[a[i]]+1;
    	}
    	sort(inp, inp+n);
    	for(int i=0; i<n; i++)
    	{
    		if(inp[i]<=0) {res=0; break;}
    		res = res*(inp[i]-i);
    		//cout<<res<<" ";
    		res = res%1000000007;
    	}
    	cout<<res<<endl;
    }
    return 0;
}