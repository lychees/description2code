#include<stdio.h>
#include<string.h>
#include<algorithm>
#include<math.h>
#include<iostream>
#include<map>
using namespace std;
int a[10000007],b[10000007]={0},ch[10000007];
int check(int a)
{
    int i=0;
    while(a>0)
    {
        i+=a%10;
        a=a/10;
    }
    return i;
}
int main()
{
    int i,j,k,t,n,m,l,r;
    for(i=2;i<=10000000;i++)
        ch[i]=check(i);
    for(i=2;i<=10000000;i++)
    {
        if(a[i]==0)
        {
            int t=2;
            a[i]+=ch[i];
            while((t++)*i<=10000000)
            {
                int m=(t-1),c=0;
                while(m%i==0&&m>0)
                {
                    c++;
                    m=m/i;
                }
                if(c>0)
                    a[(t-1)*i]+=(c+1)*ch[i];
                else
                    a[(t-1)*i]+=ch[i];
            }
        }
    }
    for(i=2;i<=10000000;i++)
    {
        if(ch[i]==a[i])
            b[i]=b[i-1]+1;
        else
            b[i]=b[i-1];
    }
    scanf("%d",&n);
    while(n--)
    {
        scanf("%d%d",&l,&r);
        printf("%d\n",b[r]-b[l-1]);
    }
}
