//incommplete

#include<bits/stdc++.h>

#define pb   push_back
#define mp   make_pair
#define f    first
#define s    second
#define ll   long long
#define For(i,j,n)  for(int (i) = (j); i < n; i++)
#define MAX(a, b)     ((a) > (b) ? (a) : (b))
#define MIN(a, b)     ((a) < (b) ? (a) : (b))
#define Max  INT_MAX
#define Min  INT_MIN
#define mod  1000000007
using namespace std;
ll power(ll b,ll exp,ll m)
{ll ans=1;b%=m;
 while(exp){if(exp&1) ans=(ans*b)%m;
  exp>>=1;b=(b*b)%m;}
 return ans;}

ll dp[500005][11],powerof2[500005]={1};

int main()
{
    int n,k,m,x,s[500005]={0};
    scanf("%d%d%d",&n,&k,&m);
    For(i,0,n)
    	{
    		scanf("%d",&x);
    		s[x]++;
		}
	For(i,1,n+1)
		{
			powerof2[i]=powerof2[i-1]*(ll)2;
			powerof2[i]%=mod;
		}
	For(i,0,k+1)
		dp[i][0]=1;
	ll ans=0;
	For(i,1,k+1)
		{
			For(j,1,m+1)
				{
					dp[i][j]=dp[i-1][j-1]*(powerof2[s[i]]-1) + dp[i-1][j];
					dp[i][j]%=mod;
				}
		}
	For(i,0,m+1)
		{
			ans+=dp[k][i];
			ans%=mod;
		}
	cout<<ans;
}
