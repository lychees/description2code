/* My First Template  
   :P
*/
#include <bits/stdc++.h>
using namespace std;
#define mod 1000000007
#define ll long long int
#define pb push_back
#define mk make_pair
ll power(ll a, ll b) {
ll x = 1, y = a;
    while(b > 0) {
        if(b%2 == 1) {
            x=(x*y);
            if(x>mod) x%=mod;
        }
        y = (y*y);
        if(y>mod) y%=mod;
        b /= 2;
    }
    return x;
}
char s[20];
int used[10];
map < pair <int,int>, long long > dp,temp;
map < pair <int,int>, long long> :: iterator it;
pair <int,int> pp;
 
int main()
{
	int n,d,k,i,j,kk,mask;
	scanf("%s",s);
	scanf("%d%d",&d,&k);
	n = strlen(s);
	dp[make_pair(0,0)] = 1;
	for (i = 0; i < n; i++) {
		temp.clear();
		for (it = dp.begin(); it != dp.end(); ++it) {
			mask = it -> first.first;
			j = it -> first.second;
			memset(used,0,sizeof(used));
			for (kk = 0; kk < n; kk++) {
				if ((mask >> kk) & 1) continue;
				if (used[s[kk] - '0'] == 1) continue;
				pp = make_pair((mask | (1 << kk)),(j * 10 + s[kk] - '0') % d);
				if (temp.count(pp) == 0) temp[pp] = 0;
				temp[pp] += it -> second;
				used[s[kk] - '0'] = 1;
			}
		}
		dp.clear();
		for (it = temp.begin(); it != temp.end(); ++it) {
			dp[make_pair(it -> first.first, it -> first.second)] = it -> second;
		}
	}
	printf("%lld\n",dp[make_pair((1 << n) - 1,k)]);
	return 0;
}
