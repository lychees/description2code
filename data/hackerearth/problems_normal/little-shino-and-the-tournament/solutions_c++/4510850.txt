#include <bits/stdc++.h>

using namespace std;

int n, q, a;
int b[1000000];
vector<pair<int, int> > v;
	

int main() {
	cin >> n >> q;
	v.clear();
	for(int i = 0; i < n; i++) {
		scanf("%d", &a);
		v.push_back(make_pair(a, i));
	}
	while(v.size() > 1) {
		vector<pair<int, int> > t;
		n = v.size();
		for(int i = 0; i < n; i += 2) {
			if(i == n - 1) {
				t.push_back(v[i]);
				continue;
			}
			b[v[i].second]++;
			b[v[i + 1].second]++;
			if(v[i].first > v[i + 1].first) t.push_back(v[i]);
			else t.push_back(v[i + 1]);
		}
		v = t;
	}
	while(q--) {
		int p;
		scanf("%d", &p);
		printf("%d\n", b[p - 1]);
	}
    return 0;
}
