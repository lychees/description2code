#include <iostream>
#include<algorithm>

using namespace std;

#define llu  long long int

int a[200000];

int calc( llu n )
{
	int count = 0;
	
	while( n )
	 {
	 	 count ++;
	 	 
	 	 n = n&(n-1);
	 } 
	
	return count;
}

int main()
{
	llu t;

	cin >> t;
	
	for(llu test_case=1 ; test_case<=t; test_case++ )
	 {
	 	 llu n , k ;
	 	
	 	 cin >> n >> k;
		  
		 for( int i=0; i<n ; i++)
		 {
		 	int temp;
		 	
		 	cin >> temp;
		 	
		 	a[i] = calc(temp);
		 } 
		   
	 	sort(a, a+n);
	 	
		int answer  = 0; 
	 	
	 	for( int i = n-1; i>=0 && k>0 ; i-- )
	 	 {
	 	 	answer = answer + a[i];
	 	 	
	 	 	k--;
	 	 }
	 	
	 	cout << answer << "\n" ;
	 }
	 
	 return 0;
}