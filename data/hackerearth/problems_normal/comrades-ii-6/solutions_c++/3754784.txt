#include<bits/stdc++.h>
using namespace std;
long long int t,x,y,i,n;
  long long int fist=0,shake=0;
 vector <int> v[100001];
 int dist[100002];
long long int fun(long long int a)
{
  return (a*(a-1))/2;

}
void  dfs(long long int vertex,long long int h)
{
if(v[vertex].size()==0)
{
    dist[vertex]=h;
    return ;
}
    dist[vertex]=h;
    int i;
    for(i=0;i<v[vertex].size();i++)
    {
          dfs(v[vertex][i],h+1);

    }

}
int main()
{
  cin>>t;
  int l;
  while(t--)
  {
      scanf("%lld",&n);

long long int num,parent;
  for(i=1;i<=n;i++)
  {
      scanf("%lld",&num);
      v[num].push_back(i);
      if(num==0)
        parent=i;
        dist[i]=0;
  }
      fist=0;
      shake=0;
          dfs(parent,0);

            for(i=1;i<=n;i++)
      shake=shake+dist[i];


       cout<<shake<<" "<<fun(n)-shake<<endl;
      for(i=1;i<=n;i++)
        v[i].clear();

  }
  return 0;

}
