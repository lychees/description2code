#include <iostream>
#include <map>
using namespace std;

int main()
{
	int N;
	scanf("%d",&N);
	int n;
	scanf("%d",&n);
	map<int,int> m;
	m.insert(make_pair(n,1));
	int median=n;
	int index=1;
	int count=0;
	int total=1;
	int sum=n;
	for(int i=1;i<N;++i){
		scanf("%d",&n);
		m.insert(make_pair(n,0)).first->second++;
		if(n==median) ++total;
		if (n<median) ++index;
		int wanted_index=(i+2)/2;
		
		if (index<wanted_index){
			++index;
			++count;
			if (count==total){
				auto iter=m.find(median);
				++iter;
				count=0;
				total=iter->second;
				median=iter->first;
			}
		}else if (index>wanted_index){
			--index;
			--count;
			if (count==-1){
				auto iter=m.find(median);
				--iter;
				total=iter->second;
				count=total-1;
				median=iter->first;
			}
		}
		sum=(sum+median)%100000;
	}
	printf("%d",sum);
    return 0;
}
