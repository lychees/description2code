#include <iostream>
#include<algorithm>
#include<stdio.h>
using namespace std;
int marks[1000001]={};
int counts[1000001];
int loopstart=-1;

int dfs(int a[],int i)
{

	if(marks[i]==2)
	{
	    loopstart=-1;
		return counts[i];
	}
	if(marks[i]==1)
    {
        loopstart=i;
		return 0;
    }
marks[i]=1;
counts[i]=1+dfs(a,a[i]);
marks[i]=2;
return counts[i];

}

void update_counts(int a[],int root)
{
    int x=root;

    while(a[x]!=root)
    {
        x=a[x];
        counts[x]=counts[root];
    }

}



int main()
{
   int t;
   cin>>t;

   while(t--)
   {

   	int n;
   	cin>>n;
   	int a[n];
   	loopstart=-1;
    for(int i=0;i<n;i++)
        scanf("%d",&a[i]);



      for(int i=0;i<=n;i++)
        {marks[i]=0;
         counts[i]=0;
        }

   	for(int i=0;i<n;i++)
   	{
     // cout<<i<<"  "<<counts[i]<<endl;


   		if(marks[i]==2)
   		  continue;
   		if(a[i]==i)
   		  {
   		  	counts[i]=1;
   		  	marks[i]=2;
   		  	continue;
   		  }

   		counts[i]=1+dfs(a,a[i]);
   		marks[i]=2;
   		//cout<<marks[i]<<endl;
   		if(loopstart!=-1)
        {
            update_counts(a,loopstart);
        }
     //cout<<i<<"  "<<counts[i]<<" "<<marks[i]<<" "<<endl;
     //for(int i=0;i<n;i++)
        //cout<<counts[i]<<" "<<marks[i]<<" ";
     //cout<<endl;

   	}
   	int maxi=counts[0];
   	int index=0;
   	for(int i=1;i<n;i++)
   	  {

   	  	if(counts[i]>maxi)
   	  	{

   	  		maxi=counts[i];
   	  		index=i;
   	  	}


   	  }


   	cout<<index<<endl;

   }


return 0;
}

