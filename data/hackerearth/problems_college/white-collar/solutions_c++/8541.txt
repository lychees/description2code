#include<iostream>
#include<cstdio>
using namespace std;
long long int counter = 0;
char mat[20][20][20];
char ans[20][20][20];
 
void dfs_visit(int n,int m,int q,int N,int M,int Q)
{
    ans[N][M][Q]='b';++counter;
    if(N+1<n && ans[N+1][M][Q]=='w' && mat[N+1][M][Q]=='.'){dfs_visit(n,m,q,N+1,M,Q);}
    if(N>0 && ans[N-1][M][Q]=='w' && mat[N-1][M][Q]=='.'){dfs_visit(n,m,q,N-1,M,Q);}
    if(M+1<m && ans[N][M+1][Q]=='w' && mat[N][M+1][Q]=='.'){dfs_visit(n,m,q,N,M+1,Q);}
    if(Q+1<q && ans[N][M][Q+1]=='w' && mat[N][M][Q+1]=='.'){dfs_visit(n,m,q,N,M,Q+1);}
    if(M>0 && ans[N][M-1][Q]=='w' && mat[N][M-1][Q]=='.'){dfs_visit(n,m,q,N,M-1,Q);}
    if(Q>0 && ans[N][M][Q-1]=='w' && mat[N][M][Q-1]=='.'){dfs_visit(n,m,q,N,M,Q-1);}
}
void dfs(int n,int m,int q,int x,int y)
{
    if(mat[0][x][y]=='.' && ans[0][x][y]=='w'){dfs_visit(n,m,q,0,x,y);}
}
int main()
{
    int t,n,m,q,x,y;scanf("%d",&t);
    while(t--)
    {
        scanf("%d %d %d",&n,&m,&q);
        for(int i=0;i<n;++i)
        {
            for(int j=0;j<m;++j)
            {
                scanf("%s",mat[i][j]);
                for(int k=0;k<q;++k)
                {
                    ans[i][j][k]='w';
                }
            }
        }
        scanf("%d %d",&x,&y);
        dfs(n,m,q,x-1,y-1);
        printf("%lld\n",counter);
        counter = 0;
    }
    return 0;
}