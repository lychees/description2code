#include <iostream>
#include<queue>
using namespace std;
int mat[1001][1001];
int visitTime[1001];
int fun(int n,int s,int d)
{
	int i;
	if(s==d)
	    return 0;
	queue<int> q;
	q.push(s);
	visitTime[s]=0;
	while(!q.empty())
	{
		s=q.front();
	     q.pop();
		for(i=1;i<=n;i++)
		{
			if(mat[s][i] && !visitTime[i] && s!=i)
			{
				if(i==d)
				  return visitTime[s]+1;
				visitTime[i]=visitTime[s]+1; 
				q.push(i);
			}
		}
	}
	return -1;
}
int main()
{
	int n,a,b,x,y,i,j;
	long m;
    cin>>n>>m>>a>>b;
    for(i=0;i<=n;i++)
    {
    	visitTime[i]=0;
     for(j=0;j<=n;j++)
         mat[i][j]=1;
    }
     while(m--)
     {
       cin>>x>>y;
       mat[x][y]=0;
       mat[y][x]=0;
     }
     cout<<fun(n,a,b)<<endl;
    return 0;
}
