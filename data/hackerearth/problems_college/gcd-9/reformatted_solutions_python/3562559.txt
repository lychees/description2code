from fractions import gcd
n, m = map(int, raw_input().split())
a = map(int, raw_input().split())
z = []
l = 0
for x in xrange(n):
    if a[x] < m:
        continue
    s = a[x]
    q = 0
    for y in xrange(x+1, n):
        if a[y] < m or s < m:
            break
        s = gcd(s, a[y])
        if s >= m:
            l = max(l, y-x+1)
if l == 0:
    print 0
else:
    print l
