#include <bits/stdc++.h>
using namespace std;
#define ll long long
ll n,m,k;
ll arr[101][101];
ll dp[101][101][501];
 
ll solve(ll currx,ll curry,ll energy){
    if(currx>n||curry>m){
        return INT_MIN;
    }
    energy+=arr[currx][curry];
    if(energy>k){
        return INT_MIN;
    }
    if(dp[currx][curry][energy]!=-1){
    	return dp[currx][curry][energy];
    }
    if(currx==n&&curry==m){
        return energy;
    }
    ll y =solve(currx+1, curry, energy);
    ll z  =solve(currx, curry+1, energy);
    ll u = solve(currx+1, curry+1, energy);
    return dp[currx][curry][energy] = max(y,max(z,u));
}
void reset(){
    memset(arr, 0, sizeof(arr));
    memset(dp,-1,sizeof(dp));
}
 
 
int main()
{
    ios::sync_with_stdio(false);
    cin.tie();
    ll t;
    cin>>t;
    while (t--) {
        cin>>n>>m>>k;
        reset();
        for(int i=1;i<= n;i++){
            for(int j=1;j<= m;j++){
                cin>>arr[i][j];
            }
        }
        ll z  = solve(1,1, 0);
        if(z==INT_MIN){
            cout<<"-1\n";
        }
        else{
            cout<<z<<endl;
        }
    }
    return 0;
}