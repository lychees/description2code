#include <iostream>
#include<cmath>
using namespace std;
 
int main()
{
	   int m;
	   cin>>m;
    double ratio, up, down;
    ratio= (1+sqrt(5))/2;
    for (int c=1; c<=m; c++)
    {
        int a1, a2, b1, b2; 
        cin>>a1>>a2>>b1>>b2;
        long count=0;
        for (int i=a1; i<=a2; i++)
        {
            up=i*ratio;
            down=i/ratio;
            if(b1>=up || b2<=down)
                count+=b2-b1+1;
            else {
                if (b1<=down)
                    count+=max(0, (int) floor(down) -b1+1);
                if (b2>=up)
                    count+=max(0, b2- (int) ceil(up) +1);
            }
        }
        cout<<"Case #"<<c<<": "<<count<<endl;
        }
}
