#include <iostream>
using namespace std;

int hcf(int a, int b) {
	int temp;
	while(b>0) {
		temp = b;
		b = a%b;
		a = temp;
	}
	return a;
}

int main()
{
    int t, x, y;
    long long a, b, lcm, gcd, count;
    cin>>t;
    while(t--) {
    	cin>>x>>y>>a>>b;
    	gcd = (long long)hcf(x,y);
    	lcm = (x/gcd)*y;
    	
    	count = (b/lcm)-((a-1)/lcm);
    	cout<<count<<endl;
    }
    return 0;
}
