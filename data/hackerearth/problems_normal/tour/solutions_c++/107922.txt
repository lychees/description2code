#include<iostream>
#include<cstdio>
#include<string.h>
 
using namespace std;

int main()
{	char a[1005][15];
	char b[11];
	int c[1002][1002];

    int n,p,i,j,id;
    long long sum;
    
    scanf("%d",&n);
    
    for(i=0;i<n;i++)
    	scanf("%s",a[i]);
    for(i=0;i<n;i++)
    {
    	for(j=0;j<n;j++)
    		scanf("%d",&c[i][j]);
    }
    
    scanf("%d",&p);
	p--;
	scanf("%s",b);
    for(i = 0 ; i<n ; i++)
    	if(strcmp(a[i],b) == 0)
    		break;
 	sum = c[0][i];
 	id = i;
 	while(p--)
 	{
 		scanf("%s",b);
    	for(i = 0 ; i<n ; i++)
    		if(strcmp(a[i],b) == 0)
    			break;
 		sum += c[id][i];
 		id = i;
 		
 	}
 	cout<<sum<<endl;
 
    return 0;
}
 