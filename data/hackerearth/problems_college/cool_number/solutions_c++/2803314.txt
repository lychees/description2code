#include <bits/stdc++.h>
using namespace std;
int count(int n)
{
	int i,siz,r,c=0;
	vector<int> v;
	while(n)
	{
		r=n%2;
		v.push_back(r);
		n/=2;
	}
	siz=v.size();
	reverse(v.begin(),v.end());
	if(siz>=3)
	{
		for(i=0;i<siz;)
		{
			if(i+2<siz)
			{
				if((v[i]==1)&&(v[i+1]==0)&&(v[i+2]==1))
				{
					c++;
					i+=2;
				}
				else
					i++;
			}
			else
				break;
		}
	}
	return c;
}
int main()
{
    int i,t,n,r,k,c;
    n=100000;
    int dp[n+1];
    for(i=1;i<=n;i++)
    {
    	dp[i]=count(i);
    }
    scanf("%d",&t);
    while(t--)
    {
    	c=0;
    	scanf("%d%d",&r,&k);
    	for(i=1;i<=r;i++)
    	{
    		if(dp[i]>=k)
    			c++;
    	}
    	printf("%d\n",c);
    }
    return 0;
}
