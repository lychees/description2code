def digSum(string):
	total = 0
	for i in string:
		total += int(i)
	return total

for T in range(input()):
	n = 0
	for M in range(input()):
		l, d = map(int, raw_input().rstrip().split(' '))
		n += d * l
	n = str(n)
	while (len(n) > 1):
		n = str(digSum(n))
	print n