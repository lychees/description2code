#include <bits/stdc++.h>

using namespace std;

#define INF 1000000007
#define PB push_back
#define F first
#define S second
#define PB push_back
#define MP make_pair
#define LL long long
#define sd(x) scanf("%d", &x)
#define MOD 1000000007
#define N 5123456
int pr[N];

int get(int x){
    int ans = 0;
    if(x <= 0) return x;
    while(x > 1){
        if(pr[x] == 1) ans += x;
        else ans -= x;
        x /= 2;
    }
    ans -= 1;
    return ans;
}

int solve(){
    int a, b, tmp;
    cin>>a>>b;
    tmp = a;
    set<int> s;
    while(tmp != 0){
        s.insert(tmp);
        tmp /= 2;
    }
    tmp = b;
    while(tmp != 0){
        if(s.find(tmp) != s.end()) break;
        tmp /= 2;
    }
    int ans;
    //cout<<get(a)<<" "<<get(b)<<" "<<get(tmp)<<" "<<get(tmp / 2)<<endl;
    ans = get(a);
    ans += get(b);
    ans -= get(tmp);
    ans -= get(tmp / 2);
    cout<<-ans<<endl;
    return 0;
}

int main(){
    //freopen("out.txt", "w", stdout);
    int t = 1, i, j;
    pr[1] = 1;
    for(i = 2; i < N; i++){
        pr[i] = 1;
    }
    for(i = 2; i <= 3000; i++){
        if(pr[i])
        for(j = i * i;j < N; j+= i){
            pr[j] = 0;
        }
    }
    cin>>t;
    while(t--){
        solve();
    }
    return 0;
}
