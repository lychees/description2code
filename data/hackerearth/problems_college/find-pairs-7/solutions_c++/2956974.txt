#include <iostream>
#include <map>
#define ll long long
using namespace std;
int n , a[1000001] , t;
ll sum;
map<int , int> m;
int main()
{	
	cin >> t;
	while(t --){
		cin >> n;
		sum = 0;
		for(int i = 1;i <= n;i ++){
			int x;	cin >> x;
			m[x] ++;
			sum += m[x];
		}	
		m.clear();
		cout << sum << endl;
	}
    return 0;
}
