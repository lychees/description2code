#include <bits/stdc++.h>

using namespace std;

int n, q;
int  BIT[200010];

bool r (long long x){
    if(x<0) return false;
    if(x==0) return true;
    long long f, l;
    l=x%10;
    while(x){
        f=x%10;
        x/=10;
    }
    return (f==l);
}
void update (long long idx, int value){
    for(; idx<=n; idx+=idx&-idx){
        BIT[idx]+=value;
    }
}

int query(long long idx){
    int ans=0;
    for(; idx>0; idx-=idx&-idx){
        ans+=BIT[idx];
    }
    return ans;
}

int main(){
    int t;
    long long x, y;
    long long v[200010];

    cin>>n>>q;

    for(int i=1; i<=n; i++){
        cin>>v[i];
        if(r(v[i])){
            update(i, 1);
        }
    }
    for(int i=0; i<q; i++){
        cin>>t;
        cin>>x>>y;
        if(t==1){
            cout<<query(y)-query(x-1)<<"\n";
        }
        else {
            if(r(v[x]))
                update(x, -1);
            else
                update(x, 0);
            if(r(y))
                update(x, 1);
            else
                update(x, 0);
            v[x]=y;
        }
    }
    return 0;
}
