#include <iostream>
using namespace std;

int main()
{
    int test;
    cin>>test;
    while(test--)
    {
    	int n,m;
    	cin>>n>>m;
    	int x = 1, y = 1;
    	int k;
    	cin>>k;
    	int count =0;
    	while(k--)
    	{
    		int a,b;
    		cin>>a>>b;
            while((x+a <= n && y+b<=m) &&(x+a>=1 && y+b>=1))
            {
    			x = x+a;
    			y = y+b;
    			count++;
           	}
		}
    	cout<<count<<endl;
    }
}

