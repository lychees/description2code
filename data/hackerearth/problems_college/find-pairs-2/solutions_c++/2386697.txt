    #include <iostream>
    #include <vector>
    #include <algorithm>
    using namespace std;
     
    int main(){
        int t;
        scanf("%d",&t);
        long int n;
        long int i,j = 0;
        while (t--) {
            scanf("%ld",&n);
            vector<long int> array;
            i = 0;
            j = 0;
            while (n--) {
                scanf("%ld",&i);
                array.push_back(i);
            }
            i = 0;
            j = 0;
            long long int count = array.size();
            sort(array.begin(),array.end());
            long long int temp = array[0];
            long long int temp_count = 0;
            i = 1;
            while (i < array.size()) {
                temp_count = 0;
                while (array[i] == temp) {
                    temp_count++;
                    i++;
                }
                //cout << count << endl;
                count = count+((temp_count)*(temp_count+1))/2;
                temp = array[i];
                i++;
            }
            cout << count << endl;
        }
     
        return 0;
    }