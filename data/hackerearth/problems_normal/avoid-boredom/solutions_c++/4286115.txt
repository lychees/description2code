#include <iostream>
#include <stdlib.h>  
using namespace std;
int t , n , m;
long long int a[100 + 10];
long long int dp[100 + 10][100 + 10];
typedef long long int ll;
long long int rec(int i,int p)
{   long long int ans=0;
	if(i==n-1||p==0)
	return 0;
	ans=dp[i][p];
	if(ans!=-1)
	return ans;
	for(ll j=i+1;j<n;j++)
	ans=max(ans,llabs(a[i]-a[j])+rec(j,p-1));
	dp[i][p]=ans;
	return ans;
}
int main() {
	
	cin>>t;
	while(t--)
	{
		ll ans=-1;
cin>>n>>m;
	for(ll i=0;i<n;i++)
	cin>>a[i];
	for(ll i=0;i<=n;i++)
	{
		for(ll j=0;j<=m;j++)
		dp[i][j]=-1;
	}

	for(ll i=0;i<n;i++)
	{
	ans=max(ans,rec(i,m-1));	
	}
	cout<<ans<<endl;
	}
	return 0;
}
