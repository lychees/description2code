a,b=map(int,raw_input().split())
arr=raw_input()
count=0
el=a
for ch in arr:
	#print ch
	if ch=='1':
		count=(count+el)%b
	el=(el*el)%b
print count