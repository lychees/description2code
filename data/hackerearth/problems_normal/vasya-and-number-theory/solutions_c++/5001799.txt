#include <bits/stdc++.h>
using namespace std;
long long int a[1005],n;
int  dp[1005];
int recur(int src)
{
	if(src==n-1)
	return 1;
	else if(dp[src]!=-1)
	return dp[src];
	else
	{
		dp[src]=1;
		for(int i=src+1;i<n;i++)
		{
			if(a[src]%a[i]==0)
			{
				dp[src]=max(dp[src],1+recur(i));
			}
		}
		return dp[src];
	}
}
int main()
{
	long long int i,maxi=0,c;
	
    cin>>n;
    for(i=0;i<n;i++)
    {
    	cin>>a[i];
    }
    memset(dp,-1,sizeof(dp));
    sort(a,a+n);
    reverse(a,a+n);
    for(i=0;i<n;i++)
    {
    	
    	//if(dp[i]==-1)
    	c= recur(i);
    	// cout<<"a"<<endl;
    }
    for(i=0;i<n;i++)
    {
    	if(dp[i]>maxi)
    	maxi=dp[i];
    }
   //maxi=*max_element(dp,dp+n+1);
   if(maxi<=1)
   cout<<"-1"<<endl;
   else
   {
   	cout<<maxi<<endl;
   }
    return 0;
}
