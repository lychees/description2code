t = input()
while t:
    t -= 1
    m = input()
    d = input()
    s, e = map(int, raw_input().split())
    m = str(m)[s-1:e]
    count = 0
    l = e-s+1
    for a in range(1, l+1):
        for b in range(0, a):
            if int(m[b:a]) % d == 0:
                count += 1
    print count
