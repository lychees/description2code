#include <iostream>
using namespace std;

int main() {
	long t; long n; long sum; long i,j,m;
	cin >> t;
	while(t--) {
		cin >> n; sum = 0; 
		for(i=2; i<n; i = i << 1) {
			for(j=1; j<i; j = j << 1) {
				m = i + j;
				if(m > n) break;
				sum = ( sum + m ) % 1000000007;
			}
			
			
		}
		cout << sum << endl;
	}
	return 0;
}