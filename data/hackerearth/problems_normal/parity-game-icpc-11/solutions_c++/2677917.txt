#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
#define pii pair<int,int>
#define pll pair<ll,ll>
#define pdd pair<double,double>
#define X first
#define Y second
#define REP(i,a) for(int i=0;i<a;++i)
#define REPP(i,a,b) for(int i=a;i<b;++i)
#define FILL(a,x) memset(a,x,sizeof(a))
#define	foreach( gg,itit )	for( typeof(gg.begin()) itit=gg.begin();itit!=gg.end();itit++ )
#define	mp make_pair
#define	pb push_back

inline int max(int a,int b){return a<b?b:a;}
inline int min(int a,int b){return a>b?b:a;}
inline ll max(ll a,ll b){return a<b?b:a;}
inline ll min(ll a,ll b){return a>b?b:a;}
const int mod = 1e9+7;
const int N = 1e6+10;
const ll INF = 1e18;

int dp[405][405];
int main(){
  int n,q;
  FILL(dp,0);
  scanf("%d%d",&n,&q);
  int ans=mod;
  REP(i,q){
    int x,y;
    scanf("%d%d",&x,&y);x--;y--;
    dp[x][y]++;
  }
  REP(i,n){
    int x=0;
    REP(j,n) if(j>=i) x+=dp[i][j];
    ans=min(ans,x);
    if(x==0) break;
    REP(j,n) if(dp[i][j]>0) { x=j;}
    REP(j,n) if(j<x&&dp[i][j]>0){
      dp[j+1][x]+=dp[i][j];
    }
  }
  printf("%d\n",ans);
  return 0;
}
