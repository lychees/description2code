a,b=map(int,raw_input().split())
s=raw_input()
m,n=[0]*(len(s)),[0]*(len(s))
ans=j=sum=0
#m[j]=a
#j+=1
for i in range(len(s)):
	if s[i]=='1' and i==0:
		#ans=pow(,2,b)
		sum+=a%b
		m[j]=a
		#print m[j],i
		j+=1
	elif s[i]=='0' and i==0:
		m[j]=a
		j+=1
	elif s[i]=='1':
		m[j]=pow(m[j-1],2,b)
		sum+=m[j]%b
		#print m[j],s[i]
		j+=1
	else:
		m[j]=pow(m[j-1],2,b)
		j+=1
		#print m[j],s[i]
print sum%b		
	