#include <iostream>
#include <set>
#include <iomanip>
using namespace std;


int main(){
	set <long int> cubes;
	for(long int i = 0L; (i * i * i) < 6000L; i++)
		cubes.insert(i * i * i);
	int t, arr[500], n, count[501][2001];
	long int total;
	long int den;
	long int nn;
	cin >> t;
	cout << fixed << setprecision(9);
	while(t--){
		cin >> n;
		for(int i = 0; i < n; i++)
			cin >> arr[i];
		for(int j = 0; j <=2000; j++)
			count[n][j] = 0;
		for(int i = n - 1; i >= 0; i--){
			for(int j = 0; j <= 2000; j++){
				count[i][j] = count[i + 1][j] + (arr[i] == j);
			}
		}
		total = 0L;
		nn = n;
		den = (static_cast<long>(nn)*(nn-1L)*(nn-2L))/6L;
		for(int i = 0; i < n-2; i++){
			for(int j = i + 1; j < n-1; j++){
				for(auto x : cubes)
					if(x > arr[i] + arr[j] && ((x - arr[i] - arr[j] ) <= 2000))
						total += count[j + 1][x - (arr[i] + arr[j])];	
			}
		}
		cout << static_cast<long double>(total)/static_cast<long double>(den) << endl;
	}
	return 0;
}