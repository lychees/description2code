#include <bits/stdc++.h>
using namespace std;

string a,str[55];
char ch[55];
int n,k,s[55],u[55],t,i,j;
map<int,bool> mark;
int main()
{
    cin>>t;
    while(t--)
    {
    	cin>>n;
    	for(i=1;i<=n;i++)
    	{
    		cin>>s[i]>>str[i];
    		mark[s[i]]=0;
    		if(str[i][0]=='u')
    		cin>>u[i];
    		else
    		cin>>ch[i];
    	}
    	a="";
    	for(i=n;i>0;i--)
    	{
    		if(mark[s[i]]==1)
    		continue;
    		if(str[i][0]=='u')
    		{
    			for(j=i-1;j>0;j--)
    			{
    				if(s[j]>=s[i]-u[i])
    				mark[s[j]]=1;
    				else
    				break;
    			}
    		}
    		else
    		a=ch[i]+a;
    	}
    	
    	cout<<a<<"\n";
    }
    return 0;
}
