#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

int main()
{
	int n;
	cin>>n;

	map<string,ll> mp;

	string s;

	for(ll i=1;i<=n;i++)
	{
		cin>>s;
		mp[s]=i;
	}

	ll arr[n+1][n+1];

	for(ll i=1;i<=n;i++)
	{
		for(ll j=1;j<=n;j++)
			cin>>arr[i][j];
	}

	ll q,curr;
	cin>>q;
	ll sum=0;
	
	for(ll i=1;i<=q;i++)
	{
		cin>>s;
		if(i==1)
			{
				sum+=arr[1][mp[s]];
				curr=mp[s];	
			}
		else
		{
			sum+=arr[curr][mp[s]];
			curr=mp[s];
		}


	}
cout<<sum;
	return 0;
}