#include<bits/stdc++.h>
using namespace std;
string pat[32]={"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
			    "#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
			    "_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
			    "#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#",
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_",
				"_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#", 
				"#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_#_" };

#define ll long long 
ll board_int[2000][2000];
ll pattern[32];
long long to_int(string s) {
	int i = s.length()-1;
	long long val = 0LL;
	ll j=0;
	for( ;i>=0; --i, ++j) {
		if(s[i]=='#')
			val += (ll)pow(2,j);
	}
	return val;
}

int main()
{
	
	for(int i=0;i<32;++i)
		pattern[i] = to_int(pat[i]);
	// for(int i=0;i<32;++i)
	// 	cout<<pattern[i]<<endl;
	
	int n,m;
	cin>>n>>m;
	//vector<string> board;
	string s;
	
	
	for(int i=0;i<n;++i) {
		cin>>s;
		//board.push_back(s);
		board_int[i][0] = to_int(s.substr(0,32));
		for(int j=1;m-j >= 32; ++j) {
			if(s[j-1] == '#') {
				board_int[i][j] = ( board_int[i][j-1]-(ll)pow(2,31) )<<1;
				if(s[j+31]== '#')
					board_int[i][j] += 1LL;	
			}
			else {
				board_int[i][j] = board_int[i][j-1]<<1;
				if(s[j+31] == '#')
					board_int[i][j] += 1LL;
			}
		}
		s="";
	}

	// for(int i=0;i<n;++i,cout<<endl) 
	//  	for(int j=0;j<m-32+1;++j)
	//  		cout<<board_int[i][j]<<" ";
	int ans =0;
	for(int i=0;i<=n-32;++i) {
		for(int j=0;j<m-32+1;++j) {
			int t = 0;
			for(int x = 0;x<32;x++){
				if(pattern[x] != board_int[x+i][j]) {
					t=1;
					break;
				}
			}	
			if(!t)
				ans++;
		}
	}
	cout<<ans;
	return 0;
}