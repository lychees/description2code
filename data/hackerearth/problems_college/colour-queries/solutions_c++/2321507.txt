
#include <iostream>
#include <cmath>
using namespace std;
long n, m, q, xo, yo, d, arr[100][100];
bool blacked[100][100];

void check(int x, int y, int &count)
{
	//cout<<"x : "<<x<<" and y : "<<y<<'\n';
	if (x - 1 >= 0)
		if (blacked[x-1][y] == false)
			if (abs(arr[x-1][y] - arr[x][y]) <= d)
			{
				blacked[x-1][y] = true;
				count++;
				check(x-1, y, count);
			}
	if (x + 1 < n)
		if (blacked[x+1][y] == false)
			if (abs(arr[x+1][y] - arr[x][y]) <= d)
			{
				blacked[x+1][y] = true;
				count++;
				check(x+1, y, count);
			}
	if (y - 1 >= 0)
		if (blacked[x][y-1] == false)
			if (abs(arr[x][y-1] - arr[x][y]) <= d)
			{
				blacked[x][y-1] = true;
				count++;
				check(x, y-1, count);
			}
	if (y + 1 < m)
		if (blacked[x][y+1] == false)
			if (abs(arr[x][y+1] - arr[x][y]) <= d)
			{
				blacked[x][y+1] = true;
				count++;
				check(x, y+1, count);
			}
}	

void check()
{
	for (int i = 0; i < n;i++)
		for (int j = 0; j < m;j++)
			blacked[i][j] = false;
	int count = 1;
	blacked[xo][yo] = true;
	check(xo, yo, count);
	cout<<count<<'\n';
}

int main(int argc, char **argv)
{
	int i, j;
	cin>>n>>m>>q;
	for (i = 0; i < n; i++)
		for (j = 0; j < m; j++)
			cin>>arr[i][j];
	while (q--)
	{
		cin>>xo>>yo>>d;
		xo--;
		yo--;
		check();
	}
	return 0;
}

