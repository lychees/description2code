#include <iostream>
using namespace std;
int convert(int dec){
	int rem,sum=0;
	do
    {
        rem=dec%2;
        sum+=rem;
        dec=dec/2;
       
    }while(dec>0);
    return sum;
}

int main()
{
    int t;
    cin>>t;
    while(t){
    	int n,K,sum=0;
    	cin>>n>>K;
    	int i,A[103],B[9]={0};
    	for(i=0;i<n;i++){
    		cin>>A[i];
    		A[i]=convert(A[i]);
    		B[A[i]]++;
    	}
   for(i=8;i>=0;i--){
    if(B[i] < K) {
        sum += B[i] * i;
        K -= B[i];
    } 
    else 
    {
        sum += K * i;
        K = 0;
        break;
    }
    }	
    
    	
   /* int temp;
    int largest1 = A[0];
    /*  assume first element of array is the second largest */
   /* int largest2 = A[1];
    if (largest1 < largest2)
    {
        temp = largest1;
        largest1 = largest2;
        largest2 = temp;
    }
    for (i = 2; i < n;	i++)
    {
        if (A[i] >= largest1)
        {
            largest2 = largest1;
            largest1 = A[i];
        }
        else if (A[i] > largest2)
        {
            largest2 = A[i];
        }
    }
    temp=largest1+largest2;*/
    
    cout<<sum<<endl;
    t--;
    }
    return 0;
}
