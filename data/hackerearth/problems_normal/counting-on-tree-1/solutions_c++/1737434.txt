#include <bits/stdc++.h>
using namespace std;
#define vi vector<int>
#define pb push_back
#define mp make_pair
#define all(x) x.begin(),x.end()
#define inf 1000000007
#define mod 1000000007
#define x first
#define y second
#define DBG(x) cerr<<(#x)<<"="<<x<<"\n";
#define ll long long
#define N 50005

vi g[N];
int K,n,dp[N][101],a[N],ans;
void dfs(int u,int fa){
	for(int i=0;i<=K;i++)dp[u][i]=0;
	dp[u][a[u]]=1;
	for(int i=0;i<g[u].size();i++){
		int j=g[u][i];
		if(j==fa)continue;
		dfs(j,u);
		for(int x=K;x>=a[u];x--){
			for(int y=a[j];y<=x;y++)if(dp[j][y]&&dp[u][x-y]){
				dp[u][x]+=1LL*dp[j][y]*dp[u][x-y]%mod;
				if(dp[u][x]>=mod)dp[u][x]-=mod;
			}
		}
	}
	ans+=dp[u][K];
	if(ans>=mod)ans-=mod;
}
int main()
{
	int T,i,j,k,m;
	//clock_t start=clock();
	scanf("%d",&T);
	while(T--){
		scanf("%d%d",&n,&K);
		for(i=1;i<=n;i++)g[i].clear(),scanf("%d",&a[i]);
		for(i=1;i<n;i++){
			scanf("%d%d",&j,&k);
			g[j].pb(k);g[k].pb(j);
		}
		ans=0;dfs(1,0);
		printf("%d\n",ans);
	}
	//cout<<(clock()-start)/CLOCKS_PER_SEC*1000<<"ms\n";
	return 0;
}