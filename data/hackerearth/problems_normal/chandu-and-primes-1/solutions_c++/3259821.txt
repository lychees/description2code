#include<bits/stdc++.h>
#define ll long long int
#define MAXN 1000000
using namespace std;
bool alpha_primes[1000002],primes[1000002];
vector<int> v;
void init(){
	primes[1] = primes[0] = 1;
	for(int i = 2; i * i <=MAXN; i++){
		if(!primes[i])
		for(int j = i * i; j <= MAXN; j += i){
			primes[j] = 1;
		}
	}

	for(int i = 2; i <= MAXN; i++){
		if(!primes[i]){
			v.push_back(i);
		}
		else{
			int temp = 0, j = 1;
			int num = i;
			while(num){
				int rem = num % 10;
				temp += j* rem;
				if(!primes[temp]){
					v.push_back(i);
					break;
				}
				num /= 10;
				j *= 10;
			}
		}
	}
}
int main(){
//freopen("input.txt", "r", stdin);
int l, r, q;
init();
scanf("%d", &q);
while(q--){
	scanf("%d %d", &l, &r);
	int idx = upper_bound(v.begin(), v.end(), r) - lower_bound(v.begin(), v.end(), l);
	printf("%d\n", idx);
}
return 0;
}
