#include<bits/stdc++.h>
using namespace std;
vector<int> g[100007];
int in[100007];
int out[100007];
bool vis[100007];
int t=0;
void dfs(int v){
	vis[v]=true;
	in[v]=t++;
	int si=g[v].size();
	for(int i=0;i<si;i++){
		if(vis[g[v][i]]==false){
			dfs(g[v][i]);
		}
	}
	out[v]=t++;
}
bool fn(int x,int y){
	if(in[x]<=in[y] && out[x]>=out[y]){
		return true;
	}
	return false;
}
int main(){
	int n;
	scanf("%d",&n);
	for(int i=0;i<n-1;i++){
		int a,b;
		scanf("%d%d",&a,&b);
		g[a].push_back(b);
		g[b].push_back(a);
	}
	memset(vis,false,sizeof vis);
	dfs(1);
	int q;
	scanf("%d",&q);
	while(q--){
		int type,x,y;
		scanf("%d%d%d",&type,&x,&y);
		if(type==0){
			if(fn(x,y)==true){
				printf("YES\n");
			}
			else{
				printf("NO\n");
			}
		}
		else{
			if(fn(y,x)==true){
				printf("YES\n");		
			}
			else{
				printf("NO\n");
			}
		}
	}
}
