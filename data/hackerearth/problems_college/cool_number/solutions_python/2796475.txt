def my_count(string, substring):
    string_size = len(string)
    substring_size = len(substring)
    count = 0
    for i in xrange(0,string_size-substring_size+1):
        if string[i:i+substring_size] == substring:
            count+=1
    return count
for t in range(input()):
	su=0
	r,k=map(int,raw_input().split())
	for j in range(1,r+1):
		string=bin(j)[2:]
		substring="101"
		c=my_count(string,substring)
		if c>=k:
			su+=1
	print su	