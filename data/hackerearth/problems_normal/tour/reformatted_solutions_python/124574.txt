n = input()
cities = []
for i in range(n):
    c = raw_input()
    cities.append(c)
distances = []
for i in range(n):
    c = raw_input()
    distances.append([int(s) for s in c.split()])
p = input()
start = 0
total = 0
route = []
for i in range(p):
    route.append(cities.index(raw_input()))
route = list(reversed(route))
x = 0
while len(route) > 0:
    y = route.pop()
    total += distances[x][y]
    x = y
print total
