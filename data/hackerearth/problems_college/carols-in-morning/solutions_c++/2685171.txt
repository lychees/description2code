#include<cstdio>
#include<iostream>
#include<cstring>
using namespace std;
typedef int w;
typedef long long l;
w n;
w f[(1<<24)+1];
w m;
w a[100001];

void solve(){
     memset(f,1e9+7,sizeof f);
     memset(a,0,sizeof a);
     f[0]=0;
     cin>>m;
     for(int i=1;i<=m;++i){
        string s;
        cin>>s;
        n=s.size();
        w cur=0;
        for(int j=0;j<n;++j){
            if(s[j]=='Y'){ a[j+1]+=(1<<(i-1)); }

        }

     }
     for(int i=1;i<=n;++i){
        //cout<<a[i]<<endl;
        for(int j=0;j<(1<<m);++j){
            if(f[j]==(1e9+7)) continue;
            f[j|a[i]]=min(f[j]+1,f[j|a[i]]);
        }
     }
     cout<<f[(1<<m)-1]<<endl;

}

int main(){
    ios_base::sync_with_stdio(false);
  // freopen("in","r",stdin);
    w T;
    cin>>T;
    while(T--) solve();
}
