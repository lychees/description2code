#include <bits/stdc++.h>
#define mod 1000000007
using namespace std;
vector<vector<long long int> >dp;

bool isvalid(int x, int y, int n)
{
    if(x<0 || x>=n) return false;
    if(y<0 || y>=n) return false;
    return true;
}

long long int func(int x, int y, vector<vector<int> >&a, vector<vector<int> >&vis, int n)
{
    if(isvalid(x,y,n) == false) return 0;
    if(dp[x][y] != -1)  return dp[x][y];

    if(vis[x][y] == -1) {
        vis[x][y] = 1;
        int up=0,down=0,right=0,left=0;
        if(isvalid(x+1, y, n)==true) {
            if(vis[x+1][y] == -1 && a[x+1][y] < a[x][y]) {
                down = 1+func(x+1, y, a, vis, n);
            }
        }

        if(isvalid(x-1, y, n)==true) {
            if(vis[x-1][y] == -1 && a[x-1][y] < a[x][y]) {
                up = 1+func(x-1, y, a, vis, n);
            }
        }

        if(isvalid(x, y+1, n)==true) {
            if(vis[x][y+1] == -1 && a[x][y+1] < a[x][y]) {
                right = 1+func(x, y+1, a, vis, n);
            }
        }

        if(isvalid(x, y-1, n)==true) {
            if(vis[x][y-1] == -1 && a[x][y-1] < a[x][y]) {
                left = 1+func(x, y-1, a, vis, n);
            }
        }
		
        if(dp[x][y] == -1)	dp[x][y] = (down+up+right+left)%mod;
        vis[x][y] = -1;
        //cout<<x<<" "<<y<<" "<<dp[x][y]<<endl;
        //cout<<"down -> "<<down<<" up -> "<<up<<" right -> "<<right<<" left -> "<<left<<endl;
        return dp[x][y];
    }
    else {
        return 0;
    }
}

int main()
{
    int n;
    cin>>n;
    vector<vector<int> >a(n, vector<int>(n));

    for(int i=0; i<n; i++) {
        for(int j=0; j<n; j++) {
            cin>>a[i][j];
        }
    }

    dp.clear();
    dp.resize(n, vector<long long int>(n, -1));
    long long int ans = 0;
    vector<vector<int> >vis(n, vector<int>(n, -1));
    for(int i=0; i<n; i++) {
        for(int j=0; j<n; j++) {
            ans = (ans + 1 + func(i, j, a, vis, n))%mod;
        }
    }
    /*
    for(int i=0; i<n; i++) {
        for(int j=0; j<n; j++) {
     		cout<<dp[i][j]<<" ";
        }
        cout<<endl;
    }
    */
	cout<<ans<<endl;

    return 0;
}
