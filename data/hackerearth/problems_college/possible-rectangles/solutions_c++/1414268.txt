#include <iostream>
#include <vector>
#include <algorithm>
#include <map>
using namespace std;
long long m,n,a;
int main()
{
    int t;
    scanf("%d",&t);
    while(t--){
    	scanf("%lld%lld%lld",&m,&n,&a);
    	long long s = (m-1)*(n-1);
    	long long sum = 0;
    	vector<long long> v;
    	long long b = a;
    	long long j = 2;
    	while(j*j<=b){
    		if (b%j){
    			j++;
    			continue;
    		}
    		while(b%j==0){
    			v.push_back(j);
    			//cout << j << "; " << b <<" ";
    			b /= j;
    		}
    		j++;
    	}
    	if (b>1) v.push_back(b);
    	int N = v.size();
    	map<long long, int> mp;
    	//for(int i=0;i<N;i++) cout << v[i] << ", ";
    	for(int i=0;i<(1LL<<N);i++){
    		long long x = 1;
    		for(int j=N-1;j>=0;j--){
    			if (i&(1LL<<j)) x*=v[j];
    			if (x*x>a) {
    				x = 0;
    				break;
    			}
    		}
    		if (x==0 || x==1 || x*x>a) continue;
    		if (mp.count(x)) continue;
    		mp[x] = 1;
    		long long y = a/x;
    		//cout << x << ", " << y << " ";
    		if (x==y){
    			if (x<=m-1 && y<=n-1) sum += (m-x)*(n-y);
    			else if (x<=n-1 && y<=m-1) sum += (m-y)*(n-x);
    			continue;
    		}
    		if (x<=m-1 && y<=n-1) sum += (m-x)*(n-y);
    		if (x<=n-1 && y<=m-1) sum += (m-y)*(n-x);
    	}
    	//cout << sum << ", ";
    	for(int i=1;i<=1;i++){
    	//	if (a%i) continue;
    		long long x = 1, y = a;
    		if (x==y){
    			if (x<=m-1 && y<=n-1) sum += (m-x)*(n-y);
    			else if (x<=n-1 && y<=m-1) sum += (m-y)*(n-x);
    			continue;
    		}
    		if (x<=m-1 && y<=n-1) sum += (m-x)*(n-y);
    		if (x<=n-1 && y<=m-1) sum += (m-y)*(n-x);
    	}
    	printf("%lld\n",sum);
    }
    return 0;
}
