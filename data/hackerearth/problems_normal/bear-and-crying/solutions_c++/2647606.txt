#include <bits/stdc++.h>
#define endl '\n'

using namespace std;

const int MOD = (1e9) + 7;

string a;
int n;
int ans;
int dp[1<<17];
int sum;
int cnt;

int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	int i;
	
	cin>>a;
	n=a.size();
	a="#"+a;
	
	for(i=1;i<=n;i++) {
		if(a[i]==';') ++cnt;
		else {
			dp[i]=sum+cnt;
			dp[i]%=MOD;
			sum+=dp[i];
			sum%=MOD;
		}
	}
	
	sum=0;
	for(i=1;i<=n;i++) {
		if(a[i]=='_') sum+=dp[i],sum%=MOD;
		else {
			ans+=sum;
			ans%=MOD;
		}
	}
	
	cout<<ans<<endl;
	
	return 0;
}
