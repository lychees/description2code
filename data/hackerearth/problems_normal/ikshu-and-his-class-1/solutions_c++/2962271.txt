#include <bits/stdc++.h>

using namespace std;
#define MOD 1000000007
int id[100005],sz[100005],Rank[100005],N,K,u,v;

void makeSet(){
    for (int i=0;i<=100000;i++){
        id[i]=i;
        sz[i]=1;
        Rank[i]=1;
    }
}

int find(int i){
    if (i==id[i])return i;
    return id[i]=find(id[i]);
}

int unite(int u,int v){
    int U = find(u);
    int V = find(v);
    if (U!=V){
        if (sz[U]<sz[V]){
            id[U]=V;
            sz[V]+=sz[U];
        }
        else {
            id[V]=U;
            sz[U]+=sz[V];
            if (Rank[U]==Rank[V])Rank[U]++;
        }
    }
}

int main()
{
    long long fac[100005];
    fac[1]=1;
    makeSet();
    for (long long i=2;i<=100000;i++){
        fac[i]=(fac[i-1]*i)%MOD;
        if (fac[i]==0)fac[i]+=MOD;
    }
    cin >> N >> K;
    for (int i=0;i<K;i++){
        cin >> u >> v;
        unite(u,v);
    }
    long long ans = 1;
    for (int i=0;i<=N;i++){
        if (id[i]==i){
            ans = (ans*fac[sz[i]])%MOD;
            if (fac[i]==0)fac[i]+=MOD;
        }
    }
    if (ans<=0)ans+=MOD;
    cout << ans << endl;
}




