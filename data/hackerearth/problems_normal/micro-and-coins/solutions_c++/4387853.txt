#include <bits/stdc++.h>
using namespace std;
int a[12][12];
int n;
bool pos[12];
int c;
void recurse(int lev);
int main()
{
    //cout << "Hello World!" << endl;
    int t;
    cin>>t;
    while(t--)
    {
    	c=0;
    	fill_n(&a[0][0],12*12,0);
    	fill_n(&pos[0],12,false);
    	int m;
    	cin>>n>>m;
    	for(int i=0;i<m;i++)
    	{
    		int u,v;
    		cin>>u>>v;
    		a[u][v]=1;
    		a[v][u]=1;
    	}
    	recurse(1);
    	if(c==n)
    		cout<<"Yes\n";
    	else
    		cout<<"No\n";
    }
    return 0;
}
void recurse(int lev)
{
	if(c>=n)
		return;
	if(pos[lev]==true)
		return;
	pos[lev]=true;
	c++;
	int x=0;
	for(int i=1;i<=n;i++)
	{
		if(a[lev][i]==1&&pos[i]==false)
			{
				recurse(i);
				break;
			}
	}
	return;
}