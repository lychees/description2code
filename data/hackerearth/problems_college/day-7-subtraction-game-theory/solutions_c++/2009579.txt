#include <iostream>
using namespace std;
#define M 1000000007;
int main()
{   long long int ans[1000004];
    int x,y;
    scanf("%d%d",&x,&y);
     long int q,n,i;
    scanf("%ld",&q);
    
    	ans[0]=x-y;
    	for(i=1;i<1000003;i++)
    	{
    	  ans[i]= ((ans[i-1])*x-y)%M;	
    	}
  while(q--)
    {
    	scanf("%ld",&n);
        printf("%lld\n",ans[n-1]);
     } 
    return 0;
}
