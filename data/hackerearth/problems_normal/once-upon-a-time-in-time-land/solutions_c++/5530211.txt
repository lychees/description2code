#include<bits/stdc++.h>
using namespace std;

long long maxi(long long a, long long b, long long c) {
	
	long long m;
	m = (a>=b)?((a>=c)?a:c):((b>=c)?b:c);
	
	return m;
}
int main() {
	
	int t;
	cin>>t;
	while(t--) {
		
		int n, k;
		cin>>n>>k;
		
		long long a[n+1], dp[n+1];
		
		for(int i=1; i<=n; i++)
			cin>>a[i];
		
		dp[n]=a[n];
		for(int i=n-1; i>=1; i--) {
			
			if(i+k+1 <= n) {
				
				dp[i] = maxi (a[i], a[i]+dp[i+k+1], dp[i+1]);
			}
			else {
				
				dp[i] = max (a[i], dp[i+1]);
			}
		}
		
		if(dp[1]>=0)
			cout<<dp[1]<<endl;
		else
			cout<<"0"<<endl;
	}
}
