#include <iostream>
#include <algorithm>
#include <functional>
using namespace std;

int main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(0); cout.tie(0);
    int tc,size,idealPairs;
    cin >> tc;
    while(tc--)
    {
    	cin >> size;
    	idealPairs=0;
    	int men[size],fem[size];
    	for(int i=0; i<size; i++) cin >> men[i];
    	for(int i=0; i<size; i++) cin >> fem[i];
    	sort(men,men+size,greater<int>());
    	sort(fem,fem+size);
    	for(int i=0; i<size; i++) if(fem[i]%men[i]==0 || men[i]%fem[i]==0) idealPairs++;
    	cout << idealPairs << endl;
    }
}
