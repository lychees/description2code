#include <iostream>
#include<bits/stdc++.h>
using namespace std;
#define ll long long
ll k=0;
ll check(string s,string s1[])
{
	ll c=0,i;
	c+=(s.size()*(s.size()+1)/2);
	return c;
}
int main()
{
    //cout << "Hello World!" << endl;
    string v,str="AaBbCc",sar[100],input;
    ll i,j,t;
    for(i=0;i<str.size();i++)
    {
    	for(j=str.size();j>i;j--)
    	{
    		v=str.substr(i,j);
    		sar[k]=v;k++;
    	}
    }
    /*for(i=0;i<k;i++)
    	cout<<sar[i]<<endl;*/
    cin>>t;
    while(t--)
    {
    	cin>>input;
    	string a="";
    	ll total=0,count=0,num;
    	for(i=0;i<input.size();i++)
    	{
    		num=str.find(input[i]);
    		if(num!=-1)
    		{
    			//cout<<"Found "<<input[i]<<endl;
    			a+=input[i];
    		}
    		else
    		{
    			//cout<<"Not Found "<<input[i]<<endl;
    			//cout<<"Substring is:"<<a<<endl;
    			count=check(a,sar);total+=count;
    			a="";
    		}
    	}
    	//cout<<"Substring is:"<<a<<endl;
    	count=check(a,sar);
    	total+=count;
    	cout<<total<<endl;
    	
    }
    return 0;
}
