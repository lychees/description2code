#include<bits/stdc++.h>
using namespace std;
#define MAX 100002
#define ll long long
#define mod 1000000007 
ll dec_bit[MAX],inc_bit[MAX];
int n;

ll query(int b,int x){
	ll sum=0;
	if(!b){
		while(x>0){
			sum = (sum + inc_bit[x]) % mod;
			x-= x&(-x);
		}
	}
	else{
		while(x>0){
			sum = (sum + dec_bit[x]) % mod;
			x-= x&(-x);
		}
	}
	return sum;
}

void update(int b,int x,ll num){
	if(!b){
		while(x<MAX){
			inc_bit[x]=(inc_bit[x] +  num) % mod;
			x+= x &(-x);
		}
	}
	else{
		while(x<MAX){
			dec_bit[x] = (dec_bit[x] + num) % mod;
			x+= x &(-x);
		}
	}
}


int main(){
	cin>>n;
	ll ans=0;
	for(int i=0;i<n;i++){
		int x;
		cin>>x;
		ll dec=query(1,x-1);
		ll inc=query(0,MAX-1)-query(0,x);
		inc = (inc + mod) % mod;
		update(0,x,dec+1);
		//cout<<query(1,x)<<endl;
		update(1,x,inc+1);
	//	cout<<query(0,MAX-1)<<endl;
	//	cout<<query(0,x)<<endl;

		ans=(ans + dec+inc)%mod;
	} 
	cout<<ans<<endl;
	return 0;
}