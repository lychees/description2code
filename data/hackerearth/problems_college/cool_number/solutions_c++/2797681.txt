#include<bits/stdc++.h>
#define PI  3.141592654
using namespace std;
int i,sum,m,k,x,n,t,ctr,b[1000001],flag;
int check(int r,int k){
    int a[100001];
    int index=0,ct=0,i;
    while(r){
        a[index++]=r%2;
        r=r/2;
    }
    i=0;
  //  for(i=index-1;i>=0;i--)
    //    cout<<a[i];
    //cout<<endl;
    i=0;
    while(i<index-1){

        if(a[i]==1 &&  a[i+1]==0 && a[i+2]==1)
            ct++;
    i++;
    }
//cout<<ct<<endl;
if(ct>=k)
return 1;
else
return 0;
}
int main(){
scanf("%d",&t);
while(t--){
        ctr=0;
scanf("%d%d",&n,&k);
for(i=1;i<=n;i++)
{
    if(check(i,k))
        ctr++;
}
printf("%d\n",ctr);
}
return 0;
}
