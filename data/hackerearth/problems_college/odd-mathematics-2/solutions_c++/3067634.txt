

#include <iostream>
#include <math.h>
#define lli long long int

using namespace std;

lli sumr(lli x)
{
    return (x+1)*(x+1)/4 ;
}

int main()
{

    lli test ;

    cin >> test ;

    lli n, i, sum, ev, lo ;

    while(test--)
    {

        cin >> n ;

        sum = 0 ;

        if(n%2==0)
        {
            sum+=sumr(n-1) ;

            ev = n ;
        }
        else
        {
            sum+=sumr(n) ;

            ev = n-1 ;
        }

        lo = log(ev)/log(2) ;

        lli div = pow(2,lo), prev = 0, num ;

        while(div>1)
        {

            num = n / div ;

            if(num%2==0)
                num-- ;

            num = sumr(num) ;

            sum+=(num-prev)*lo ;

            prev = num ;

            div/=2 ;
            lo-- ;
        }

        cout << sum << "\n" ;

    }

}
