/*
jai shree ram _/\_
A hacker from NITP
*/

#include<bits/stdc++.h>
using namespace std;

#define mod 1000000007
typedef set<string> ss;
typedef vector<int> vs;
typedef map<int,char> msi;
typedef pair<int,int> pa;
typedef long long int ll;

bool prime[1000005];
void seive()
{
	int i,j;
	for(i=2;i<=1000000;i++)
	prime[i]=1;
	for(i=2;i*i<=1000000;i++)
	{
		if(prime[i])
		{
			for(j=i*i;j<=1000000;j+=i)
				prime[j]=0;
		}
	}
}

int i,ans[1000005],b,l,r,q;
bool flag;
int main()
{
	//freopen("i.in", "r", stdin);
  	//freopen("o.out", "w", stdout);
  	ios_base::sync_with_stdio(false);
  	cin.tie(0);
  	seive(); ans[0]=0;
  	for(i=1;i<=1000000;i++)
  	{
  		ans[i]=ans[i-1];
  		b=10; flag=0;
  		while(b<=i)
  		{
  			if(prime[i%b])
  			{
  				flag=1;
  				break;
  			}
  			b*=10;
  		}
  		if(prime[i] || flag)
  			ans[i]++;
  	}
  	cin>>q;
  	while(q--)
  	{
  		cin>>l>>r;
  		cout<<ans[r]-ans[l-1]<<"\n";
  	}
	return 0;
}

