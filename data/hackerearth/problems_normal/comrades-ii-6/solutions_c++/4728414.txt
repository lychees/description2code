#include <bits/stdc++.h>
using namespace std;

vector<int> sup;
    	
vector<int> dp;

int calchs(int i)
{
	if(sup[i] == 0)
		return 0;
	
	if(dp[i] != -1)
		return dp[i];
		
	return dp[i] = calchs(sup[i]) + 1;
	
}

int main()
{
    int t;
    cin >> t;
    
    while(t--)
    {
    	unsigned long long n;
    	cin >> n;
    	
    	dp.clear();
    	sup.clear();
    	
    	dp.resize(n+5);
   		for(int i = 0; i <= n; i++)
   			dp[i] = -1;
    	
    	sup.resize(n+5);
    	
    	for(int i = 1; i <= n; i++)
    	{
    		cin >> sup[i];
    	}
    	
    	unsigned long long hs = 0;
    	for(int i = 1; i <= n; i++)
    	{
    		hs += calchs(i);
    	}
    	
    	unsigned long long bf = (n * (n - 1) / 2) - hs;
    	
    	cout << hs << " " << bf << endl;
    }
    return 0;
}
