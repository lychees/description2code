/*
*
*    FileName: 
*    Author: r3gz3n
*    Description:
*
*/

#include <iostream>
#include <cstring>
#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <iomanip>
#include <stack>
#include <set>
#include <list>
#include <queue>
#include <algorithm>
#include <vector>
#include <map>
#include <utility>
#include <ctime>
#include <fstream>

#define ll long long
#define ull unsigned long long
#define ini(x) scanf("%d", &x)
#define inl(x) scanf("%ld", &x)
#define inll(x) scanf("%lld", &x)
#define in2i(x, y) scanf("%d%d", &x, &y)
#define FOR(i, a, b) for(int i = a;i < b;++i)

using namespace std;

ll gcd(ll a, ll b)
{
	if(b == 0) return a;
	else return gcd(b, a%b);
}

int main()
{
	int t;
	ll g, a, b, x1, x2, y1, y2;
	for(cin >> t;t--;)
	{
		cin >>x1 >> y1 >> x2 >> y2;
		if(x1 > x2)
			a = x1 - x2;
		else a = x2 - x1;
		if(y1 > y2)
			b = y1 - y2;
		else b = y2 - y1;
		g = gcd(a, b) - 1;
		if(g < 0)g = 0;
		cout << g << endl;
	}
	return 0;
}