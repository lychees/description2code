#include <iostream>
using namespace std;

int coolness(int n) {
	int state = 0, count = 0;
	while (n > 0) {
		int d = n%2;
		if (state == 0 && d == 1) state++;
		else if (state == 1 && d == 0) state++;
		else if (state == 2) {
			if (d == 0) state = 0;
			else        state++;
		}
		
		if (state == 3) {
			count++;
			state = 1;
		}
		n /= 2;
	}
	return count;
}

int main()
{
    int t;
    cin >> t;
    
    int counter[100001];
    for (int i = 0; i <= 100000; i++) {
    	counter[i] = coolness(i);
    }
    
    while (t-- > 0) {
    	int n, k;
    	cin >> n >> k;
    	
    	int c = 0;
    	for (int i = 5; i <= n; i++) {
    		if (counter[i] >= k) c++;
    	}
    	
    	cout << c << endl;
    }
    return 0;
}
