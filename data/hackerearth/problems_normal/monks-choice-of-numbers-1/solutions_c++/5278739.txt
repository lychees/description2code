#include<iostream>
#include<algorithm>
using namespace std;
int main(){
	int t,n,k,i;
	unsigned long long int s;
	cin>>t;
	while(t--){
		cin>>n>>k;
		int a[n],b,count=0;
		for(i=0;i<n;i++){
			cin>>b;
			count=0;
			while(b>0){
				b=b&(b-1);
				++count;
			}
			a[i]=count;
		}
		sort(a,a+n);
		reverse(a,a+n);
		for(i=0,s=0;i<k;i++)
		s=s+a[i];
		cout<<s<<endl;
	}
	return 0;
}