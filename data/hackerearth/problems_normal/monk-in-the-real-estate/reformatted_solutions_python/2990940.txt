from collections import defaultdict
t = int(raw_input())

while t > 0:
    graph_dict = defaultdict(int)

    E = int(raw_input())
    for i in range(E):
        node1, node2 = [int(x) for x in raw_input().split()]
        graph_dict[node1]
        graph_dict[node2]
    print len(graph_dict.keys())
    t -= 1
