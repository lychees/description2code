#include"bits/stdc++.h"
using namespace std;
#define ll long long int
#define mod 1000000007
#define pb push_back

int main()
{
	ll n,k,a,b,ra,r1,r2,i,j;
	scanf("%lli%lli",&n,&k);
	ll root[n],size[n],fact[100006];
	fact[0]=1;
	for(i=1;i<100006;i++)
	{
		fact[i]=fact[i-1]*i;
		fact[i]%=mod;
	}
//	for(i=0;i<20;i++)
//	{
//		cout<<fact[i]<<endl;
//	}
	for(i=0;i<n;i++)
	{
		root[i]=i;
		size[i]=1;
	}
	while(k--)
	{
		scanf("%lli%lli",&a,&b);
		ra=a;
		while(ra!=root[ra])
		{
			ra=root[root[ra]];
		}
		r1=ra;
		ra=b;
		while(ra!=root[ra])
		{
			ra=root[root[ra]];
		}
		r2=ra;
		if(r1!=r2)
		{
			if(size[r1]<size[r2])
			{
				root[r1]=root[r2];
				size[r2]+=size[r1];
				//cout<<r2<<" 1 "<<size[r2]<<endl;
			}
			else
			{
				root[r2]=root[r1];
				size[r1]+=size[r2];
				//cout<<r1<<" 2 "<<size[r1]<<endl;
			}
		}
		
		
	}
	ll p=1;
	for(i=0;i<n;i++)
	{
		if(root[i]==i)
		{
			p*=fact[size[i]];
			p%=mod;
		}
		//cout<<i<<" "<<root[i]<<" "<<size[i]<<endl;
	}
	printf("%lli\n",p);
}