#include <iostream>
using namespace std;

int main()
{
    int total,t,p,a,b,count;
    cin>>total>>t;
    int arr[total],i,j;
    for(i=0;i<total;i++)
    	arr[i]=0;
    while(t--)
    {
    	count=0;
    	cin>>p>>a>>b;
		if(p==0)
		{
			for(i=a;i<=b;i++)
			{
				arr[i]=1-arr[i];
			}
		}
		else if(p==1)
		{
			for(i=a;i<=b;i++)
			{
				if(arr[i]==1)
					count++;
			}
			cout<<count<<endl;
		}
    }
    return 0;
}
