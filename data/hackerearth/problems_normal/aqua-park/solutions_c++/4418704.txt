#include <bits/stdc++.h> 
using namespace std;




int main()
{
	pair<int , int > l,r;
	int X;

	int n,i,x1,y1,x2,y2;
	cin >> X >> n;
	int a[n][4];

	long double cury=-1;
	long double maxy=-1;
	long double Y=100000;

	for(i=0;i<n;i++)
	{
		cin >> x1 >> y1 >> x2 >> y2;

		a[i][0]=x1;
		a[i][1]=y1;
		a[i][2]=x2;
		a[i][3]=y2;
	}	

	int flag=1;
	int newx;
	long double newy;

	while(flag)
	{
		//cout << cury << " " << Y << " " << X << endl;
		maxy=0;
		cury=0;
		flag=0;
		for(i=0;i<n;i++)
		{

			if(X>=a[i][0] && X<=a[i][2])
			{

				cury=(a[i][3]-a[i][1])*(X-a[i][0]);
				cury/=(a[i][2]-a[i][0]);
				cury+=a[i][1];

				cury=abs(cury);

				if(cury>maxy && cury< Y)
					{

						maxy=cury;
						flag=1;

						l=make_pair(a[i][0],a[i][1]);
						r=make_pair(a[i][2],a[i][3]);

					/*	if(a[i][1]>a[i][3])
						{
							X=a[i][2];
							Y=a[i][3];
						}
						else
						{
							X=a[i][0];
							Y=a[i][1];
						}*/

					}

			}

		}


		if(flag==1)
		{


		if(l.second>r.second)
		{
			X=r.first;
			Y=r.second;
		}
		else
		{
			X=l.first;
			Y=l.second;
		}

		}




	}


	cout << X << endl;


	return 0;
}