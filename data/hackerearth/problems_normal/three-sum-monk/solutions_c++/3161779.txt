#include <iostream>
using namespace std;

int main()
{
	int cube[20];
	for(int i=0;i<20;i++) {
		cube[i] = i*i*i;
	}
	
    int t;
    cin>>t;
    while(t--) {
    	int n;
    	cin>>n;
    	int A[n];
    	for(int i=0;i<n;i++) {
    		cin>>A[i];
    	}
    	int occ[n][2001];
    	for(int i=n-1;i>=0;i--) {
    		for(int j=0;j<=2000;j++) {
    			if(i==n-1) {
    				occ[i][j]=0;
    			}else {
    				occ[i][j] = occ[i+1][j];
    			}
    		}
    		occ[i][A[i]]+=1;
    	}
    	
    	int count=0;
    	for(int i=0;i<n-2;i++) {
    		for(int j=i+1;j<n-1;j++) {
    			int s = A[i]+A[j];
    			for(int k=0;k<=18;k++) {
    				int c = cube[k] - s;
    				if(c<0 || c>2000) {
    					continue;
    				}
    				
    				count+=occ[j+1][c];
    			}
    		}
    	}
    	double d = (double)(n-1)*(n-2)/6.0;
    	d*=(double)n;
    	d = (double)count/d;
    	printf("%.9lf\n", d);
    }
    
    return 0;
}
