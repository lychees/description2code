/*
Author :Akash Kumar
IIITD
*/
#include<bits/stdc++.h>
using namespace std;
#define f(i,a,b) for(int i=a;i<b;i++)
       
long long int mod_pow(long long int a, long long int b,long long int mod)
{
	long long int ans=1;
	while(b)
	{
		int r=b%2;
	
		if(r!=0)
		ans=(ans*a)%mod;
		
		a=(a*a)%mod;
		
		b/=2;
	}	
	return ans;
}

long long gcdf(long long a,long long b)
{
	if(a==0)
	return b;
	return gcdf(b%a,a);	
}

long long min1(long long a,long long b)
{
	return a>b?b:a; 	
}

long long max1(long long a,long long b)
{
	return a<b?b:a; 	
}

long long int fact(long long int n)
{
	long long int ans=n,mod=1000000007;
	for(int i=1;i<=n-1;i++)
	{
		ans=(ans*i)%mod;
	}
	
	return ans;
}

struct node{
	string s;
	int val;
};

bool comp(struct node less,struct node more)
{
	return less.val<=more.val;	
}


        int main()
        {
        	int n,t,m,c,ans;
        	scanf("%d",&t);
        	long long int ar[21],s=1;
        	f(i,0,20)
        	{
        		ar[i]=s;
        		s*=2;
        	}
        	while(t--)
        	{
        		ans=1<<18;
        		vector <string> v;
        		string temp;
        		scanf("%d",&n);
        		f(i,0,n)
        		{
        			cin>>temp;
        			v.push_back(temp);
        		}
        		m=v.back().size();
        		//cout<<minTime(v)<<endl;
        		long long int N=1<<m;
        		bool vis[n];
        		f(i,0,N)
        		{
        			c=0;
        			f(j,0,n)
        				vis[j]=0;
        			f(j,0,m)
        				if(i&ar[j])
        					f(k,0,n)
        						if(v[k][j]=='Y' and !vis[k])
        						{
        							c++;
        							vis[k]=1;
        						}	
        			/*cout<<i<<" "<<c<<endl;
        			f(j,0,n)
        				cout<<vis[j]<<" ";
        			cout<<endl;*/
        			if(c==n)
        			{
        				int temp=__builtin_popcount(i);
        				ans=min(ans,temp);
        			}
        		}
        		printf("%d\n",ans);
        	}
        	return 0;
        }
