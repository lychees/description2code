

    #include <iostream>
    #include <vector>
    using namespace std;
     
    const int MAX = 1000001;
     
    int main()
    {
    	vector<int> primes(MAX+1,1);
    	for(int i=2;i*i<=MAX;i++){
    		if(primes[i]){
    			for(int j=i*i;j<=MAX;j+=i){
    				primes[j] = 0;
    			}
    		}
    	}
    	primes[0] = 0;
    	primes[1] = 0;
    	vector<int> primeprime(MAX+1,0);
    	int no=0;
    	int ans=0;
    	for(int i=2;i<=MAX;i++){
    		if(primes[i]) no++;
    		if(primes[no]) ans++;
    		primeprime[i] = ans;
    	}
    	int t;
    	cin>>t;
    	while(t--){
    		int l,r;
    		cin>>l>>r;
    		int output = primeprime[r]-primeprime[l-1]; 
    		cout<<output<<endl;
    	}
        return 0;
    }
