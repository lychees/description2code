A, N = map(int, raw_input().split())
x = raw_input()
ans = 0
for i in x:
    if i == '1':
        ans = (ans+A) % N

    A = (A*A) % N


print(ans)
