#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

int main()
{
   	ll n,m,i;
   	cin>>n>>m;
   	
   	map <string,string> mp;
   	
   	for(i=0;i<m;i++){
   		char b[15],c[15];
   		cin>>b>>c;
   		mp.insert(pair<string,string>(b,c));
   	}
   	char ch,a[100];
   	int p=0,f=0;
   	
   	ch=getchar();
   	while(ch==' ' || ch=='\n')
   		ch=getchar();
   	
   	while(ch!=EOF){
   		if(ch>='a' && ch<='z'){
   			f=1;
   			a[p++]=ch;
   		}
   		else{
   			if(f==1){
   				a[p]='\0';
   				
   				if(strlen(a)<=strlen( mp[a].c_str() ))
   					cout<<a;
   				else
   					cout<<mp[a];
   			}
   			cout<<ch;
   			p=0;
   			f=0;
   		}
   		ch=getchar();
   	}
   	if(f==1){
   		a[p]='\0';
   		if(strlen(a)<=strlen(mp[a].c_str()))
   			cout<<a;
   		else
   			cout<<mp[a];
   	}
   	
    return 0;
}
