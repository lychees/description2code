#include <iostream>
#include <cstring>
using namespace std;
typedef long long ll;

const int MAXN = 100100;
const int MAXBIT = 20;
int T, N;
int A[MAXN];
int occ[1<<MAXBIT];
ll dp[1<<MAXBIT][MAXBIT+5];

int main()
{
    ios::sync_with_stdio(0);
    
    cin >> T;
    for (int t = 0; t < T; t++)
    {
    	cin >> N;
    	memset(occ, 0, sizeof(occ));
    	for (int i = 0; i < N; i++)
    	{
    		cin >> A[i];
    		occ[A[i]]++;
    	}
    	
    	for (int i = 0; i < 1<<MAXBIT; i++)
    	{
    		dp[i][0] = occ[i];
    		if (i&1)
    			dp[i][0] += occ[i^1];
    			
    		for (int j = 1; j < MAXBIT; j++)
    		{
    			dp[i][j] = dp[i][j - 1];
    			if (i&(1<<j))
    				dp[i][j] += dp[i^(1<<j)][j - 1];
    		}
    	}
    	
    	ll ans = 0;
    	for (int i = 0; i < N; i++)
    		ans += dp[(1<<MAXBIT) - 1 - A[i]][MAXBIT - 1];
    	cout << ans << "\n";
    }
    
    return 0;
}
