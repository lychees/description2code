#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <cmath>
#include <string>
#include <vector>
#include <algorithm>
#include <stack>
#include <queue>
#include <set>
#include <map>
#include <bitset>

using namespace std;

#define gettime printf("\nTime : %0.3lf\n",clock()*1.0/CLOCKS_PER_SEC);
#define PB push_back
#define MP make_pair
#define rep(i,a,b) for(int i=a;i<=b;i++)
#define repp(i,a,b) for(int i=a;i>=b;i--)
#define Set(x,a) memset(x,a,sizeof(x));

#define vs vector<string>
#define vi vector<int>
#define ll long long
#define ff first
#define ss second

struct comp {
       bool operator() (int a,int b) {
            return a>b;
       }
};

map<int,string,comp> data;
map<int,string>::iterator it;

int main()
{
    //freopen("input.txt","r",stdin);
    //freopen("output.txt","w",stdout);
    std::ios::sync_with_stdio(false);
    int T,waktu,undo,n;
    string teks,cmd,kar;
    cin>>T;
    rep (t,1,T) {
        data.clear();
        teks="";
        data[0]=teks;
        cin>>n;
        rep (i,1,n) {
            cin>>waktu>>cmd;
            if (cmd[0]=='t') {
               cin>>kar;
               teks+=kar[0];
               data[waktu]=teks;
            }
            else {
                 cin>>undo;
                 undo=waktu-undo;
                 for (it=data.begin();it!=data.end();it++) {
                     teks=(*it).ss;
                     if ((*it).ff<undo) break;
                 }
                 data[waktu]=teks;
            }
        }
        cout<<teks<<"\n";
    }
    return 0;
}
