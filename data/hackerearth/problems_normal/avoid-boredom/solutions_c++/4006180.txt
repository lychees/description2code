#include<bits/stdc++.h>
using namespace std;

typedef long long int ll;

ll dp[103][103][103];
ll a[103];
ll const MAX = 1000000000000000000ll;

ll rec(ll n, ll m, ll idx){
    if(m == 0)
        return 0;
    if(n == 0)
        return -MAX;
    if(dp[n][m][idx] != -1)
        return dp[n][m][idx];
    if(idx == 0){
        return dp[n][m][idx] = max(rec(n-1, m, 0), rec(n-1, m-1, n));
    }        
    return dp[n][m][idx] = max(rec(n-1, m-1, n) + abs(a[idx] - a[n]), rec(n-1, m, idx));
}

int main(){
    int t;
    scanf("%d",&t);
    while(t--){
        ll n, m;
        scanf("%lld%lld",&n,&m);
        for(ll i=0;i<n+3;++i){
            for(ll j=0;j<m+3;++j){
                for(ll k=0;k<n+3;++k){
                    dp[i][j][k] = -1;
                }
            }
        }
        for(ll i=1;i<=n;++i)
            scanf("%lld",&a[i]);
        ll ans = rec(n, m, 0);
        printf("%lld\n",ans);
    }
    return 0;
}