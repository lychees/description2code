#include<iostream>
#include<stdio.h>
#include<vector>
#include<map>

using namespace std;

int a[1000010];
int comps[1000010];
bool visit[1000010];

/*
4
9
2 0 3 1 1 2 5 6 7

8
1 2 2 3 5 6 7 4

4
0 1 2 1

6
1 2 3 3 3 4
*/
int main()
{
	int t,n,i,j,mx,x,ix,mn,ind,mxv;		
	
	cin>>t;
	
	while(t--){
		
		cin>>n;
		
		for(i=0;i<n;i++){
			scanf("%d",&a[i]);
			comps[i]=0;
			visit[i]=false;
		}
		
		mx=1;
		ix=0;		
		i=0;
		
		while(1){
			
			map<int,int> mp;
			for(j=i;j<n;j++){
				if(comps[j]==0)	break;
			}
			
			if(j==n)	break;
			
			x=1;			
			visit[j]=true;
			i=j;
			mp[i]=x;
			j=a[j];
			
			while(comps[j]==0 && visit[j]==false){
				visit[j]=true;
				x++;
				mp[j]=x;
				j=a[j];
			}									
			
			int val=comps[j];
			ind=mp[j];
			mn=i;	
			visit[i]=false;
			comps[i]=val + (x-mp[i]+1);
			mxv=max(-1,comps[i]);
			j=a[i];
			while(comps[j]==0 && visit[j]==true){
				mn=min(j,mn);
				visit[j]=false;
				comps[j]=val + (x-mp[j] +1);
				if(ind!=0 && ind<mp[j])	comps[j]+=(mp[j]-ind);
				j=a[j];
			}
					
			if(mxv>mx){
				mx=mxv;
				ix=mn;
			}
			else if(mxv==mx && mn<ix)	ix=mn;
			
			mp.clear();
		}
		
		printf("%d\n",ix);
	}
	
	return 0;
}