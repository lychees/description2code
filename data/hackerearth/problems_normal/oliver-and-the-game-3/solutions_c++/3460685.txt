#include<bits/stdc++.h>
using namespace std;
#define max_n 100005
int n;
vector<int> adj[max_n];
int visit[max_n];
int in[max_n];
int out[max_n];
int deg=0;
void dfs(int node){
	visit[node]=1;
	in[node]=++deg;
	for(int i=0;i<adj[node].size();i++){
		if(visit[adj[node][i]]==0){
			dfs(adj[node][i]);
		}
	}
	out[node]=++deg;
}
int check(int a,int b){
	if(in[a]>in[b] && out[a]<out[b])return 1;
	return 0;
}
int main(){
	cin>>n;
	int a,b;
	for(int i=0;i<n-1;i++){
		cin>>a>>b;
		adj[a].push_back(b);
		adj[b].push_back(a);
	}
	dfs(1);
	int q;
	cin>>q;
	int x;
	while(q--){
		cin>>x>>a>>b;
		if(x==0){
			if(check(b,a)){
				cout<<"YES"<<endl;	
			}else{
				cout<<"NO"<<endl;
			}
		}else{
			if(check(a,b)){
				cout<<"YES"<<endl;	
			}else{
				cout<<"NO"<<endl;
			}
		}
	}
	return 0;
}