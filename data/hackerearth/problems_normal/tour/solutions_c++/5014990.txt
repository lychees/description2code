#include <bits/stdc++.h>
using namespace std;

long long C[1003][1003];

int main()
{
	int N;
	cin >> N;
	
	map<string, int> M;
	
	for(int i=1; i<=N; i++)
	{
		string S;
		cin >> S;
		
		M[S] = i;
	}
	
	for(int i=1; i<=N; i++)
		for(int j=1; j<=N; j++)
			cin >> C[i][j];
	
	int P;
	cin >> P;
	
	int ptr = 1;
	long long ans = 0;
	
	for(int i=1; i<=P; i++)
	{
		string S;
		cin >> S;
		
		ans += C[ptr][M[S]];
		ptr = M[S];
	}
	
	cout << ans << endl;
	
    return 0;
}
