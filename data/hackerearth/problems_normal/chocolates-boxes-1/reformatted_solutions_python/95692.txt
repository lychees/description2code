'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
from collections import defaultdict


def go(arr, k):
    count = 0
    occurences = defaultdict(list)

    i = 0
    while i < len(arr):
        if arr[i] >= k:
            arr.pop(i)
        else:
            occurences[arr[i]].append(i)
            i += 1

    for i, n in enumerate(arr[:-1]):
        short = k - n
        occurences_n = occurences.get(short, None)

        if occurences_n is not None:
            while len(occurences_n) > 0 and occurences_n[0] <= i:
                occurences_n.pop(0)

            increase = len(occurences_n)
            count += increase
        else:
            continue

    print count


t = int(raw_input())
for _ in range(t):
    _ = raw_input()
    arr = [int(b) for b in raw_input().split()]
    k = int(raw_input())
    go(arr, k)
