#include <iostream>

using namespace std;

int main() {
	
	int t;
	scanf("%d", &t);
	while(t--) {
		unsigned long long int n,m,sum=0;
		
		scanf("%llu %llu", &n, &m);
		
		if(m==1) {
			printf("%llu\n", n);
			continue;
		} else {
			while(n>=m) {
				sum+=n%m;
				n=n/m;
			}
			
			sum+=n;
		}
		
		printf("%llu\n", sum);
	}
	return 0;
}