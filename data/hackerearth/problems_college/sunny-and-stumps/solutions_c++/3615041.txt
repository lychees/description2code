#include<bits/stdc++.h>
using namespace std;
struct data{
    long long a,b,c;
    data(){}
    data(long long _a,long long _b,long long _c){a=_a,b=_b,c=_c;}
    bool operator<(const data&p)const{return (a<p.a || (a==p.a && b<p.b) || (a==p.a && b==p.b && c<p.c));}
    bool operator==(const data&p)const{return (a==p.a && b==p.b && c==p.c);}
};
int main(){
    ios_base::sync_with_stdio(0);
    cin.tie(nullptr);
    int t;
    cin>>t;
    while(t--){
        int n;
        cin>>n;
        long long a,b,c,x;
        map<data,int>mp,_mp;
        for(int i=0;i<n;i++){
            cin>>a>>b>>c;
            x=__gcd(abs(a),__gcd(abs(b),abs(c)));
            a/=x;
            b/=x;
            c/=x;
            if(a<0){
                a*=-1;
                b*=-1;
                c*=-1;
            }else if(a==0 && b<0){
                b*=-1;
                c*=-1;
            }
            mp[data(a,b,c)]=1;
        }
        int mx=0;
        for(map<data,int>::iterator i=mp.begin();i!=mp.end();i++){
            a=i->first.a;
            b=i->first.b;
            c=i->first.c;
            c=0;
            x=__gcd(abs(a),abs(b));
            a/=x;
            b/=x;
            _mp[data(a,b,c)]++;
            mx=max(mx,_mp[data(a,b,c)]);
        }
        cout<<mx<<"\n";
    }
    return 0;
}
