#include <iostream>
#include <set>

using namespace std;

long int count_one(long int n)
{
	long int count = 0;
	while(n)
	{
		n = n & (n-1);
		count++;
	}
	return count;
}

int main()
{
    int T, N, K, i;
    long int num[1000], max_sum = 0;
    cin >> T;
    while(T--)
    {
    	cin >> N >> K;
    	multiset<long int, greater<long int> > ans;
    	for(i=0; i<N; i++)
    	{
    		cin >> num[i];
    		ans.insert( count_one(num[i]) );
    	}
    	
    	multiset<long int, greater<long int> > :: iterator it = ans.begin();
    	for(i=0; i<K; i++)
    	{
    		max_sum = max_sum + (*it);
    		it++;
    	}
    	cout << max_sum << endl;
    	ans.clear();
    	max_sum = 0;
    }
    
    return 0;
}
