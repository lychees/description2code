#include <bits/stdc++.h>

#define mod 1000000007
#define inf 1000000000000
#define root2 1.41421
#define root3 1.73205
#define pi 3.14159
#define MAX 100001
#define ll long long int
#define PII pair<int, int>
#define f first
#define s second
#define ss(n) scanf("%d", &n)
#define ssf(n) scanf("%lf", &n)
#define mk make_pair
#define PDD pair<double, double>
#define gc getchar
#define pb push_back

using namespace std;
double f(PDD a, PDD b)
{
    return sqrt((a.s-b.s)*(a.s-b.s)+(a.f-b.f)*(a.f-b.f));
}
int main()
{
    int n, F[3002], i, j;
    PDD dist[3002];
    double dp[3002];
    ss(n);
    for(i=0;i<=n;i++)
        dp[i]=-inf;
    for(i=0;i<n;i++)
    {
        ssf(dist[i].f);
        ssf(dist[i].s);
        ss(F[i]);
    }
    dp[0]=F[0];
    for(i=0;i<n;i++)
        for(j=i+1;j<n;j++)
        dp[j]=max(dp[i]+F[j]-f(dist[i], dist[j]), dp[j]);
    printf("%0.6lf", dp[n-1]);
}