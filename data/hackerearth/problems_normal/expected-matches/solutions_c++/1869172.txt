#include<stdio.h>
#include<memory.h>
typedef long long int ll;
double dp[2005][1005]={0},match[1005][1005];
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        memset(dp,0,sizeof(dp));
        memset(match,0,sizeof(match));
        int n,m,i,j;
        scanf("%d%d",&n,&m);
        for(i=1;i<=n;i++)
        {
            for(j=1;j<=m;j++)
            {
                scanf("%lf",&match[i][j]);
            }
        }
        dp[1][1]=1.0;
        double ans=0.0;
        for(i=1;i<=n+m;i++)
        {
            for(j=1;j<=n+1;j++)
            {
                if(dp[i][j])
                {
                    int x=j,y=i-j+1;
                    if(x!=n+1)
                        dp[i+1][j]+=dp[i][j]*match[x][y];
                    if(y!=m+1)
                        dp[i+1][j+1]+=dp[i][j]*(1.0-match[x][y]);
                    //printf("i=%d j=%d dp=%lf x=%d y=%d\n",i,j,dp[i][j],x,y);
                    if(i-j+1==m+1)
                    {
                        //printf("##\n");
                        ans+=(i-1)*dp[i][j];
                    }
                    if(j==n+1)
                    {
                        ans+=(i-1)*dp[i][j];
                    }
                }
            }
            //ans+=dp[i][n+1]*(i-1);
            //ans+=dp[i][]*i;
        }
        printf("%0.6lf\n",ans);
    }
    return 0;
}
