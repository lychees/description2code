#include<bits/stdc++.h>
using namespace std;
int main(){
	int n,d,k;
	cin>>n>>k>>d;
	int arr[n+1];
	int c=0;
	for(int i=1;i<=n;i++)cin>>arr[i];
	for(int i=1;i<=n;i++){
		if(arr[i]==0)c++;
		else if(arr[i])c=0;
		if(c==k){
			cout<<"-1"<<endl;
			return 0;
		}
	}
	int sum[n+2];
	memset(sum,0,sizeof(sum));
	int index=1;
	int count=0;
	for(int i=1;i<=n;){
		sum[i]=sum[i-1]+arr[i];
		if(arr[i]!=0)index=i;
		if(i>=k){
			int s1=sum[i]-sum[i-k];
			if(s1<d){
				for(int j=index;j<(index+k) & j<=n;j++){
					arr[j]=(arr[j]==0)?0:d+1;
				}
				i=index;
				count++;
			}else{
				i++;
			}
			
		}else i++;
	}
	cout<<count<<endl;
	return 0;
}