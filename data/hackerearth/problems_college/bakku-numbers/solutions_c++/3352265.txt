#include<bits/stdc++.h>

using namespace std;

typedef long long ll;

ll n, m;

int main()
{
    ll t, i, j, p1, p2, l, r, a, b, c;

    scanf("%lld %lld", &p1, &p2);

    scanf("%lld", &t);

    while(t--)
    {
        scanf("%lld %lld", &l, &r);

        a= (r/p1) - (l-1)/p1;

        b= (r/p2) - (l-1)/p2;

        c= (r/(p1*p2)) - (l-1)/(p1*p2);

        //cout<<(a+b-c)<<endl;

        double prob= ((double)(a+b-c))/(r-l+1);

        printf("%.6lf\n", prob);
    }

    return 0;
}
