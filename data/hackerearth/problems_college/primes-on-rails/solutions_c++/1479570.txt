#include<bits/stdc++.h>
#define ll long long
using namespace std;
bool A[1000007];
pair<int,int> pr[1000007];
void seive()
{
    A[0]=A[1]=false;
    for(int i=2;i<=1000000;i++)
    A[i]=true;
    for(int i=2;i*i<=1000000;i++)
    {
        if(A[i])
        {
            for(int j=i*i;j<=1000000;j=j+i)
            {
                A[j]=false;
            }
        }
    }
}
bool cmp(pair <int,int> a,pair <int,int> b)
{
	return a.second <b.second;
}
int main()
{
    seive();
  //freopen("i.txt","r",stdin);
    int n;
    int h,m,s;
    cin>>n;
    priority_queue <pair<int,int>, vector < pair<int,int> >,greater < pair< int,int> > > pq;
    for(int i=0;i<n;i++)
    {
        cin>>h>>m>>s;
        pr[i].second=3600*h+60*m+s;
        if(A[pr[i].second])
        pr[i].first=pr[i].second+5*60;
        else if(pr[i].second%2)
         pr[i].first=pr[i].second+3*60;
        else
         pr[i].first=pr[i].second+2*60;

    }

    sort(pr,pr+n,cmp);
    int  ans=0,mi,tp,ma=-1;
    for(int i=0;i<n;i++)
    {
        if(pq.empty())
        {
            pq.push(pr[i]);ans++;
        }
        else if(pq.top().first<=pr[i].second)
        {
            pq.pop();
            pq.push(pr[i]);
        }
        else
        {
            pq.push(pr[i]);
            ans++;
        }
        ma=max(ma,ans);
    }
    cout<<ma<<endl;
    return 0;
}
