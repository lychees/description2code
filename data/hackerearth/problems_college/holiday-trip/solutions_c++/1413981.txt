#include <bits/stdc++.h>
using namespace std;
vector<int>arr[10000];
int vis[10000];
int n;
int ans;
int idx;
void dfs(int id,int len){
	if(len>=ans){
		ans = len;
		idx = id;
	}
	len++;
	vis[id] = 1;
	for(int i = 0;i<arr[id].size();i++){
		if(!vis[arr[id][i]]){
			dfs(arr[id][i],len);
		}
	}
}
int main()
{
    int test;
    scanf("%d",&test);
    while(test--){
    	scanf("%d",&n);
    	for(int i = 0;i<n-1;i++){
    		int x,y;
    		scanf("%d %d",&x,&y);
    		x++;y++;
    		arr[x].push_back(y);
    		arr[y].push_back(x);
    	}
    	memset(vis,0,sizeof vis);
    	ans = 0;
    	dfs(1,0);
    	memset(vis,0,sizeof vis);
    	ans = 0;
    	dfs(idx,0);
    	for(int i = 0;i<=n;i++) arr[i].clear();
    	printf("%d\n",ans+1);
    }
    return 0;
}
