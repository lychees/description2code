'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
a, b = [int(n) for n in raw_input().split(" ")]
c = raw_input()
su = 0
a = a % b
p = a
for g in c:
    if g == "1":
        su += p
    p = (p*p) % b
print su % b
