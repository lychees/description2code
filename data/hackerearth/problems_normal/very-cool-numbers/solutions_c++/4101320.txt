#include <iostream>
using namespace std;

int main()
{
    int t;
    cin >> t;
    while(t--)
    {
    	int r,k,num=0,ctr,i,j,b,g;
    	cin >> r >> k;
    	if(r < 5)
    	{
    		cout << 0 << endl;
    		return 0;
    	}
    	for(i=1;i<=r;i++)
    	{
    		ctr =0;
    		j=0;
    		g=i;
    		int c[100];
    		while(g > 0)
    		{
    			if(g%2==0)
    			{
    			 	c[j++] = 0;	
    			}
    			else
    			{
    				c[j++] = 1;
    			}
    			g = g/2;
    		}
    		for(b=j-1;b>=2;b--)
    		{
    			if(c[b] == 1 && c[b-1] == 0 && c[b-2] == 1)
    			{
    				ctr++;
    			}
    		}
    	//	cout << endl;
    		if(ctr >= k)
    		{
    			num++;
    		//	cout << i;
    		}
    	}
    	cout << num <<endl;
    }
    return 0;
}
