

    #include <bits/stdc++.h>
    using namespace std;
    const int MAXN = 1005;
    char chocolate[MAXN][MAXN];
    int column_cherries[MAXN],row_cherries[MAXN];
    int main()
    {
    	int t;
    	scanf("%d", &t);
    	while(t--)
    	{
    		int n;
    		scanf("%d", &n);
    		memset(column_cherries, 0, sizeof column_cherries);
    		memset(row_cherries, 0, sizeof row_cherries);
    		int total_cherries = 0;
    		for (int i = 0; i < n; ++i)
    		{
    			scanf("%s", chocolate[i]);
    		}
    		for (int i = 0; i < n; ++i)
    		{
    			for (int j = 0; j < n; ++j)
    			{
    				if(chocolate[i][j] == '#')
    				{
    					column_cherries[j]++;
    					row_cherries[i]++;
    					total_cherries++;
    				}
    			}
    		}
    		bool ans = false;
    		int cherries_above = 0;
    		for (int i = 0; i < n; ++i)
    		{
    			cherries_above+=row_cherries[i];
    			if(2*cherries_above == total_cherries)
    				ans = true;
    		}
    		int cherries_left = 0;
    		for (int i = 0; i < n; ++i)
    		{
    			cherries_left+=column_cherries[i];
    			if(2*cherries_left == total_cherries)
    				ans = true;
    		}
    		if(ans)
    			printf("YES\n");
    		else
    			printf("NO\n");
    	}
    	return 0;
    }

