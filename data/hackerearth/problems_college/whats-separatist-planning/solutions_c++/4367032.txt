#include <iostream>
#include<cstring>
using namespace std;

int main() {
	int L,M,N;
	cin>>L>>M>>N;
	string str[500],s[5000];
	//input queries
     for(int p=0;p<M;p++)
     cin>>s[p];
     
     //input transcripted
     for(int q=0;q<N;q++)
     cin>>str[q];
     
    for(int n=0;n<N;n++){
    	int count =0;
    for(int m=0;m<M;m++){
    	int j=0;
	for(int i=0;i<str[n].length();i++){
		
		if(str[n][i]!='(')
		 if(str[n][i]!=s[m][j])
		  break;
		  else
		  j++;
		if(str[n][i]=='('){
			i++;
			while(str[n][i]!=')')
			{
				if(str[n][i]==s[m][j]){
					j++;
					for(int k=i;k<str[n].length();k++){
					  if(str[n][k]==')'){
				     	i=k;
							break;}
					}
					break;
				}
				i++;
			}
		}
	}if(j==L)
	count++;
	//cout<<i;
	}
cout<<count<<endl;
}
//cout<<j<<" "<<i;
	return 0;
}