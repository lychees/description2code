#include <bits/stdc++.h>
using namespace std;
#define N 1000009
#define ll long long
#define p(t) cout<<t;
#define f(i,n) for(i=0;i<n;i++)
#define g(i,n) for(i=1;i<=n;i++)
#define s(x) scanf("%I64d",&x);
#define pb push_back
#define mp make_pair

ll m,n,x,y,a[N],tr[N*4];
ll ch(ll j){if(j%2==1)return 1; else return 2; }
void build(ll node,ll st,ll en){
	if(en<st)return ;
	if(en==st){tr[node]=a[st]; return;}
	ll le=2*node,ri=2*node+1,mid=(en+st)/2;
	build(le,st,mid);
	build(ri,mid+1,en);
	tr[node]=tr[le]+tr[ri];
}
void update(ll node,ll st,ll en,ll pos){
	if(en<st || st>pos || en<pos)return ;
	if(en==st){tr[node]=ch(pos); return ;}
	ll le=2*node,ri=2*node+1,mid=(en+st)/2;
    update(le,st,mid,pos);
	update(ri,mid+1,en,pos);
	tr[node]=tr[le]+tr[ri];}
ll fin(ll node,ll st,ll en,ll p1,ll p2){
     if(en<p1 || st>p2 || en<st)return 0 ;
	 if(st>=p1 && en<=p2){return tr[node];}
	ll le=2*node,ri=2*node+1,mid=(en+st)/2;
       ll pw=fin(le,st,mid,p1,p2);
	   ll ot=fin(ri,mid+1,en,p1,p2);
	   return pw+ot;
}
int main()
{
ios_base::sync_with_stdio(0);
ll k=0,t=0,z=1e7,l=0,i,j,w,r;
cin>>n;
string s;
cin>>s;j=1;
for(i=n;i>0;i--){ if(s[i-1]=='1')a[j]=ch(j); j++;}
build(1,1,n);
cin>>z;
while(z--){
	cin>>x;
	if(x==1){cin>>y; y=n-y; update(1,1,n,y);}
	if(x==0){ll l1,r1;
	 cin>>l1>>r1;
	 r1=n-r1; l1=n-l1;
	 t=0;
   	t=fin(1,1,n,r1,l1);
   	t=t%3;
   		 if(r1%2==0 && t>0)t=3-t;
	cout<<t<<endl;
	}}
return 0;
}
