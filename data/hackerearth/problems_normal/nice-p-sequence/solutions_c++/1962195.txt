#include <iostream>
#include <cstdio>
using namespace std;
long long temp,x,y;
long long gcd(long long a,long long b) {
	if(b==0)
	return a;
	else
	return gcd(b,a%b);
}
void extended_euclid(long long a,long long b) {
	if(b==0) {
		x=1;
		y=0;
	}
	else {
		extended_euclid(b,a%b);
		temp=x;
		x=y;
		y=temp-(a/b)*y;
	}
}
int main() {
	long long t;
	scanf("%lld",&t);
	for(long long i=0;i<t;++i) {
		long long a,p,n;
		scanf("%lld%lld%lld",&a,&p,&n);
		if(gcd(a,p)==1) {
			extended_euclid(a,p);
			if(x<0)
			x=x+p;			
			long long b=x,sum;
			if(n%2==0)
			sum=(n/2)*(a+b);
			else
			sum=(n/2)*(a+b)+a;
			printf("%lld\n",sum);
		}
		else
		printf("-1\n");
	}
	return 0;
}