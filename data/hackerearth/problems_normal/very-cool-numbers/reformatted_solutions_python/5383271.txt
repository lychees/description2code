import re
t = int(raw_input())
while t:
    cnt = 0
    r, k = map(int, raw_input().split())
    for i in range(1, r+1):
        r = bin(i)
        text = r[2:]
        if (len(re.findall('(?=101)', text)) >= k):
            cnt = cnt+1
    print cnt
    t = t-1
