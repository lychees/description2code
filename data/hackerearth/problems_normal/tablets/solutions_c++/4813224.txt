#include <iostream>
using namespace std;
long long int maximum(long long int a,long long int b){
	if(a>=b)
		return a;
	return b;
}

int main()
{
 	long long int n,i;
 	cin>>n;
 	long long int sum=0;
 	long long int health[n];
 	for(i=0;i<n;i++)
 		cin>>health[i];
 	long long int a[n],b[n];
 	a[0]=1;
 	for(i=1;i<n;i++){
 		if(health[i]>health[i-1])
 			a[i]=a[i-1]+1;
 		else
 			a[i]=1;
 	}
 	b[n-1]=1;
 	for(i=n-2;i>=0;i--){
 		if(health[i]>health[i+1])
 			b[i]=b[i+1]+1;
 		else
 			b[i]=1;
 	}
   for(i=0;i<n;i++){
   	sum+=maximum(a[i],b[i]);
   }
   cout<<sum<<endl;
    return 0;
}	