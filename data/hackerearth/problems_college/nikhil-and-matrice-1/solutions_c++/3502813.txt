#include <iostream>
#include <stdio.h>
#include <string.h>
#include <math.h>
#include <vector>
#include<stack>
#include<set>
#include<limits.h>
#include <queue>
#include <map>
#include <cstdlib>
#include <algorithm>

#define ll long long
#define S(x) scanf("%d",&x)
#define Sf(x) scanf("%f",&x)
#define Slf(x) scanf("%lf",&x)
#define Sl(x) scanf("%lld",&x)
#define P(x)  printf("%d\n", x)
#define Pf(x)  printf("%f\n", x)
#define Plf(x)  printf("%lf\n", x)
#define Pl(x)  printf("%lld\n", x)
#define mem(x,i) memset(x,i,sizeof(x))
#define pb push_back
#define mod 1000000007
#define INF 1000000000000000008LL
using namespace std;
#define UP 1
#define DOWN 2
#define LEFT 3
#define RIGHT 4

int MAX;


/*

   * Code to generate spiral matrix for n elements where n >= 1

   * To generate spiral matrix for n elements just
   * change the value of MAX to whatever u want :)

   * Author : Raza (rzs23@yahoo.com)

*/


int main()
{
    int t;
    cin>>t;
    while(t--) {
    cin>>MAX;
    int initial_direction = UP , n = MAX , p = 1 ;    /* intial_direction

    is set to UP because we need to start moving right */

    int r ,c , a[MAX][MAX];

    int row_right  = 0 , column_down = n-1 , row_left = n-1 , column_up = 0 ;

    //Set all elements of the matrix to 0

    for(r = 0 ; r < MAX ; r++)
    {
        for(c = 0 ; c < MAX ; c++)
            a[r][c] = 0 ;

    }


    //Generate elements of the spiral matrix

    while(p != n*n+1)
    {

          if(initial_direction == UP)
          {
            //Move RIGHT

            r = row_right++ ;

            for(c = 0 ; c < n ; c++)
            {
                if(a[r][c] == 0)
                    a[r][c] = p++;

            }




            initial_direction = RIGHT ;
          }
          else if(initial_direction == RIGHT)
          {
            //Move down

            c = column_down-- ;

            for(r = 0 ; r < n ; r++)
            {

                if(a[r][c] == 0)
                    a[r][c] = p++;
            }


            initial_direction = DOWN ;




          }
          else if(initial_direction == DOWN)
          {
            //Move left

            r = row_left-- ;

            for(c = n-1 ; c >= 0 ; c--)
            {
                if(a[r][c] == 0)
                    a[r][c] = p++;

            }

            initial_direction = LEFT ;





          }
          else if(initial_direction == LEFT)
          {
            //Move up

            c = column_up++;

            for(r = n-1 ; r >= 0 ; r--)
            {

                if(a[r][c] == 0)
                  a[r][c] = p++;

            }


            initial_direction = UP ;
          }

    }


    //Print the matrix

    for(r = 0 ; r < MAX ; r++)
    {
          for(c = 0 ; c < MAX ; c++)
          printf("%d",a[r][c]);

          printf("\n");

    }
    printf("\n");
    }
    return 0;
}
