def cool(x):
	b = bin(x)
	b = b[2:]
	N = len(b)
	c = 0
	for i in xrange(N-2):
		if b[i:i+3] == "101":
			c += 1
	return c
	
T = int(raw_input())
A = [0] * T
K = [0] * T
for i in xrange(T):
	A[i], K[i] = map(int,raw_input().split())
m = max(A)
B = [0]*(m+1)
for i in xrange(m+1):
	B[i] = cool(i)

for i in xrange(T):
	c = 0
	for j in xrange(A[i]+1):
		if B[j] >= K[i]:
			c += 1
	print c