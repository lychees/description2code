#include <cstdio>
#include <cmath>
#include <iostream>
#include <set>
#include <algorithm>
#include <vector>
#include <map>
#include <cassert>
#include <string>
#include <cstring>
#include <queue>

using namespace std;

#define rep(i,a,b) for(int i = a; i < b; i++)
#define S(x) scanf("%d",&x)
#define S2(x,y) scanf("%d%d",&x,&y)
#define P(x) printf("%d\n",x)
#define all(v) v.begin(),v.end()
#define FF first
#define SS second

typedef long long int LL;
typedef pair<int, int > pii;
typedef vector<int > vi;

int dx[4] = {-1,0,+1,0};
int dy[4] = {0,-1,0,+1};

int A[111][111];
int vis[111][111];
int n,m;

int dfs(int x, int y, int d) {
  if(vis[x][y]) return 0;
  if(x < 0 || y < 0 || x == n || y == m) return 0;
  vis[x][y] = 1;
  int res = 1;
  rep(i,0,4) {
    int a = x + dx[i];
    int b = y + dy[i];
    if(a < 0 || b < 0 || a >= n || b >= m) continue;
    if(abs(A[a][b]-A[x][y]) > d) continue;
    res += dfs(a, b, d);
  }
  return res;
}

int main() {
  int q;
  scanf("%d%d%d",&n,&m,&q);
  rep(i,0,n) rep(j,0,m) S(A[i][j]);
  while(q--) {
    int x,y,d;
    scanf("%d%d%d",&x,&y,&d);
    memset(vis, 0, sizeof(vis));
    x--; y--;
    P(dfs(x,y,d));
  }
  return 0;
}