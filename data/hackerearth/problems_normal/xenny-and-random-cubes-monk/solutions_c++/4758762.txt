#include <bits/stdc++.h>
using namespace std;
int e,n,i,j,dp[10][10],vis[10],k,q,h;

void haha(int x,long int m){
   
     
    if(x==k){
    e=e+m;
    return;
   }
  
   
    for(int j=0;j<n;j++)
    if((dp[x][j]>0)&&(vis[j]==0)){
    vis[j]=1;
    haha(x+1,m*dp[x][j]);
    vis[j]=0;
      
    }
    
    }
  

void intr(){
 for(q=0;q<k;q++)
 for(i=0;i<n;i++){
 dp[q][i]=0;
 vis[i]=0;}
}

int main(){
 
 char a[10][6];
 cin>>n>>k;
 
 for(i=0;i<n;i++)
 for(j=0;j<6;j++)
 cin>>a[i][j];
 
 string s;
 cin>>s;
  
  intr();

 for(q=0;q<k;q++)
 for(i=0;i<n;i++)
 for(j=0;j<6;j++)
 if(s[q]==a[i][j])
 dp[q][i]++;

 e=0;

haha(0,1);

cout<<e<<endl;
}
