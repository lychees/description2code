//Sinha Saab
//NARUTO Fan



#include <cstdio>
#include <iostream>
#include <algorithm>
#include <string.h>
#include <vector>
#include <set>
#include <map>
#include <queue>
#include <list>
#include <math.h>

#define ll long long int
#define maxN 100000
#define maxVal 100000000
#define minVal -100000000
#define mod 1000000007LL

#define gcd(a,b) __gcd(a,b)

using namespace std;

ll d[20];
ll dp[20][200][2000];

ll compute(ll i,ll s,ll ss,ll z)
{
	if(i==-1)
	{
		if(gcd(s,ss)==1)
			return 1;
		return 0;
	}
	if(!z&&dp[i][s][ss]!=-1)
		return dp[i][s][ss];
	ll j,e=9,ans=0;
	if(z)
		e=d[i];
	for(j=0;j<=e;j++)
		ans=ans+compute(i-1,s+j,ss+j*j,(z&&(j==e)));
	if(!z)
		dp[i][s][ss]=ans;
	return ans;
}

ll solve(ll n)
{
	if(n<=0)
		return 0;
	ll l=0;
	while(n>0)
	{
		d[l++]=n%10;
		n/=10;
	}
	return compute(l-1,0,0,1);
}

int main()
{
    ll t,l,r;
    cin>>t;
    memset(dp,-1,sizeof(dp));
    while(t--)
    {
    	cin>>l>>r;
    	printf("%lld\n",solve(r)-solve(l-1));
    }
    return 0;
}