#include <iostream>
using namespace std;


int max(int a[],int n)
{
	long i;
	int max=0;
	
	for(i=0;i<n;i++)
		if(a[i]>max)
			max = a[i];
			
		return max;
}

void print(int a[],int n)
{
	int i;
	cout<<endl;
	
	for(i=0;i<n;i++)
		cout<<a[i]<<" ";
}

int count_sort(int a[],int n,int k)
{
	int i;
	int count[k];
	int out[n];
	
	for(i=0;i<k;i++)
		count[i]=0;
	
	for(i=0;i<n;i++)
		count[a[i]]++;
		
	for(i=1;i<k;i++)
		count[i]=count[i-1]+count[i];
		
	for(i=n-1;i>=0;i--)
		out[--count[a[i]]] = a[i];
	for(i=0;i<n;i++)
		a[i]=out[i];
	
}



int main()
{
    int i,j,tno,N,k,ans,D;
    
    cin>>tno;
    
    for(i=1;i<=tno;i++)
    {
    	cin>>N>>D;
    	
    	int *l = new int[N];
    	
    	for(j=0;j<N;j++)
    	{
    		cin>>l[j];
    	}
    	
    	k = max(l,N)+1;
    	
    	count_sort(l,N,k);
    	
    	j=1;
    	ans=0;
    	while(j<N)
    	{
    		if(l[j]-l[j-1]>D)
    			j++;
    		else
    		{
    			ans++;
    			j=j+2;
    		}
    	}
    	
    	    	
    	
    	
    	
    	if(N>0)
    		cout<<ans<<endl;
    	else
    		cout<<0<<endl;
    }
    return 0;
}
