
#include <bits/stdc++.h>
using namespace std ;
int main()
{

    int t ;
    cin >> t ;
    while ( t--)
    {
        int n ;
        cin >> n ;
        int a, b , c , x , y ;
        cin >> a >> b >> c ;
        int i ;
        int z  = 0;
        int h = 0 ;
        for (i = 0; i< n ; i++ )
        {

            cin >> x ;
            cin >> y ;
            if ( a*x + b*y +c < 0 )
            {

                h = h+1 ;
            }
            else if (a*x + b*y +c > 0 )
            {
                z = z+1 ;
            }
           // cout << "sanjeev" <<endl;
        }
        int r ;
       // cout << h << " " << z <<endl;
        r = max ( h , z ) ;
        cout << r <<endl;


    }
    return 0 ;
}
