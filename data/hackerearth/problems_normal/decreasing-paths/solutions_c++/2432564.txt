#include <bits/stdc++.h>
using namespace std;

const long long mod = 1000000007;

int n;
long long a[1100][1100];
int b[1100][1100];
vector<pair<int,int> > q[110];

int main()
{
    ios::sync_with_stdio(0);
    cin >> n;
    for(int i=0;i<n;++i)
    for(int j=0;j<n;++j){
        int x;
        cin >> x;
        b[i][j]=x;
        q[x].push_back(make_pair(i,j));
    }
    long long res=0;
    for(int i=1;i<=100;++i){
        for(int j=0;j<q[i].size();++j){
            int x = q[i][j].first;
            int y = q[i][j].second;
            a[x][y]=1;
            if(x>0 && b[x-1][y]<b[x][y]) a[x][y]+=a[x-1][y], a[x][y]%=mod;
            if(y>0 && b[x][y-1]<b[x][y]) a[x][y]+=a[x][y-1], a[x][y]%=mod;
            if(x<n-1 && b[x+1][y]<b[x][y]) a[x][y]+=a[x+1][y], a[x][y]%=mod;
            if(y<n-1 && b[x][y+1]<b[x][y]) a[x][y]+=a[x][y+1], a[x][y]%=mod;
            res+=a[x][y];
            res%=mod;
        }
    }
    cout << res << "\n";
}
