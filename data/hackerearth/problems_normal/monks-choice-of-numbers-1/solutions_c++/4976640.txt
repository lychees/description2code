#include <iostream>
#include<bits/stdc++.h>
using namespace std;

int main()
{
   int t, n,k,j,c,r,K, i,sum,a[1005], count[1005];
   
   scanf("%d", &t);
   
   while( t--)
   {
   	 scanf("%d %d", &n, &K);
   	 
   	 for(i=0; i<n ; i++)
   	 {
   	 	scanf("%d ", &a[i]);
   	 	c=0;
   	 	
		   	 while(a[i]!=0)
		   	 {
		   	 	k=a[i]&1;
		   	 	
		   	 	a[i]=a[i]>>1;
		   	 	
		   	 	if(k==1)
		   	 	c++;
		   	 	
		   	 }
		   	 count[i]=c;
		   	 	
   	 	
   	 	
   	 }
   	  sort(count, count+n);
   	 
   	/* for(j=0; j<n; j++)
   	 {
   			printf("%d " , count[j]);
   	 }
   	*/
   	// for(j=0; j<n; j++)
   	//  {
   	// 		printf("%d " , count[j]);
   	//  }
   	 
   	 sum=0;
   	 for(r=(n-1); r>=(n-K) && r>=0; r--)
   	 {
   	 	sum= sum + count[r];
   	 	
   	 	
   	 }
   	
   	printf("%d\n", sum);
   	
   	
   }
   
    return 0;
}
