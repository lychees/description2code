#include <iostream>
#include <algorithm>
#include <vector>
using namespace std;

bool cmp(int a, int b)
{
	if(a > b)
		return true;
}
int main()
{
	int T, N;
	cin>>T;
	while(T--)
	{
		cin>>N;
		int count = 0;
		vector<int> boys, girls;
		for(int i= 0; i < N; i++)
		{
			int temp;
			cin>>temp;
			boys.push_back(temp);
		}
		for(int i= 0; i < N; i++)
		{
			int temp;
			cin>>temp;
			girls.push_back(temp);
		}
		sort(girls.begin(), girls.end());
		sort(boys.rbegin(), boys.rend());
		for(int i = 0; i < N; i++)
		{
			//cout<<boys[i]<<" "<<girls[i]<<endl;
			int t1 = boys[i] % girls[i];
			int t2 = girls[i] % boys[i];
			//cout<<t1<<" "<<t2<<endl;
			if((t1 == 0) || (t2 == 0))
				count++;
		}
		cout<<count<<endl;
	}
    //cout << "Hello World!" << endl;
    return 0;
}
