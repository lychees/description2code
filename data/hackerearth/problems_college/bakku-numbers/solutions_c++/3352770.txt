#include <iostream>
using namespace std;

int main()
{
    int p1,p2,n;
    cin>>p1>>p2>>n;
    long int left,right;
    for(int i=0;i<n;i++)
    {
    	cin>>left>>right;
    	int x=(right/p1)-(left/p1);
    	if(left%p1==0)
    		x++;
    	int y=(right/p2)-(left/p2);
    	if(left%p2==0)
    		y++;
    	int z=(right/(p1*p2))-(left/(p1*p2));
    	if(left%(p1*p2)==0)
    		z++;
    	printf("%.6lf\n",(double)(x+y-z)/(double)(right-left+1));
    }
    return 0;
}
