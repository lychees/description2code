#include<iostream>
#include<cstring>
using namespace std;
int cost,acost,bcost;
int fun(char *name){
    int c=0,i=0,l,f=1;
    l=strlen(name);
	while(i<l/2){
		    if((name[i]!= name[l-i-1]) && name[i] != '/' && name[l-i-1] != '/' ){
		    	return -1;
            }
		    else if(name[i] =='/' && name[l-i-1]=='a'){
		        cost=acost;
		        c+=cost;
		    }
		    else if(name[i] =='a' && name[l-i-1]=='/'){
		        cost=acost;
		        c+=cost;
		    }
		    else if(name[i] =='/' && name[l-i-1] == 'b'){
		        cost=bcost;
		        c+=cost;
		    }
		    else if(name[i] =='b' && name[l-i-1] == '/'){
		        cost=bcost;
		        c+=cost;
		    }
		    else if(name[i] =='/' && name[l-i-1]=='/'){
		         if(acost<bcost)
                    cost = 2*acost;
                 else
                    cost = 2*bcost;
		        c+=cost;
		    }
		    i++;
        }
	return c;
}

int main(){
    int n,ac,bc,c;
    char *name;
    name = new char;
    cin >> n;
    while (n>0){
	cin >> name;
	cin >> acost;
	cin >> bcost;
	c=fun(name);
	cout << c << endl;
	n--;
}
    return 0;
}


