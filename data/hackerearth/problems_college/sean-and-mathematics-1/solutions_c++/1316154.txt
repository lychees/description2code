#include <stdio.h>
#include <map>
using namespace std;
#define ll long long int
ll a[41];

int main()
{
    int t,n,n1,n2,j;
    ll lim1,lim2,i,ans,sum;
    map<ll,ll> counts;
    scanf("%d",&t);
    while(t--)
    {
    	ans = 0;
    	scanf("%d",&n);
    	n1 = n/2;
		n2= n - n1;
		
		lim1 = 1ll<<n1;
		lim2 = 1ll<<n2;
		
		ans = 0;
		counts.clear();    	
    	
    	for(i=0;i<n;i++)
    	{
    		scanf("%lld",&a[i]);
    	}
    	
    	for(i=0;i<lim1;i++)
    	{
    		sum = 0;
    		for(j=0;j<n1;j++)
    		{
    			if( (i&(1<<j)) >0)
    			{
    				sum = sum + a[j];
    			}
    		}
    		counts[sum]++;
    	}
    	
    	for(i=0;i<lim2;i++)
    	{
    		sum = 0;
    		for(j=0;j<n2;j++)
    		{
    			if( (i&(1<<j)) >0)
    			{
    				sum = sum + a[n1+j];
    			}
    		}
    		
    		if(counts.count(-sum)!=0)
    			ans += counts[-sum];
    	}
    	
    	printf("%lld\n",ans-1);
    	
    }
    return 0;
}
    

