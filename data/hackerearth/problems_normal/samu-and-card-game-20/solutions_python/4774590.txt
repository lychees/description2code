n=input()

for i in xrange(0,n):
	a=1
	b=1
	park=[int(x) for x in raw_input().split()]
	X=park[0]
	Y=park[1]
	count=0
	m=input()
	for k in xrange(0,m):
		cards=[int(x) for x in raw_input().split()]
		while True:
			if (a+cards[0]<=X) and (b+cards[1]<=Y) and a+cards[0]>0 and b+cards[1]>0:
				a+=cards[0]
				b+=cards[1]
				count+=1
			else:
				break
	print count