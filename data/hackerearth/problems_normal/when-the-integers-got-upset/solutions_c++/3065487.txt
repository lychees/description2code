#include <bits/stdc++.h>

#define FORE(i,a,b) for(int i=(a), _b=b; i<=b; i++)
#define FILE "code"

#define ST first
#define ND second

using namespace std;

typedef pair<int, int> II;
typedef long long LL;

const int MAXN=10+10;

int i,j,k,t,n,m,d;
int a[MAXN], b[MAXN], dp[5000][MAXN][MAXN];
int res;
int test;

int cal(int done, int fir, int sec)
{
      if (dp[done][fir][sec]!=-1) return dp[done][fir][sec];
      int tmp=INT_MAX, pos=__builtin_popcount(done), val=(a[fir]^a[sec]);

      if (pos==n) return 0;
      FORE (i, 0, n-1)
       if (((1<<i) & done) == 0)
            tmp=min( tmp, (val^a[i])*b[pos] + cal(done|(1<<i), i, fir) );

      dp[done][fir][sec]=tmp;
      return tmp;
}

int main()
{
#ifndef ONLINE_JUDGE
      freopen(FILE".inp", "r", stdin);
#endif // ONLINE_JUDGE
      scanf("%d", &test);
      while (test--)
      {
            scanf("%d", &n);
            FORE (i, 0, n-1) scanf("%d", &a[i]);
            FORE (i, 0, n-1) scanf("%d", &b[i]);

            res=INT_MAX;
            memset(dp, -1, sizeof dp);
            FORE (i, 0, n-1) FORE (j, 0, n-1) if (i!=j)
                  res=min(res, cal((1<<i)|(1<<j), i, j) );

            printf("%d\n", res);
      }






      return 0;
}

