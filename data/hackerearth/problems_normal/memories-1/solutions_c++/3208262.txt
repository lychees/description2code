#include<bits/stdc++.h>
using namespace std;
typedef long long int uli;
bool g[20][20];
int main(){
   int t,n,p,u,v;
   scanf("%d",&t);
   while(t--){
      scanf("%d %d",&n,&p);
      memset(g,false,sizeof g);
      for(int i=0;i<p;i++){
         scanf("%d %d",&u,&v);
         --u,--v;
         g[u][v]=true;
      }
      int ans=0;
      for(int b=1;b<(1<<n);b++){
         bool ok=true;
         for(int i=0;i<n && ok;i++)if(b&(1<<i)){
            for(int j=i+1;j<n && ok;j++)if(b&(1<<j)){
               if(g[i][j] || g[j][i])ok=false;
            }
         }
         if(ok)ans++;
      }
      printf("%d\n",ans);
   }
   return 0;
}

