#include<bits/stdc++.h>
using namespace std;

#define LET(x, a)  __typeof(a) x(a)
#define TR(v, it) for(LET(it, v.begin()); it != v.end(); it++)
#define si(x) scanf("%d",&x)
#define F first
#define S second
#define PB push_back
#define MP make_pair
#define INF 1000000000
#define MOD 1000000007
#define SET(x,y) memset(x,y,sizeof(x));
#define LL long long int
#define ULL unsigned LL
#define PII pair<int, int>

int cnt[10000000];
int main() {
    int tp, n, t;
    cin >> t;
    
    while (t--) {
        scanf("%d %d", &tp, &n);
        if (tp == 0) {
            set<int> s;
            for (int i = 0; (1 << i) <= n * 4; i++) {
                s.insert(n / (1 << i));
            }
            for (set<int> ::iterator it = s.begin(); it != s.end() ;it++)
                cnt[*it]++;
        } else if (tp == 1) {
            set<int> s;
            for (int i = 0; (1 << i) <= n * 4; i++) {
                s.insert(n / (1 << i));
            }
            for (set<int> ::iterator it = s.begin(); it != s.end() ;it++)
                cnt[*it]--;
        } else {
            printf("%d\n", cnt[n]);
        }
    }


    return 0;
}

