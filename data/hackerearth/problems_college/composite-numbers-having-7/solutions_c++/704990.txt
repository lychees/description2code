#include<bits/stdc++.h>
using namespace std;
int prime[1000002],dp[1000002];
int sieve()
{
	int i,j,k;
	int m,n,u,l;
	for(i=0;i<1000002;i++)
	{
		prime[i]=0;
		dp[i]=0;
	}
    n=1000001;
		for(i=2;i*i<=n;i++)
		{
			if(!prime[i])
			{
				for(j=i*i;j<=n;j=j+i)
				{
					prime[j]=1;
				}
			}
		}
		for(i=1;i<=n;i++)
		{
			if(prime[i])
			{
				k=i;
				m=1;
				while(k)
				{
					j=k%10;
					k=k/10;
					if(j==7)
					{
						m=0;
						break;
					}
				}
				if(m)
				{
					prime[i]=0;
				}
			}
		}
	return 1;
}
int main()
{
    sieve();
   // printf("modfss\n");
    int t,p,x,y,z,i;
    for(p=2;p<=1000001;p++)
    {
    	dp[p]=prime[p]+dp[p-1];
    }
   // printf("modfss\n");
    scanf("%d",&t);
    while(t--)
    {
    	scanf("%d%d",&x,&y);
    	z=dp[y]-dp[x];
    	if(prime[x])
    	z++;
    	if(z)
    	printf("%d\n",z);
    	else
    	printf("-1\n");
    }
}