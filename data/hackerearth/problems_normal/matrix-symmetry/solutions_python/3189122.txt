from __future__ import division
from pprint import pprint as pp
def GI(): return int(raw_input())
def GIS(): return map(int, raw_input().split())
from math import ceil

def main():
    for t in xrange(GI()):
        m = []
        s = GI()
        for r in xrange(s):
            m.append(raw_input())
        symmetric = lambda m: m[:int(s/2)] == list(reversed(m[int(ceil(s/2)):]))
        hor = symmetric(m)
        ver = symmetric(zip(*m))
        
        if hor and ver:
            print 'BOTH'
        elif hor:
            print 'HORIZONTAL'
        elif ver:
            print 'VERTICAL'
        else:
            print 'NO'

main()