#include <bits/stdc++.h>
using namespace std;
int  a[10000001]={0};
int prime[10000005];
int prefactor[10000005][2]={{0}};
int p=1;
bool isValid[10000005]={0};
void generate(int y)
    {int i,j;
     prefactor[1][0]=1;
     prime[0]=2;
     prefactor[2][0]=2;
	 for(i=3;i*i<=y;i+=2)
        {if(a[i])
          continue;
         prefactor[i][0]=i;
         prime[p++]=i;
		 for(j=i*i;j<=y;j+=2*i)
           {a[j]=1;
            prefactor[j][0]=i;
           }
        }
        for(i;i<=y;i+=2)
          if(!a[i])
           {
            prime[p++]=i;
            prefactor[i][0]=i;
          }
     
    }
   
 int dgtSum(int copy)
  {int d=0;
  	while(copy)
 	 {
 	 	d+=copy%10;
 	 	copy/=10;
 	 }
 	return d;
  } 
    
    
void init()
 {
 	for(int n=2;n<=10000000;n++)
     {
      if(n%2==0)
        prefactor[n][0]=2;
  	   prefactor[n][1]=prefactor[n/prefactor[n][0]][1]+dgtSum(prefactor[n][0]);
  	   if(dgtSum(n)==prefactor[n][1])
  	      isValid[n]=true;
  		
     }
 	
 }
 
 
 
int main()
    {//freopen("in09.txt","r",stdin);
	//freopen("out09.txt","w",stdout);
     generate(10000000);
     int t,n,l,r;
     init();
     cin>>t;
     vector<int> cf(10000002);
     for(int i=2;i<=10000000;i++)
       {
       	 cf[i]=cf[i-1];
		 if(isValid[i])
			  cf[i]++;
       }
	 while(t--)
      { scanf("%d%d",&l,&r);
       printf("%d\n",cf[r]-cf[l-1]);
      
      }
	}
