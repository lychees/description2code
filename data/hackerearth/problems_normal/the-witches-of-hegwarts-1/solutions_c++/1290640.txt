#include<iostream>
#include <cstdio>
#include <cassert>
#include <cstring>
#include <string>
#include <algorithm>
#include<map>
//#define max 1000000000
#define max1 10000000
using namespace std;
int calc[max1];
//map<int,int>calc={0};
void init_calc()
{
	
	int i;
	calc[1]=0;
	//calc[2]=1;
	for(i=2;i<max1;i++)
	{
		calc[i]=1+calc[i-1];
		if(i%2==0)
		calc[i]=min(calc[i],1+calc[i/2]);
		if(i%3==0)
		calc[i]=min(calc[i],1+calc[i/3]);
	}
	return;
}
int calc_ans(int n)
{
	
	  int ans;
	  if(n<max1)
	  return calc[n];
	  
	  //int ans1=n,ans2=n,ans3=n;
	  
	 
	  	ans=n-1;
	 
	 
	 	  if(n%2==0)
    {  
    	ans=min(1+calc_ans(n/2),ans);
    }
   else
    ans=min(ans,1+calc_ans(n-1));
	  if(n%3==0)
	  {
	  	ans=min(ans,1+calc_ans(n/3));
	  }
	   else
	  ans=min(ans,1+calc_ans(n-1));

      //ans2=min(ans2,ans3);
      //ans1=min(ans1,ans3);
      return ans;
      
      
}
int main() {   
	
	//memset(calc,-1,sizeof(calc));
	//calc[1]=0;
	init_calc();

	int t;
	cin>>t;
	while(t--)
	{
		int n;
		cin>>n;
		cout<<calc_ans(n)<<endl;
	}
	
	return 0;
}