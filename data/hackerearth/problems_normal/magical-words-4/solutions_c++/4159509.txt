#include <iostream>
#include <cstdio>
#include <vector>
#include <string>

#define MAX(x,y) x>y?x:y
#define MIN(x,y) x<y?x:y
#define pb push_back
#define mp make_pair
#define rep(i,n) for(int i=0;i<n;i++)
#define repr(i,j,n) for(int i=j;i<=n;i++)
#define endl '\n'
using namespace std;
typedef long long ll;
typedef vector<ll> vll;
const ll maxn = 10000000;
bool dp[1009][1009];
string s;

int main()
{
	std::ios::sync_with_stdio(0);
	ll i,j,k,t,q,m,l,r,n,out;
	cin>>t;
	while(t--)
	{
		cin>>s;
		n=s.size();
		out=n;
		for(i=0;i<n;i++)dp[i][i]=1;

		for(j=1;j<n;j++)
		{
			for(i=0;i+j<n;i++)
			{
				k=i+j;
				dp[i][k]=(s[i]==s[k]) && (k-i+1==2 || ((i+1)<=(k-1) && dp[i+1][k-1]==1)) ;
				if(dp[i][k])out+=((k-i+1)*(k-i+1));
			}
		}
		cout<<out<<endl;
	}
}