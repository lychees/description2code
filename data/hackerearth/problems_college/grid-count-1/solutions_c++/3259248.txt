// Coder: Piyush Kidambi

#include<bits/stdc++.h>
using namespace std;

typedef pair<int,int> pii;
typedef vector<int> vi;
typedef vector<char> vc;

#define pb push_back
#define mp make_pair
#define I vector<int>::iterator
#define ss(a) scanf("%s",a)
#define si(a) scanf("%lld",&a)
#define sll(a) cin>>a
#define pi(a) printf("%lld ",a)
#define pll(a) cout<<a
#define ps(a) printf("%s ",a)
#define For(i,n) for(i=0;i<n;i++)
#define FOR(i,n) for(i=n-1;i>=0;i--)
#define nl printf("\n")
#define all(a)  a.begin(),a.end()
#define ll long long int
#define MOD 1000000007
#define MAX 1000100

ll a[1005][1005],Sum[1005][1005];

bool is_nth_power(ll a,ll n) {
	if(n <= 0)
		return false;
	if(a < 0 && n % 2 == 0)
		return false;
	a = abs(a);

	ll b = pow(a, 1. / n);
	return pow((double) b, n) == a || pow((double) (b+1), n) == a;
}

int main()
{
	ll n,k,i,j,cnt=0;
	si(n);si(k);
	
	For(i,n)For(j,n)si(a[i][j]);
	if(k>n) {
		printf("0\n");
		return 0;
	}
	For(j,n){
		ll sum = 0;
		For(i,k)sum += a[i][j];
		Sum[0][j] = sum;

		for (i=1; i<n-k+1; i++){
			sum += (a[i+k-1][j] - a[i-1][j]);
			Sum[i][j] = sum;
		}
	}

	For(i,n-k+1){
		ll sum = 0;
		For(j,k)sum += Sum[i][j];
		if(is_nth_power(sum,3))cnt++;

		for (j=1; j<n-k+1; j++){
			sum += (Sum[i][j+k-1] - Sum[i][j-1]);
			if(is_nth_power(sum,3))cnt++;
		}
	}
	pi(cnt);
	nl;
	return 0;
}