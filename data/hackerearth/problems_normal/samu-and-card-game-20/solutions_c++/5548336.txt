//============================================================================
// Name        : SamuAndCardGame.cpp
// Author      : 
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <bits/stdc++.h>
using namespace std;

int main()
{
	ios_base::sync_with_stdio(false);
	cin.tie(0);
	int t;
	cin>>t;
	while(t--)
	{
		long long n,m,sx=0,sy=0;
		cin>>n>>m;
		int k;
		cin>>k;
		long long count=0;
		for(int i=0;i<k;i++)
		{
			long long a,b;
			cin>>a>>b;
			while(sx+a<n && sy+b<m && sx+a>=0 && sy+b>=0)
			{
				sx+=a;
				sy+=b;
				count++;
			}
		}
		cout<<count<<"\n";

	}


	return 0;
}
