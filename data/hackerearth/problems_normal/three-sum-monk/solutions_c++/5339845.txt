#include<bits/stdc++.h>
using namespace std;
int main()
{
  int t;
  cin>>t;
  while(t--)
  {
    int n;
    cin>>n;
    int a[n];
    int s1=0;
    int count1=0;
    for(int i=0;i<n;i++)
    {
      cin>>a[i];
    }
    sort(a,a+n);

    if(n<3)
    {
    cout<<0.000000000<<endl;
    continue;
    }
    int val=0;
    for(int i=0;i<n;i++)
    {
      for(int j=i+1;j<n;j++)
      {
     
        for(int l=1;l<=20;l++)
        {
        s1=a[i]+a[j];
         if(s1>(l*l*l))
         continue;
         int start=j+1;
         int ends=n-1;
         int diff=((l*l*l)-s1);
         while(start<=ends)
         {
            int mid=(start+ends)/2;
            //if((start==j && ends==j)||(start==n&&ends==n))
           // break;
            if(a[mid]==diff)
            {
            count1+=((upper_bound(a+j+1,a+n,a[mid])-lower_bound(a+j+1,a+n,a[mid])));
            break;
            }
            else if(a[mid]>diff)
            {
            ends=mid-1;
            }
            else
            {
            start=mid+1;
            }

         }
      }
    }
    }
 
        int count2=(n)*(n-1)*(n-2);
        count2/=6;
    double ans=(double)(((double)count1)/((double)count2));
    cout<<setprecision(9)<<fixed<<ans<<endl;
    //cout<<(500*500*500);
  }
}
