#include<iostream>
#include<vector>
using namespace std;
bool checksitting(vector<bool> &sitting , int i){
    if(sitting[i-1] && sitting[i+1]){
        return true;
    }else{
        return false;
    }
}
int main(){
    int t;
    cin>>t;
    while(t--){
        int n,m;
        cin>>n>>m;
        vector<bool> sitting(n,false);
        vector<bool> prev(n,false);
        vector<bool> prev1(n,false);
        int temp;
        for(int i=0;i<n;i++){
            cin>>temp;
            if(temp){
                sitting[i]=true;
                prev[i]=true;
            }
        }
        for(int j=0;j<m;j++){
            for(int i=1;i<n-1;i++){
                sitting[i] = checksitting(prev,i);
            }
            sitting[0] = prev[1];
            sitting[n-1] = prev[n-2];
            if(prev==sitting)
                break;
            if(prev1==sitting){
                if((m-j)%2!=0)
                    break;
                else{
                    for(int i=0;i<n;i++){
                        sitting[i] = prev[i];
                    }
                    break;
                }
            }
            for(int i=0;i<n;i++){
                prev1[i]=prev[i];
                prev[i]=sitting[i];
            }
        }
        for(int i=0;i<n;i++){
            if(sitting[i])
                cout<<1<<" ";
            else
                cout<<0<<" ";
        }
        cout<<endl;
    }
    return 0;
}
