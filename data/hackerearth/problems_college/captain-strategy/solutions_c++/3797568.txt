#include<iostream>
#include<cstdio>
#include<cstdlib>
using namespace std;
typedef struct super
{
    int y;
    struct super* next;
}super;
super sup[100009];
int sum, n;
int e[100009];
void ins(int a, int b)
{
    super *temp =(super *)malloc(sizeof(super));
    temp->next = sup[a].next;
    temp->y=b;
    sup[a].next=temp;
}
void finder(int d)
{
    super *temp;
    temp=sup[d].next;
    while(temp!=NULL)
    {
        sum+=e[temp->y];
        finder(temp->y);
        temp=temp->next;
    }
}
int main()
{
    int m, a, b, i;
    cin>>n>>m;
    for(i=1;i<=n;i++)
        cin>>e[i];
    for(i=0;i<=n+1;i++)
        sup[i].next=NULL;
    for(i=1;i<n;i++)
    {
        cin>>a>>b;
        ins(a,b);
    }
    for(i=1;i<=m;i++)
    {
        char q;
        fflush(stdin);
        cin>>q;
        if(q=='U')
        {
            int p, r;
            cin>>p>>r;
            e[p]=r;
        }
        else
        {
            int z;
            cin>>z;
            sum=e[z];
            finder(z);
            cout<<sum<<endl;
        }
    }
	return 0;
}
