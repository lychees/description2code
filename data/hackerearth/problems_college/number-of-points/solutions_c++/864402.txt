#include<iostream>
#include<algorithm>
#include<math.h>
using namespace std;
int gcd(int a,int b)
{
	if(b==0)
	 return a;
	 return gcd(b,a%b);
}
int main()
{
	int t,a,b,c,d;
	cin>>t;
	while(t--)
	{
	 	cin>>a>>b>>c>>d;
   	        int val=gcd(fabs(c-a),fabs(d-b));
   	        val=val-1;
			    if(val<0)
				val=0;
				cout<<val<<endl; 	
		
	}
	return 0;
}