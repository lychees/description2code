#include <iostream>
using namespace std;
#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <vector>
#include <map>
#include <queue>
#include <algorithm>
#include <cmath>
#include <set>
#include <ctime>
#include <stack>
#include <list>
#include <cassert>
#include <iomanip>
#include <deque>
#include <sstream>
#include <fstream>
typedef pair<int,int> pii;
#define rep(i,j,n) for(i=j;i<n;i++)
#define pb push_back
#define ff first
#define ss second 
#define lli long long int
const int maxn = 109;
lli dp[maxn][maxn];
int main() {
        
    ios::sync_with_stdio(false);
    
    int t; cin >> t;
    
    while (t--) {
    	
    	lli n,m;
    	cin >> n >> m;
    	vector <lli> a(n+1);
    	memset(dp,0,sizeof(dp));
    	for (int i = 0; i < n; i++)
    	cin >> a[i+1];
    	lli answer = 0;
    	for (int i = 1; i <= n; i++) {
    		for (int cnt = 1; cnt < m; cnt++) {
    			for (int prev = 1; prev < i; prev++) {
    				dp[i][cnt+1] = max(dp[i][cnt+1], dp[prev][cnt] + abs(a[prev]-a[i]));
    			}
    		}
    		answer = max(answer,dp[i][m]);
    	}
    	cout << answer << endl;
    	
    }
    
    
    return 0;
        
}