#include <bits/stdc++.h>
using namespace std;
long int height[100001];
void calculateHeight(long int root,vector<long int > *v,long int h)
{
	height[root]=h;
	vector <long int >::iterator it;
//	cout<<root<<" root , ";
	it=v[root].begin();
	while(it!=v[root].end())
	{
//		cout<<*(it)<<" ";
		calculateHeight((*(it)),v,h+1);
		it++;
	}
}
int main() 
{
	long int t;
	cin>>t;
	while(t--)
	{
		long int n;
		cin>>n;
		long int a[n],i=0; 
		while(i<n)
		{
			cin>>a[i];
			i++;	
		}
		i=0;
		long int root=-1;
		vector<long int > v[100001];
		while(i<n)
		{
		//	cout<<"a["<<i<<"] = "<<a[i]<<" ";
			if(a[i]==0)
			{
		//		cout<<"    in a[0] == 0  i = "<<i<<"\n";
				root=i+1;
			}
			else
			{
				
				v[a[i]].push_back(i+1);
			}
			i++;
		}
//		cout<<"\n"<<root<<"\n";
		calculateHeight(root,v,0);
		i=1;
//		cout<<endl;
		long long int noOfShakes=0;
		while(i<=n)
		{
			noOfShakes=noOfShakes+height[i];
			i++;
		}
		long long int sum=((n*(n-1))/2)-noOfShakes;
		cout<<noOfShakes<<" "<<sum<<"\n";
	}
}