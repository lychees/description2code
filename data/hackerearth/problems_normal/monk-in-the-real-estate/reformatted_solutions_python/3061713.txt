testcases = input()
while testcases > 0:
    dict = {}
    roads = input()
    while roads > 0:
        r1, r2 = [int(i) for i in raw_input().split()]
        dict[r1] = 1
        dict[r2] = 1
        roads -= 1
    count = len(dict.keys())
    print count
    testcases -= 1
