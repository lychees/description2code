#include <bits/stdc++.h>
using namespace std;

#define ll long long int
#define mp(i,j) make_pair(i,j)
#define pb(x) push_back(x)
#define MAXN 1000010
#define MOD 1000000007

ll dp[MAXN];
ll c[MAXN];
ll has[MAXN];
ll vis[MAXN];

ll dfs(ll i)
{
	dp[i] = 0;

	if(dp[c[i]]==-1) {
		dp[i]=dfs(c[i])+1;
	} else {
		dp[i] = dp[c[i]]+1;
	}
	return dp[i];
}

void dfss(ll x,ll cnt)
{
	vis[x] =cnt;

	if(vis[c[x]]==0) dfss(c[x],cnt);
	else if(vis[c[x]]==cnt) {
		has[x]=1;
	}
}

int main()
{
	ll i,t,n,ans,ind,x,flag,cnt;

	scanf("%lld",&t);

	while(t--) {
		scanf("%lld", &n);
		memset(dp,-1,sizeof(dp));
		memset(has,0,sizeof(has));
		memset(vis,0,sizeof(vis));

		for(i=0;i<n;i++) {
			scanf("%lld", &c[i]);
		}
		cnt = 0;
		for(i=0;i<n;i++) {
			if(vis[i]==0) {
				cnt++;
				dfss(i,cnt);
			}
		}
		memset(vis,0,sizeof(vis));
		for(i=0;i<n;i++) {
			if(!vis[i]) {
				if(has[i]) {
					x = i;
					cnt = 0;
					while(!vis[x]) {
						vis[x] =1;
						has[x] =1;
						x = c[x];
						cnt++;
					}
					x = i;
					while(dp[x]==-1) {
						dp[x] = cnt;
						x = c[x];
					}
				}
			}
		}

//		for(i=0;i<n;i++) {
//			if(has[i]) cout<<i<<" ";
//		}
//		cout<<endl;

		for(i=0;i<n;i++) {
			if((has[i]==0) && (dp[i]==-1)) {
				dp[i] = dfs(i);
			}
		}
		for(i=0;i<n;i++) {
			if(dp[i]==-1) (dp[i] = dfs(i));
//			cout<<dp[i]<<" ";
		}
//		cout<<endl;

		ans = -1;
		for(i=0;i<n;i++) {
//			cout<<dp[i]<<" ";
			if(dp[i]>ans) {
				ans=dp[i];
				ind = i;
			}
		}
//		cout<<endl;

		printf("%lld\n", ind);
	}

	return 0;
}
