#include<bits/stdc++.h>
#define N 1000000
using namespace std;
bool prime[N+5];
int p[N+5],pp[N+5];
int main()
{
	int t;
	scanf("%d",&t);
	//bool prime[N+5]={0};
	for(int i=2;i*i<=N;i++)
	{
		if(!prime[i])
		{
			for(int j=i;j*i<=N;j++)
			{
				prime[j*i]=1;
			}
		}
	}
	prime[0]=prime[1]=1;
	int count=0;
	//int p[N+5],pp[N+5];
	p[0]=0;int c=0;pp[0]=0;
	for(int i=1;i<=N;i++)
	{
		if(!prime[i])count++;
		p[i]=count;
		if(!prime[p[i]])c++;
		pp[i]=c;
	}
	/*count=0;int ppp[N+5];
	for(int i=1;i<=N;i++)
	{
		if(pp[i])
			count++;
		ppp[i]=count;
	}*/
	while(t--)
	{
		int l,r;
		scanf("%d%d",&l,&r);
		printf("%d\n",pp[r]-pp[l-1]);
	}
	return 0;
}
