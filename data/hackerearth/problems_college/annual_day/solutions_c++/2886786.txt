#include <iostream>
#include<algorithm>
using namespace std;

int main()
{
    int t;
    cin>>t;

    while(t--)
    {
    	 int n,k;
    	cin>>n>>k;
    	int a[n];
    	for(int i=0;i<n;i++)
          cin>>a[i];

    	int c=0;
    	int b[1000001];
    	int count=0;

    	for(int i=0;i<n;i++)//O(N2)
    	{
    	    int num=a[i];//get a number from array

    	    int c1=0;

    	   while(num!=0)//get all nnumber in a single array B
    	   {
    		  int r=num%2;
    	  	  if(r==1)//IF ITS 1
    			c1++;//count it
              num=num/2;
	       }
    	    b[c++]=c1;//put the counts of one in this array
		}
    	int max=0;
    	int sum;
    	sort(b,b+c);
    	for(int i=0;i<c;i++)
    	{
			sum=0;
    		int var=0;
    		for(int j=i;j<n;j++)
    		{
    			if(var==k)//check till K
    				break;
    			sum=sum+b[j];
    			var++;
    			
		    }
    	
    		if(sum>max)//get max
    			max=sum;
        }
    	cout<<max<<"\n";


    }
    return 0;
}


