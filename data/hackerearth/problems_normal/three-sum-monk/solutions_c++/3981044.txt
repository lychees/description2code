
/* -.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.-.
 * Created By : Aditya Agarwal
 * IT, MNNIT-ALLAHABAD 
 * aditya.mnnit15@gmail.com
 _._._._._._._._._._._._._._._._._._._._._.*/
 
 
#include<bits/stdc++.h>
using namespace std;
 
#define MP make_pair
#define pb push_back
#define rep(i,n) for(int i=0;i<n;i++)
#define REP(i,a,b) for(int i=a;i<=b;i++)
#define PER(i,a,b) for(int i=b;i>=a;i--)
#define X first
#define Y second
 
 //i/o
#define inp(n) scanf("%d",&n)
#define inpl(n) scanf("%lld",&n)
#define inp2(n,m) inp(n), inp(m)
#define inp2l(n,m) inpl(n), inpl(m)
 
 
//cost
#define MOD 1000000007
#define MOD_INV 1000000006
#define MAX 100009
#define INF 999999999

typedef long long ll;
typedef pair< pair<ll,ll>,ll > pairs;
ll h[2001][501]={0};
int main(){
	set<ll> s;
	REP(i,1,20){
		if(i*i*i>6000)
			break;
		else
			s.insert(i*i*i);
	}
	int t;
	inp(t);
	while(t--){
		memset(h,0,sizeof(h));
		int n;
		ll mx=-1;
		inp(n);
		vector<ll> a;
		ll cnt=0,l;
		rep(i,n){
			inpl(l);
			a.pb(l);
			mx=max(mx,l);
		}
		for(int i=0;i<n;i++)
        {
            for(int j=1;j<=2000;j++)
            {
                if(i!=0)
                	h[j][i] = h[j][i-1] + (a[i] == j);
                else
                	h[j][i]=(a[i]==j);
            }
        }
		/*rep(i,n){
			h[a[i]][i]++;
		}
		rep(i,mx){
			REP(j,1,n-1){
				h[i][j]=h[i][j]+h[i][j-1];
			}
		}*/
		rep(i,n-2){
			REP(j,i+1,n-2){
					set<ll>::iterator is=s.begin();
					while(is!=s.end()){
						ll x=*is-a[i]-a[j];
						if(x>0 && x<=mx){
							cnt+=h[x][n-1]-h[x][j];
							//cout<<x<<" "<<a[i]<<" "<<a[j]<<" "<<h[x][n-1]<<" "<<h[x][j]<<endl;
						}
						
						is++;
					}
				
				/*REP(k,j+1,n-1){
					if(s.find(a[i]+a[j]+a[k])!=s.end()){
						cnt++;
					}
					//cout<<i<<" "<<j<<" "<<k<<" "<<a[i]<<" "<<a[j]<<" "<<a[k]<<" "<<cnt<<endl;
				}*/
			}
		}
		//cout<<cnt<<endl;
		double t=(n*(n-1)*(n-2))/6;
		printf("%.9lf\n",cnt/t);
	}
	return 0;
}