#include <iostream>
using namespace std;
long long sum[1000001];
int a[1000001];
int main()
{
   int N,Q;
   std::ios_base::sync_with_stdio(false);
   cin>>N>>Q;
   int i,j,k;
   cin>>a[1];
   sum[1]=a[1];
   sum[0]=0;
   for(i=2;i<=N;i++)
   		{
   		cin>>a[i];
   		sum[i]=sum[i-1]+a[i];
   		}
   	int g1,p1,g2,p2,s,e;
   	while(Q--)
   		{
   		cin>>g1>>p1>>g2>>p2;
   		g1++;
   		g2++;
   		p1++;
   		p2++;
   		if(g1>p1)
   			{
   			swap(g1,p1);
   			swap(g2,p2);
   			}
   		long long ans=0;
   		ans=sum[g2]-sum[g1-1];
   		if(p1<=g2)
   			p1=g2+1;
   		if(sum[p2]-sum[p1-1]>0)
   			ans+=sum[p2]-sum[p1-1];
   		cout<<ans<<endl;
   		}
   return 0;
}
