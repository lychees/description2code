#include<iostream>
#include<algorithm>
using namespace std;

int v[201][201];
int r[201];
int c[201];
int sr[401];
int sc[401];

int main(){
	int T;
	cin>>T;
	while(T--){
		int N, K;
		cin>>N>>K;
		
		for(int i = 0 ; i < N ; i++ ){
			r[i] = 0;
			c[i] = 0;
		}
		
		for(int i = 0 ; i < N ; i++ ){
			for(int j = 0 ; j < N ; j++ ){
				cin>>v[i][j];
				r[i] += v[i][j];
				c[j] += v[i][j];
			}
		}
		
		for(int i = 0 ; i <= K ; i++ ){
			sr[i] = 0;
			sc[i] = 0;
		}
		
		for(int i = 1 ; i <= K ; i++){
			int min = 0;
			for(int j = 0 ; j < N ; j++ ){
				if( r[min] > r[j] )
					min = j;
			}
			sr[i] = ( r[min] + sr[i-1] );
			r[min] += N;
		}
		
		for(int i = 1 ; i <= K ; i++ ){
			int min = 0;
			for(int j = 0 ; j < N ; j++ ){
				if( c[min] > c[j] )
					min = j;
			}
			sc[i] = ( c[min] + sc[i-1] );
			c[min] += N;
		}
		
		int ans = ( sr[0] + sc[K] );
		for(int i = 1; i <= K ; i++ ){
			ans = min(ans, ( sr[i] + sc[ K-i] + i*( K-i) ) );
		}
		
		cout<<ans<<endl;
	}
}