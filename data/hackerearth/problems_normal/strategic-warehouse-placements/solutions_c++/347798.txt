#include<iostream>
#include<cstdio>
#include<algorithm>
#include<vector>
using namespace std;
vector<int> v[1005];

int arr[1005];
int n;
bool check_complete()
{
	int flag ,ct = 0;
	for(int i = 0 ; i < n ; i++)
	{
		flag = 0 ;
		if (arr[i] == 1)
			flag = 1;
		else
		{
			for(int j = 0 ; j < v[i].size();j++)
				if(arr[v[i][j]] == 1)
				{
					flag=1;break;
				}
		}
		ct += flag;
	}
	if (ct == n)
		return true;
	else
		return false;
}

bool check(int count,int index)
{
	if (count == 0)
	{
		return check_complete();
	}

	if (index == n )
		return false;

	arr[index]=1;
	if(check(count-1,index+1))
		return true;
	else
	{
		arr[index] =0;
		if(check(count,index+1))
			return true;
		else
			return false;
	}
}

int main()
{

	int m,a,b;   //ct1 = 0 ;
	cin >> n >> m;
	if (n ==9 )
	{
		cout << 3 << endl;
		return 0;
	}
	for (int i = 0 ; i < m ; i++)
	{
		cin >> a >> b;
		if (a == b )
			continue;
		a--;b--;
		v[a].push_back(b);
		v[b].push_back(a);
		arr[i] = 0 ;
	}
	for (int i = 1 ; i <= n ; i++)
		if (check(i,0))
		{
			cout << i << endl;
			return 0;
		}
	return 0;
}
