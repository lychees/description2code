#include<iostream>
#include<string>
#include<algorithm>
#include<stdio.h>
using namespace std;
struct ash
{
	int num[2];
	int pos;
}l[1000001];
bool cmp(struct ash a,struct ash b)
{
	return a.num[0]==b.num[0]?(a.num[1]<b.num[1]?1:0):(a.num[0]<b.num[0]?1:0);
}
int main()
{
	string s;int k,size,n=0,q;
	cin>>size;
	cin>>s;
	cin>>q;
	
	
	 int p[1][1000001];
	 int c=1;
	 int stp=1;
	 for(int i=0;i<size;i++)
	 {
	 	p[0][i]=s[i]-'a';
	 }
	 
	 while(c<size)
	 {
	 	for(int i=0;i<size;i++)
	 	{
	 		l[i].num[0]=p[0][i];
	 	
	 		l[i].num[1]=p[0][(i+c)%(size)];
	 		l[i].pos=i;
		 }
		sort(l,l+size,cmp);
		for(int i=0;i<size;i++)
		{
			p[0][l[i].pos]=i>0 && l[i].num[0]==l[i-1].num[0] && l[i].num[1]==l[i-1].num[1]?p[0][l[i-1].pos]:i;
		}
		c*=2;
		
	 }

	 
	 	l[0].pos=0;
	
 for(int j=1;j<size;j++)
	 {
	 	if(p[0][j]>p[0][l[j-1].pos])
	 	{
	 		l[j].pos=l[j-1].pos;
		 }
		 else 
		 {
		 	l[j].pos=j;
		 }
	 }
	 while(n<q)
	 {
	 scanf("%d",&k);
    printf("%d\n",l[k].pos);
	 n++;
}
}