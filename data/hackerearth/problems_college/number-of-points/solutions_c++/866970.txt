#include <iostream>
#include <algorithm>
#include <cmath>
using namespace std;
#define ll long long

ll gcd(ll a, ll b) 
{
	if (!b) return a;
	return gcd(b,a%b);
}

int main()
{
    int test;
    cin >> test;
    
    while (test--) {
    	
    	ll x1,x2,y1,y2;
    	cin >> x1 >> y1 >> x2 >> y2;
    	
    	ll a = abs(x2-x1);
    	ll b = abs(y2-y1);
    	if (a == 0 && b == 0) {
    		cout << "0" << endl;
    		continue;
    	}
    //	cout << a << " " << b << endl;
    	cout << gcd(a,b) - 1 << endl;
    }
    return 0;
}