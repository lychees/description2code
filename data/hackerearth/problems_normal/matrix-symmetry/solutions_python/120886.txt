t = input()
for _ in xrange(t):
    n = input()
    matrix = [raw_input() for _ in xrange(n)]
    hor = None
    ver = None
    for i in range(len(matrix)/2):
        if matrix[i] != matrix[n-1-i]:
            break
    else:
        hor = True
    zipped = zip(*matrix)
    for i in range(n/2):
        if zipped[i] != zipped[n-1-i]:
            break
    else:
        ver = True
    if hor and ver:
        print 'BOTH'
    elif hor:
        print 'HORIZONTAL'
    elif ver:
        print 'VERTICAL'
    else:
        print 'NO'
    
