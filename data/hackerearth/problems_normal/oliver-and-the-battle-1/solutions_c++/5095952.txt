#include <bits/stdc++.h>
using namespace std;
#define scan(x) scanf("%d",&x)
#define print(x) printf("%d",x)
#define MOD 1000000007
#define scanl(x) scanf("%lld",&x)
#define printl(x) printf("%lld",x)
bool arr[1001][1001];
bool vis[1001][1001];
int troop,maxi,curr;
int xx[8]={0,0,1,-1,-1,-1,1,1};
int yy[8]={1,-1,0,0,1,-1,1,-1};

bool check(int x,int y,int n,int m)
{
	if(x>=0 && y>=0 && y<m && x<n) return true;
	return false;
}

int findval(int x,int y,int n,int m,int curr)
{
	for(int k=0;k<8;k++)
	{
		if(!check(x+xx[k],y+yy[k],n,m)) continue;
		if(vis[x+xx[k]][y+yy[k]]) continue;
		if(!vis[x+xx[k]][y+yy[k]] && !arr[x+xx[k]][y+yy[k]]) 
		{
			vis[x+xx[k]][y+yy[k]]=1;
			continue;
		}
		if(!vis[x+xx[k]][y+yy[k]] && arr[x+xx[k]][y+yy[k]])
		{
			vis[x+xx[k]][y+yy[k]]=1;
			curr=1+findval(x+xx[k],y+yy[k],n,m,curr);
		}
	}
	return curr;
}


int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n,m;
		troop=0,maxi=0;
		cin>>n>>m;
		for(int i=0;i<n;i++)
		{
			for(int j=0;j<m;j++) 
			{
				cin>>arr[i][j];
				vis[i][j]=false;
			}
		}
		for(int i=0;i<n;i++)
		{
			for(int j=0;j<m;j++)
			{
				if(!vis[i][j] && arr[i][j])
				{
					vis[i][j]=1;
					troop++;
					curr=findval(i,j,n,m,1);
					maxi=max(curr,maxi);
				}
			}
		}
		cout<<troop<<" "<<maxi<<"\n";
	}
    return 0;
}
