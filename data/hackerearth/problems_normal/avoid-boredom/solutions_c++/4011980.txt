#include <iostream>
#include<utility>
#include <climits>
#include <set>
#include <vector>
using namespace std;
long long a[105];
long long ans[105][105];
void init()
{
	for(int i=0;i<105;i++)
	{
		for(int j=0;j<105;j++)
			ans[i][j]=0;
	}
}
long long int recurse(int n,int m,int index)
{
    if(m==0)return 0;
    if(index==n && m>0)return -1e9;
    if(ans[index][m]!=0)return ans[index][m];
	for(int i=index+1;i<n-m+1;i++)
	{
		ans[index][m]=max(ans[index][m],abs(a[index]-a[i])+recurse(n,m-1,i));
	}
	return ans[index][m];
}
int main()
{
	ios_base::sync_with_stdio(false);
	int t;
	scanf("%d",&t);
	while(t>0){
		int n,m;
		scanf("%d%d",&n,&m);
        m--;
		for(int i=0;i<n;i++)scanf("%lld",&a[i]);
		init();
        long long int f_ans=0;
        for(int i=0;i<n;i++){
		  f_ans=max(f_ans,recurse(n,m,i));
        }
        cout<<f_ans<<endl;
		t--;
	}
}
