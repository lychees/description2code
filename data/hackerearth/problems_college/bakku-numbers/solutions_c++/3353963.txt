#include <bits/stdc++.h>
using namespace std;

int main()
{
    int p1, p2;
    cin >>p1>>p2;
    int p = p1*p2;
    //cout <<"p = "<<p<<endl;
    int t;
    cin >> t;
    while(t--)
    {
    	int l, r;
    	cin >>l>>r;
    	int lp1, rp1, np1;
    	lp1 = (l/p1)*p1 + p1;
    	rp1 = (r/p1)*p1;
    	np1 = (rp1 - lp1)/p1 + 1;
    	if(l%p1 == 0)
    		np1++;
    	
    	//cout << "np1 =" <<np1<< endl;
    	int lp2, rp2, np2;
    	lp2 = (l/p2)*p2 + p2;
    	rp2 = (r/p2)*p2;
    	np2 = (rp2-lp2)/p2 + 1;
    	if(l%p2 == 0)
    		np2++;
    	//cout <<"np2 ="<<np2<<endl;
    	
    	int lp, rp, np;
    	lp = (l/p)*p + p;
    	rp = (r/p)*p;
    	np = (rp - lp)/p +1;
    	if(l%p == 0)
    		np++;
    	//cout <<"np "<<np<<endl;
    	np = np1 + np2 - np;
    	//cout <<"total no ="<<np;
    	double ans;
    	double n, x;
    	n = (r-l+1);
    	//cout << np<<endl;
    	ans = np/n;
    	
    	cout <<fixed<<setprecision(6)<<ans<<endl;
    	
    }
    return 0;
}
