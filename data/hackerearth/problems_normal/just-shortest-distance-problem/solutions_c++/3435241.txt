#include <bits/stdc++.h>
using namespace std;

vector<int> adj[1005];
int dist[1005];

int main()
{
	int n, m, u, v, cmd;

	for ( int i = 0; i <= 1000; ++i )
		dist[i] = 1e9;
	dist[1] = 0;
	cin >> n >> m;
	while ( m-- ) {
		cin >> cmd;
		if ( cmd == 1 ) {
			cin >> u;
			cout << (dist[u] == 1e9 ? -1 : dist[u]) << endl;
		} else {
			cin >> u >> v;
			adj[u].push_back( v );
			queue<int> q;
			q.push( u );
			while ( !q.empty( ) ) {
				int u = q.front( ); q.pop( );
				for ( int v : adj[u] ) {
					if ( dist[v] > dist[u] + 1 ) {
						dist[v] = dist[u] + 1;
						q.push( v );
					}
				}
			}
		}
	}
	return 0;
}
