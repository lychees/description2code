a,b = map(int,raw_input().split())

s = raw_input().strip()

ans = 0
total = a

for i in s:
    if i == "1":
        ans += total
        ans %= b
    total *= total
    total %= b
print ans
