#include <iostream>
#include<bits/stdc++.h>
using namespace std;

vector<string> names;
map<string, int> costs;

int main()
{
	ios_base::sync_with_stdio(false);
	int t;
	cin>>t;
	while(t--)
	{
		names.clear();
		costs.clear();
		int n,q;
		cin>>n>>q;
		string s;
		for(int i=0;i<n;i++) {
			cin>>s;
			names.push_back(s);
			costs[s] = 0;
		}
		
		for (int i=0; i<q; i++) {
			string payer;
			int m,amt;
			cin>>payer;
			cin>>amt;
			cin>>m;
			int toBePaid = amt/(m+1);
			
			for (int i=0; i<m; i++) {
				string temp; cin>>temp;
				costs[temp] -= toBePaid;
			}
			int extra = amt % (m+1);
			costs[payer] += toBePaid*m;
		}
		
		for (int i=0; i<n; i++) {
			string name = names[i];
			if (costs[name]>0) {
				cout<<name<<" is owed "<<costs[name]<<endl;
			} else if (costs[name]==0) {
				cout<<name<<" neither owes nor is owed"<<endl;
			} else {
				cout<<name<<" owes "<<-costs[name]<<endl;
			}
		}
	
	}
    
    return 0;
}
