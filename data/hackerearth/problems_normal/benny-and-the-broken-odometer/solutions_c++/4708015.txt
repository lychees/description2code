#include<bits/stdc++.h>
using namespace std;
#define lli long long int
#define vec vector
#define pb push_back
#define s(x) scanf("%d",&x)
#define all(x)	x.begin(),x.end()
#define pii pair<int,int>
#define fi first
#define se second
#define SZ 100005 //1e5
int dp[40][2][2];

string ss;
int size;
 
int digit_dp(int idx,int tight,int flag)
{
	if(dp[idx][tight][flag]!=-1) return dp[idx][tight][flag];
	
	if(idx==size) return dp[idx][tight][flag]= (flag==false);	
	
	
	int ans=0;
	if (tight)
	{
		for(int i=0; i<ss[idx]-'0'; i++)
		{
			ans+=digit_dp(idx+1,0,flag | (i==3) );
		}
		ans+=digit_dp(idx+1,1,flag | (ss[idx]-'0'==3) );
	}
	else
	{
	   for(int i=0; i<10; i++)
	   ans+=digit_dp(idx+1,0,flag | (i==3) );	  	
	}
	return dp[idx][tight][flag]=ans;	
}


int main()
{
	 int t;
	 cin>>t;
	 
	 while (t--)
	 {
		 for(int i=0; i<40; i++)
		 {
			for(int j=0; j<2; j++)
			{
				for(int k=0; k<2; k++)
				{
					dp[i][j][k]=-1;
				}
				
			}
			
		 }
		 
		 cin>>ss;
		 size=ss.size();
		 int ans=digit_dp(0,1,0)-1;
		 cout<<ans<<endl;
			 
	 }
}
