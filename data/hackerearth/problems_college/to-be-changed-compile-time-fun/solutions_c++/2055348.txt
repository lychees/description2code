#include <bits/stdc++.h>

using namespace std;

typedef long long ll;
typedef pair <int,int> pii;
typedef vector <int> vi;

#define rep(i, n) for(int i = 0; i < (n); ++i)

#define pb push_back
#define mp make_pair
#define ff first
#define ss second
#define all(c) c.begin(), c.end()
#define mset(a, v) memset(a, v, sizeof(a))
#define sz(a) ((int)a.size())

#define dbn cerr << "\n"
#define dbg(x) cerr << #x << " : " << (x) << " "
#define dbs(x) cerr << (x) << " "

int a[111];
int dp[111][111];

int go(int l, int r) {
    if (l > r) return 0;
    int& ret = dp[l][r];
    if (~ret) return ret;
    ret = 0;
    for (int i = l + 1; i <= r - 1; ++i) {
        ret = max(ret, a[l] * a[r] + go(l, i) + go(i, r));
    }
    return ret;
}

int main() {
    ios::sync_with_stdio(false);
    cin.tie(NULL);
    
    int n;
    cin >> n;

    rep (i, n) cin >> a[i];
    mset(dp, -1);
    cout << go(0, n - 1) << "\n";

    return 0;
}