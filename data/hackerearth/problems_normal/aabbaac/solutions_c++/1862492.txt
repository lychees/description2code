#include<iostream>
using namespace std;

main()
{
	long long int n,m,x,i,j, t;
	string s[60];
	cin>>t;
	while(t--){
		cin>>n;
		cin>>m;
		
		//s[i], cin>>s[i], s[i].length()
		for(i=0;i<n;i++)
		{
			cin>>s[i];
		}
		long long int l[60];
		l[0]=s[0].length();
		for(i=1;i<n;i++)
		{
			l[i]=(2*(l[i-1]))+s[i].length();
		}
		for(i=0;i<m;i++)
		{
			cin>>x;
			x++;
			for(j=(n-1);j>=0;j--)
			{
				if(x>(l[j]-s[j].length()))
				{
					cout<<s[j][(x-(l[j]-s[j].length()))-1];
					break;
				}
				else
				{
					if(x>(l[j]-s[j].length())/2)
					{
						x=(l[j]-s[j].length())-x + 1;
					}
				}
			}
		}	
	cout<<endl;
	}	
}