t=int(raw_input())
for tc in range(t):
	
	n,k=map(int,raw_input().split())
	lst=map(int,raw_input().split())
	lst=map(bin,lst)
	lst=map(str,lst)
	cnt=[]
	for i in range(n):
		cnt.append(lst[i].count("1"))
	cakes=0
	for j in range(k):
		cakes+=cnt.pop(cnt.index(max(cnt)))
	print cakes
		
	