/*input
1
5
1 1 1 2 2
*/

#include <bits/stdc++.h>
using namespace std;

#define ll long long
#define PII pair<ll, ll>
#define f first
#define s second
#define F(i,a,b) for(ll i = (ll)(a); i <= (ll)(b); i++)
#define RF(i,a,b) for(ll i = (ll)(a); i >= (ll)(b); i--)
#define inf LLONG_MAX
#define mod 1000000007
#define MAXN 100005
#define pb(x) push_back(x)

ll t, n, arr[MAXN], x;
int main() 
{
	ios_base::sync_with_stdio(false);cin.tie(0);
	cin>>t;
	while(t--)
	{
		cin>>n;
		vector < ll > ans;
		int f=0;
		F(i,1,n)
		{
			cin>>x;
			ll sz=ans.size();
			if(sz==0)
			{
				ans.push_back(x);
				continue;
			}
			if(sz==1 || f==0)
			{
				if(x>ans[sz-1])
					f=2;
				else if(x<ans[sz-1])
					f=1;
				ans.push_back(x);
				continue;
			}
			if(ans[sz-1]==x)
			{
				if(f==2)
					f=1;
				else if(f==1)
					f=2;
				ans.push_back(x);
				continue;
			}
	        if(f==2 && x<ans[sz-1])
			{
				ans.push_back(x);
				f=1;
				continue;
			}
	        if(f==1 && x>ans[sz-1])
			{
				ans.push_back(x);
				f=2;
				continue;
			}
			ans[sz-1]=x;
		}
		cout<<ans.size()<<endl;
	}
	return 0;
}