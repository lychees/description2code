    #include <iostream>
    using namespace std;

    int main() {

        long N, xa, xb, xc, sub, len; // x's will store the number of elements present before.
        cin >> N;
        string str;

        while(N--) {
        	xa = 0, xb = 0, xc = 0, sub = 0;
            cin >> str;
            len = str.size();
            for (int i = 0; i < len; i++) {
                if (str[i] == 'a') {
                    sub += min(xb, xc);
                    xa = i + 1;
                }
                if (str[i] == 'b') {
                    sub += min(xa, xc);
                    xb = i + 1;
                }
                if (str[i] == 'c') {
                    sub += min(xa, xb);
                    xc = i + 1;
                }
            }
            cout << ((len * (len + 1)) / 2)  - sub << endl;
        }
    }