#include <stdio.h>
#include<algorithm>
using namespace std;

long long int a[100005],dp[100005],s[100005];
int main()
{
	int t,n,i;
	s[0]=0;
	scanf("%d",&t);
	while(t--)
	{
		scanf("%d",&n);
		for(i=n;i>=1;i--)
			scanf("%lld",&a[i]);
		
		s[1]=a[1];
		for(i=2;i<=n;i++)
			s[i]=s[i-1]+a[i];
		
		
		dp[1]=a[1];
		dp[2]=a[1]+a[2];
		dp[3]=a[1]+a[2]+a[3];
		
		for(i=3;i<=n;i++)
			dp[i]=max(s[i-3]-dp[i-3]+a[i]+a[i-1]+a[i-2],max(s[i-1]-dp[i-1]+a[i],s[i-2]-dp[i-2]+a[i]+a[i-1]));
		
		// for(i=1;i<=n;i++)
		// 	printf("%lld ",s[i]);
		// printf("\n");
		
		// for(i=1;i<=n;i++)
		// 	printf("%lld ",dp[i]);
		// printf("\n");
		
		printf("%lld\n",dp[n]);
	}
    return 0;
}
