#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define mp make_pair
#define ll long long int
#define s(x) scanf("%d", &x)
#define sl(x) scanf("%lld", &x)
#define mod 1000000007

map <int, int> m;
int clr[2000];
vector <int> v[2000];
int mrk[2000];

ll get_region(int cur, int par, int col)
{
    if (clr[cur] < col)
        return 1;
    if (clr[cur] == col && mrk[cur])
        return 1;
    ll ans = 1;
    for (int i = 0; i < v[cur].size(); ++i) {
        if (v[cur][i] != par)
            ans  = (ans * get_region(v[cur][i], cur, col))%mod;
    }
    return (ans+1)%mod;
}

int main()
{
    int n, i, x, y, tmp;
    s(n);
    for (i = 1; i <= n; ++i)
        s(clr[i]);
    for (i = 1; i < n; ++i) {
        s(x);
        s(y);
        v[x].pb(y);
        v[y].pb(x);
    }
    for (i = 1; i <= n; ++i) {
        tmp = (get_region(i, -1, clr[i]) - 1 + mod)%mod;
        m[clr[i]] = (m[clr[i]] + tmp)%mod;
        mrk[i] = 1;
    }
    int q;
    s(q);
    while (q--) {
        s(x);
        printf("%d\n", m[x]);
    }
    return 0;
}

