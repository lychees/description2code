#include <bits/stdc++.h>
using namespace std;
int n,arr[100009];
vector<int>v[109];
int q;
int ans[100009];
int main(){
    cin>>n>>q;
    for(int i=0;i<n;i++){
        scanf("%d",&arr[i]);
        v[0].push_back(i);
    }
    for(int round = 0;v[round].size()>1;round++){
        for(int i=0;i<v[round].size();i+=2){
            if(i+1 < v[round].size()){
                if(arr[v[round][i]] > arr[v[round][i+1]]){
                    v[round+1].push_back(v[round][i]);
                }
                else{
                    v[round+1].push_back(v[round][i+1]);
                }
                ans[v[round][i]]++;
                ans[v[round][i+1]]++;
            }
            else{
                v[round+1].push_back(v[round][i]);
            }
        }
    }
    while(q--){
        int x;
        scanf("%d",&x);
        printf("%d\n",ans[x-1]);
    }
}
