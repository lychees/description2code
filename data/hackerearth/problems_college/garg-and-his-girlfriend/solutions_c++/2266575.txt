#include<bits/stdc++.h>
long long int rem[1000001];
using namespace std;
long long int answer;
int main(){
	int t;
	scanf("%d",&t);
	while(t--)
	{
        int n,k;
        scanf("%d %d",&n,&k);
        list<int> q;
        rem[0] = 0;
        q.push_back(0);
        for (int i=1; i<=n; ++i){
                long long int v;
                scanf("%lld",&v);
                answer += v;
                if (q.front() < i-k-1) q.pop_front();
                rem[i] = v + rem[q.front()];
                while (! q.empty() && rem[q.back()] >= rem[i]) q.pop_back();
                q.push_back(i);
        }
        if (q.front() < n-k)
			q.pop_front();
        printf("%lld\n",answer-rem[q.front()]);
    }
    return 0;
}