#include <bits/stdc++.h>
using namespace std;

#define ll long long int

ll m,ans=0,n,k;
map<ll,ll> M1,M2;

ll cal(ll num)
{
	ll ans=0;
	while(num)
	{
		ll x=num%10;
		ans+=(x*x);
		num/=10;
	}
	return ans;
}

void func(ll idx,ll cnt)
{
	//cout<<idx<<" "<<cnt<<endl;
	if(M1[idx]!=0)
	{
		m-=M1[idx];
		ans=M2[(m%(cnt-M1[idx]))+M1[idx]];
		return;
	}
	if(cnt==m)
	{
		ans=idx;
		return;
	}
	M1[idx]=cnt;
	M2[cnt]=idx;
	func(cal(idx),cnt+1);
	return;
}

int main()
{
    ll T;
    cin>>T;
    while(T--)
    {
    	M1.clear();
    	M2.clear();
    	ll num;
    	cin>>num>>m;
    	//cout<<"Func---\n";
    	func(num,0);
    	cout<<ans<<endl;
    }
    return 0;
}
