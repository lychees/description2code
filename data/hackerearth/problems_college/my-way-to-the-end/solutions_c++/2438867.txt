#include<stdio.h>
using namespace std;
int min(int r, int l)
{
	if(r>l)
		return l;
	return r;
}
int flag[101][101];
char arr[101][101];
int dfs(int i, int j, int k, int n)
{
	//printf("\nHere for %d %d", i, j);
	if(i>=k||j>=k)
		return -1;

	if(i==k-1&&j==k-1)
		return 0;
	
	if(flag[i][j]!=-2)
		return flag[i][j];
	
	//printf("calculating");
	int l=-1,r=-1;
	if(i+1<n&&arr[i+1][j]=='1')
	{
		l = dfs(i+1,j,k,n);
	}
	if(j+1<n&&arr[i][j+1]=='1')
	{
		r = dfs(i, j+1, k,n);
	}
	//printf("\nFor %d %d :- %d: %d", i,j,l,r);
	if(l==-1&&r==-1)
		flag[i][j]=-1;
	else if(l==-1)
		flag[i][j]= 1+r;
	else if(r==-1)
		flag[i][j]= 1+l;
	else
		flag[i][j]=1+min(r,l);
	
	//printf("\nCalculated for %d:%d =  %d", i, j,flag[i][j]);	
	return flag[i][j];
}
int main()
{
	int t;
	int n,k,q,i,j;
	scanf("%d",&t);
	for(q=0;q<t;q++)
	{
		scanf("%d %d", &n, &k);
		scanf("\n");
		for(i=0;i<n;i++)
		{
			for(j=0;j<n;j++)
			{
				scanf("%c", &arr[i][j]);
				flag[i][j]=-2;
			}
			scanf("\n");
		}
		if(k-1==0)
			printf("0\n");
		else if(arr[0][0]=='0'||arr[k-1][k-1]=='0')
			printf("-1\n");
		else
		{
			dfs(0, 0, k, n);
			printf("%d\n", flag[0][0]);
		}	
	}
	return 0;
}