# include<iostream>

using namespace std;

int lcm(int m,int n)
{
	int a=m,b=n;
	while(a!=b)
	{
		if(a<b)
			a=a+m;
		else
			b=b+n;
	}
	return a;
}


int main()
{
	int t,i;
	int X,Y,Z;
	long A,B;
	long ans[50];
	cin>>t;
	for(i=0;i<t;i++)
	{
		cin>>X>>Y>>A>>B;
		ans[i]=0;
		Z=lcm(X,Y);
		/*while(A<=B)
		{
			if(A%X==0&&A%Y==0)
				ans[i]++;
			A++;
		}*/
		int x_mod=A%Z;
		if(x_mod!=0)
			A+=(Z-x_mod);
		B-=B%Z;
		if(A<=B)
			ans[i]=int((B-A)/Z+1);
		
	}
	for(i=0;i<t;i++)
		cout<<ans[i]<<'\n';
	
	//cin>>t;
}