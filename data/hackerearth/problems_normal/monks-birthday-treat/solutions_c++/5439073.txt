#include <cstdio>
#include <stack>
#include <vector> 
#define max(a,b) (a>b?a:b);
#define INF 1000000007
using namespace std;

vector <int> adj[1001];
int vis[1001]={0};

int dfs(int s)
{
	int cnt=1;
	stack <int> S;
	S.push(s);
	vis[s]=1;
	while(!S.empty())
	{
		int p=S.top();
		S.pop();
		for(int i=0;i<adj[p].size();i++)
		{
			if(!vis[adj[p][i]])
			{
				cnt++;
				S.push(adj[p][i]);
				vis[adj[p][i]]=1;
			}
		}
	}
	return cnt;
}

int main()
{
    int cnt,x,y,n,m,i,j,ans=INF;
    scanf("%d%d",&n,&m);
    for(i=0;i<m;i++)
    {
    	scanf("%d%d",&x,&y);
    	adj[x].push_back(y);
    }
    for(i=1;i<=n;i++)
    {
    	for(j=0;j<1001;j++)
    	vis[j]=0;
    	x=dfs(i);
    	ans=min(ans,x);
    }
    printf("%d\n",ans);
    return 0;
}