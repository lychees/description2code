#include <iostream>
#include <list>
using namespace std;

int mat[1001][1001];
int visited[1001] = {0};

int print(int n,int s,int d)
{
	if(s==d)
	{
		return 0;
	}
	
	int u;
	list <int> q;
	q.push_back(s);
	visited[s] = 0;
	
	while(!q.empty())
	{
		u = q.front();
		q.pop_front();
		for(int i=1;i<=n;i++)
		{
			if(mat[u][i]&&!visited[i]&&u!=i)
			{
				if(i==d)
				{
					return visited[u]+1;
				}
				visited[i] = visited[u] + 1;
				q.push_back(i);
			}
		}
	}
	return -1;
}

int main()
{
    int n,m,s,d,a,b;
    cin >> n >> m >> s >> d;
    
    for(int i=1;i<=n;i++)
    {
    	for(int j=1;j<=n;j++)
    		mat[i][j] = 1;
    }
    
    for(int i=0;i<m;i++)
    {
    	cin >> a >> b;
    	mat[a][b] = 0;
    	mat[b][a] = 0;
    }
    
    cout << print(n,s,d);
    
    return 0;
}
