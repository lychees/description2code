#include <iostream>
using namespace std;

__int128 DigitSum(__int128 value)
{
	__int128 digitSum = 0;
	while (value != 0) {
		digitSum += value % 10;
		value /= 10;
	}
	return digitSum;
}

__int128 FindRecurSum(__int128 value)
{
	if (value < 10) {
		return value;
	}
	__int128 currVal = DigitSum(value);
	return FindRecurSum(currVal);
}

int main()
{
    int T;
    cin >> T;
    for (int t=0; t<T; t++) {
    	int M;
    	cin >> M;
    	__int128 initSum = 0;
    	for (int m=0; m<M; m++) {
    		unsigned long long mul, val;
    		cin >> mul >> val;
    		initSum += mul*val;
    	}
    	int recurSum = FindRecurSum(initSum);
    	cout << recurSum << endl;
    }
    return 0;
}
