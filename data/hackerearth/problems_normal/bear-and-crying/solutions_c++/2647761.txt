#include "bits/stdc++.h"
using namespace std;
const int N = 1e5 + 5;
const int mod = 1e9 + 7;
string str;
int n;
int dp[N];
int pw[N];
int main(){
    cin >> str;
    n = str.size();
    str = " " + str;
    pw[0] = 1;
    for(int i = 1 ; i <= n ; ++i){
        pw[i] = pw[i - 1] + pw[i - 1];
        if(pw[i] >= mod){
            pw[i] -= mod;
        }
    }
    dp[n + 1] = -1;
    int ans = 0;
    int spaces = 0;
    int last = n + 1;
    int colons = 0;
    for(int i = n ; i >= 1 ; --i){
        if(str[i] == ';'){
            dp[i] = (1LL * pw[spaces] * (1 + dp[last])) % mod;
            ans += dp[i] - colons;
            if(ans >= mod){
                ans -= mod;
            }
            if(ans < 0){
                ans += mod;
            }
            ++colons;
            last = i;
            spaces = 0;
        }
        else{
            ++spaces;
        }
    }
    cout << ans;
}