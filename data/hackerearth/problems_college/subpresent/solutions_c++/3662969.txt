#include<bits/stdc++.h>
using namespace std;
bool ck(string b, string tmp)
{
	int i,j,cnt;
	cnt=0;
	j=0;
	int pcnt=0;
	for(i=0;i<tmp.size();++i)
	{
		int key=tmp[i]-'0';
		pcnt=cnt;
		for(;j<b.size();++j)
		{
			if(key==b[j]-'0')
			{
				cnt++;
				j++;
				break;
			}
		}
		if(pcnt==cnt) return false;
		//cout<<"cnt="<<cnt<<endl;
	}
	return true;
}

int main()
{
    string b,tmp;
    int k;
    cin>>b>>k;
    int count=0;
    int t;
    cin>>t;
    while(t--)
    {
    	//getline(cin,tmp);
    	cin>>tmp;
    	if(tmp.size()<=b.size() && ck(b,tmp)) count++;
    }
    if(count>=k) cout<<count<<" LUCKY"<<endl;
    else cout<<count<<" UNLUCKY"<<endl;
    //string s1,s2;
    //cin>>s1>>s2;
    //cout<<ck(s1,s2)<<endl;
}
