#include<bits/stdc++.h>
using namespace std;
int dp[65537];
int m[20][20];
int calc(int a,int b)//calc min for a in b
	{
		int i,temp=1000000000;
		if(__builtin_popcount(b)==1)
			return 0;
		for(i=0;i<16;++i)
			{
				if(i!=a&&((1<<i)&b)!=0&&m[i][a]!=0)
					{
						temp = min(temp,m[i][a]);
					}
			}
		return temp;
	}
int main()
	{
		ios_base::sync_with_stdio(0);
		int max,t,n,w,i,j,ans,temp;
		cin>>t;
		while(t--)
			{
				for(i=0;i<65536;++i)
					dp[i] = 0;
				memset(m,0,sizeof(m));
				cin>>n>>w;
				for(i=0;i<n;++i)
					for(j=0;j<n;++j)
						cin>>m[i][j];
				max = (1<<n);
				for(i=0;i<max;++i)
					{
						if(__builtin_popcount(i)<=1)
							{
								dp[i] = 0;
								continue;
							}
						temp = 10000000;
						for(j=0;j<n;++j)
							{
								if(i&(1<<j))
									{
										temp = min(temp,dp[i^(1<<j)]+calc(j,i));
									}
							}
						dp[i] = temp;
					}
				ans = 0;
				for(i=0;i<max;++i)
					{
						if(dp[i]<=w)
							{
								if(ans<=(__builtin_popcount(i)))
									ans = __builtin_popcount(i);
							}
						//cout<<dp[i]<<" ";
					}
				cout<<ans<<endl;
			}
	}