#include<bits/stdc++.h>
#define ll long long int
#define md 1000000007
using namespace std;
vector<ll> adj[100005];
bool visited[100005];
//cocomp[100005];
ll cc=0;
ll dfs(ll v,ll idx)
{
	cc++;
	visited[v]=true;
	//cocomp[v]=idx;
	for(ll i=0;i<adj[v].size();i++)
	{
		if(!visited[adj[v][i]])
		{
			visited[adj[v][i]]=true;
			dfs(adj[v][i],idx);
		}
	}
}
int main()
{
	ios_base::sync_with_stdio(false);
	ll n,k,t,i,j,x,y;
	for(cin>>t;t;t--)
	{
		ll ans=1;
		memset(visited,false,sizeof(visited));
		cin>>n>>k;
		for(i=0;i<=n;i++)
		{
			adj[i].clear();
		}
		for(i=0;i<k;i++)
		{
			cin>>x>>y;
			adj[x].push_back(y);
			adj[y].push_back(x);
		}
		ll val=1;
		cc=0;
		for(i=1;i<=n;i++)
		{
			if(!visited[i])
			{
				dfs(i,i);
			}
			if(cc==1)
			{
				val=1;
			}
			else
			{
				val=(cc*(cc-1))/2;
				val=val%md;
			}
			//cout<<val<<endl;
			if(val!=0)
			{
				ans=(ans*val)%md;
			}
			cc=0;
		}
		cout<<ans<<endl;
	}
}




