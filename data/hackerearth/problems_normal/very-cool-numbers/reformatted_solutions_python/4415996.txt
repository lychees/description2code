def coolness(s):
    count = beg = 0
    while True:
        beg = s.find("101", beg) + 1
        if beg > 0:
            count += 1
        else:
            return count


for i in xrange(int(raw_input())):
    r = map(int, raw_input().split())
    R, K = r[0], r[1]
    counter = 0
    for i in range(5, R+1):
        binR = bin(i)
        if coolness(binR) >= K:
            counter += 1
    print counter
