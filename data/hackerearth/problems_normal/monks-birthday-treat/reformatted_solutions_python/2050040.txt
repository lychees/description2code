

n, d = (int(x) for x in raw_input().split())

depcs = {i: [] for i in range(1, n + 1)}

for _ in range(d):
    a, b = (int(x) for x in raw_input().split())
    depcs[a].append(b)


def reachable(v):
    visited, stack = set(), [v]
    while stack:
        u = stack.pop()
        if u not in visited:
            visited.add(u)
            stack.extend(depcs[u])
    return len(visited)


print min({reachable(v): v for v in range(1, n + 1)})
