#include <bits/stdc++.h>

using namespace std;

map <long long, vector <long long> > a;

int main() {
    long long i, j, n, t, ma, mi, ans;
    cin >> t;

    while(t --) {
        cin >> n;
        ma = -100000000;
        mi = 100000000;
        ans = 0;
        a.clear();

        for(i = 0; i < n; i ++) {
            cin >> j;
            ma = max(ma, j);
            mi = min(mi, j);
            vector <long long> w = a[j];

            if(w.size() != 0) {
                w.push_back(j);
                a[j] = w;
            }
            else {
                w.push_back(j);
                a[j] = w;
            }
        }
        map <long long, vector <long long> > :: iterator it;

        for(it = a.begin(); it != a.end(); it ++) {
            vector <long long> w = it -> second;

            if(w.size() > 1) {
                for(j = 0; j < w.size(); j ++) {
                    ans += w.size() - 1 - j;
                }
            }
        }
        ans += n;
        cout << ans << endl;
    }

    return 0;
}
