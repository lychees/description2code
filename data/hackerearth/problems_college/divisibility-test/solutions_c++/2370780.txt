#include <iostream>
#include <cstring>
using namespace std;

char a[100005];
int main()
{
   // cout << "Hello World!" << endl;
   int t;
   scanf("%d",&t);
   while(t--)
   {
   	scanf("%s",&a);
   	//map<int,int> gr;
   	//gr[0] = 1;
   	int n;
   	scanf("%d",&n);
   	int x,y;
   	scanf("%d%d",&x,&y);
   	x--;
   	y--;
   	int i,cur=0;
   	int ans = 0;
   	int j,k;
   	for(i=x;i<=y;i++)
   	{
   		cur = 0;
   	for(j=i;j<=y;j++){
   		//cout<<"cur = "<<cur<<endl;
   	cur = (cur*10 + a[j]-'0')%n;
   	if(cur==0)ans++;
   	}
   	}
   	printf("%d\n",ans);
 
   }
    return 0;
}

