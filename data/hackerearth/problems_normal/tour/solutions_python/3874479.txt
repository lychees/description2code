n = input()
cities = []
for i in range(0,n):
	cities.append(raw_input())
cost =[]
for i in range(0,n):
	l =[int(x) for x in  raw_input().split()]
	cost.append(l)

t =input()
tour =[]
for i in range(0,t):
	tour.append(raw_input())

total=0
current = cities[0]
dest=0
for i in range(0,t):
	total += cost[cities.index(current)][cities.index(tour[dest])]
	current = tour[dest]
	dest+=1

print total
	
