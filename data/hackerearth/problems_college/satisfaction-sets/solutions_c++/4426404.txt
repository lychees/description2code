#include <iostream>
#include<bits/stdc++.h>
#define p pair<int, int>
#define ll long long int
using namespace std;

int main()
{
  ll n,m;
  cin>>n;
  ll i,j,t;
  bool arr[200][1000]={0};
  t=n;
  ll maximum=INT_MIN;
  for(i=0;i<n;i++)
  {
  	cin>>m;
  	for(j=0;j<m;j++)
  	{
  		ll x;
  		cin>>x;
  		maximum= max(maximum,x);
  		arr[i][x]=1;
  	}
  }
  ll sum1=0,sum2=0,f1=0,f2=0,f3=0;
  for(i=0;i<=maximum;i++)
  { 
  	f1=0;f2=0,f3=0;
  	for(j=0;j<n;j++)
  	{   
  		if(arr[j][i]==1)
  		{
  			f3=1;
  		}
  		if(arr[j][i]==0&&f2==0)
  		{
  			sum2 += i;
  			sum2 = sum2%1000000000;
  			f2=1;
  		}
  		if(arr[j][i]==1&&f1==0)
  		{
  			sum1 += i;
  			sum1 = sum1%1000000000;
  			f1=1;
  		}
  	}
  	if(f3==0)
  	{
  		sum2 -= i;
  	}
  }
  cout<<(sum2-sum1)%1000000000;
  
    return 0;
}
