#include<iostream>
#include<cstdlib>
#include<vector>
#include<climits>

using namespace std;

void print_arr(int *arr,int n)
{
    for(int i = 1;i <= n;i++)
        cout<<arr[i]<<" ";
    cout<<endl;

}

int main()
{
    int *arr,N,M,min,max,count,a_min,a_max,diff1,diff2,s_diff;
    char ch;
    int X,C,Y;
    cin>>N;
    cin>>M;
    arr = new int[N+1];
    for(int i = 1;i<=N;i++)
        cin>>arr[i];
   // print_arr(arr,N);
    for(int i =1;i<=M;i++)
    {
        cin>>ch;
        switch(ch)
        {
        case 'U':
            cin>>X;
            cin>>Y;
            arr[X] = Y;
     //       print_arr(arr,N);
            break;
        case 'Q':
            cin>>X;
            cin>>C;
            count = 0;
            a_min = INT_MAX;
            a_max = INT_MIN;
            min = arr[X]-C;
            max = arr[X]+C;
            for(int i = X;i<=N;i++)
            {
                if(arr[i]>= min && arr[i] <= max)
                {
                    if(arr[i]<a_min)
                        a_min = arr[i];
                    if(arr[i]>a_max)
                        a_max = arr[i];
                    count++;
                }
                else
                    break;
            }
            if(count == 0)
                cout<<"-1"<<" "<<"-1"<<endl;
            else
            {
                diff1 = arr[X]-a_min;
                diff2 = a_max-arr[X];
                if(diff1>diff2)
                   s_diff = diff1;
                else
                    s_diff = diff2;
                cout<<count<<" "<<s_diff<<endl;
            }
        }
    }
}
