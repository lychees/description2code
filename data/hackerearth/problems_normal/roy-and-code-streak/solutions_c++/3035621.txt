#include<bits/stdc++.h>
using namespace std;
#define ll long long 
#define mp make_pair
#define pb push_back
#define ff first
#define ss second
#define ff first
#define ss second
#define sd(x) scanf("%d",&x)
#define mod 360
bool has[1000005];
int main(){
  int t;
  cin>>t;
  memset(has,false,sizeof(has));
  while(t--){
    int n;
    cin>>n;
    int x[n];
    int cnt=0;
    int mx=0;
    for(int i=0;i<n;i++){
      int a,b;
      cin>>a>>b;
      x[i]=a;
      if((b==1)&&(!has[a])){
        has[a]=true;
        cnt++;
      }
      else if(b==0){
        cnt=0;
      }
      mx=max(mx,cnt);
    }
    for(int i=0;i<n;i++){
        has[x[i]]=false;     
    }
    cout<<mx<<endl;
  }
  return 0;
}
    