from fractions import gcd
a, b = map(int, raw_input().split())
q = gcd(a, b)
l = (a*b)/q
for _ in xrange(int(raw_input())):
    n, m = map(int, raw_input().split())
    n -= 1
    x = ((m/a + m/b - m/l) - (n/a + n/b - n/l))
    z = x/float((m-n))
    print("%.6f" % z)
