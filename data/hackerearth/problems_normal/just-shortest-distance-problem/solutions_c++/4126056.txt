#include<bits/stdc++.h>
using namespace std;
#define inf int(1e9)
int dis[1001];
vector<int>adj[1001];
void update(int ,int );
void query(int);
int main()
{
	// initialise 
	for(int i=1;i<1001;i++)dis[i]=inf;
	dis[1]=0;
	
	int n,m;
	cin>>n>>m;
	query(m);
	
	return 0;
}
void query(int m)
{
	int y,x,t;
	while(m--)
	{
		cin >> t;
		if(t==1)
		{
			cin>>x;
			if(dis[x]==inf)cout<<-1<<endl;
			else cout<<dis[x]<<endl;
		}
		else
		{
			cin >> x >> y;
			update(x,y);
		}
	}
}

void update(int u,int v)
{
	adj[u].push_back(v);// create edge;
	if(dis[u]==inf)return;
	if(dis[v]>dis[u]+1)
	{
		dis[v]=dis[u]+1;
		queue<int>q;
		q.push(v);
		while(!q.empty())
		{
			u=q.front();q.pop();
			for(int i=0;i<adj[u].size();i++)
			{
				int v=adj[u][i];
				if(dis[v]>dis[u]+1)
				{
					dis[v]=dis[u]+1;
					q.push(v);
				}
			}
		}
	}
}