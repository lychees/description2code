#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
int main(){
	int t;
	cin>>t;
	while(t--){
		int n,m;
		cin>>n>>m;
		string arr[100];
		for(int i=1;i<=n;i++){
			cin>>arr[i];
		}
		ll dp[100];
		memset(dp,0,sizeof(dp));
		dp[0]=0;
		for(int i=1;i<=n;i++){
			dp[i]=2*dp[i-1]+arr[i].length();
		}
		while(m--){
			ll index;
			cin>>index;
			for(int i=n;i>0;i--){
				if(index>=2*dp[i-1]){
					cout<<arr[i][index-2*dp[i-1]];
					break;
				}else if(index>=dp[i-1]){
					index=2*dp[i-1]-(index+1);
				}
			}
		}
		cout<<endl;
	}
	return 0;
}