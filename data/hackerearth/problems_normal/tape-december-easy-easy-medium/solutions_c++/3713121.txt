#include <bits/stdc++.h>
using namespace std;

int main() {
	long long int n,k,d;
	scanf("%lld%lld%lld",&n,&k,&d);
	
	long long int a[n];
	
	int i;
	
	for(i=0;i<n;i++) scanf("%lld",&a[i]);
	
    long long int sum=0,ans=0;
	
	int j,flag=0,last;
	
	for(i=0;i<n;) {
		
		long long int ctr=0;
		
	    for(j=i;j<i+k&&j<n;j++) {
	    	if(a[j]) last=j;
	        sum+=a[j];
	        ctr++;
	        }
	        
	        
	      
	        if(sum<d&&ctr==k) {
	        	if(sum==0) {
	        		flag=1;
	        		break;
	        	}
	            for(int j1=last;j1<last+k&&j1<n;j1++) a[j1]=a[j1]*d;
	            ans++;
	            i=last;
	        }
	        
	        else {
	        	i++;
	        }
	        
	       // if(j==n) break;
	        
	        sum=0;
	}
	
//	for(i=0;i<n;i++) printf("%lld ",a[i]);
	
	//printf("\n");
	
	if(flag==1) printf("-1");
	
	else printf("%lld",ans);
	
	return 0;
}
