#include <iostream>
#include <algorithm>
#include <cmath>

int main() {
    auto T = 0;
    std::cin >> T;
    const int week = 24*60*60*7;
    
    while (T--) {
        auto i = 7;
        std::vector<int> vec;
        while (i--) {
            auto j = 0;
            std::cin >> j;
            while (j--){
                auto start = 0, end = 0;
                std::cin >> start >> end;
                vec.push_back(end - start);
            }
        }
        std::sort(std::begin(vec), std::end(vec));
        auto limit = std::ceil(0.75 * vec.size());
        auto sum = std::accumulate(std::begin(vec), std::begin(vec) + limit, 0);
        std::cout << week - sum << "\n";
    }
    return 0;
}
