#include<bits/stdc++.h>
using namespace std;
#define mx 100005
int par[mx],size[mx],root_a,root_b;
set<pair<int,int> >st;
void ini(){
	for(int i=0;i<mx;i++){
		par[i]=i;
		size[i]=1;
	}
}
int root(int a){
	while(a!=par[a]){
		par[a]=par[par[a]];
		a=par[a];
	}
	return a;
}
int unon(int a,int b){
	root_a=root(a);
	root_b=root(b);
	if(root_a==root_b) return 0;
	st.erase(st.find(make_pair(size[root_a],root_a)));
	st.erase(st.find(make_pair(size[root_b],root_b)));
	if(size[root_a]>size[root_b]){
		size[root_a]+=size[root_b];
		par[root_b]=root_a;
		st.insert(make_pair(size[root_a],root_a));
	}
	else{
		size[root_b]+=size[root_a];
		par[root_a]=root_b;
		st.insert(make_pair(size[root_b],root_b));	
	}
}
int main(){
	ini();
	int n,q;
	cin >> n >> q;
	for(int i=1;i<=n;i++)st.insert(make_pair(size[i],par[i]));
	for(int i=1;i<=q;i++){
		int a,b;
		cin >> a >> b;
		unon(a,b);
		if(st.size()==1)cout << "0" << endl;
		else{
			set<pair<int,int> >::iterator it=st.begin();
			int val1=(*it).first,val2;
			it=st.end();--it;
			val2=(*it).first;
			cout << val2-val1 << endl;
		}
	}
	return 0;
}