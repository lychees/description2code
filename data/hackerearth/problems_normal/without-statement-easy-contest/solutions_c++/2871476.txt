#include <bits/stdc++.h>
#define pb push_back
#define mp make_pair
#define ff first
#define ss second
#define sz size()
#define all(a)  a.begin(), a.end()
#define allr(a) a.rbegin(), a.rend()
#define fill(a, x) memset(a, x, sizeof(a));
#define mod 1000000007

using namespace std;

unordered_map<int, int> dp;

int main(){
   int T;
   cin >> T;
   int N, M, x, y;
   while(T--){
      scanf("%d%d", &N, &M);
      dp[N] = 0;
      int Ans;
      bool f = false;
      dp.clear();
      for(int m=1;m<=M;++m){
         y = 0;
         while(N){
            y += (N % 10) * (N % 10);
            N /= 10;
         }
         if(dp.count(y) != 0){
            x = m - dp[y];
            M -= m;
            M %= x;
            f = true;
            N = y;
            Ans = y;
            while(M--){
               y = 0;
               while(N){
                  y += (N % 10) * (N % 10);
                  N /= 10;
               }
               N = y;
               Ans = N;
            }
         }
         else{
            dp[y] = m;
         }
         if(f){
            break;
         }
         N = y;
         Ans = N;
      }
      printf("%d\n", Ans);
   }
   return 0;
}