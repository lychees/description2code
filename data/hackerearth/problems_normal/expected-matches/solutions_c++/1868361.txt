#include<iostream>
#include<cstdio>
#include<cstring>
#include<string>
#include<cctype>
#include<cstdlib>
#include<algorithm>
#include<bitset>
#include<vector>
#include<list>
#include<deque>
#include<queue>
#include<map>
#include<set>
#include<stack>
#include<cmath>
#include<sstream>
#include<fstream>
#include<iomanip>
#include<ctime>
#include<complex>
#include<functional>
#include<climits>
#include<cassert>
#include<iterator>
using namespace std;
int t;
int n;
int m;
vector<double> a;
vector<double> b;
bool use[1001][1001];
double dp[1001][1001];
double p[1001][1001];
inline double dfs(int aa, int bb){
	if (aa == n || bb == m){
		return 0;
	}
	if (use[aa][bb]){
		return dp[aa][bb];
	}
	use[aa][bb] = true;
	dp[aa][bb] = 0.0;
	//a win
	dp[aa][bb] += (dfs(aa, bb + 1)+1.0)*p[aa][bb];//*(1.0-b[bb]);
	dp[aa][bb] += (dfs(aa+1, bb)+1.0)*(1.0-p[aa][bb]);//b[bb]*(1.0-a[aa]);
	return dp[aa][bb];
}
int main(){
	scanf("%d", &t);
	while (t--){
		a.clear();
		b.clear();
		scanf("%d%d", &n, &m);
		memset(use, false, sizeof(use));
		for(int i=0;i<n;i++){
			for(int j=0;j<m;j++){
				scanf("%lf",&p[i][j]);
			}
		}
		double ans = dfs(0, 0);
		printf("%.6f\n", ans);
	}
	return 0;
}