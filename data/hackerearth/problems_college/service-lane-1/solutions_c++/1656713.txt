#include<math.h>
#include<stdio.h>
int main()
{
    int t,n,i,entry,exit,count1,count2,count3;
    scanf("%d%d",&n,&t);
    int A[n];
    for(i=0;i<n;i++)
    scanf("%d",&A[i]);
    while(t--)
    {     count1=count2=count3=0;
        scanf("%d%d",&entry,&exit);
        for(i=entry;i<=exit;i++)
         {
             if(A[i]==1)
                count1++;
             else if(A[i]==2)
                count2++;
               else
                count3++;
         }
            if(count1>0)
            printf("1\n");
            else if(count2>0)
            printf("2\n");
            else
            printf("3\n");
    }
    return 0;
}
