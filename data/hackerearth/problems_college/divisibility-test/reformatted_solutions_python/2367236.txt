import sys
test = int(input())
while (test > 0):
    N = str(input())
    div = int(input())
    a, b = map(int, sys.stdin.readline().split())
    count = 0
    m = b
    for i in range(a, b+1):
        if (i > b):
            break
        for j in range(i, b+1):
            if (j > b):
                break
            sub = N[i-1:j]
            if (int(sub) % div == 0):
                count += 1
    print(count)
    test -= 1
