/*input
2
7 2 2
2 4
1 3
11 2 2
2 4
1 3
*/

#include <bits/stdc++.h>
using namespace std;

#define ll long long
#define PII pair<ll, ll>
#define f first
#define s second
#define F(i,a,b) for(ll i = (ll)(a); i <= (ll)(b); i++)
#define RF(i,a,b) for(ll i = (ll)(a); i >= (ll)(b); i--)
#define inf LLONG_MAX
#define mod 1000000007
#define MAXN 100005
#define pb(x) push_back(x)

ll t, m, n1, n2, val;
ll arr[65], brr[20];
vector < ll > tmp;
vector < ll > ans;
bool flag;
int main() 
{
	ios_base::sync_with_stdio(false);cin.tie(0);
	cin>>t;
	while(t--)
	{
		flag=0;
		tmp.clear();
		cin>>m>>n1>>n2;
		F(i,1,n1)
			cin>>arr[i];
		F(i,0,n2-1)
			cin>>brr[i];
		tmp.pb(0);
		sort(arr+1,arr+1+n1);
		F(i,1,(1<<n2)-1)
		{
			ll sum=0;
			F(j,0,n2-1)
				if((1<<j) & i)
					sum+=brr[j];
			tmp.pb(sum);
		}
		sort(tmp.begin(), tmp.end());
		ll sz=tmp.size();
		F(i,0,sz-1)
		{
			ans.clear();
			val=m-tmp[i];
			RF(i,n1,1)
			{
				if(val>=arr[i])
				{
					ans.pb(arr[i]);
					val-=arr[i];
				}
			}
			if(val==0)
			{
				flag=1;
				break;
			}
		}
		if(flag)
		{
			cout<<"YES"<<endl;
			sz=ans.size();
			RF(i,sz-1,0)
				cout<<ans[i]<<" ";
			cout<<endl;
		}
		else
			cout<<"NO"<<endl;
	}
	return 0;
}