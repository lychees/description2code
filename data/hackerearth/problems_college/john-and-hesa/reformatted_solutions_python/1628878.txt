'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
inp = raw_input()
t = int(inp)
i = 1
while i <= t:
    inp = raw_input().split()
    x = int(inp[0])
    p = int(inp[1])
    count = 0
    while x % p == 0:
        x = x/p
        count += 1
    if x == 1:
        x = 0
    print count, x
    i += 1
