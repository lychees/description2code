#include<cstdio>
using namespace std;
char st[51][104];
int n,m;
long long len[54];
int l[52];
void pre()
{
	for(int i=0;i<n;i++)
	{
		int j=0;
		for(;st[i][j]!='\0';j++) ;
		l[i]=j;
	}
	
	
	len[0]=l[0];
	for(int i=1;i<n;i++)
	{
		len[i]=2*len[i-1]+l[i];
	}
}

char fnd(long long pos,int s)
{
	if(s==0) return st[0][pos];
	long long x=2*len[s-1];
//	printf("here %lld %d\n",pos,s);
	if(pos>=x) return st[s][pos-x];
	x=len[s-1];
	if(pos<x) return fnd(pos,s-1);
	else
	return fnd(2*x-pos-1,s-1);
}
int main()
{
	int ntc,q; scanf("%d",&ntc);
	while(ntc--)
	{
		scanf("%d %d",&n,&m);
		for(int i=0;i<n;i++) scanf("%s",st[i]);
		//for(int i=0;i<n;i++) printf("%s\n",st[i]);
		pre();
	//	printf("here q = %d\n",m);
		for(int i=0;i<m;i++)
		{
			long long y; scanf("%lld",&y);
			int c=fnd(y,n-1);
			printf("%c",c);
		}
		printf("\n");
	}
}