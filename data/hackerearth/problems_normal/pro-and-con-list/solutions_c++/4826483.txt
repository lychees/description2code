#include <bits/stdc++.h>
using namespace std;
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		long long int n,i=0;
		cin>>n;
		long long int a[n],b[n];
		while(i<n)
		{
			cin>>a[i]>>b[i];
			i++;
		}
		long long int sum=0,happiness[n],maxHappiness=INT_MIN;
		for(long long int i=0;i<n;i++)
		{
			sum=sum+b[i];
		}
		i=0;
/*		while(i<n)
		{
//			cout<<a[i]<<"  "<<b[i]<<"\n";
			i++;
		}
		cout<<" sum = "<<sum<<" \n";
*/		for(long long int i=0;i<n;i++)
		{
				happiness[i]=a[i]+b[i];
				
		}
		sort(happiness,happiness+n);
		i=0;
/*		while(i<n)
		{
			cout<<happiness[i]<<" ";
			i++;
		}
*/	cout<<happiness[n-1]+happiness[n-2]-sum<<"\n";
}
}
			