#include <iostream>
#include <bits/stdc++.h>
using namespace std;

bool pr[5000001];
void sieve()
{
	pr[1]=1;
	for(int i=2;i<=sqrt(5000000);++i)
	{
		if(!pr[i])
		{
			for(int j=i*i;j<=5000000;j+=i)
				pr[j]=1;
		}
	}
}
int main()
{
    int q,x,y;
    sieve();
    scanf("%d",&q);
    while(q--)
    {
    	scanf("%d %d",&x,&y);
    	int ans=0;
    	
    	int l1=(log(x)*1.0/log(2)+1e-6);
    	int l2=(log(y)*1.0/log(2)+1e-6);
    	//printf("levels: %d %d\n",l1,l2);
    	while(l1>l2)
    	{
    		if(pr[x]) ans+=x;
    		else ans-=x;
    		x/=2;
    		l1--;
    	}
    	//printf("%d\n",ans);
    	while(l2>l1)
    	{
    		if(pr[y]) ans+=y;
    		else ans-=y;
    		y/=2;
    		l2--;
    	}
    	//printf("%d\n",ans);
    	while(x!=y)
    	{
    		if(pr[x]) ans+=x;
    		else ans-=x;
    		x/=2;
    		if(pr[y]) ans+=y;
    		else ans-=y;
    		y/=2;
    	}
    	if(pr[x]) ans+=x;
    	else ans-=x;
    	
    	printf("%d\n",ans);
    }
    return 0;
}
