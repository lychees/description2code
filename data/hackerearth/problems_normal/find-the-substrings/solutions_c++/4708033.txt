#include <iostream>
#include <queue>
#include <unordered_map>

using namespace std;

int main()
{
	int t;
	cin>>t;
	while(t>0)
	{
		string s;
		cin>>s;
		long long int sum=0;
		unordered_map<char,int>  mymap;
		queue<char> que;
		int len=s.size();
		for(int i=0;i<len;i++)
		{
			if(s.at(i)=='a' ||  s.at(i)=='b' || s.at(i)=='c')
				mymap[s.at(i)]++;
			
			que.push(s.at(i));
			if(mymap.size()>2)
			{
				while(mymap.size()>2)
				{
					char ch=que.front();
					if(mymap[ch]==1)
						mymap.erase(ch);
					else
						mymap[ch]--;
					que.pop();	
				}
				
			}
			long long int temp=que.size();
			sum+=temp;
		}
		cout<<sum<<endl;
		t--;
	}
	
}
