#include<iostream>
using namespace std;

long long int gcd(long long int x,long long int y)
{
	if(x>y)
	{
		if(x%y==0)
			return y;
		else
			gcd(x%y,y);
	}
	else
	{
		if(y%x==0)
			return x;
		else
			gcd(x,y%x);
	}
}

int main()
{
    int t;
    cin>>t;
    for(int i=0;i<t;i++)
    {
    	long long int x,y,a,b;
    	cin>>x>>y>>a>>b;
    	long long int arr=(x*y)/gcd(x,y);
    	cout<<b/arr-a/arr+(a%arr==0 ? 1 : 0)<<endl;
    }
    return 0;
}
