#include <bits/stdc++.h>
using namespace std;

#define MOD 1000000007

typedef long long LL;

LL net[1000001];

void generate(LL x,LL y)
{
	net[0]=1;
	int i=1;
	for(;i<=1000000;i++)
	{
		net[i]=((x*net[i-1])-y)%MOD;     //To avoid data loss x,y are LL
	}
}	
int main()
{
    LL x,y;
    scanf("%lld%lld",&x,&y);
    assert(x<101);
    assert(y>=0&&y<=(x-2));
    LL Q;
    scanf("%lld",&Q);
    generate(x,y);     // construct a space-time trade off mechanism (storing answers)
    while(Q--)
    {
    	LL N;
    	scanf("%lld",&N);
    	assert(N>=1);
    	assert(N<=1000000);
    	printf("%lld\n",net[N]);
    }
    return 0;
}
