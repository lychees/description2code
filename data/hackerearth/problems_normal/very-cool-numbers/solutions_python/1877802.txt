import math

def dec_to_bin(x):
    return (bin(x)[2:])

cnt=[]
cnt.append(0)

for i in range(1,100001):
	temp=dec_to_bin(i)
	summ=0
	#print "i: ", i
	for x in range(0,len(temp)-2):
		if((temp[x]=='1')and(temp[x+1]=='0')and(temp[x+2]=='1')):
			summ+=1
			x+=1
	#print "sum: ",summ
	cnt.append(summ)

t=input()
while(t):
	t-=1
	ans=0

	user_input = raw_input().split()
	n = int(user_input[0])
	k = int(user_input[1])

	for i in range(1,n+1):
		if(cnt[i]>=k):
			ans+=1

	print ans