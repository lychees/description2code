#define DEBUG 0
 
#include <algorithm>
#include <functional>
#include <numeric>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <complex>
#include <cstdlib>
#include <ctime>
#include <cstring>
#include <cassert>
#include <string>
#include <vector>
#include <list>
#include <map>
#include <set>
#include <deque>
#include <queue>
#include <stack>
#include <bitset>
#include <sstream>
using namespace std;
#define f(i,n) for(i=0;i<n;i++)
#define ll long long
#define ld long double

int main()
{
	int n,m,a,b,c,f,x,y,i,j,k,A[1000],B[1000][1000];
	std::ios::sync_with_stdio(false);
	cin>>n>>m>>a>>b;
	a--;b--;
	if(a==b){
		cout<<0;
		return 0;
	}
	f(i,n){
		A[i]=0;
		f(j,n)
			B[i][j]=1;
		B[i][i]=0;
	}
	f(i,m){
		cin>>x>>y;
		x--;y--;
		B[x][y]=B[y][x]=0;
	}
	A[a]=1;
	f(k,n){
		c=0;
		f(i,n){
			if(A[i]==1){
				A[i]=2;
				f(j,n){
					if(B[i][j]==1 && A[j]==0){
						if(j==b){
							cout<<k+1;
    						return 0;
						}
						c=1;
						A[j]=3;
					}
				}
			}
		}
		f(i,n)
			if(A[i]==3)
				A[i]=1;
		if(!c)
			break;
	}
	cout<<-1;
    return 0;
}
