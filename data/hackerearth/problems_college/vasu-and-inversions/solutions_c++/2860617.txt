#include <stdio.h>
int main(){
int t;
scanf("%d", &t);
while(t--){
   int n,k;
   scanf("%d %d",&n, &k);
   int a[n+1], o_c = 0, one_c = 0;
   for(int i = 0; i < n; i++) {
        int x; scanf("%d", &x);
        (x == 0) ? o_c++ : one_c++;
   }
   if(o_c >= k){
        printf("%d\n", one_c + k);
   }
   else{
        printf("%d\n", (one_c - ((k - o_c)&1) + o_c));
   }
}
return 0;
}