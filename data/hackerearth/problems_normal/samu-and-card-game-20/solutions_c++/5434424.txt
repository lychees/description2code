#include <iostream>
using namespace std;

int main()
{int t,k;
long long int n,m,i,j,c;
cin>>t;
while(t--)
{long long int x=1,y=1;
 c=0;
	cin>>n>>m;
	cin>>k;
	while(k--)
	{
		cin>>i>>j;
			x=x+i;
			y=y+j;
		while(x<=n&&y<=m&&x>0&&y>0)
		{c++;
			x=x+i;
			y=y+j;
		
		}
		if(x>n||y>m||x<=0||y<=0)
		{
			x=x-i;
			y=y-j;
		}
	}	
	cout <<c<<endl;
}
    
    return 0;
}
