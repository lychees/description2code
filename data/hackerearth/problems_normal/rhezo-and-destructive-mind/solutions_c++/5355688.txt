#include "bits/stdc++.h"

using namespace std;

#define TEST(T) int T; sci(T); while(T--)
#define ll long long
#define F first
#define S second
#define mp make_pair
#define pb push_back
#define ins insert
#define pii pair<int,int>
#define all(V) V.begin(),V.end()
#define clr(V,val) memset(V,val,sizeof(V))
#define rep(X,A,N,C) for(X=A;X<=N;X+=C)
#define rept(X,A,N,C) for(X=A;X>=N;X-=C)
#define sci(X) scanf("%d",&X)
#define scl(X) scanf("%lld",&X)
#define scs(X) scanf("%s",&X)
#define pfi(X) printf("%d",X)
#define pfl(X) printf("%lld",X)
#define pfs(X) printf("%s",X)
#define sp printf(" ")
#define nxt printf("\n")

const int MX=1e6 + 5;

const int INF=1e9;

const int M=1000000007;


            /*************************/
/********** I GOTTA DO WHAT I GOTTA DO ********/
           /*************************/
  
int l[105],d[105],p[105],ap[105],vi[105],t=0;

vector<int> v[105];

void chkap(int x)
{
	vi[x] = 1;
	
	t++;
	
	l[x] = d[x] = t;
	
	int y,child = 0;
	
	for(y=0;y<v[x].size();y++)
	{
		int t = v[x][y];
		
		if(!vi[t])
		{
			p[t] = x;
			
			child++;
			
			chkap(t);
			
			l[x]=min(l[x],l[t]);
			
			if(p[x] == -1 && child > 1) ap[x] = 1;
			
			if(p[x] != -1 && l[t] >= d[x]) ap[x] = 1;
			
			
		}
		
		else if(t != p[x]) l[x]=min(l[x],d[t]);
	}
	
}
             
int main()
{
	
	clr(vi,0);
	
	clr(l,0);
	
	clr(d,0);
	
	clr(p,-1);
	
	clr(ap,0);
	
	int n,m;
	
	sci(n);
	
	sci(m);
	
	while(m--)
	{
		int a,b;
		
		sci(a);
		
		sci(b);
		
		v[a].pb(b);
		
		v[b].pb(a);
		
	}
	
	int x;
	
	for(x=1;x<=n;x++)
	{
		if(!vi[x]) chkap(x);
	}
	
	int q;
	
	sci(q);
	
	while(q--)
	{
		int node;
		
		sci(node);
		
		if(ap[node]){
			
			printf("Satisfied");
			
			sp;
			
			pfi(v[node].size());
		}
		
		else printf("Not Satisfied");
		
		nxt;
	}
	
}