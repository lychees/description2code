#include<bits/stdc++.h>
using namespace std;
int val[1000001];
int pr[1000001];
int main(){
 pr[0] = pr[1] = 1;
   for( int i = 2 ; i <= 1e6 ; ++i ){
        if(!pr[i])
        for(int j = 2 * i; j <= 1e6 ; j = j + i )
          pr[j] = 1;
   }
   for(int i = 2 ; i <= 1e6 ; ++i ){
        int num = i;
        int s = 0;
        string x;
       while( num ){
         x = x + (char)(num%10 + '0');
         num=num/10;
       }
       reverse( x.begin() , x.end());
       for(int j = 0 ; j < x.size() ; ++j ){
          int sm = 0;
          for(int k = j  ; k < x.size() ; ++k )
            sm = sm * 10  + (x[k] - '0');
           val[i] = (val[i] | (!pr[sm]) );
       }
     val[i] +=val[i-1];
   }
   int t;
   scanf("%d",&t);
   while( t-- ){

     int l , r;
     scanf("%d%d",&l,&r);
      printf("%d\n",val[r] - val[l-1]);
   }





}
