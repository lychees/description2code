#include <iostream>
#include <string>
#include <vector>
#include <algorithm>
using namespace std;

int numOnes(int n) {
	int c = 0;
	while(n) {
		n &= n-1;
		c++;
	}
	
	return c;
}

int main()
{
	int t;
	cin >> t;
	while(t--) {
		int n,k;
		cin >> n >> k;
		vector<int> v(n);
		for(int i = 0;i < n;i++) {
			cin >> v[i];
			v[i] = numOnes(v[i]);
		}
	
			
		sort(v.begin(),v.end());
		
		int c = 0,i = n-1,count = k;
		while(count--) {
			c += v[i--];
		}
		
		cout << c << "\n";
	}
    return 0;
}
