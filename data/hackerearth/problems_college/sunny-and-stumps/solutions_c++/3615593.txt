#include <bits/stdc++.h>
using namespace std;
 
long long int gcd(long long int a,long long int b) {
    return b == 0 ? a : gcd(b, a % b);
}
 
 
int main() {
	long long int t,i,j,count,n,b,g;
	long double q,w,e,slope,k;
	cin>>t;
	while(t--){
		count=1;
		cin>>n;
		
		set<pair<long double,long double> > s;
		vector <long double> v;
			
			
		for(b=0;b<n;b++)
		{
			cin>>q>>w>>e;
			if(q!=0 && w!=0){
			g=gcd(q,w);
			}
			else if(q==0)
			g=w;
			
			else
			g=q;
			
			e/=g;
			
			if(q!=0)
			slope=(w/q);
			else
			slope=2000000001;
			
			//a[b]=slope;
			//d[b]=e;
			
			s.insert(make_pair(slope,e));
			
			//cout<<slope<<" "<<e<<"\n";
		}
 
		for (set<pair<long double,long double> >:: iterator it = s.begin(); it!=s.end(); it++){
        	pair<long double,long double> m = *it; 
        	v.push_back(m.first);
		 }	
 
		sort(v.begin(),v.end());
		
		long long int y=1;
		//cout<<v.size();
		for(int i=0;i<v.size()-1;i++)
		{
			if(v[i]==v[i+1])
			y++;
			
			else
			{
				//cout<<v[i]<<" "<<v[i+1]<<"\n";
				count=max(y,count);
				y=1;
			}
			
			//cout<<v[i]<<" ";
		}
		count=max(y,count);
				
		cout<<count<<"\n";
}
	
	
} 
 