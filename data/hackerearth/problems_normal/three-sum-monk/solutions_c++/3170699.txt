#include<bits/stdc++.h>
using namespace std;
int cubes[18]={1,8,27,64,125,216,343,512,729,1000,1331,1728,2197,2744,3375,4096,4913,5832};
int main()
{
	int t;
	cin >> t;
	while(t--)
	{
		int n;
		cin >> n;
		double a[510]={0};
		map<double , int>mp;
		for(int i=1;i<=n;i++)
		{
			cin >> a[i];
			mp[a[i]]++;
		}
		sort(a,a+n+1);
		double sum,tmp;
		int t1=0,t2=0;
		int count =0;
		for(int i=1;i<=n-2;)
		{
			t2=0;
			for(int j=i+1;j<=n-1;)
			{
				sum=a[i]+a[j];
				for(int k=0;k<18;k++)
				{
					tmp=cubes[k]-sum;
					if(tmp>=a[j] && mp.find(tmp)!=mp.end())
					{
						if(a[j]!=tmp)
						count+=mp[tmp];
						else if(a[i]!=a[j] && a[j]==tmp)
						count+=(mp[tmp]-1-t2);
						else if(a[i]==a[j] && a[j]==tmp)
						count+=(mp[tmp]-2-t2-t1);
					}
				}
				j++;
				if(a[j]==a[j-1])
				t2++;
				else
				t2=0;
			}
			i++;
			if(a[i]==a[i-1])
			t1++;
			else
			t1=0;
		}
		double den=n*(n-1)*(n-2);
		den/=6.0;
		cout.precision(9);
		cout << fixed << (double)count/den << endl;
	}
	return 0;
}
