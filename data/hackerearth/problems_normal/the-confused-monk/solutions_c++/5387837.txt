using namespace std;
#define ll long long
#define rep(i, x, n) for (int i = x; i < n; i++)
#define rev(A) reverse((A).begin(), (A).end())
#define sorv(A) sort((A).begin(), (A).end())
#define DEBUG(x) cout << '>' << #x << " : " << x << endl;
#include <bits/stdc++.h>

ll gcd(ll a, ll b)
{
	if (b == 0)
		return a;
	return (gcd(b, a % b));
}

ll exp(ll a, ll b, ll m)
{
	ll ans = 1;
	while (b > 0)
	{
		if (b % 2 == 1)
		{
			ans *= a;
			ans %= m;
		}
		a = (a * a) % m;
		b /= 2;
	}
	return ans;
}

int main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(0);
    cout.tie(0);
    ll n;
    cin >> n;
    ll ar[n];
    for (ll i = 0; i < n; i++)
    {
    	cin >> ar[i];
    }
    ll mq = 1e9 + 7;
    ll f = ar[0], g = ar[0];
    rep(i, 1, n)
    {
    	f = (f * ar[i]) % mq;
    	g = gcd(g, ar[i]);
    }
    cout << exp(f, g, mq) << endl;
    return 0;
}
