#include<iostream>
#include<bits/stdc++.h>
using namespace std;
typedef long long int lli;
lli dp[11];
int arr[500010];
#define mod 1000000007
lli power[500010];
int has[500010];

int main()
 {
 		 int j=0;
 	int n,m,k;
 	 cin>>n>>k>>m;
 	 power[0]=1;
 	 
 	for(int i=1;i<=n;i++) power[i]=(power[i-1]*2)%mod;
 	   for(int i=0;i<n;i++)
 	    {
 	    	int x;
 	    	 cin>>x;
 	    	 has[x]++;
 	    	 if(has[x]==1) arr[j++]=x;
		 }
		 
		 dp[0]=1;
		 for(int i=0;i<j;i++)
		  {
		  	lli temp[11];
		  	for(int p=0;p<=10;p++) temp[p]=0;
		  	 for(int k=1;k<=m;k++)
		  	  {
		  	  	  temp[k]=((dp[k-1]*(power[has[arr[i]]]-1))%mod)%mod;
		  	  	  // cout<<" i "<<i<<" k "<<k<<" dp "<<temp[k]<<endl;
				}
					for(int p=0;p<=10;p++) dp[p]=(dp[p]+temp[p])%mod;
		  }
		  lli ans=0;
		  for(int i=0;i<=10;i++)
		   {
		   	 ans=(ans+dp[i])%mod;
		   }
		    cout<<ans<<endl;
		    return 0;
		  
 }