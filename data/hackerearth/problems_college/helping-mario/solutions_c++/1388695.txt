#include <iostream>
#include <set>
#define MAX 100000
using namespace std;
int gcd(int a,int b) {
	return (b!=0)?gcd(b,a%b):a;
}
long long dp[2][MAX]={0};
int main(){
	cout.sync_with_stdio(0);
	cin.tie(0);
	int t,n,i,l,r,p,q,tmp;
	long long ans;
	set<int> s1,s2;
	set<int>::iterator it;
	cin>>t;
	while(t--){
		ans=0;
		cin>>n;
		int a[n];
		for(i=0;i<n;++i)
			cin>>a[i];
		cin>>l>>r;
		p=0,q=1;
		for(i=0;i<MAX;++i)
			dp[p][i]=dp[q][i]=0;
        for(i=0;i<n;++i) {
            s2=s1;
            for(it=s1.begin();it!=s1.end();++it)
            	dp[q][*it]=dp[p][*it];
            for(it=s1.begin();it!=s1.end();++it){
            	tmp=gcd(a[i], *it);
            	dp[q][tmp]+=dp[p][*it];
            	s2.insert(tmp);
            }
            p=1-p;
            q=1-q;
            s2.insert(a[i]);
            ++dp[p][a[i]];
            s1=s2;
        }
        for(i=l;i<=r;++i)
        	ans+=dp[p][i];
		cout<<ans<<"\n";
		s1.clear();
	}
	return 0;
}