#include <bits/stdc++.h>
using namespace std;
#define lli long long int
#define MOD 1000000007
bool vis[1000005];
vector <lli> v[100005];
lli f[100005];

lli n,k;

void fact(){
	f[0] = f[1] = 1;
	for(lli i=2;i<100005;i++){
		f[i] = i*f[i-1];
		f[i] %= MOD;
	}
}

lli dfs(int s)
{
	if(vis[s])	return 0;
	vis[s]= true;
	lli ans = 1;
	for(int i=0;i<v[s].size();i++)
	{
		if(!vis[v[s][i]])
			ans+=dfs(v[s][i]);
	}
	return ans;
}
int main()
{
	fact();
    cin>>n>>k;
    for(int i=0;i<k;i++)
    {
    	lli x,y;
    	scanf("%lld %lld",&x,&y);
    	v[x].push_back(y);
    	v[y].push_back(x);
    }
    
    for(int i=0;i<=n;i++)	vis[i]= false;
    
    lli ans = 1;
    
    for(int i=1;i<=n;i++)
    {
    	if(!vis[i])
    	{
    		ans*=f[dfs(i)];
    		ans%=MOD;
    	}
    }
    cout<<ans<<endl;
    return 0;
}
