#include <iostream>
#include <bits/stdc++.h>
using namespace std;
#define lli long long int
long int m=1e9+7;
lli bdn[1000005];
void pre(lli x,lli y)
{
	lli i;
	bdn[1]=x-y;
	for(i=2;i<=1000000;i++)
	{
		bdn[i]=x*bdn[i-1]-y;
		bdn[i]%=m;
	}
}
int main()
{
    lli x,y,q,n;
    cin>>x>>y;
 	cin>>q;
 	pre(x,y);
 	while(q--)
 	{
 		cin>>n;
 		cout<<bdn[n]<<endl;
 	}
    return 0;
}
