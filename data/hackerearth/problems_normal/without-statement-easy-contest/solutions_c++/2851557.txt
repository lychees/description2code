#include <stdio.h>
#include <stdlib.h>

#define MAX_SIZE 800

int b8[8] = {37, 58, 89, 145, 42, 20, 4, 16};

int digitSquareSum(int j)
{
	int sum=0;
	while(j)
	{
		int digit = j%10;
		sum+= (digit*digit);
		j/=10;
	}
	return sum;
}

bool isInb8(int x)
{
	for(int i=0; i<8; i++)
		if(b8[i] == x)
			return true;
	return false;
}

int main()
{
    int a[MAX_SIZE];
    int i=0;
    while(i<MAX_SIZE)
    {
    	a[i] = digitSquareSum(i);
    	i++;
    }
    int t, n, m, res;
    scanf("%d", &t);
    while(t--)
    {
    	scanf("%d %d", &n, &m);
    	res = digitSquareSum(n);
    	m--;
    	while(m>0)
    	{
    		m-=1;
    		if(isInb8(res))
    		{
    			m = m%8;
    		}
    		if(res == 1)
    			break;
    		res = a[res];
    	}
    	printf("%d\n", res);
    }
    
    return 0;
}
