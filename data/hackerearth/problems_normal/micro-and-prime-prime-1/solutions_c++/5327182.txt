#include<cstdio>
#include<cstring>
#define MAXN 1000000
int ans[MAXN+11];
bool flag[MAXN+11];
void init(){
    memset(flag,true,sizeof(flag));
    flag[1]=false;
    memset(ans,0,sizeof(ans));
    int cnt=0;
    bool op=false;
    for(int i=2;i<=MAXN;i++){
            ans[i]=ans[i-1];
        if(flag[i]){
            cnt++;
            if(flag[cnt]) {
                op=true;
            }
            else{
                op=false;
            }
            for(int j=i+i;j<=MAXN;j+=i){
                flag[j]=false;
            }
        }
        if(op)
            ans[i]++;
    }
}
void out(){
    for(int i=1;i<=20;i++){
        printf("%d %d\n",i,ans[i]);
    }
}
int main(){
    init();
   // out();
    int cs;
    scanf("%d",&cs);
    while(cs--){
        int a,b;
        scanf("%d%d",&a,&b);
        printf("%d\n",ans[b]-ans[a-1]);
    }
    return 0;
}
