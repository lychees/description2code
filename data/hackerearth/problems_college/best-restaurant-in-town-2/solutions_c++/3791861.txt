//#include<bits/stdc++.h>
#include<stdio.h>
//using namespace std;
//tuhinkundu
#define ll         long long
#define s(n)                        scanf("%d",&n)
#define sc(n)                       scanf("%c",&n)
#define sl(n)                       scanf("%lld",&n)
#define sf(n)                       scanf("%lf",&n)
#define ss(n)                       scanf("%s",&n)
#define p(n)	printf("%d\n",n)
#define pll(n)	printf("%lld\n",n)
#define pc(n)	printf("%c\n",n)
#define pstr(n)	printf("%s\n",n)
#define pbl()   printf(" ")
int main()
{
	int t;
	s(t);
	while(t--)
	{
		int n,c,r,u;
		scanf("%d %d %d",&n,&c,&r);
		int tdish[n],order[c],arr[c],time1[c];
		for(u=0;u<n;u++)
		s(tdish[u]);
		for(u=0;u<c;u++)
		s(order[u]);
		for(u=0;u<c;u++)
		s(arr[u]);
		int chef=0,busy=0;
		for(int i=0;i<c;i++)
		{
			if(busy==0)
			{chef=arr[i];
			busy=1;
			chef+=tdish[order[i]-1];
			time1[i]=chef-arr[i];
			chef+=r;
			//printf("1chef=%d\n",chef);
			}
			else
			if(busy==1)
			{
				if(arr[i]>chef)
				{
					chef=arr[i];
					busy=1;
					chef+=tdish[order[i]-1];
					time1[i]=chef-arr[i];
					chef+=r;	
					//printf("2chef=%d\n",chef);
				}
				else
				if(arr[i]<=chef)
				{
					busy=1;
					chef+=tdish[order[i]-1];
					time1[i]=chef-arr[i];
					chef+=r;
					//printf("3chef=%d\n",chef);
				}
			}/*
			pstr("time=");
		for(int j=0;j<c;j++)
		printf("%d ",time[j]);
		printf("\n");
		*/	
		}
		for(int j=0;j<c;j++)
		printf("%d ",time1[j]);
		printf("\n");
	}
	return 0;
}

