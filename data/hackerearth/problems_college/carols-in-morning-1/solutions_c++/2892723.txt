#include <bits/stdc++.h>
#define CIN(n) scanf("%d",&n)
#define CINL(n) cin>>n
#define CINF(n) scanf("%f",&n)
#define FOR(i,j,n) for(i=j;i<=n;i++)
#define FORR(i,j,n) for(i=j;i>=n;i--)
#define SORT(n) std::sort(n.begin(),n.end())
#define FILL(n,a) std::fill(n.begin(),n.end(),a)
#define ALL(n) n.begin(),n.end()
#define rsz resize
#define pb push_back
#define MAXINT std::numeric_limits<int>::max()
#define MININT std::numeric_limits<int>::min()
#define getchar gc
#define putchar pc
#define iOS std::ios_base::sync_with_stdio(false)
#define endl "\n"
#define debug(x) cout << #x << " = " << x << endl
using namespace std;
typedef long long ll;
typedef vector<int> VI;
typedef vector<ll> VL;
typedef vector<bool> VB;
typedef vector<vector<int> > VVI;
typedef vector<vector<ll> > VVL;
typedef pair<int,int> pii;

//Template ends here

//Code begins
#define f(i,a,b) for(int i=a;i<b;i++)
int main()
{
	int n,t,m,c,ans;
	scanf("%d",&t);
	ll ar[21],s=1;
	f(i,0,20)
	{
		ar[i]=s;
		s*=2;
	}
	while(t--)
	{
		ans=1<<18;
		vector <string> v;
		string temp;
		scanf("%d",&n);
		f(i,0,n)
		{
			cin>>temp;
			v.push_back(temp);
		}
		m=v.back().size();
		//cout<<minTime(v)<<endl;
		long long int N=1<<m;
		bool vis[n];
		f(i,0,N)
		{
			c=0;
			f(j,0,n)
				vis[j]=0;
			f(j,0,m)
				if(i&ar[j])
					f(k,0,n)
						if(v[k][j]=='Y' and !vis[k])
						{
							c++;
							vis[k]=1;
						}	
			
			if(c==n)
			{
				int temp=__builtin_popcount(i);
				ans=min(ans,temp);
			}
		}
		printf("%d\n",ans);
	}
	return 0;
}