#include <cstdio>
#include <cmath>
#include <iostream>
#include <set>
#include <algorithm>
#include <vector>
#include <map>
#include <cassert>
#include <string>
#include <cstring>
#include <queue>
 
using namespace std;

int dx[4]={-1,0,1,0};
int dy[4]={0,1,0,-1};
int n,m,arr[115][115],visit[115][115];
int dfs(int x,int y,int d)
{
    if(visit[x][y])
    return 0;
    visit[x][y]=1;
    int res=1;
	for(int i=0;i<4;i++)
	{
		int a = x+dx[i];
		int b = y+dy[i];
		if(a<1 || b<1 || a>n || b>m)
	    continue ;
	    if(abs(arr[x][y]-arr[a][b])>d)
	    continue ;
		res=res+dfs(a,b,d);
		
	}
	return res;
}
int main()
{
    int q,output,i,j,x,y,d;
    scanf("%d %d %d",&n,&m,&q);
    for(i=1;i<=n;i++)
    for(j=1;j<=m;j++)
    scanf("%d",&arr[i][j]);
    for(i=0;i<q;i++)
    {
    	scanf("%d %d %d",&x,&y,&d);
    	memset(visit,0,sizeof(visit));
    	output=dfs(x,y,d);
    	printf("%d\n",output);
    }
    return 0;
}
