'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''

cases = int(raw_input())

for case in xrange(0,cases):
	
	leng = int(raw_input())
	s = raw_input()
	# ss = sorted(s)
	count = 1
	n = 1

	for num in xrange(0,leng-1):
		if num != (leng-1):
			if s[leng-1-num-1] <= s[leng-1-num]:
				n = n + 1
				count = count + n
			else :
				n = 1
				count = count + n
	
	print count
	
