def coolness(n):
    c=0
    b=bin(n)
    for i in range(len(b)-2):
        if b[i:i+3:]=='101':
            c+=1
    return c
 
d=[0]*((10**5)+1)
for x in range(1,10**5+1):
    d[x]=coolness(x) 
for t in range(int(raw_input())):
    r,k=map(int,raw_input().split())
    ans=0
    for coolints in range(1,r+1):
        if d[coolints]>=k:
            ans+=1
    print ans