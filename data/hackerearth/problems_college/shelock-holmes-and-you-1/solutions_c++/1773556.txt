#include<bits/stdc++.h>
#define ll long long
#define ld double
#define f first
#define s second
#define pb push_back
#define M 1000003
#define MX 2000000000       
#define INF 1000000000
#define PI 3.141593
#define mmx(a,b) a>b?a:b
#define mmn(a,b) a<b?a:b
using namespace std;
typedef pair<ll,ll> ii;
typedef pair<ii,ii> iii;
typedef vector<ll> vv;
ll dp[5005][5005],csum[5005];
int main()
{
	ll n,m,k,maxi=0;
	cin>>n>>m>>k;
	for(ll i=0;i<n;i++)
		cin>>csum[i];
	for(ll i=1;i<n;i++)
		csum[i]+=csum[i-1];
	for(ll i=1;i<=k;i++)
	{
		maxi=0;
		for(ll j=m*i-1;j<n;j++)
		{
			dp[j][i]=0;
            ll new_win=csum[j]-(j-m>=0?csum[j-m]:0);
            maxi=max(maxi,(j-m>=0?dp[j-m][i-1]:0));
            if(j)
              dp[j][i]=dp[j-1][i];
            dp[j][i]=max(dp[j][i],maxi+new_win);
		}
	}
	cout<<dp[n-1][k];
}