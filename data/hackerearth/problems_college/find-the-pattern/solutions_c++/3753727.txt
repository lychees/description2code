#include<bits/stdc++.h>
#define lld long long
#define rep(i,start,end) for(int i=start;i<end;i++)
#define rep5(i,start,end,inc) for(int i=start;i<end;i+=inc)
#define dec(i,start,end) for(int i=start;i>=end;i--)
#define dec5(i,start,end,de) for(int i=start;i>=end;i-=de)
#define MOD 1000000007
#define scan(a) scanf("%lld",&a)
#define scanstr(a) scanf("%s",a)
#define scan2(a,b) scanf("%lld%lld",&a,&b)
#define scan3(a,b,c) scanf("%lld%lld",&a,&b,&c)
#define print(a) printf("%lld",a)
#define print2(a,b) printf("%lld %lld\n",a,b)
#define print3(a,b,c) printf("%lld %lld %lld\n",a,b,c)
#define swap(a, b, t) t=a; a=b; b=t
#define pb push_back
#define fscan(a) fscanf(input,"%lld",&a)
#define fscan2(a,b) fscanf(input,"%lld%lld",&a,&b)
#define fscan3(a,b,c) fscanf(input,"%lld%lld%lld",&a,&b,&c)
#define fprint(kk,anss) fprintf(output,"Case #%lld: %lld\n",kk,anss)
#define fprint1(strr) fprintf(output,"%s\n",strr)
using namespace std;
void rotate(int ar[10][10],int size,int ans[10][10])
{
	int i,j,l,m;
	l=0;
	dec(i,size-1,0){
		m=0;
		rep(j,0,size){
//			print(ar[j][i]);
//			printf(" ");
			ans[l][m++]=ar[j][i];
			}
//		printf("\n");
		l++;
	}
}
int check(int src[10][10],int des[10][10])
{
	int i,j;
	rep(i,0,10)
	{
		rep(j,0,10)
		{
			if(src[i][j]==des[i][j])
				return 404;
			else
				continue;
		}
	}
	return 441;
}
int main()
{
	int main[10][10],main2[10][10],main3[10][10],main4[10][10];
	int ans1[10][10],ans2[10][10],ans3[10][10],ans4[10][10];
	int i,j,k,l,m,n,o;
	char str[10];
	int t;
	scan(t);
	while(t--)
	{
	rep(i,0,10)
	{
		scanstr(str);
		rep(j,0,10)
		{
			if(str[j]=='_')
				main[i][j]=0;
			else
				main[i][j]=1;
		}
	}
	rep(i,0,10)
	{
		scanstr(str);
		rep(j,0,10)
		{
			if(str[j]=='_')
				ans1[i][j]=0;
			else
				ans1[i][j]=1;
		}
	}
	
	rep(i,0,10)
	{
		scanstr(str);
		rep(j,0,10)
		{
			if(str[j]=='_')
				ans2[i][j]=0;
			else
				ans2[i][j]=1;
		}
	}
	
	rep(i,0,10)
	{
		scanstr(str);
		rep(j,0,10)
		{
			if(str[j]=='_')
				ans3[i][j]=0;
			else
				ans3[i][j]=1;
//			printf("%d ",ans3[i][j]);
		}
//		printf("\n");
	}
	
	rep(i,0,10)
	{
		scanstr(str);
		rep(j,0,10)
		{
			if(str[j]=='_')
				ans4[i][j]=0;
			else
				ans4[i][j]=1;
		}
	}
	
	rotate(main,10,main2);
	rotate(main2,10,main3);
	rotate(main3,10,main4);
	int status=0;
	rep(i,0,4)
	{
		status=check(main,ans1);
		if(status==441)
			{
				cout<<"1"<<endl;
				break;
			}
		status=check(main,ans2);
		if(status==441)
			{
				cout<<"2"<<endl;
				break;
			}
		status=check(main,ans3);
		if(status==441)
			{
				cout<<"3"<<endl;
				break;
			}
		status=check(main,ans4);
		if(status==441)
			{
				cout<<"4"<<endl;
				break;
			}
			
		status=check(main2,ans1);
		if(status==441)
			{
				cout<<"1"<<endl;
				break;
			}
		status=check(main2,ans2);
		if(status==441)
			{
				cout<<"2"<<endl;
				break;
			}
		status=check(main2,ans3);
		if(status==441)
			{
				cout<<"3"<<endl;
				break;
			}
		status=check(main2,ans4);
		if(status==441)
			{
				cout<<"4"<<endl;
				break;
			}
			
			
			status=check(main3,ans1);
		if(status==441)
			{
				cout<<"1"<<endl;
				break;
			}
		status=check(main3,ans2);
		if(status==441)
			{
				cout<<"2"<<endl;
				break;
			}
		status=check(main3,ans3);
		if(status==441)
			{
				cout<<"3"<<endl;
				break;
			}
		status=check(main3,ans4);
		if(status==441)
			{
				cout<<"4"<<endl;
				break;
			}
			
		status=check(main4,ans1);
		if(status==441)
			{
				cout<<"1"<<endl;
				break;
			}
		status=check(main4,ans2);
		if(status==441)
			{
				cout<<"2"<<endl;
				break;
			}
		status=check(main4,ans3);
		if(status==441)
			{
				cout<<"3"<<endl;
				break;
			}
		status=check(main4,ans4);
		if(status==441)
			{
				cout<<"4"<<endl;
				break;
			}
		if(status==404)
		{
			cout<<"Not Found";
			break;
		}
		break;
	}
	}
	return 0;
}

