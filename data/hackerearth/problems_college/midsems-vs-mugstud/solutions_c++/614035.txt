#include<iostream>
#include<stdlib.h>
#include<bits/stdc++.h>
#define gc getchar_unlocked
int read_int() {
  char c = gc();
  while(c<'0' || c>'9') c = gc();
  int ret = 0;
  while(c>='0' && c<='9') {
    ret = 10 * ret + c - 48;
    c = gc();
  }
  return ret;
}

using namespace std;
int main()
{
    int sum[55][55][55];
    int n,i,j,k,tc;
    cin>>tc;
    while(tc--)
    {
     cin>>n;

    for(i=0;i<n;i++) for(j=0;j<n;j++) for(k=0;k<n;k++) sum[i][j][k]=read_int();

    for(i=0;i<n;i++) for(j=0;j<n;j++) for(k=n-1;k>0;k--) sum[i][j][k]-=sum[i][j][k-1];
    for(i=0;i<n;i++) for(j=0;j<n;j++) for(k=n-1;k>0;k--) sum[i][k][j]-=sum[i][k-1][j];
    for(i=0;i<n;i++) for(j=0;j<n;j++) for(k=n-1;k>0;k--) sum[k][i][j]-=sum[k-1][i][j];
    for(i=0;i<n;i++) for(j=0;j<n;j++,printf("\n")) for(k=0;k<n;k++)  printf("%d ",sum[i][j][k]);
    }
    return 0;
}
