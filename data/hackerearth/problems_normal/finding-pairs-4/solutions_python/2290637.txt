def fun(x):
	global dic
	try:dic[x]+=1
	except:dic[x]=1
	return x

for _ in range(input()):
	dic={}
	n=input()
	lst=map(fun,raw_input().split())
	lst=set(lst)
	count=0
	for i in lst:
		count+=(dic[i]*(dic[i]+1))/2
	print count	