import re

hashMap = {}

for t in range(input()):
    r, k = raw_input().split()
    r, k = int(r), int(k)
    result = 0
    if hashMap.get((r, k)) is not None:
        print hashMap[(r, k)]
        continue
    for i in range(1, r+1):
        text = bin(i)[2:]
        count = len(re.findall('(?=101)', text))
        if count >= k:
            result += 1
    hashMap[(r, k)] = result
    print result
