#include <bits/stdc++.h>
using namespace std;
int count(int n)
{
	int r,c=0;
	while(n)
	{
		r=n%2;
		if(r)
			c++;
		n/=2;
	}
	return c;
}
int main()
{
    int i,t,n,k,ans;
    scanf("%d",&t);
    while(t--)
    {
    	ans=0;
    	scanf("%d%d",&n,&k);
    	vector<int> v(n);
    	for(i=0;i<n;i++)
    		scanf("%d",&(v[i]));
    	if(k!=0)
    	{
    		for(i=0;i<n;i++)
    		{
    			v[i]=count(v[i]);
    		}
    		sort(v.rbegin(),v.rend());
    		for(i=0;i<k;i++)
    			ans+=v[i];
    	}
    	printf("%d\n",ans);
    }
    return 0;
}
