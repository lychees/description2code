#include<iostream>
#include<cstdio>
#include<string>
#include<cstring>
#include<vector>
#include<algorithm>
#include<cstdlib>
#include<cmath>
using namespace std;
//bool f[1000000001];
vector<long long>v;
long long a[1420],b[1420],ans[1420][1420];
int main()
{
    long long n,m,k,i,j,x,y,t,si,ei,mul,q;
    //cin>>n;
    scanf("%lld",&n);

    for(i=1;i<=n;i++)
    {
        //cin>>a[i]>>b[i];
        scanf("%lld",a+i);
    }
    cin>>q;
    for(i=1;i<=n;i++)
    {
        for(j=i;j<=n;j++)
        {
            if(i==j)
            {
                m=0;
                b[m]=a[j];
                ans[i][j]=b[m];
                continue;
            }
            k=m;
            while(k>=0 && b[k]>a[j])
            {
                b[k+1]=b[k];
                k--;
            }
            b[k+1]=a[j];
            m++;
            ans[i][j]=b[m/2];


//            for(k=i,m=0;k<=j;k++,m++)
//            {
//                b[m]=a[k];
//            }
//            sort(b,b+m);
//            ans[i][j]=b[(m-1)/2];
        }
    }
    while(q--)
    {
        //cin>>x>>y;
        scanf("%lld %lld",&x,&y);
        printf("%lld\n",ans[x][y]);
    }
    return 0;
}
