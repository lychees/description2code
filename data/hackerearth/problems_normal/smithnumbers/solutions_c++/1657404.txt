#include<bits/stdc++.h>
using namespace std;
inline int scan(){
    char c = getchar_unlocked();
    int x = 0;
    while(c<'0'||c>'9'){
        c=getchar_unlocked();
    }
    while(c>='0'&&c<='9'){
        x=(x<<1)+(x<<3)+c-'0';
        c=getchar_unlocked();
    }
    return x;
}
#define pb push_back
#define mp make_pair
#define author rajat1603
#define mod 1000000007
#define N 10000001
bool p[N]={0};
void sieve(){
    p[0]=1;
    p[1]=1;
    for(int i=2;i<=3163;++i){
        if(!p[i]){
            for(int j=i+i;j<=10000000;j+=i){
                p[j]=1;
            }
        }
    }
}
vector<int> v;
int sum(int i){
    int res=0;
    while(i){
        res+=i%10;
        i/=10;
    }
    return res;
}
void process(){
    for(int i=2;i<=1000000;i++){
        if(!p[i]){
            v.pb(i);
            continue;
        }
        int temp=i;
        int res=0;
        for(int j=2;j*j<=temp;j++){
            while(temp%j==0){
                res+=sum(j);
                temp/=j;
            }
            if(!p[temp]){
                break;
            }
        }
        if(temp>1){
            res+=sum(temp);
        }
        if(res==sum(i)){
            v.pb(i);
        }
    }
}
int main(){
    sieve();
    process();
    int t=scan();
    while(t--){
        int l=scan(),r=scan();
        printf("%d\n",upper_bound(v.begin(),v.end(),r)-lower_bound(v.begin(),v.end(),l));
    }
}