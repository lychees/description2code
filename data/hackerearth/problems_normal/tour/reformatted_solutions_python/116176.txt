n = int(raw_input())
i = 0
city = []
cost = {}
while i < n:
    t = raw_input()
    city.append(t)
    cost[t] = {}
    i += 1
i = 0
while i < n:
    v = raw_input()
    v = v.split(' ')
    k = len(city)
    for j in range(0, k):
        cost[city[i]][city[j]] = int(v[j])
    i += 1
path = []
n = int(raw_input())
i = 0
while i < n:
    path.append(raw_input())
    i += 1

k = len(path)-1
cos = cost[city[0]][path[0]]
for i in range(0, k):
    cos += cost[path[i]][path[i+1]]
print cos
