#include<iostream>
#include<stdlib.h>
#include<vector>
#include<limits.h>
#include<queue>
#include<math.h>
using namespace std;
typedef long long int ll;
ll tc,i,j,n,k,st[100010],t1,t2;
ll fnd(ll a)
{
    if(st[a]<0)
        return a;
    st[a]=fnd(st[a]);
    return st[a];
}
void unin(ll a, ll b)
{
    ll p1=fnd(a),p2=fnd(b);
    if(p1==p2)
        return;
    if(st[p1]<st[p2])
    {
        st[p1]+=st[p2];
        st[p2]=p1;
    }
    else
    {
        st[p2]+=st[p1];
        st[p1]=p2;
    }
}
ll fact(ll f)
{
    ll fa=1;
    for(int j=1;j<=f;j++)
        fa=(fa*j)%((ll)((ll)pow(10,9)+7));
    return fa;
}
int main()
{
    ll cb=1;
    cin>>n>>k;
    for(i=0;i<n;i++)
        st[i]=-1;
    for(i=0;i<k;i++)
    {
        cin>>t1>>t2;
        unin(t1,t2);
    }
    for(i=0;i<n;i++)
    {
        if(st[i]<0)
           cb=(cb*fact(abs(st[i])))%((ll)((ll)pow(10,9)+7));
    }
    cout<<(ll)abs(cb)%((ll)((ll)pow(10,9)+7));
}
