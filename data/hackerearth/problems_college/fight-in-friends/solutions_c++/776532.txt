// asdasdasda as dasd 
#include <bits/stdc++.h>
using namespace std;
#define REP(a,b,c) for(int a=b;a<c;a++)
#define asd(x)              cout<<__LINE__<<" :: "<<#x<< ": "<<x<<endl;
#define asdf(x, y)          cout<<__LINE__<<" :: "<<#x<< ": "<<x<<" | "<<#y<< ": "<<y<<endl;
#define lb() cout << string(15, =) << endl
typedef pair<int,int> ii;
typedef long long LL;

const int MAX = 1002;
int G[MAX][MAX];

int d[MAX], vis[MAX];
int n, m, a, b;

int bfs(int a, int b){
    queue<int> q;
    q.push(a); vis[a] = 1;
    while(!q.empty()){
        int v  = q.front(); q.pop();
        if(v == b) return d[b];
        REP(u, 1, n+1){
            if(not G[v][u] and not vis[u]){
                vis[u] = 1;
                d[u] = d[v] + 1;
                q.push(u);
            }
        }
    }
    return -1;
}


int main(){
    cin >> n >> m >> a >> b;
    while(m--){
        int x, y;
        scanf("%d %d", &x, &y);
        G[x][y] = G[y][x] = 1;
    }
    cout << bfs(a, b) << endl;
    return 0;
}
