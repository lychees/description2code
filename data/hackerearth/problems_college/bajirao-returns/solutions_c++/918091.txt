#include<bits/stdc++.h>
#define si(n)scanf("%d",&n)
#define pi(n)printf("%d\n",n)
#define sll(n)scanf("%lld",&n)
#define pll(n)printf("%lld\n",n)
using namespace std;using ll=long long;
int a[110][110],f[110][110];set<int>v[110];
void pre(){ // to calculate
	for(int i=1;i<=100;i++){
		int x=i;
		while(x){
			int y=x;
			for(int j=1;y*j<=100;){
				v[i].insert(y*j);j<<=1;
			}
			x>>=1;
		}
	}
}
int main(){
	pre();
//	for(int i=1;i<=11;i++){
//		cout<<"i= "<<i<<endl;
//		for(int x:v[i])cout<<x<<" ";
//		cout<<endl;
//	}
	int n;si(n);
	for(int i=1;i<=n;i++){
		for(int j=1;j<=n;j++){
			si(a[i][j]);
		}
	}
	for(int i=1;i<=n;i++)f[n][i]=a[n][i];
	for(int i=n-1;i>=1;i--){
		for(int j=1;j<=n;j++){
			int maxi=-1;
			for(int k:v[j]){
				if(k<=n)maxi=max(maxi,f[i+1][k]);
			}
			f[i][j]=maxi+a[i][j];
		}
	}
	pi(*max_element(f[1],f[1]+n+1));
	
    return 0;
}
