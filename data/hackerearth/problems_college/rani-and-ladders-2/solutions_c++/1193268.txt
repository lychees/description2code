    #include <bits/stdc++.h>
    using namespace std;
     
    int main() {
    int t;
    scanf("%d",&t);
    while(t--) {
    int n,m,i,x,y;
    scanf("%d%d",&n,&m);
    int a[n+1];
    int b[n+1];
    for(i=0;i<=n;i++)
    a[i] = 160000;
    memset(b,0,sizeof(b));
    for(i=0;i<m;i++) {
    scanf("%d%d",&x,&y);
    b[x] = y;
    }
    queue<int>q;
    a[1] = 0;
    x = 1;
    q.push(x);
    while(!q.empty()) {
    x = q.front();
    q.pop();
    if(b[x]==0) {
    for(i=2;i<=12&&i+x<=n;i++) {
    if(a[i+x]>a[x]+1) {
    q.push(i+x);
    a[i+x] = a[x]+1;
    }
    }
    }
    if(b[x]!=0&&a[b[x]]>a[x]) {
    a[b[x]] = a[x];
    q.push(b[x]);
    }
    }
    printf("%d\n",a[n]);
    }
    return 0;
    }