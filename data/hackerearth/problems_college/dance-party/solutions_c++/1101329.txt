#include<cstdio>
#include<algorithm>
#include<iostream>
using namespace std;
long long arr[1000100],dp[1000100],dp2[1000100];
int main(){
int t,n;
scanf("%d",&t);
while(t--){
    scanf("%d",&n);
    long long sum=0;
    for(int i=1;i<=n;i++){scanf("%lld",&arr[i]);sum+=arr[i];}
    dp[0]=0,dp[1]=0;
    for(int i=2;i<=n;i++){
        dp[i]=(dp[i-1]);
        if(dp[i]<dp[i-2]+arr[i]){
            dp[i]=dp[i-2]+arr[i];
        
        }
        
    }
    dp2[0]=0,dp2[1]=arr[1];
	for(int i=2;i<n;i++){
        dp2[i]=(dp2[i-1]);
        if(dp2[i]<dp2[i-2]+arr[i]){
            dp2[i]=dp2[i-2]+arr[i];
        }
        
   // cout<<dp2[i]<<" ";    
    }
    
    dp[n]=max(dp[n],dp2[n-1]);
    if(n==1)dp[n]=arr[1];
    printf("%lld\n",dp[n]);
}
return 0;

}
