#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<cstring>
using namespace std;
#define lim 1001
#define mod 1000000007
#define in(x) (x>=0 && x<n)
int n,i,j,s;
int A[lim][lim],M[lim][lim];
int dx[]={-1,0,1,0};
int dy[]={0,1,0,-1};
int solve(int i,int j)
{
  int &res=M[i][j],k,x,y;
  if(res==-1)
  {
    res=1;
    for(k=0;k<4;k++)
    {
      x=i+dx[k];
      y=j+dy[k];
      if(in(x) && in(y) && A[x][y]<A[i][j])
        res=(res+solve(x,y))%mod;
    }
  }
  return res;
}
int main()
{
  scanf("%d",&n);
  for(i=0;i<n;i++)
    for(j=0;j<n;j++)
      scanf("%d",&A[i][j]);
  memset(M,-1,sizeof M);
  for(i=0;i<n;i++)
    for(j=0;j<n;j++)
      s=(s+solve(i,j))%mod;
  printf("%d\n",s);
  return 0;
}
