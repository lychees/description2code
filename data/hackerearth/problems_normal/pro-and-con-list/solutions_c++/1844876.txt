#include<iostream>
#include<vector>
#include<limits.h>
#include<cstdio>
using namespace std;
int main()
{
  	int t;
  	cin>>t;
  	vector <long long int> fav;
  	vector <long long int> ang;
  	long long int n,max1,max2,pos1,pos2,sum,sum1,sum2;
  	while(t--)
  	{
  		cin>>n;
  		sum=0;
  		sum1=0;
  		sum2=0;
  		fav.resize(n);
  		ang.resize(n);
  		for(int i=0;i<n;i++)
  		{
  			cin>>fav[i]>>ang[i];
  		}
  		max1=INT_MIN;
  		for(int i=0;i<n;i++)
  		{
  			if(max1<fav[i]+ang[i])
  			{
  				max1=fav[i]+ang[i];
  				pos1=i;
  			}
  		}
  		max2=INT_MIN;
  		for(int i=0;i<n;i++)
  		{
  			if(max2<fav[i]+ang[i] && max1!=fav[i]+ang[i])
  			{
  				max2=fav[i]+ang[i];
  				pos2=i;
  			}
  		}
  		for(int i=0;i<n;i++)
  		{
  			sum2+=ang[i];
  		}
  		sum=(max1+max2-ang[pos1]-ang[pos2])-(sum2-(ang[pos1]+ang[pos2]));
  		cout<<sum<<endl;
  	}
}
