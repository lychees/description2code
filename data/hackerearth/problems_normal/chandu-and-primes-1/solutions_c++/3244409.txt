#include <bits/stdc++.h>
using namespace std;
#define ll long long

bool NP[1000100];
ll cnt[1000100];

int solve1(ll x){
	if(!NP[x]) return 1;
	ll s = 0;
	int mul = 1;
	while(x>0){
		s += ((x%10)*(mul));
		if(!NP[s])
			return 1;
		x /= 10;
		mul *= 10;
	}
	return 0;
}

void solve2(){
	NP[0] = true ;
	NP[1] = true;
	for(int i = 2;i*i<= 1000000;i++){
		if(NP[i] == false){
			for(int j = i+i;j<=1000000;j+=i){
				NP[j] = true;
			}
		}
	}
	cnt[0] = 0;
	for(int i = 1;i<=1000000;i++){
		cnt[i] = cnt[i-1] + solve1(i);
	}
}


int main(){
	solve2();
    int t;
    cin>>t;
    int l,r;
    while(t--){
    	scanf("%d %d",&l,&r);
    	printf("%lld\n",cnt[r]-cnt[l-1]);
    }
    return 0;
}
