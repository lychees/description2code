#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
#include <vector> 
#include <list>
#include <queue>
#include <set>
#include <map>
#include <string>
#include <sstream>
#include <iostream>
#include <algorithm>
#include <functional>
#include <numeric>
#include <cstdlib>
#include <cmath>
#include <cstdio>
#include <fstream>
#include <ctime>
#include <cassert>
#include <stack>
#include <bitset>
using namespace std;

typedef long long int ll;
typedef pair<int, int > pii;

#define MOD 1000000007
#define pb push_back

bool con(int a, int b)
{
	while(a)
	{
		if(a%10==b)
			return true;
		a/=10;
	}
	return false;
}

vector<vector<int> > like(10);

void solve()
{
	int n, q, m, c;
	cin>>n>>q;
	
	for(int i=1;i<=n;i++)
	{
		int temp = i;
		while(temp)
		{
			int r = temp%10;
			like[r].push_back(i);
			temp /= 10;
		}
	}
	while(q--)
	{
		int count = 0;
		bool sel[100001] = {false};
		//set<int> nums;
		cin>>m;
		for(int i=0;i<m;i++)
		{
			scanf("%d",&c);
			for(int j=0;j<like[c].size();j++)
			{
				if(!sel[like[c][j]] && like[c][j]<=n)
					count++;
				else if(like[c][j]>n)
					break;
				sel[like[c][j]] = true;
			}
		}
		cout<<count<<endl;
	}
}

int main()
{
	int t;
	//cin>>t;
	t = 1;
	for(int i=0;i<10;i++)
	{
		for(int j=1;j<=100000;j++)
		{
			if(con(j,i))
				like[i].push_back(j);
		}
	}
	while(t--)
	{
		solve();
	}
	return 0;
}