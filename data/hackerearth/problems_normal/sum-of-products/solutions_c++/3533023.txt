#include <iostream>
#include <string>

const static unsigned long OUTPUT_MODULO = 1000000007;

unsigned long generateSumOfProducts(const unsigned long & number) {
	unsigned long d = 1, q = number, sum = 0;
	while (d < q) {
		sum += d * (q - d - 1);
		sum += q * (q + 1) >> 1;
		++d;
		q = number / d;
	}
	sum += q * (q + 1) >> 1;
	return sum - d * (d - 1) * (d - 2) / 6;
}

void run(std::ostream & out = std::cout, std::istream & in = std::cin) {
	unsigned int numOfLines;
	in >> numOfLines;
	unsigned long number;
	std::string result;
	for (unsigned int i = 0; i < numOfLines; ++i) {
		in >> number;
		result.append(std::to_string(generateSumOfProducts(number)%OUTPUT_MODULO)).append("\n");
	}
	out << result;
	out.flush();
}

int main() {
	run();
	return 0;
}
