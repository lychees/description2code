#include <iostream>
#include <math.h>
#include <stdio.h>
#include <iomanip>
#include <limits>
using namespace std;

int main(){

float p1,p2,t,l,r;
    cin>>p1>>p2>>t;
    while(t--){
    	cin>>l>>r;
    	float ans=max((floor(r/p1)-ceil(l/p1)+1),0.0);
    	//cout<<ans<<" "<<(ceil(l/p1))<<endl;
    	ans+=max((floor(r/p2)-ceil(l/p2)+1),0.0);
    	//cout<<ans<<endl;
    	ans-=max((floor(r/(p1*p2))-ceil(l/(p1*p2))+1),0.0);
    	float a=ans/(r-l+1);
    	//cout<<std::setprecision(6)<<a<<endl;
    	printf("%.6f\n",a);
    }
    return 0;
}