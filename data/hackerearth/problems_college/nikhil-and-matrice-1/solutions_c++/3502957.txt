#include <iostream>
using namespace std;

int main()
{
    int kli,n,u,inii,k,nstep,p,ghu;
    cin>>kli;
    for(ghu=0;ghu<kli;ghu++)
    {
    	cin>>n;
    	int id[n*n],jd[n*n];
    	u=n;
    	inii=n;
    	int l = 0;
    	k =0;
    	nstep = 2;
    	for(p=0;p<n;p++)
    	{
    		id[l]=k;
    		l++;
    	}
    	while(u>0)
    	{
    		for(p=0;p<(u-1);p++)
    		{
    			if(nstep==2)
    			{
    				k++;
    				id[l]=k;
    				l++;
    			}
    			else
    			{
    				k--;
    				id[l]=k;
    				l++;
    			}
    		}
    		if(nstep==2)
    		nstep=1;
    		else
    		nstep=2;
    		for(p=0;p<(u-1);p++)
    		{
    			id[l]=k;
    			l++;
    		}
    		u=u-1;
    	}
    	k=0;
    	u=n;
    	l=0;
    	for(p=0;p<n;p++)
    	{
    		jd[l]=p;
    		l++;
    		k=p;
    	}
    	nstep=1;
    	while(u>0)
    	{
    		for(p=0;p<(u-1);p++)
    		{
    			jd[l]=k;
    			l++;
    		}
    		for(p=0;p<(u-1);p++)
    		{
    			if(nstep==2)
    			{
    				k++;
    				jd[l]=k;
    				l++;
    			}
    			else
    			{
    				k--;
    				jd[l]=k;
    				l++;
    			}
    		}
    		if(nstep==2)
    		nstep = 1;
    		else
    		nstep = 2;
    		u=u-1;
    	}
    	int mat[n][n];
    	for(p=0;p<n*n;p++)
    	{
    		mat[id[p]][jd[p]]=p+1;
    	}
    	for(p=0;p<n;p++)
    	{
    		for(u=0;u<n;u++)
    		cout<<mat[p][u];
    		cout<<"\n";
    	}
    	cout<<"\n";
    }
}
