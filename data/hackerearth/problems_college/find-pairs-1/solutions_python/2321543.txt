'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
import collections
n = int(raw_input())
for _ in range(n):
	m = int(raw_input())
	l = map(int,raw_input().split())
	k = dict(collections.Counter(l))
	result = len(l)
	temp = [(k[i]-1)*k[i]/2 for i in k.keys() if k[i]!=1]
	result = result + sum(temp)
	print result
