#include<bits/stdc++.h>
using namespace std;
int digit(int n)
{
	long long int sum=0;
	while(n!=0)
	{
		int rem = n%10;
		sum = sum + rem*rem;
		n = n/10;
	}
	return sum;
}
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n,m;
		cin>>n>>m;
		n = digit(n);
		m--;
		while(m>0)
		{
			if(n==1)
			{
				break;
			}
			if(m>=8)
			{
		 		if(n==4||n==16||n==20||n==37||n==42||n==58||n==89||n==145)
    			{
    				m=m%8;
    			}
    			else
    			{
    			   n=digit(n);
    			   m--;
    			}
			}
			else
			{
				n = digit(n);
				m--;
			}
		}
		cout<<n<<"\n";
	}
}