t = input()
while t:
    t -= 1
    x, p = map(int, raw_input().split())
    ans = 0
    while x % p == 0:
        x /= p
        ans += 1
        if (x == 1):
            x = 0
            break
    print ans, x
