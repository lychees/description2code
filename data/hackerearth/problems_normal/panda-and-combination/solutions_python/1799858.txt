for _ in xrange(input()):
	n,m=map(int,raw_input().split())
	if(n<m or m==1):
		print n
		continue
	ans=0
	while n>0:
		ans = ans + n%m 
		n = n/m
	print ans
		