#include <iostream>
using namespace std;

int main()
{
	int n,m;
	int a[200000],low=0,high=0;
    cin>>n>>m;
    
    char O;
    int x,v;
    for(int i=0;i<n;i++)
    	cin>>a[i];
    int count,max,min;
    while(m--)
    {
    	count=0;
    	cin>>O>>x>>v;
    	
    	if(O=='Q')
    	{
    		low=a[x-1]-v;
    		high=a[x-1]+v;
    		
    		max=min=a[x-1];
    	
    		for(int i=x-1;i<n;i++)
    		{
    			if(low<=a[i]&&high>=a[i])
    			{
    				count++;
    				if(min>a[i])  min=a[i];
    				if(max<a[i])  max=a[i];
    			}
    			else break;
    		}
    		if(count==0)
    			cout<<"-1 -1"<<endl;
    		else
    			cout<<count<<" "<<((high-max)<(min-low)?v-(high-max):v-(min-low))<<endl;
    	}
    	else if(O=='U')
    		a[x-1]=v;
    }
    return 0;
}
