#include<bits/stdc++.h>
using namespace std;
typedef long long int uli;
const int mxk=5e5+10;
const uli mod=1000000007;
int f[mxk];
uli g[2][15];
uli pwr[mxk];
int main(){
   pwr[0]=1;
   for(int i=1;i<mxk;i++)
      pwr[i]=(pwr[i-1]<<1)%mod;
   int n,k,m,v;
   scanf("%d %d %d",&n,&k,&m);
   for(int i=0;i<n;i++){
      scanf("%d",&v);
      f[--v]++;
   }
   int rw=0;
   uli ans;
   g[0][0]=1;
   for(int i=0;i<mxk;i++){
      rw^=1;
      ans=g[rw][0]=1;
      for(int j=1;j<=m;j++){
         g[rw][j]=g[rw^1][j]+(pwr[f[i]]-1)*g[rw^1][j-1];
         g[rw][j]%=mod;
         ans+=g[rw][j];
      }
   }
   printf("%lld\n",ans%mod);
   return 0;
}
