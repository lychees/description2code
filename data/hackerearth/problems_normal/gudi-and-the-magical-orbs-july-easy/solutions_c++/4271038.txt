#include<stdio.h>
#include<algorithm>
using namespace std;
#define inf 1<<30
int n,m,k;
int cx[5] = {-1,0,-1};
int cy[5] = {0,-1,-1};
int p[105][105];
int mem[105][105][505];
bool check(int x,int y,int val)
{
    if(x<0||y<0||val<0) return false;
    return true;
}
main()
{
    int time,i,j,x,di;
    int ans;
    scanf("%d",&time);
    while(time--)
    {
        scanf("%d%d%d",&n,&m,&k);
        for(i=0;i<n;i++)
        {
            for(j=0;j<m;j++) scanf("%d",&p[i][j]);
        }
        ans = -1;
        mem[0][0][p[0][0]] = true;
        for(x=0;x<=k;x++)
        {
            for(i=0;i<n;i++)
            {
                for(j=0;j<m;j++)
                {
                    if(!i && !j && x==p[0][0]) continue;
                    mem[i][j][x] = false;
                    for(di=0;di<3;di++)
                    {
                        if(check(i+cx[di],j+cy[di],x-p[i][j])) mem[i][j][x] |= mem[i+cx[di]][j+cy[di]][x-p[i][j]];
                    }
                }
            }
            if(mem[n-1][m-1][x]) ans = x;
        }
        printf("%d\n",ans);
    }
}
