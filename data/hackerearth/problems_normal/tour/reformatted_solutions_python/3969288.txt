n = int(raw_input())
d = {}
cnt = 0
init = ""
for i in range(n):
    x = raw_input()
    if (i == 0):
        init = x
    d[x] = cnt
    cnt = cnt+1
arr = []
for i in range(n):
    l = list(map(int, raw_input().split(" ")))
    arr.append(l)
'''for i in range(0,n):
	for j in range(0,n):
		print(arr[i][j])'''
nofc = int(raw_input())
cost = 0
cities = [init]
for i in range(nofc):
    cities.append(raw_input())
for i in range(nofc):
    cost = cost+arr[d[cities[i]]][d[cities[i+1]]]
print cost
