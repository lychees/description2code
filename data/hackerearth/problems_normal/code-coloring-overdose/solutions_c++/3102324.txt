#include <iostream>
#include <vector>
#include <cstdio>
#include <map>
using namespace std;
vector<long long int> v2,v1,v3;
map<long long int,long long int> mp1,mp2;
map<long long int,long long int>::iterator it;
long long int mod=1000000007;
long long int pwr(long long int a,long long int b)
{
	if(b<=0)
		return 1;
	long long int res=1;
	while(b>0)
	{
		if((b&1)==1)
			res=((res%mod)*(a%mod))%mod;
		b/=2;
		a=((a%mod)*(a%mod))%mod;
	}
	return res;
}
int main()
{
    long long int n,k,m,p1,p2,result;
    scanf("%lld %lld %lld",&n,&k,&m);
    v2.resize(m+1,0);
    v1.resize(k+1,0);
    v3.resize(k+1,0);
    for(p1=0;p1<n;p1++)
    {
    	scanf("%lld",&p2);
    	v1[p2]++;
    }
    for(p1=1;p1<=k;p1++)
		v3[p1]=pwr(2,v1[p1]);
    v2[0]=1;
    for(p1=1;p1<=k;p1++)
    {
    	for(p2=m;p2>0;p2--)
    		v2[p2]=((v2[p2]%mod)+((v2[p2-1]%mod)*((v3[p1]-1)%mod))%mod)%mod;
    }
    result=0;
    for(p1=0;p1<=m;p1++)
    	result=(result%mod+v2[p1]%mod)%mod;
    cout<<result;
    //
    return 0;
}
