#include <bits/stdc++.h>
using namespace std;
int perent(int A[],int i)
{
    while(A[i] != i)
    {
    	A[i] = A[A[i]];
    	i = A[i];
    }
    return i;
}
bool one(int p[],int n)
{
    bool flag = false;
    for(int i =1;i<=n;i++)
    {
        if(p[i] == i && flag == false)
        {
            flag = true;
            continue;
        }
        else if(p[i] == i && flag == true)
            return false;
        
    }
    return true;
}

int main()
{
	map<int,int> mp;
    int n,q;
    int x,y,a,b;
    cin>>n>>q;
    int p[n+1];
    int v[n+1];
    for(int i =1;i<=n;i++)
    {
        p[i] = i;
        v[i] = 1;
    }
    int ans =0;
    int max = 1;
    int min = 1;
    mp[min] = n;
//  cout<<one(p,n);
    while(q--)
    {
    	
        cin>>x>>y;
        a = perent(p,x);
        b = perent(p,y);
        if(a == b)
        { 
            cout<<ans<<endl;
            continue;
        }
        mp[v[a]]--;
        mp[v[b]]--;
        if(v[a] > v[b])
        {
        	p[b] = a;
        	v[a] += v[b];
        	if(max < v[a])
        		max = v[a];
        	mp[v[a]]++;
        }
        else
        {
        	p[a] = b;
        	v[b] += v[a];
        	if(max < v[b])
        		max = v[b];
        	mp[v[b]]++;
        	
        }
       	while(mp[min] < 1) min++;
       	
        //v[b] = -v[a];
		
       	
      
     //	cout<<max<<"  "<<min<<endl;
     	ans = max-min;
        
        cout<<ans<<endl;
        
    }
    
    
    
    
    return 0;
}


