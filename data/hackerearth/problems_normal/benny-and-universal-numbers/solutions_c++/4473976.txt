#include <bits/stdc++.h>
 
using namespace std;
 
typedef long long ll;
 
const ll MAX = ll(1e15);
 
bool prime(int x) {
  if(x<=1) return false;
  for(int p = 2; p * p <= x; ++p)
    if(x%p ==0) 
      return false;
  return true;
}
 
bool ok(ll x) {
  static char str[16];
  sprintf(str, "%lld",x);
  const int N=strlen(str);
  for(int i=0;i+1<N;++i)
    if(prime(10*(str[i]-'0')+str[i+1]-'0'))
      return true;
  return false;
}
 
int main() {
  ios::sync_with_stdio(false);
  cin.tie(nullptr);
  srand(1223);
  vector<int> rem(15);
  for(int& r : rem)
    cin >> r;
  queue<pair<int,ll>> que;
  for(int d=1;d<10;++d)
    que.push({1,d});
  vector<ll> vals;
  while (!que.empty()) {
    int len;
    ll x;
    tie(len,x) = que.front();
    que.pop();
    if(x >= MAX || x%len != rem[len-1])
      continue;
    if(ok(x))
      vals.push_back(x);
    for(int d=0;d<10;++d) {
      que.push({len+1,10*x+d});
    }
  }
  int Q;
  cin >> Q;
  while (Q-- > 0) {
    ll l, r;
    cin >> l >> r;
    const ll res = upper_bound(vals.begin(),vals.end(),r) - lower_bound(vals.begin(),vals.end(),l);
    cout << res << '\n';
  }
  return 0;
}
