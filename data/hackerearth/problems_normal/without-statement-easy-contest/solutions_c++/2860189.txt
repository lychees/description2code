#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
#include <set>
using namespace std;



int findSumofSquares (int val ) {
    int sum = 0;
    while ( val != 0 ) {
        sum += pow(val%10,2);
        val /= 10;
    }
    return sum;
}

int main() {

    int t, n, m;
    scanf("%d", &t);
    int ar[8] = {4 ,16 ,20, 37, 42, 58, 89, 145};
    set<int> s;
    s.insert(ar,ar+8);
    while ( t-- ) {
        scanf("%d%d", &n, &m);

        n = findSumofSquares(n);
        m--;

        while ( m > 0 ) {

            if ( n == 1 ) {
                break;
            }
            if ( m >= 8 ){
                if ( s.find(n) != s.end() ) {
                    m = m % 8;
                }
                else {
                    n = findSumofSquares(n);
                    m--;
                }
            }
            else {
                n = findSumofSquares(n);
                m--;
            }
        }

        printf("%d\n",n);
    }
    return 0;
}
