#include <bits/stdc++.h>

using namespace std;


queue <int> qq;
int adj[2000][2000];
int main()
{
	int n, m, a, b;
	
	cin >> n >> m >> a >> b;
	qq.push(a);
	for (int i = 1; i <= n; i++) {
		adj[i][i] = 1;
	}
	for (int i = 0; i < m; i++) {
		int x, y; 
		scanf ("%d%d", &x, &y);
		adj[x][y] = adj[y][x] = 1;
	}
	if (a == b) {
		puts ("0");
		return 0;
	}
	int vis[2000];
	memset (vis, 0, sizeof vis);
	while (!qq.empty()) {
		a = qq.front(); qq.pop();
		for (int j = 1; j <= n; j++) {
			if (adj[a][j] == 0 && vis[j] == 0) {
				qq.push(j);
				vis[j] = vis[a] + 1;
			}
		}
	}
	if (vis[b] == 0) {
		puts ("-1");
	} else {
		cout << vis[b] << endl;
	}
	
    return 0;
}
