#include <iostream>
#define max(a,b) ((a)>(b)?(a):(b)) 
using namespace std;

void update(int *,int,int);
void query(int *,int,int,int);
int main()
{
    //cout << "Hello World!" << endl;
    int n,m,i;
    char op;
    int op1,op2;
    int arr[200000];
    cin>>n>>m;
    for(i=0;i<n;i++)
    {
    	cin>>arr[i];
    }
    for(i=0;i<m;i++)
    {
    	cin>>op;
    	cin>>op1>>op2;
    	if(op == 'U')
    		update(arr,op1-1,op2);
    	else
    		query(arr,n,op1-1,op2);
    }
    return 0;
}

void update(int *arr,int op1,int op2)
{
	arr[op1] = op2;
}

void query(int *arr,int size,int op1,int op2)
{
	int max=arr[op1],min=arr[op1],length=0;
	int lowVal = arr[op1] - op2;
	int highVal = arr[op1] + op2;
	int i;
	if(lowVal > highVal)	
	{
		cout<<"-1 -1"<<endl;
		return;
	}
	for(i=op1;i<size;i++)
	{
		if(arr[i]>=lowVal && arr[i]<=highVal)	length++;
		else break;
		if(arr[i] < min)	min = arr[i];
		if(arr[i] > max)	max = arr[i];
	}
	if(length == 0)	cout<<"-1 -1"<<endl;
	else
	{
		if(min == arr[op1])	cout<<length<<" "<<(max-arr[op1])<<endl;
		else cout<<length<<" "<<max(arr[op1]-min,max-arr[op1])<<endl;
	}
}