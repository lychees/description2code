

    #include <bits/stdc++.h>
    using namespace std;
    int N, M;
    int parent[100001];
    int edges[100001][2];
    bool ans[100001];
    int find(int u)
    {
        if(parent[u]!=u)
            parent[u]=find(parent[u]);
        return parent[u];
    }
    bool merge(int u, int v)
    {
        u=find(u), v=find(v);
        if(u==v)
            return false;
        parent[u]=v;
        return true;
    }
    int main()
    {
        scanf("%d%d", &N, &M);
        for(int i=1; i<=N; i++)
            parent[i]=i;
        for(int i=0; i<M; i++)
            scanf("%d%d", edges[i], edges[i]+1);
        printf("%d\n", M-N+1);
        for(int i=M-1; i>=0; i--)
            ans[i]=!merge(edges[i][0], edges[i][1]);
        for(int i=0; i<M; i++)
            if(ans[i])
                printf("%d\n", i+1);
        return 0;
    }

