#include<iostream>
#include<cmath>
using namespace std;
int get_gcd(int a , int b){
	if(a==0 || b==0){
		return a+b;
	}
	if(a<b){
		a = a^b;
		b = a^b;
		a = a^b;
	}
	if(a%b==0){
		return b;
	}
	return get_gcd(b , a%b);
}
int main()
{
    int t;
    cin>>t;
    
    int x1,x2,y1,y2 , x , y;
    while(t--){
    	cin>>x1>>y1>>x2>>y2;
    	x = abs(x1-x2);
    	y = abs(y1-y2);
    	
    	cout<<(x==0 && y==0 ? 0 : get_gcd(x,y)-1)<<endl;
    }
    
    return 0;
}
