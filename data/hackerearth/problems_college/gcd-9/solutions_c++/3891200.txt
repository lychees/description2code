
#include <iostream>
using namespace std;
# define N 500000
long long int a[N];
int gcd(int b ,int c)
{
	if(c==0)
	return b;
	else if(c==1)
	{
		return 1;
	}
	else
	return gcd(c,b%c);
}
int main()
{
    long long int i,k,l,n,count=0,max;
   cin>>n;
   cin>>l;
  i=0;
  while(i<n)
  {
  	cin>>a[i];
  	i++;
  	
  }
  i=1;
  count=0;
  max=0;
  while(i<n)
  {
   k=gcd(a[i-1],a[i]);
 //  cout<<"k "<<k<<endl;
   if(k>l)
   {
   	count++;
 //  	cout<<count<<" "<<endl;
   	if(count>max)
   	max=count;
   }
   else 
   {
   	
   	count=0;
   }
   i++;
  }
  if(max>0)
  cout<<max+1<<endl;
  else
  cout<<"0"<<endl;
    return 0;
}
