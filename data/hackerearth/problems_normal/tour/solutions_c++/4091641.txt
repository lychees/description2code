#include<bits/stdc++.h>
 
#define ll long long 
#define rep(i,n) for(int i=0;i<n;i++)
#define MOD 1000000007
 
using namespace std;
 
int main(){
	//fast IO
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);
	int n;cin>>n;
	vector<pair<string , int>> cities;
	string city;
	rep(i ,n){
		cin>>city;
		cities.push_back(make_pair(city ,i));
	}
	ll cost[n][n];
	
	rep(i,n){
		rep(j,n){
			cin>>cost[i][j];
		}
	}
	int city_travel;
	cin>>city_travel;
	string city_at;
	int des_index,previous_index=0;
	ll sum=0;
	rep(i ,city_travel){
		cin>>city_at;
		rep(i,n){
			if(cities[i].first==city_at){
				
				des_index=i;
			}
		}
		sum+=cost[previous_index][des_index];
		previous_index=des_index;
	}
	cout<<sum<<endl;
	
	return 0;
}

//Language: C++