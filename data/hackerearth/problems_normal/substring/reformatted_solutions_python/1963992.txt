t = input()
master = ['A', 'a', 'B', 'b', 'C', 'c']
while t:
    t -= 1
    s = raw_input()
    i = 0
    ans = 0
    while i < len(s):
        cnt = 0
        while i < len(s) and (s[i] in master):
            i += 1
            cnt += 1

        ans += ((cnt)*(cnt+1))/2
        i += 1
    print ans
