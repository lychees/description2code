#include<iostream>
#include<algorithm>

using namespace std;

typedef long long ll;

const ll MAXN = 100 + 5;

ll n, m, a[MAXN];
ll d[MAXN][MAXN];

int main(){
	ios::sync_with_stdio(false);
	cin.tie(0);
	ll te;	cin >> te;
	while (te--){
		cin >> n >> m;
		for (ll i = 0; i < n; i++)	cin >> a[i];
		ll ans = 0;
		for (ll i = 0; i < n; i++)
			for (ll j = 2; j <= m; j++){
				d[i][j] = 0;
				for (ll w = 0; w < i; w++){
					d[i][j] = max(d[i][j], d[w][j - 1] + abs(a[i] - a[w]));
					ans = max(ans, d[i][j]);
				}
			}
		cout << ans << "\n";
	}
	return 0;
}
