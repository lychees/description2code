A,B=map(int,raw_input().split())
s=raw_input()
jewel=0
for i in range(len(s)):


    if s[i]=='1':
        jewel+=A%B
    A = (A * A)%B
print jewel%B