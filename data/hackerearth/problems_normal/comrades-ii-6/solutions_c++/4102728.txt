#include<bits/stdc++.h>
using namespace std;
vector<int> adj[100001];
int heightof[100001];

void dfs(int at,int height)
{
    vector<int>::iterator it;
    heightof[at]=height;
    it=adj[at].begin();
    while(it!=adj[at].end())
    {
        dfs((*it),height+1);
        it++;
    }
    return;
}

int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n;
		cin>>n;
		
		int i=1;
		while(i<=n)
		{
			
			adj[i].clear();
			i++;
		}
		i=1;
		int root;
		while(i<=n)
		{
			int par;
			cin>>par;
			
			if(par==0)
			{
				root=i;
				i++;
				
			}
			else
			{
				adj[par].push_back(i);
				i++;
			}
			
		
	
		}
		i=1;
		dfs(root,0);
		long long int heightsum=0;
		while(i<=n)
		{
			heightsum+=heightof[i];
			i++;
		
		}
		long long int total=(long long int )n*(n-1);
		total=total/2;
	//	cout<<heightsum<<" "<< total-heightsum<<endl;
	printf("%lld %lld\n",heightsum,total-heightsum);
		
		
		
		
		
	}
}