#include<bits/stdc++.h>
#include<set>
#include<stdio.h>



using namespace std;
void abc(){
//vxfxcvcbcvcbbcb
//fdsvdvxvvcvcvcbb    
}

int main() {
    int test,i,n,j,max;
	int P,Q,high,bhai;
    int array1[100001],dparray1[100001],dparray2[100001];
    
    scanf("%d",&test);
	
	
    while(test--) {
        scanf("%d",&n);
        for(i=1;i<=n;i++) {
            scanf("%d",&array1[i]);
            array1[i]-=i;
        }
        dparray1[1]=1;dparray2[1]=array1[1];bhai=1;
		//sfxfxfxfvxvxvvv
        for(i=2;i<=n;i++) {
            if(array1[i] < 0) {
            	dparray1[i]=0;
            	continue;
				//yujhjjbbjbjbjbjbjbjbbbbhbhb
            }//sgjzhjhcjxhjvhhxjhj hch 
            if(array1[i] < dparray2[1] ) {                dparray2[1]=array1[i];
                dparray1[i]=1;
            } else if(array1[i] >= dparray2[bhai]) {                dparray2[bhai+1]=array1[i];
			//gjjgjgjgjgjgjgjgjgjjggjgjgjgj
                dparray1[i]=bhai+1;
                bhai++;
            } else {
                P=1;high=bhai;                while(P<=high) {
                    Q=(P+high)>>1;
					
                    if(dparray2[Q-1] <=array1[i] && dparray2[Q] > array1[i]) break;
					//hhhiihih
					
					
					
					
					
					
					
					
                    if(dparray2[Q] <= array1[i]) P=Q+1;
                    else high=Q-1;
                }
				
				
				
				
                dparray2[Q]=array1[i];
                dparray1[i]=Q;
            }
        }
//        for(i=1;i<=n;i++) 



//printf("%d %d\n",i,dparray1[i]);
        max=dparray1[1];
		//yiyiyiihhkhkhhkhk
        for(i=2;i<=n;i++) if(dparray1[i] > max) max=dparray1[i];
        printf("%d\n",n-max);
    }
    return 0;
}
void pqr(){
//dfjkhdkvchvhbjchbvv
//gfggfcgcbcb
}