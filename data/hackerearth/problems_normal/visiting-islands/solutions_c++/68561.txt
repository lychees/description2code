#include<iostream>
#include<cstdio>
using namespace std;
#define max 1000000

int counti[max];
char what[max];
int a[max];


int main()
{
	int T,N;
	
	scanf("%d%*c",&T);
	for(int t=0;t<T;t++)
	{
		scanf("%d%*c",&N);

		bool indeg[max]={false};
		//cout<<"indeg[8]="<<indeg[8]<<endl;

		register int i;
		for(i=0;i<N;i++)
		{
			scanf("%d%*c",&a[i]);
			indeg[a[i]]=true;
			what[i]='n';
			counti[i]=0;
		}
		
		int maxcount=0;
		int start=0;
		
		for(i=0;i<N;i++)
		{
			if(indeg[i]==false)
			{
				register int j=i;
				register int prev=-1,next;
				register int count=0;
				do{
					++count;
					counti[j]=count;
					what[j]='e';
					
					next=a[j];
					a[j]=prev;
					prev=j;
					j=next;
				}while(what[j]=='n');
				
				if(what[j]=='e')
				{
					register int loop_prev=prev;
					prev=a[j];
					a[j]=loop_prev;
					
					counti[j] = (count) - counti[j] + 1;
					count=counti[j];
					
					what[j]='l';
										
					while(what[loop_prev]!='l')
					{
						what[loop_prev]='l';
						counti[loop_prev]=count;
						loop_prev=a[loop_prev];
					}
					
				}
				if(what[j]=='l')count=counti[j];
				
				while(prev!=-1)
				{
					what[prev]='l';
					++count;
					counti[prev]=count;
					prev=a[prev];
				}
				
				if(counti[i]>maxcount)
				{
					maxcount=counti[i];
					start=i;
				}
			}
		}
		
		for(i=0;i<N;i++)
		{
			if(what[i]=='n')
			{
				register int count=0;
				register int j=i;
				
				do{
					++count;
					what[j]='l';
					j=a[j];
				}while(j!=i);
				
				if(count>maxcount)
				{
					maxcount=count;
					start=j;
				}
				
			}
		}
		
		printf("%d\n",start);
	}
	return 0;
}
