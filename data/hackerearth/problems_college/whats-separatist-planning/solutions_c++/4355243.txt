#include<bits/stdc++.h>
using namespace std;
int main()
{
    int t,l,d,n;
    //map<char,int> m[20];
   cin>>l>>d>>n;
   string ch[5003],s,ss;
    for(int i=0;i<d;i++)
    cin>>ch[i];
    for(int i=0;i<n;i++)
    {
            
     cin>>s;
     int f=0,cnt=0;
     int len=s.length();
     for(int k=0;k<d;k++)
     {
         ss=ch[k]; 
         int p=0;   
      for(int j=0;j<len;j++)
      {
              f=0;
       if(s[j]=='(')
       {j++;
            while(s[j]!=')')
            {
                  if(s[j]==ch[k][p])
                  f=1;                        
                            j++;
            }
            
       }
       else
       {
           if(s[j]==ch[k][p])
                  f=1;
       }
       p++;
       if(f==0)
       break;
       
     }
     if(f==1)
     cnt++;
    }
    cout<<cnt<<endl;
   } 
    return 0;
}
