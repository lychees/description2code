'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
arr=map(int,raw_input().strip().split(' '))
string=list(raw_input().strip())
potions=arr[0]
mod=arr[1]
res=0
for x in string:
	res=res%mod+int(x)*potions%mod
	potions=(potions%mod)*(potions%mod)
print res%mod