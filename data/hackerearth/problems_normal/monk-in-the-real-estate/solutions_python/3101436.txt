T = int(raw_input())
while T:
	T -= 1
	E = int(raw_input())
	visited = [False for i in xrange(10000 + 7)]
	count = 0
	while E:
		E -= 1
		x, y = map(int, raw_input().split())
		if visited[x] == False:
			visited[x] = True
			count += 1
		if visited[y] == False:
			visited[y] = True;
			count += 1
	print count