def S(n):
     sum=0
     while(n):
          r = n%10 
          sum += r
          n //= 10
     return sum
store = []
for i in range (250):
    sum = i
    while(sum>=10):
        sum = S(sum)
    store.append(sum)
t = int(raw_input())
while(t):
    sum=0
    m = int(raw_input())
    while(m):
        a,b = map(int,raw_input().split(" "))
        sum += a*b
        m = m-1
    sum = S(sum)
    if(sum>250):
        sum = S(sum)
    print (store[sum])
    t = t-1
