#include <bits/stdc++.h>
using namespace std;
#define ll long long int
#define MOD 1000000007
#define fo(i,c,n) for(i=c;i<n;i++)
#define f(i,n) for(i=0;i<n;i++)
#define rev(i,n,c) for(i=n;i>c;i--)
#define print(n) printf("%lld\n",n)
#define tc(t) while(t--)
#define print2(a,b) printf("%lld %lld\n",a,b)
#define print3(a,b,c) printf("%lld %lld %lld\n",a,b,c)
#define prints(n) printf("%s\n",n)
#define inputs(n) scanf("%s\n",n)
#define input(n) scanf("%lld",&n)
#define input2(a,b) scanf("%lld %lld",&a,&b)
#define input3(a,b,c) scanf("%lld %lld %lld",&a,&b,&c)
#define br putchar('\n')
ll max(ll a,ll b){ll x=((a>b)?a:b);return x;}

ll min(ll a,ll b){ll x=((a<b)?a:b);return x;}

//Jim Moriarty. Hi.
int main()
{
    ll t,n,a,i,b,c,e;
    double g,f;
    input(t);
    while(t--)
    {
    	map<double,set<double> > m;
    	m.clear();
    	set<double> s;
    	ll k=0,ans=0;
    	input(n);
    	f(i,n)
    	{
    		input3(a,b,c);
    		if(b==0)
    		{
    			g=c*pow(a,-1);
    			g=round( g * 100000000.0 ) / 100000000.0;
    			s.insert(g);
    			k=s.size();
    			if(k>ans)ans=k;	
    		}
    		f=a*pow(b,-1);
    		f=round( f * 100000000.0 ) / 100000000.0;
    		g=c*pow(b,-1);
    		g=round( g * 100000000.0 ) / 100000000.0;
    		m[f].insert(g);
    		//cout<<1*pow(0,-1);
    		if(m[f].size()>ans)ans=m[f].size();
    	}
    	print(ans);
    }
    return 0;
}