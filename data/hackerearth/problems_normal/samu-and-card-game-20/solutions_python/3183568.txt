tc=int(raw_input())
while tc:
    tc-=1
    N,M=map(int,raw_input().split())
    max_jump=0
    k=int(raw_input())
    initial_x=1
    initial_y=1
    while k:
        k-=1
        x,y=map(int,raw_input().split())
        #while initial_x+x<=N and initial_y+y<=M and initial_x+x>=1 and initial_y+y>=1:
        while (1<=initial_x+x<=N and 1<=initial_y+y<=M):
        	max_jump+=1
        	initial_x+=x
        	initial_y+=y
                        
		

    print max_jump
