#include <bits/stdc++.h>
using namespace std;

#define read(num) scanf("%d", &num)

 bool prime[1000001];
 int cntPrimePrimes[1000001];

void sieve(int range)
{
    memset(prime,true,sizeof prime);
    memset(cntPrimePrimes,0,sizeof cntPrimePrimes);
    int srootRange = sqrt(range);
    prime[0] = prime[1] = false;
    for(int i=2; i<=srootRange; i++)
    {
        if(prime[i])
        {
            for(int j=i+i; j<=range; j+=i) prime[j] = false;
        }
    }
    int cnt=0,cntPprimes=0;
    for(int i=2; i<=range; i++)
    {
        if(prime[i]) cnt++;
        if(prime[cnt])
        {
            cntPprimes++;
        }
        cntPrimePrimes[i] = cntPprimes;
    }
}

int main()
{
    sieve(1000000);
    int t,l,r; read(t);

    for(int cs=1; cs<=t; cs++)
    {
        read(l); read(r);
        int cntPPrimes = 0;
        printf("%d\n", cntPrimePrimes[r] - cntPrimePrimes[l-1]);
    }

    return 0;
}
