//Baba and Guruji

#include <iostream>
#include <vector>
#include <cstdio>

typedef long long LL;

const LL MOD =  1000000007;

int main()
{
	/*std::vector<LL> v(1000001);
	LL x, y, q, n;
	
	std::cin >> x >> y;
	
	v.at(0) = 1;
	v.at(1) = x - y;
	
	for (LL i = 2; i < v.size(); ++i)
	{
		v.at(i) = ((v.at(i - 1) * x) % MOD  - y) % MOD;
	}
	
	std::cin >> q;
	
	while (q--)
	{
		std::cin >> n;
		std::cout << v.at(n) << std::endl;
	}*/
	
	LL v[1000000];
	LL x, y, q, n;
	
	scanf("%lld%lld", &x, &y);
	
	v[0] = 1;
	v[1] = x - y;
	
	for (LL i = 2; i < 1000000; ++i)
	{
		v[i] = (v[i - 1] * x) % MOD  - y;
	}
	
	scanf("%lld", &q);
	
	while (q--)
	{
		scanf("%lld", &n);
		printf("%lld\n", v[n]);
	}
	
	return 0;	
}
