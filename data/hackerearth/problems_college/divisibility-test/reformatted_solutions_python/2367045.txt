for _ in range(int(raw_input())):
    li = []
    m = raw_input()
    div = int(raw_input())
    x, y = map(int, raw_input().split())
    x -= 1
    y -= 1
    m = m[x:y+1]
    # print(m)
    for i in range(y-x+1):
        for j in range(i+1, y-x+2):
            if int(m[i:j]) % div == 0:
                li.append(m[i:j])
    print(len(li))
