from collections import Counter
def share_the_fare():
	tmp = raw_input().split()
	N, Q = int(tmp[0]), int(tmp[1])

	transactions = Counter()
	persions = []

	# input persions name
	for i in xrange(N):
		persions.append(raw_input())

	# input transaction details
	for j in xrange(Q):
		p = raw_input()
		amount = input()
		M = input()

		# dividing amount
		famount = amount / (M+1)
		ramount = amount % (M+1)

		transactions[p] -= (amount - (famount + ramount))

		for _m in xrange(M):
			transactions[raw_input()] += famount

	for p in persions:
		if transactions[p] < 0:
			print "%s is owed %s"%(p,abs(transactions[p]))
		elif transactions[p] > 0:
			print "%s owes %s"%(p, abs(transactions[p]))
		elif transactions[p] == 0:
			print "%s neither owes nor is owed"%p 

T = input()

for _t in xrange(T):
	share_the_fare()
	
	
	
	
	
	