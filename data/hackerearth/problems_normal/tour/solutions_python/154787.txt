ct=input()
cl=[]
for i in range(ct):
	cl.append(raw_input())
cd=[]
for i in range(ct):
	a=map(int, raw_input().split())
	cd.append(a)
d=input()
dd=[]
for i in range(d):
	dd.append(cl.index(raw_input()))
count=0
x=0;
#print dd
dd=list(reversed(dd))
#print dd
while(len(dd)!=0):
	y=dd.pop()
#	print x,y
#	print dd[i],dd[i+1], x, y, cd[x][y]
	count+=cd[x][y]
	x=y
print count