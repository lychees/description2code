def counter(n, k):
    if n < 5:
        return 0
    binary = bin(n)[2:]
    count = 0
    for i in xrange(len(binary)-2):
        if binary[i:i+3] == "101":
            count += 1
    if count >= k:
        return 1
    else:
        return 0


for t in xrange(input()):
    r, k = map(int, raw_input().split())
    tot = 0
    # from pdb import set_trace
    # set_trace()
    for i in xrange(5, r+1):
        tot = tot+counter(i, k)
    print tot
