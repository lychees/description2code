#include <iostream>
#include<map>
using namespace std;
typedef long long ll;
#define gc getchar_unlocked
ll scan( long long x )
{
    register ll c = gc();
    x = 0;
    ll neg = 0;
    for( ; ((c<48 || c>57) && c != '-'); c = gc() );
    if( c=='-' ) {
        neg=1;
        c=gc();
    }
    for( ;c>47 && c<58; c = gc() ) {
        x = (x << 1) + (x << 3) + c - 48;
    }
     return x;
} 
int main()
{
    ll T,a,b;
    T=scan(T);
    map<ll,ll>m;
    while(T--){
    	a=scan(a);b=scan(b);
    	if(a==0){
    		ll tt=1;
    		m[0]++;
    		while(tt<=b){
    			m[b/tt]++;
    			tt*=2;
    		}
    	}
    	if(a==1){
    		ll tt=1;
    		m[0]--;
    		while(tt<=b){
    			m[b/tt]--;
    			tt*=2;
    		}
    	}
    	if(a==2){
    		cout<<m[b]<<endl;
    	}
    	
    }
    return 0;
}
