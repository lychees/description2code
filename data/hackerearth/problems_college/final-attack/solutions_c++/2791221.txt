#include<bits/stdc++.h>
using namespace std;
#define sz(x) (int)(x.size())
#define INF (1<<28)

int adj[105][105];
int dp[105][105];

int main()
{
	//freopen("TestCase4.txt", "r", stdin);
	//freopen("TestOut4.txt", "w", stdout);
	int t; cin >> t;
	while(t--)
	{
		//memset(adj, 0, sizeof adj);
		//memset(dp, 0, sizeof dp);
		int n, m; cin >> n >> m;
		
		for(int i = 0; i < n; i++)
		{
			for(int j = 0; j < n; j++)
			{
				if(i != j) dp[i][j] = INF;
				else dp[i][j] = 0;
			}
		
		}
		
		//int n, m; cin >> n >> m;
		
		for(int i = 0; i < m; i++)
		{
			int x, y, w; cin >> x >> y >> w;
			x--;
			y--;
			//adj[x][y] = w;
			dp[x][y] = -w;
		}
		
		
		/**cout << endl;
		for(int i = 0; i < n; i++)
		{
			for(int j = 0; j < n; j++)
			{
				cout << dp[i][j] << " ";
			}
			cout << endl;
		}**/
		
		
				
		//FW
		for(int i = 0; i < n; i++)
		{
			for(int j = 0; j < n; j++)
			{
				for(int k = 0; k < n; k++)
				{
					dp[i][j] = min(dp[i][j], dp[i][k]+dp[k][j]);
				}
			}
		}
		
		
		/**for(int i = 0; i < n; i++)
		{
			for(int j = 0; j < n; j++)
			{
				cout << dp[i][j] << " ";
			}
			cout << endl;
		}**/
		
		
		int flag = 1;
		for(int i = 0; i < n; i++)
		{
			if(dp[i][i] < 0) { //cout << "i : dp[i] " << i  << " " << dp[i][i] << endl; 
				flag = 0; }
		}
	    if(flag) cout << "YES\n";
	    else cout << "NO\n";
	}
	// kjhkhkjhk
	return 0;
}