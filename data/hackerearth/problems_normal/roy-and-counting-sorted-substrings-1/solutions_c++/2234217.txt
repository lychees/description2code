

    #include <bits/stdc++.h>
    using namespace std;
    #define ll long long int
   
    int main()
    {
    	int test;
    	cin>>test;
    	while(test--)
    	{
    		int l;
    		cin>>l;
    		string s;
    		cin>>s;
    		ll ans=0, length=1;
    		for(int i=1;i<s.size();i++)
    		{
    			if(s[i]>=s[i-1])
    				length++;
    			else
    			{
    				ans+=length*(length+1)/2;
    				length=1;
    			}
    		}
    		ans+=length*(length+1)/2;
    		cout<<ans<<endl;
    	}
    	return 0;
    }

