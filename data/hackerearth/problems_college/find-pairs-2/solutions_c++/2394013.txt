#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
int main()
{
   // cout << "Hello World!" << endl;
   int t,n;
   scanf("%d",&t);
   while(t--)
   {
   	scanf("%d",&n);
   	map<int,int> gr;
   	int i,x;
   	for(i=0;i<n;i++)
   	{
   		scanf("%d",&x);
   		gr[x]++;
   	}
   	ll ans = 0;
   	map<int,int>::iterator I;
   	for(I = gr.begin();I!=gr.end();I++)
   	{
   		ll cur = I->second;
   		cur = (cur*(cur+1))/2;
   		ans+=cur;
   	}
   	printf("%lld\n",ans);
   }
    return 0;
}
