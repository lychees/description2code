#include <bits/stdc++.h>
using namespace std ;

#define sc(x) scanf("%d",&x)
#define pr(x) printf("%d ",x) 
#define prn(x) printf("%d\n",x)
#define MAXN 40
#define LL long long int 
#define ft first
#define sd second

int T,N,Pos[40],Neg[40],Pcnt,Ncnt,X,zero;
LL ans,SP,SN,S;
map<LL,int> MP,MN ;

void SubsetP(int i=0,LL sum=0){

	if(sum > S)
		return ;
	if(i >= Pcnt ){
		if(sum){
			MP[sum] ++ ;
		}		
		return ;	
	}
	SubsetP(i+1,sum) ;
	SubsetP(i+1,sum+Pos[i]) ;
}

void SubsetN(int i=0,LL sum=0){

	if(sum > S)
		return ;
	if(i >= Ncnt){
		if(sum)
			MN[sum] ++ ;
		return ;	
	}
	SubsetN(i+1,sum) ;
	SubsetN(i+1,sum+Neg[i]) ;
}

int main(){
	sc(T) ;
	while(T--){
		sc(N) ;
		ans = zero = Pcnt = Ncnt = 0 ;
		SN = SP = 0 ;		
		for(int i=1;i<=N;i++){
			sc(X) ;
			if(X == 0){
				zero ++ ;
			}else if(X < 0){
				Neg[Ncnt++] = -X ;
				SN -= X ;
			}else{
				Pos[Pcnt++] = X ;
				SP += X ;
			}
		}
		S = min(SN,SP) ;				
		SubsetN() ;
		SubsetP() ;
		for(map<LL,int> :: iterator it = MP.begin() ; it!=MP.end() ; ++it){
			ans += (1LL * (it->sd) * (MN[it->ft])) ;
		}
		ans ++ ;
		ans = ans * (1LL << zero) ;
		ans -- ;
		printf("%lld\n",ans) ;		
		MP.clear() ;
		MN.clear() ;
	}
	return 0 ;
}