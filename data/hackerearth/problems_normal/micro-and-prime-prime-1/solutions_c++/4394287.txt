// By manrajsingh
#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define d1(a)cout<<#a<<": "<<a<<"\n";
#define d2(a,b)cout<<#a<<": "<<a<<" , "<<#b<<": "<<b<<"\n";
#define d3(a,b,c)cout<<#a<<": "<<a<<" , "<<#b<<": "<<b<<" , "<<#c<<": "<<c<<"\n";
#define d4(a,b,c,d)cout<<#a<<": "<<a<<" , "<<#b<<": "<<b<<" , "<<#c<<": "<<c<<" , "<<#d<<": "<<d<<"\n";

bool prime[1000005];
int ans[1000005];
int dp[1000005];

void precomp(){
	for(int i=0;i<1000005;i++){
		prime[i] = false;
	}
	prime[0] = true,prime[1] = true;
	for(int i=2;i<=1000005;i++){
		if(!prime[i]){
			for(int j=2*i;j<1000005;j+=i){
				prime[j] = true;
			}
		}
	}
	memset(ans,0,sizeof(ans));
	memset(dp,0,sizeof(dp));
	for(int i=2;i<1000005;i++){
		if(!prime[i]){
			dp[i] = dp[i-1]+1;
		}
		else{
			dp[i] = dp[i-1];
		}
		if(!prime[dp[i]]){
			ans[i] = ans[i-1]+1;
		}
		else{
			ans[i] = ans[i-1];
		}
	}
}

int main() {
	int t;
	scanf("%d",&t);
	precomp();
	while(t--){
		int l,r;
		scanf("%d %d",&l,&r);
		printf("%d\n",ans[r]-ans[l-1]);
	}
	return 0;
}