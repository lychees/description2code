import math
t = input()
while t:
    n, m = map(int, raw_input().split())
    ans = 0
    if m == 1:
        print n
    else:
        while n >= m:
            n -= pow(m, int(math.log(n)/math.log(m)))
            ans += 1
        print ans+n
    t -= 1
