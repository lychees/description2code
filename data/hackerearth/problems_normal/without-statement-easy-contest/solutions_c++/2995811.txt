#include <bits/stdc++.h>

using namespace std;

int main()
{
	int T;
	cin>>T;
	for(int test=0;test<T;test++)
	{	
		map <int,int> M;
		vector <int> v;
		long long int n,m;
		cin>>n>>m;
		for(int i=0;i<730;i++)
		{
			int a = i;
			int count=0;
			while(a!=0)
			{
				int r = a%10;
				count+=(r*r);
				a=a/10;
			}
			M[i]=count;
		}
		long long int q=0;
		while(m!=0)
		{

			if(find(v.begin(),v.end(),n)==v.end())
			{
				v.push_back(n);
			}
			else
			{
				vector<int> :: iterator it;
				it=find(v.begin(),v.end(),n);
				size_t ind= it-v.begin();
				int ans = m%(v.size()-ind);
				n=v[ind+ans];
				break;
			}
			int pop;
			if(M.find(n)==M.end())
			{
				long long int p = n;int sum=0;
				q =n;
				while(p!=0)
				{
					int r = p%10;
					sum+=(r*r);
					p=p/10;
				}
				n=sum;
				m--;
			}
			else
			{	
				q=n;
				n=M[n];
				m--;
			}
		}
		cout<<n<<endl;
	}
	return 0;
}