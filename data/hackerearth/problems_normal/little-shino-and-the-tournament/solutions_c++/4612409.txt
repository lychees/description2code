#include<bits/stdc++.h>
using namespace std;
int main()
{
    long i,n,q;
    scanf("%ld%ld",&n,&q);
    long arr[n+1];
    for(i=1;i<=n;i++)
        scanf("%ld",&arr[i]);
    long turn=0;
    vector<vector<long> > v(2);
    for(i=1;i<=n;i++)
        v[0].push_back(i);
    long fights[n+1];
    for(i=1;i<=n;i++)
        fights[i]=0;
    while(v[turn].size()>1)
    {
//        for(i=0;i<v[turn].size();i++)
//            cout<<v[turn][i]<<" ";
//        cout<<"\n";
        for(i=0;i<v[turn].size();i+=2)
        {
            if(i+1<v[turn].size())
            {
                fights[v[turn][i]]++;
                fights[v[turn][i+1]]++;
                if(arr[v[turn][i]]<arr[v[turn][i+1]])
                    v[1-turn].push_back(v[turn][i+1]);
                else
                    v[1-turn].push_back(v[turn][i]);
            }
            else{
                v[1-turn].push_back(v[turn][i]);
            }
        }
        v[turn].clear();
        turn=1-turn;
    }
    while(q--)
    {
        long k;
        scanf("%ld",&k);
        printf("%ld\n",fights[k]);
    }
    return 0;
}
