#include<bits/stdc++.h>
using namespace std;
#define ll long long
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n;
		cin>>n;
		ll mn=1,mx=1;
		while(n--)
		{
			char ch;
			cin>>ch;
			ll k;
			switch(ch)
			{
				case 'N' :
					mn=min(mn,-mx);
					mx=max(mx,-mn);
					break;
				case '+' :
					cin>>k;
					mx+=k;
					break;
				case '-' :
					cin>>k;
					mn-=k;
					break;
				case '*' :
					cin>>k;
					mx=max(mx,mx*k);
					mn=min(mn,mn*k);
					break;
				case '/' :
					cin>>k;
					mx=max(mx,max(mn/k,mx/k));
					mn=min(mn,min(mn/k,mx/k));
					break;
			}
			
		}
		cout<<mx<<'\n';
	}
	return 0;
}