#include <vector>
#include <list>
#include <map>
#include <set>
#include <queue>
#include <deque>
#include <stack>
#include <numeric>
#include <bitset>
#include <algorithm>
#include <functional>
#include <numeric>
#include <utility>
#include <sstream>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <ctime>
#include <cstring>
#include <climits>
#include <cassert>
#include <iostream>
#define MOD 1000000007
#define pi 3.141592653589
#define ii pair<int,int>
#define vii vector<ii>
#define ll  long long int
#define REP(i,a,b) for(ll i=a;i<=b;i++)
#define loop(i,n) for(ll i=0;i<n;i++)
#define ll  long long int
#define loop2(i,n) for(ll i=1;i<=n;i++)
#define FOR(i,st,end) for(int i=st;i<end;i++)
#define MIN(a,b) (a) < (b) ? (a) : (b)
#define MAX(a,b) (a) > (b) ? (a) : (b)
#define ABS(a) (a) > 0 ? (a) : -(a)
using namespace std;
// Look at the limits
//N**** B*** D***

/*
    X-X-X-X-X-X-X-X-X-X-X-X-X-X-X-X-X-X-X-X-X-X
*/

int main(){
    //P*** T** R***** O** O* T*** H** A****:)
    //B***** T** O****** , B***** T** R******:))
    //F**** O* T** Q*******:)
    //R<=0.2*N.O.P
    
    ll t;
    cin>>t;
    while (t--) {
     
        ll n,q;
        cin>>n>>q;
        q--;
        ll ans=n*n-(n%q)*((n+q-1)/q)*((n+q-1)/q);
        ans=ans-(q-n%q)*(n/q)*(n/q);
        ans/=2;
        ans=(n*(n-1))/2-ans;
       
        cout<<ans<<endl;
    }
    
    
    
    
   
    //R<=0.2*N.O.P.
    //P*** T** R***** O** O* T*** H** A****:)
    // :(22-----:)0
    //QS:4 QUS:6
    return 0;
}




