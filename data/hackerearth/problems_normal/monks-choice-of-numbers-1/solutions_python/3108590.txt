'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
t=int(raw_input())
while(t):
	n,k=map(int,raw_input().split())
	a=map(int,raw_input().split())
	q=[]
	for i in a:
		c=0
		for j in bin(i):
			if j=='1':
				c+=1
		q.append(c)
	q.sort()
	x=0
	for b in range(k):
		x=x+q[n-1-b]
	print(x)
	t-=1
		
		
		
		
