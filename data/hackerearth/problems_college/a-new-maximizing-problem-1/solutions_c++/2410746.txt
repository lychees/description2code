#include <iostream>
#include<algorithm>
using namespace std;

int main() {
	long long int t,n,a[1000000],s=0,q=0,k;
	cin>>t;
	while(t--)
	{
	    cin>>n;
	    for(long long int i=0;i<n;i++)
	    {
	    cin>>a[i];
	    if(a[i]>=0)//checking if a[i] is positive ,if so directly adding it to calculate B
	    s=(s+a[i])%1000000007;
	    else //checking if a[i] is negative ,if so multiply it with -1 to make it positive to get max value of B 
	    s=(s+((-1)*a[i]))%1000000007;
	    }
	    sort(a,a+n);//sorting in ascending order to calculate A
	    if(n%2==0)// for even value of n
	    {
	    for(long long int i=0;i<n/2;i++)
	    {
	      q=(q+((-1)*a[i])+(1*a[n-1-i]))%1000000007;  //0 to n/2-1th is multiplied with -1 to get max Value of A
	    }// n/2+1 to n-1th is multiplied with 1 to get max Value of A
	    }
	    else//for odd value of n
	    {
	    for(long long int i=0;i<n/2;i++)
	    {
	      q=(q+((-1)*a[i])+(1*a[n-1-i]))%1000000007;////0 to n/2-1th is multiplied with -1 to get max Value of A  
	    }// n/2+1 to n-1th is multiplied with 1 to get max Value of A
	    q=(q+((-1)*a[n/2]))%1000000007;// n/2th element is multiplied with -1 and added to A for odd no of elements
	    }
	    
	    k=(s*q)%1000000007;//calculating the value of C
	    cout<<k<<endl;
	    s=0;
	    q=0;
	}
	return 0;
}
