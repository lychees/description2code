#include <iostream>
using namespace std;
 
 
int main()
{
  int t,n;
 
   // cout << "Hello World!" << endl;
    cin>>t;
    if(t>10)
    goto bye;
    while (t--)
    {
    	cin>>n;
    	if(n>10)
    goto bye;
	int a[n][n]; 
	int i,j; 
	for(i=0;i<n;i++) 
	{ 
	for(j=0;j<n;j++) 
	{ 
	a[i][j] = -1; 
	} 
	} 
	int k; 
	i=0;j=0; 
	int dir=0; 
	for(k=1;k<=(n*n);k++) 
	{ 
	a[i][j] = k; 
	if(dir==0 && (n==(j+1) || a[i][j+1] != -1 )) 
	{ 
	dir=1; 
	i++; 
	} 
	else if(dir==1 && ( (i+1)==n || a[i+1][j] != -1 ) ) 
	{ 
	dir = 2; 
	j--; 
	} 
	else if(dir==2 && (j==0 || a[i][j-1] != -1) ) 
	{ 
	dir =3; 
	i--; 
	} 
	else if(dir==3 && (a[i-1][j] != -1) ) 
	{ 
	dir =0; 
	j++; 
	} 
	else if(dir==0) 
	j++; 
	else if(dir==1) 
	i++; 
	else if(dir==2) 
	j--; 
	else if(dir==3) 
	i--; 
	} 
	for(i=0;i<n;i++) 
	{ 
	for(j=0;j<n;j++) 
	cout<<a[i][j]; 
	cout<<"\n"; 
} 
    cout<<"\n";	
    }
    bye:
    return 0;
}