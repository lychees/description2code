#include <iostream>
#include <bits/stdc++.h>
using namespace std;

int h[256];


bool comp(string a, string b) {
	int len1 = a.length();
	int len2 = b.length();
	
	int i=0,j=0;
	while(i<len1 && j<len2) {
		if(h[a[i]] < h[b[j]])
			return true;
		else if(h[a[i]] > h[b[j]])
			return false;
		else {
			i++;
			j++;
		}
	}
	if(i<len1)
		return false;
	else
		return true;
	
}
int main()
{
	int t;
	cin>>t;
	
	for(int i=0;i<t;i++) {
		string a;
		cin>>a;
		
		int count = 0;
		for(int k=0;k<256;k++) {
			if(k < 97 || k > 122) {
				h[k] = 0;
			}
			else {
				h[a[k-97]] = count;
				count++;
			}
		}
		
		int m;
		cin>>m;
		list<string> mylist;
		
		for(int j=0;j<m;j++) {
			string c;
			cin>>c;
			mylist.push_back(c);
		}
		
		mylist.sort(comp);
		
		list<string>::iterator it;
		for (it=mylist.begin(); it!=mylist.end(); ++it)
    		cout <<*it<<endl;
		
		
	}
	
    return 0;
}
