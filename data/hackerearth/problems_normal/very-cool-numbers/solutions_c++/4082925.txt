#include <iostream>
using namespace std;
bool binary(int x,int k)
{
	int arr[20],l=0;
	while(x!=0)
	{
		arr[l]=x%2;
		x=x/2;
		l++;
	}
	int ans=0;
	for(int i=0;i<l-2;)
	{
		if(arr[i]==1 and arr[i+1]==0 and arr[i+2]==1){ans++;i+=2;}
		else i+=1;
	}
	return(ans>=k);
}
int main()
{
	int t;
	cin >> t;
	while(t--)
	{
		int n,k;
		cin >> n >> k;
		int ans=0;
		for(int i = 1 ; i <= n ;i++)if(binary(i,k))ans++;
		cout << ans <<endl;
	}
	return 0;
}