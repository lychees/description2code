#include <iostream>
#include<cmath>
using namespace std;

int64_t gcd(int64_t a,int64_t b)
{
  if(b==0)
    return a;
  if(a%b==0)
   return b;
  else
    return gcd(b,a%b);
}
int main()
{
   int t,i;
   cin>>t;
   for(i=0;i<t;i++)
   {
   	int64_t X1,X2,Y1,Y2;
   	cin>>X1>>Y1>>X2>>Y2;
   	if(X1==X2&&Y1==Y2)
   	 cout<<0<<"\n";
   	else
   	{
   	int64_t a=abs(X1-X2);
   	int64_t b=abs(Y1-Y2);
   	int64_t ans=gcd(a,b)-1;
   	cout<<ans<<"\n";
   	}	
   }
    return 0;
}