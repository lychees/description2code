#include <bits/stdc++.h>

using namespace std;
typedef pair<int, int> pii;
int n, m;
vector<pii> arr;
vector<int> ref;
bool sortify(const vector<int> &vec){
    vector<int> seq = vec;
    for (int i = 0; i < m; i++){
	int a = arr[i].first - 1, b = arr[i].second;
	sort(seq.begin() + a, seq.begin() + b);
    }
    for (int i = 1; i < n; i++){
	if (seq[i] != seq[i-1] + 1) return false;
    }
    return true;
}

int main(){
    cin >> n >> m;

    arr.resize(m);
    for (int i = 0; i < m; i++){
	cin >> arr[i].first >> arr[i].second;
    }

    vector<int> seq(n);
    for (int i = 0; i < n; i++) seq[i] = i + 1;
    vector<int> choices = seq;
    sort(seq.rbegin(), seq.rend());

    if (sortify(seq)) {
	cout << "All ok!" << endl;
	return 0;
    }

    for (int i = 0; i < n; i++){
	int sz = n - i;
	for (int c = 0; c < sz; c++){
	    seq[i] = choices[c];
	    int ptr = sz - 1;
	    for (int j = i + 1; j < n; j++){
		if (ptr == c) ptr--;
		seq[j] = choices[ptr];
		ptr--;
	    }
	    if (!sortify(seq)) {
		choices.erase(choices.begin() + c);
		break;
	    }
	}
    }
    for (auto &it : seq) cout << it << " ";
    cout << endl;

    return 0;
}
