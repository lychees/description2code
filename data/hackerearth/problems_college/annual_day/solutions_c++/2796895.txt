#include<bits/stdc++.h>
using namespace std;
int setBits(int x)
{
	int cnt=0;
	while(x){
		if(x%2)
			cnt++;
		x/=2;
	}
	return cnt;
}
int main()
{
	int t;
	for(scanf("%d", &t); t--; )
	{
		int n, k;
		scanf("%d %d", &n, &k);
		int a[105];
		for(int i=0; i<n; i++)
			scanf("%d", &a[i]);
		for(int i=0; i<n; i++)
			a[i] = setBits(a[i]);
		sort(a, a+n);
		int result=0;
		for(int i=n-1; i>=n-k; i--)
			result+=a[i];
		printf("%d\n", result);
	}
	return 0;
}
