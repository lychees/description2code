p1, p2 = map(int, raw_input().split())
for _ in range(int(raw_input())):
	l, r = map(int, raw_input().split())
	x = r / p1 - l / p1 + (l % p1 == 0)  +  r / p2 - l / p2 + (l % p2 == 0)
	pp = p1 * p2
	x -= (r / pp - l /pp + (l % pp == 0))
	print "%0.6f"%(x /(r - l + 1.))