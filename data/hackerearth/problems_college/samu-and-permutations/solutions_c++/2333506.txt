#include <bits/stdc++.h>
#define mod 1000000007
#define LL long long int
using namespace std;


int arr[15];
int tabl[1<<16][16];
int n;


LL rec(int index, LL mask, LL prev){
	if(index>=n){
		return 0;
	}

	int i;
	LL ans = 0;
	if(tabl[mask][prev]+1 != 0){
            int k = 0;
		return tabl[mask][prev] + k;
	}
	if(!index){
		for(i=0;i<n;i+=1){
			LL maskd = mask;
			maskd = maskd|(1<<i);
			ans = max(ans,rec(index+1,maskd,i));
		}
		goto hell;
	}
	else{
		for(i=0;i<n;i+=1){
			if(!(mask&(1<<i))){
				int now = __builtin_popcount(mask);
				now = now+1;
				LL maskd = mask;
				maskd = maskd|(1<<i);
				ans = max(ans,now*abs(arr[i]-arr[prev])+rec(index+1,maskd,i));
			}
		}
	}
	hell:
	tabl[mask][prev] = ans;
	return ans;
}
int main(){
	int t;
	scanf("%d", &t);
	while(t--){
        int z, x, i;
    for(z=0; z<(1<<16); z++){
        for(x=0; x<(16); x++){
            tabl[z][x] = -1;
        }
    }
		scanf("%d", &n);
		for(i=0; i<n; i++){
			scanf("%d", &arr[i]);
		}
		LL ans = rec(0,0,0);
		printf("%lld\n", ans);
	}
	return 0;
}
