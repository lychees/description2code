#include <iostream>
#include <cstdio>
#include <vector>
using namespace std;
vector<int> cube;
int A[600];
int cnt[505][2002];
void cub_com()
{
	for(int i= 2;i*i*i<=6000;i++)
	{
	   cube.push_back(i*i*i);	
	}
}
int main()
{
	int t;
	scanf("%d", &t);
	int N;
	cub_com();
	while(t--)
	{
		scanf("%d", &N);
		for(int i = 1;i<=N;i++)
		{
			scanf("%d", &A[i]);
		}
		for(int i = 1;i<=N;i++)
		{
			for(int j = 1;j<=2000;j++)
			{
				if(i == 1)
				{
					cnt[i][j] = 0;
				}
				else
				{
					cnt[i][j] = cnt[i-1][j];
				}
			}
			cnt[i][A[i]]++;
		}
		int sum;
		int U;
		int num = 0, den = ((N)*(N-1)*(N-2))/6;
		for(int i =1;i<=N;i++)
		{
			for(int j = i+1;j<=N;j++)
			{
				sum = A[i] + A[j];
				for(int k = 0;k<cube.size();k++)
				{
					if(cube[k]>(A[i] + A[j]) && (cube[k] - A[i]- A[j])<=2000)
					{
						U = cube[k] - (A[i]+A[j]);
						num += cnt[N][U] - cnt[j][U];
					}
				}
			}
		}
		double ans = ((double)num)/((double)den);
		printf("%.9f \n", ans);
	}
}