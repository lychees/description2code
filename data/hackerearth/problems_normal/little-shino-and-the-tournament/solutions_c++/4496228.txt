#include <bits/stdc++.h>
using namespace std;

struct{
	int idx, val;
}a[100001];
int f[100001];
int main()
{
    int n, m, q, i, j;
    scanf("%d %d", &n, &q);
    m = n;
    for(i = 0; i < n; ++i){
    	scanf("%d", &a[i].val);
    	a[i].idx = i;
	}
    while(n > 1){
    	for(i = 0, j = 0; i < n; i += 2, ++j){
    		if(i + 1 < n){
    			++f[a[i].idx];
    			++f[a[i + 1].idx];
    			if(a[i].val > a[i + 1].val)
    				a[j] = a[i];
    			else
    				a[j] = a[i + 1];
    		}
    		else
    			a[j] = a[i];
    	}
 		n = ceil(n / 2.0);
    }
    while(q--){
    	scanf("%d", &j);
    	printf("%d\n", f[j - 1]);
    }
    return 0;
}
