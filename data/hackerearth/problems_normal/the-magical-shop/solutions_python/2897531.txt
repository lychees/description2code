n,m = map(int , raw_input().split())
s = raw_input()
ans=0
for i in s:
	if i=='1':
		ans+=n%m
		ans%=m
	n=(n*n)%m
print ans