#include <bits/stdc++.h>
using namespace std;
 
#define MAXN 100010
int ft[MAXN];
 
void update(int idx)
{
	for(;idx<MAXN;idx+=idx&-idx)
		++ft[idx];
}
 
int query(int idx)
{
	int sum = 0;
	for(;idx;idx-=idx&-idx)
		sum += ft[idx];
	return sum;
}
 
int main()
{	int t;
	scanf("%d",&t);
	while(t--){
	int n;
	memset(ft,0,MAXN);
	scanf("%d",&n);
	vector<pair<int,int> > v(n);
	vector<int> a(n);
	for(int i=0;i<n;++i)
	{
		scanf("%d",&v[i].first);
		v[i].second = i;
	}
	for(int i=0;i<n;++i)
		scanf("%d",&a[i]);
	sort(v.begin(),v.end());
	for(int i=0;i<a.size();++i)
	{
		vector<pair<int,int> >::iterator it;
		it = lower_bound(v.begin(),v.end(),make_pair(a[i],0));
		a[i] = it->second+1;
	}	
	long long inv = 0;
	for(int i=n-1;i>=0;--i)
	{
		inv += query(a[i]-1);
		update(a[i]);
	}
	printf("%lld\n",inv);
	}
} 
