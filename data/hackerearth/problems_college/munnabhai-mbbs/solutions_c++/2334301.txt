#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
typedef long double ld;
#define F(i,a,b) for(ll i=a;i<=(int)b;i++)
#define ITR(x,c) for(__typeof(c.begin()) x=c.begin();x!=c.end();x++)
#define ALL(a) (a.begin()),(a.end())
#define ZERO(a) memset(a,0,sizeof(a))
#define mp make_pair
#define pb push_back 
#define X first
#define Y second
#define pi 3.14159265 
#define sd(n) scanf("%d",&n)
#define sl(n) scanf("%lld",&n)
#define sf(n) scanf("%lf",&n) 
typedef pair<int,int> pii;
typedef pair<ll,ll> pll;  

const int MOD=(int)1e9+7;

const int SIZE=(int)5e5+2;

int t;

int main(){
    
	sd(t);
	
	while(t--)
	{	
		int n,m;
		
		sd(n); sd(m);
		
		vector<int> adj[1010];

		int score[1010]={0};
		
		F(i,1,m)
		{
			int pre,cs;	
			sd(pre); sd(cs);
			
			adj[pre].pb(cs);
			
			score[cs]++;
		}
		
		int ans=0;
		
		
		queue<int> q;
		
		F(i,1,n)
		if(score[i]==0)
		q.push(i);	
		
		
		while(!q.empty()){
			
			int u=q.front();
			
			ans++;
			
			q.pop();
			
			for(int i=0;i<adj[u].size();i++)
			{
				int v=adj[u][i];
				
				if(score[v]>=1)
				{
					score[v]--;
					
					if(score[v]==0)
						q.push(v);
				}
		
			}
		}
		
		cout<<ans<<"\n";
		
	}
    return 0;
}