#include<stdio.h>
#include<algorithm>
#include<iostream>
using namespace std;

int prime[1000001];
int consonant[1000001];
int mod=1000000007;

int main(){
	prime[1]=1;
	prime[0]=1;
	for(int i=2;i<=1000;i++){
		if(!prime[i]){
			for(int j=i;j*i<=1000000;j++){
				prime[j*i]=1;
			}
		}
	}

	int t,n,m,a[1000000],count,con;
	long long ways;
	scanf("%d",&t);
	while(t--){
		scanf("%d %d",&n,&m);
		for(int i=0;i<n;i++){
			scanf("%d",&a[i]);
		}
		count=0;
		for(int i=0;i<=100000;i++)
			consonant[i]=0;
		for(int i=m;i>=1;i--)
		{
			if(prime[i]){
				count++;
			}
			consonant[i]=count;
		}
		sort(a,a+n);
		count=0;
		ways=1;
		for(int i=n-1;i>=0;i--){
			con= consonant[a[i]];
			if(con-count<=0){
				ways=0;
				break;
			}
			ways *= (con-count);
			ways = (ways+mod)%mod;
			count++;  
		}
		printf("%lld\n",ways);
	}
	return 0;
}