#include <bits/stdc++.h>
#define f first
#define s second
#define ll long long int
#define pb push_back
#define mp make_pair
#define MAX 100005 

using namespace std ;

int a[MAX] , freq[MAX] , m = -1e9 , f[MAX] ;


int main()
{
	ios_base::sync_with_stdio(false) ;
	
	cin.tie(0) ;
	
	int N , countx = 0 , ans = 0 ;
	
	cin >> N ;
	
	for(int i = 0 ; i < N ; i++) 
	{
		cin >> a[i] ;
		
		freq[a[i]]++ ;
		
		if(i > 0 && a[i] == a[i - 1])
		  f[a[i]]++ ;
	}	
	
	for(int i = 1 ; i <= 100000 ; i++)
	 m = max(m , freq[i]) ;
    
	if(m > (N - N /2)) {
		cout << "-1" << endl ;
		return 0 ;
	}
	
	multiset<int> S ;
	
	for(int i = 0 ; i <= 100000 ; i++) if(f[i] > 0) S.insert(f[i]) ;  
	
	while(S.size() > 1)
	{
		int x = *S.rbegin() ;
		S.erase(--end(S)) ;
		int y = *S.rbegin() ;
		S.erase(--end(S)) ;
		
		x-- , y-- ;
		
		ans++ ;
		
		if(x > 0) S.insert(x) ;
		if(y > 0) S.insert(y) ;
	}
	
	if(!S.empty()) ans += *begin(S) ;
	
	cout << ans  << endl;   

return 0 ;
}


