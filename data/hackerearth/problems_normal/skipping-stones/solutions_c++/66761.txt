#include <cstdio>
#include <algorithm>
#include <cstring>
#include <set>
#include <vector>
#include <queue>
#include <map>
#include <iostream>
#include <cmath>

#define S(x) scanf("%d",&x)
#define P(x) printf("%d\n",x)
#define rep(i,a,b) for(int i=a;i<b;i++)
#define pb push_back
using namespace std;

typedef long long int LL;
typedef vector<int > VI;

int main() {
   int n,L,D;
   scanf("%d%d%d",&n,&L,&D);
   long double p[n+2];
   rep(i,1,n+1) scanf("%Lf",&p[i]);
   int dist[n+2];
   p[n+1] = 1.0;
   dist[0] = 0;
   dist[n+1] = D;
   long double dp[n+1];
   dp[0] = 1;
   rep(i,1,n+2) {
      if(i <= n) scanf("%d",&dist[i]);
      long double mx = 0.0;
      int flag = 0;
      rep(j,0,i) if(dist[i]-dist[j] <= L) {
         mx = max(dp[j]*p[i],mx);
         flag = 1;
      }
      if(!flag) {
         printf("IMPOSSIBLE\n");
         return 0;
      }
      dp[i] = mx;
   }
   printf("%Lf\n",dp[n+1]);
   return 0;
}