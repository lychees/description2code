#include<bits/stdc++.h>
using namespace std;
#define mod 1000000007
typedef long long ll;
vector<int>vec[100003];
ll n;
vector<bool>used;
ll fact[100003];
ll counte;
ll fac()
{fact[0]=1;
    for(int i=1;i<=n;i++)
    fact[i]=(fact[i-1]*i)%mod;
}
void dfs(int u)
{  if(!used[u]){
    counte++;
//cout<<counte<<endl;

    used[u]=true;
    for(size_t v=0;v<vec[u].size();v++)
    {
        if(!used[vec[u][v]])
        dfs(vec[u][v]);
    }
}
}
ll dfss()
{

    ll ans=1;
  for(int i=0;i<n;i++)
  used.push_back(false);
  for(int i=0;i<n;i++)
  {
      if(!used[i])
      {
          counte=0;
          dfs(i);
          //cout<<counte<<endl;
          ans=(ans*fact[counte])%mod;
         // cout<<ans<<endl;
      }
  }
  return ans;
}


int main()
{ll k;
ll count=0;
    cin>>n>>k;
    ll t,y;
    fac();
    
    
    for(int i=0;i<k;i++)
    {
        cin>>t>>y;
        vec[t].push_back(y);
        vec[y].push_back(t);
    }
   count= dfss();
   cout<<count<<endl;
   return 0;

}
