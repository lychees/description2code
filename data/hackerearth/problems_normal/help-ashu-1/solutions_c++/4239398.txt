#include <iostream>
#include <cmath>
#include <vector>
#include <list>
#include <algorithm>
using namespace std;

#define endl "\n"

int n,q,p;
int arr[100005],BIT[100005];

void update(int i,int val)
{
    for(;i<=n;i+=i&(-i))
    {
        BIT[i]+=val;
    }
}

int query(int i)
{
    int ans=0;
    for(;i>0;i-=i&(-i))
    {
        ans+=BIT[i];
    }
    return ans;
}

int main()
{
    ios::sync_with_stdio(false); cin.tie(NULL);
    cin>>n;
    int x,y;
    for(int i=1;i<=n;++i)
    {
        cin>>arr[i];
        if(!(arr[i]%2))
        {
            update(i,1);
        }
    }
    //for(int i=0;i<10;i++) cout<<BIT[i]<<" ";cout<<endl;
    cin>>q;
    while(q--)
    {
        cin>>p;
        if(p==0)
        {
            cin>>x>>y;
            if(y%2&&!(arr[x]%2))
            {
            	arr[x]=y;
                update(x,-1);
            }
            else if(!(y%2)&&arr[x]%2)
            {
            	arr[x]=y;
                update(x,1);
            }
        }
        else if(p==1)
        {
            cin>>x>>y;
            cout<<query(y)-query(x-1)<<endl;
        }
        else
        {
            cin>>x>>y;
            cout<<(y-x+1)-(query(y)-query(x-1))<<endl;
        }
    }
}
