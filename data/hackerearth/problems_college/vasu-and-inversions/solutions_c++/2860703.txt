#include <iostream>
using namespace std;

int main()
{
    cin.sync_with_stdio(false);
    cin.tie(0);
    int t, n, k, nz, no, num;
    cin >> t;
    while(t--)
    {
    	nz = no = 0;
    	cin >> n >> k;
    	for(int i = 0; i < n; i++)
    	{
    		cin >> num;
    		if(num)
    			no++;
    		else
    			nz++;
    	}
    	if(k <= nz)
    		no += k;
    	else
    	{
    		no = no + nz - ((k - nz) % 2);
    	}
    	cout << no << '\n';
    }
    
    return 0;
}
