#include <bits/stdc++.h>
#define lli long long

using namespace std;

lli A[52];
lli dp[52][52];

lli f(int i, int j)
{
	if ( j-i <= 1 ) return 0;
	lli &ans = dp[i][j];
	if ( ans != -1 ) return ans;
	ans = 0;
	for ( int k = i+1; k < j; k++ ) {
		ans = max(ans, A[i]*A[j] + f(i,k) + f(k,j));
	}
	return ans;
}

int main()
{
	int n;
	cin >> n;
	for ( int i = 0; i < n; i++ ) cin >> A[i];
	memset(dp, -1, sizeof(dp));
	lli ans = f(0,n-1);
	cout << ans << endl;
	return 0;
}