#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<cstring>
using namespace std;
int cs,i,j,n;
char str[1000001];
int main()
{
  scanf("%d",&cs);
  while(cs--)
  {
    scanf("%s",str);
    n=strlen(str);
    for(i=0;i<n-1-i && str[i]==str[n-1-i];i++);
    if(str[i]!=str[n-1-i])
    {
      for(j=i;j<n-2-j && str[j]==str[n-2-j];j++);
      if(j<n-2-j)
        printf("%d\n",i);
      else
        printf("%d\n",n-1-i);
    }
    else
      printf("-1\n");
  }
  return 0;
}
