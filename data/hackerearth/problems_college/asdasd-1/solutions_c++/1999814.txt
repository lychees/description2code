#include <bits/stdc++.h>
using namespace std;
#define MAX 3000
int sieve[3001];
int gcd(int a,int b);
int main()
{
	memset(sieve,1,sizeof(sieve));
	sieve[1]=0;
	for(int i=2;i*i<=MAX;i++)
	{
			for(int j=i*i;j<=MAX;j+=i)
			{
				sieve[j]=0;
			}
	}
int t,a,p,b,fa,fb,k;
cin>>t;
while(t--)
{
	int cnt=0;
	cin>>a>>b;
	fa=pow(2,a)-1;
	fb=pow(2,b)-1;
		k=gcd(fa,fb);
	for(p=2;p*p<=k;p++)
	{
		if(sieve[p])
		{
				if(k%p==0)
				{cnt++;
				while(k%p==0)
				{
					k=k/p;
				}
				}
		}
	}
	if(k!=1)
		cnt++;
cout<<cnt<<endl;
}
return 0;
}
int gcd(int a,int b)
{
	if(a==0)
		return b;
	return gcd(b%a,a);
}