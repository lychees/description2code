#include <iostream>
using namespace std;

long long int func(long long int n)
{
	//n = n/10;
	if(n==1 || n==2 || n==3 || n==4 || n==5 || n==6 || n==7 || n==8 || n==9 ||n==0)
	return n;
	else
	{
		long long int k= n%10 + func(n/10) ;
		if(k!=1 || k!=2 || k!=3 || k!=4 || k!=5 || k!=6 || k!=7 || k!=8 || k!=9)
		{
			return func(k);
		}
		else return func(k);
	}
}

int main()
{
    int t;
    cin>>t;
    while(t--)
    {
    	long long int m,l,d,i,k=0,p=0,c,s;
    	cin>>m;
    	long long int arr[m];
    	for(i=0;i<m;i++)
    	{
    		cin>>l>>d;
    		if(l!=1 || l!=2 || l!=3 || l!=4 || l!=5 || l!=6 || l!=7 || l!=8 || l!=9)
    		s=func(l);
    		arr[i]=s*d;
    	}
    	for(i=0;i<m;i++)
    	{
    		p+=arr[i];
    	}
    	
    	c=func(p);
    	cout<<c<<endl;
    	
    }
    return 0;
}
