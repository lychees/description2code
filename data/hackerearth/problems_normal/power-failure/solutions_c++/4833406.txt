#include <iostream>
#include <math.h>
#include <algorithm>
using namespace std;
int main()
{
	long long int t,n,max,i;
	cin>>t;
	while(t--)
	{
		cin>>n>>max;
		long long int a[n],prime[100001]={0},j,flag,c[max+1];
		for(i=0;i<n;i++)
		cin>>a[i];
		sort(a,a+n);
		if(a[n-1]>max)
		{
			cout<<"0\n";
			continue;
		}
		prime[1]=1;
		for(i=2;i<=max;i++)
		{
			if(!prime[i])
			{
				for(j=i*i;j<=max;j+=i)
				prime[j]=1;	
			}
		}
		long long int count=0;
		for(j=max;j>=a[0];j--)
		{
			if(prime[j]==1)
			count++;
			c[j]=count;
		}
		if(c[a[n-1]]==0)
		{
			cout<<0<<"\n";
			continue;
		}
		long long int ans=1,i=0;
		for(j=n-1;j>=0;j--)
		{
			ans=(ans*(c[a[j]]-i++))%1000000007;
		}
		cout<<ans<<"\n";
	}
}