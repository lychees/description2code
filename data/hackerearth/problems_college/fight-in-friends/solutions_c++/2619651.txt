#include<bits/stdc++.h>
using namespace std;
	 
queue<pair<int,int> > q;
vector<int> friends[1003];

int mat[1003][1003]={0},flg=0;
int n,m,a,b,x,y,visited[1003]={0};
 
void bfs()
{
	while(!q.empty())
	{
		pair<int,int> pr=q.front();
		q.pop();

		visited[pr.first]=1;
 
		for(int i = 0; i < (int)friends[pr.first].size(); ++i)
		{
			if(i==friends[pr.first][i])
			{
				continue;
			}
 
			if((!visited[friends[pr.first][i]])&&(mat[pr.first][friends[pr.first][i]]==0))
			{
				if(friends[pr.first][i]==b)
				{
					cout<<pr.second+1;
					flg=1;
					return;
				}
		
				q.push(make_pair(friends[pr.first][i],pr.second+1));
			}
		}
	}
	return;
}
 
int main()
{
	cin>>n>>m>>a>>b;
 
	while(m--)
	{
		cin>>x>>y;		
		mat[x][y]=1;
		mat[y][x]=1;
	}	
 
	for (int i = 1; i <= n ; ++i)
	{
		for (int j = 1; j <= n; ++j)
		{
			if(mat[i][j]==0)
			{
				friends[i].push_back(j);
			}
		}
	}
	
	q.push(make_pair(a,0));

	bfs();
	
	if(flg==0)
	{
		cout<<-1;
	}
	
	return 0;
}