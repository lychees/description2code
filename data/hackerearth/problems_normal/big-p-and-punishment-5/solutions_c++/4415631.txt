#include <bits/stdc++.h>
using namespace std;

int visited[10005];
int ans=0;

int dfs(int u, vector<int> adj[]){
	visited[u]=1;
	ans++;
	for(int i=0;i<adj[u].size();i++)
		if(visited[adj[u][i]]==0)
			dfs(adj[u][i],adj);
}

int main(){
    int t,n,f,s,x,y;
    cin>>t;
    while(t--){
    	memset(visited,0,sizeof(visited));
    	ans=0;
    	cin>>n>>f>>s;
    	vector<int> adj[n+5];
    	while(f--){
    		cin>>x>>y;
    		adj[x].push_back(y);
    	}
    	while(s--){
    		cin>>x;
    		if(visited[x]==0)
    			dfs(x,adj);
    	}
    	cout<<ans<<endl;
    }
    return 0;
}
