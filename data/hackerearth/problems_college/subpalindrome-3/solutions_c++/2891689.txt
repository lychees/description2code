#include <cstdio>
#include <iostream>
#include <cstring>

using namespace std;
typedef unsigned long long int int32;

#define MAX 101011
#define DEBUG if(0)

char A[MAX];

int32 Process()
{
    int32 ans = 0;
    int32 count = 0;
    int32 len = strlen(A);
    int32 dp[len+1][len+1];

    for(int i = 0; i <= len; ++i)
    {
        for(int j = 0; j <= len; ++j)
            dp[i][j]=0;
    }

    for(int i= len - 1; i>=0; i--)
    {
        int c=1;
        dp[i][i]=1;

        if(i+1 != len)
        {
            if(A[i] == A[i+1])
            {
                c++;
                dp[i][i+1] = 3;
            }
            else
            {
                dp[i][i+1]=2;
            }
        }

        for(int j=i+2; j<len; j++)
        {
            if(A[i] == A[j])
            {
                c++;
                c += dp[i+1][j-1];
            }

            dp[i][j]=dp[i+1][j]+c;
        }
    }

    DEBUG
    {
        for(int i = 0; i < len; ++i)
        {
            for(int j = 0; j < len; ++j)
                cout << dp[i][j] << "\t";
            cout << endl;
        }
    }

    ans = dp[0][len-1];
  
    return ans;
}

int main()
{
    int T;
    scanf("%d\n",&T);
    while(T--)
    {
        cin >> A;
        cout << Process() << endl;
    }
    return 0;
}
