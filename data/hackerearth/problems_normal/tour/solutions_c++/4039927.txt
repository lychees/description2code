#include <iostream>
#include<bits/stdc++.h>
using namespace std;
int main(){
	int N,i,j,P;
	string a,start;
	map<string,int> city;
	cin>>N;
	int costs[N][N];
	for(i=0;i<N;i++){
		cin>>a;
		if(i==0){start=a;}
		city[a]=i;	
	}
	for(i=0;i<N;i++){
		for(j=0;j<N;j++){
			cin>>costs[i][j];
		}	
	}
	cin>>P;
	string current=start;
	long long int cost=0;
	for(i=0;i<P;i++){
		cin>>a;
		cost+=costs[city[current]][city[a]];
		current=a;
	}
	cout<<cost;
}

