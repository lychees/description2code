from collections import defaultdict
for t in xrange(input()):
    n = input()
    a = map(int, raw_input().split(" "))
    h = defaultdict(int)
    for i in xrange(n):
        if h[a[i]] == 0:
            h[a[i]] = []

        h[a[i]].append(i)
    c = 0
    for val in h.values():
        n = len(val)
        c = c+n*(n+1)/2
    print c
