#include <bits/stdc++.h>
using namespace std;

int fo[100005], go[100005];
int n, a[100005];
#define FOR(i,a,b) for (int i = a; i < b; i++)

int main()
{
	scanf("%d", &n);
	FOR(i,0,n) {
		scanf("%d", a+i);
		fo[a[i]]++;
		if (i && a[i-1] == a[i]) go[a[i]]++;
	}
	int mm = 0;
	FOR(i,0,100005) mm = max(mm, fo[i]);
	if (mm > (n+1)/2) {
		printf("-1\n");
		return 0;
	}
	sort(go,go+100005);
	reverse(go,go+100005);
	int x = go[0];
	FOR(i,1,100005) x -= go[i];
	if (x <= 0) {
		x -= 2*go[0];
		x *= -1;
		printf("%d\n", (x+1)/2);
	} else {
		printf("%d\n", go[0]);
	}
    return 0;
}