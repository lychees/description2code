#include<iostream>
#include<cmath>
#include<iomanip>
#include<vector>
using namespace std;


double inter(vector<double> & v,int i,int j,int k)
{
	double val = v[i] + ((v[j]-v[i])*(k-i))/(j-i);
	return fabs(val-v[k]);
}
int main()
{
	int T;
	cin>>T;
	while(T--)
	{
		int n,m;
		cin>>n>>m;
		vector<double> a(n);
		vector<vector<double> > error(n,vector<double>(n,0.0));
		for(int i=0;i<n;i++) cin>>a[i];
		for(int i=0;i<n;i++)
		{
			for(int j=i+2;j<n;j++)
				for(int k=i+1;k<j;k++)
					error[i][j]+= inter(a,i,j,k);
		}
		
		double dp[n][m+1];
		
		for(int i=2;i<=m;i++) dp[0][i] = 0.0;
		
		for(int i=1;i<n;i++)
		{
			dp[i][2] = error[0][i]; 
			for(int j = 3;j<=m;j++)
			{
				dp[i][j] = dp[i][j-1];
				for(int k = i; k>0;k--)
				{
					dp[i][j] = min(dp[i][j],error[k][i]+dp[k][j-1]);
				}
			}
		}
		cout<<fixed;
				
		cout<<setprecision(4)<<dp[n-1][m]/n<<endl;
		
		
	}
}