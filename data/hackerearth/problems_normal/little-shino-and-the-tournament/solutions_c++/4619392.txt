#include <iostream>
#include<cstdio>
#include<cmath>
using namespace std;
int main()
{
    int n,k;
    scanf("%d %d",&n,&k);
    long long int cnt[n];
    int flag[n];
    for(int i=0; i<n; i++)
    {
        flag[i]=1;
        cnt[i]=0;
    }
    long long int a[n];
    for(int i=0; i<n; i++)
      scanf("%lld",&a[i]);
    int p=-1;
    int c=0;
    while(c<(int)31-__builtin_clz(n)+1)
    {
        for(int i=0; i<n; i++)
        {
            if(p==-1&&flag[i]!=0)
               {
                   p=i;
//                cout<<"new p= "<<p<<endl;
               }
            else if(p!=-1&&flag[i]!=0)
            {
                if(a[p]>a[i])
                {
//                    cout<<"hi\n";
                    cnt[p]++;
                    cnt[i]++;
//                    cout<<"p ";
//                    cout<<p<<"  "<<cnt[p];
//                    cout<<i<< "  "<<cnt[i]<<endl;
                    flag[i]=0;

                    p=-1;
                    continue;
                }
                else
                {
                    cnt[p]++;
                    cnt[i]++;
                    flag[p]=0;
//                    cout<<"hello\n";
//                    cout<<"i ";
//                    cout<<p<<"  "<<cnt[p]<<" ";
//                    cout<<i<< "  "<<cnt[i]<<endl;
                    p=-1;

                    continue;
//                    cout<<c;
                }
            }
        }
        p=-1;
        c++;
    }
   while(k--)
   {
       int q;
       scanf("%d",&q);
       printf("%lld\n",cnt[q-1]);
   }
}
