#include <bits/stdc++.h>
        #define fun(i,a,b) for(int i=a;i<b;i++)
        using namespace std;
        int main()
        {
        	int n,t,m,c,ans;
        	scanf("%d",&t);
        	long long int array[21],s=1;
        	fun(i,0,20)
        	{
        		array[i]=s;
        		s*=2;
        	}
        	while(t--)
        	{
        		ans=1<<18;
        		vector <string> v;
        		string temp;
        		scanf("%d",&n);
        		fun(i,0,n)
        		{
        			cin>>temp;
        			v.push_back(temp);
        		}
        		m=v.back().size();
        	
        		long long int N=1<<m;
        		bool visited[n];
        		fun(i,0,N)
        		{
        			c=0;
        			fun(j,0,n)
        				visited[j]=0;
        			fun(j,0,m)
        				if(i&array[j])
        					fun(k,0,n)
        						if(v[k][j]=='Y' and !visited[k])
        						{
        							c++;
        							visited[k]=1;
        						}	
        			
        			if(c==n)
        			{
        				int temp=__builtin_popcount(i);
        				ans=min(ans,temp);
        				
        				
        			}
        		}
        		printf("%d\n",ans);
        	}
        	return 0;
        }