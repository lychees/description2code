#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

ll findStrength(string& S, int N){
    ll ans = 0LL;
    for(int i = 0; i < N; i++){
        int low = i,high = i;
        int len = 1;
        while(low >= 0 && high < N && S[low] == S[high]){
            ans += (ll)(len*len);
            low--;
            high++;
            len += 2;
        }
        low = i; high = i+1; len = 2;
        while(low >= 0 && high < N && S[low] == S[high]){
            ans += (ll)(len*len);
            low--;
            high++;
            len += 2;
        }
    }
    return ans;
}

int main()
{
    int T; string S;
    cin >> T;
    while(T--){
        cin >> S;
        int N = S.length();
        cout << findStrength(S,N) <<"\n";
    }
    return 0;
}
