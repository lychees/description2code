#include <bits/stdc++.h>
#define PB push_back
#define MP make_pair
#define LL long long
#define MAXN 100001
#define M 1000000007
#define F first
#define S second
#define sc(x) scanf("%d",&x)
#define scl(x) scanf("%lld",&x)
using namespace std;

struct node{
    LL a, b, c, tot;
};

node t[112];
string s[112];

char solve(LL x, LL i){
    LL d;
    if(i == 0)
        return s[0][x];
    if(x + 1 > t[i].a + t[i].b){
        return s[i][x - (t[i].a + t[i].b)];
    }

    if(x + 1 > t[i].a){
        d = x - t[i].a;
        d = t[i - 1].tot - 1 - d;
        return solve(d, i - 1);
    }
    return solve(x, i - 1);
}

int main(){
    LL n, T, i, j, m, x;
    cin>>T;
    while(T--){
        cin>>n>>m;
        for(i=0;i<n;i++)
            cin>>s[i];
        t[0].a = 0;t[0].b = 0;t[0].c = 0;
        t[0].tot = s[0].length();
        for(i=1;i<n;i++){
            t[i].a = t[i - 1].tot;
            t[i].b = t[i - 1].tot;
            t[i].c = s[i].length();
            t[i].tot = t[i].a + t[i].b + t[i].c;
        }

        while(m--){
            cin>>x;
            cout<<solve(x, n - 1);
        }
        cout<<endl;
    }
}
