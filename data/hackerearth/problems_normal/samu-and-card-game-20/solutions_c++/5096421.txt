#include<bits/stdc++.h>
using namespace std;
int main(){
long long int t;
scanf("%lld",&t);
while(t--){
	long long int m,n,i,k,x=1,y=1,a,b,moves=0;
	scanf("%lld%lld",&m,&n);
	scanf("%lld",&k);
	for(i=0;i<k;i++){
		scanf("%lld%lld",&a,&b);
		while( (x+a)<=m && (y+b)<=n && (x+a)>0 && (y+b)>0){
			moves++;
			x+=a;
			y+=b;
		}
	}
	printf("%lld\n",moves);
}
return 0;
}