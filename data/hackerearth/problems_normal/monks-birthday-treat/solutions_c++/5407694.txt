#include <iostream>
#include <algorithm>
#include <cstdio>
#include <vector>
#include <string>
#include <queue>
using namespace std;

vector< vector<int> > v(1005);
int flag[1005];

int main()
{
	int n,d,min=1000000;
	cin >> n >> d;
	for(int i=0; i<d; i++){
		int a,b;
		cin >> a >> b;
		v[a].push_back(b);
	}
	for(int i=1; i<=n; i++){
		for(int j=1; j<=n; j++){
			flag[j]=0;
		}
		int start=i;
		flag[start]=1;
		queue<int> q;
		q.push(start);
		while(q.size()!=0){
			int node=q.front();
			q.pop();
			int sz=v[node].size();
			for(int j=0; j<sz; j++){
				if(flag[v[node][j]]==0){
					flag[v[node][j]]=1;
					q.push(v[node][j]);
				}
			}
		}
		int ct=0;
		for(int j=0; j<=n; j++){
			if(flag[j]==1)
				ct++;
		}
		if(ct<min && ct!=0){
			min=ct;
		}
	}
	cout << min << endl;
    return 0;
}
