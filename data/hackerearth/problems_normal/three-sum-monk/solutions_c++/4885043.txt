#include <bits/stdc++.h>
using namespace std;
//set<pair<pair<int,int>,int> > s;
int main()
{
	int cubes[20];
    int a[505],i,j,n,t,k;
    scanf("%d",&t);
    for (i=0 ; i <= 19 ; i++) {
    	cubes[i]=i*i*i;
    }
    while (t--) {
	    scanf("%d",&n);
	    for(i=1 ; i <= n ; i++) {
	    	scanf("%d",a+i);
	    }
	    int dp[505][2005];
	    for (int i=1 ; i <= n ; i++) {
	    	for (int j=1 ; j <= 2000 ; j++) {
	    		dp[i][j] = dp[i-1][j] + (a[i]==j);
	    	}
	    }
	    int total = n*(n-1)*(n-2)/6,req=0;
	    for (i=1 ; i <= n ; i++) {
	    	for (j=i+1 ; j <= n ; j++) {
	    		for (k=0 ; k < 20; k++) {
	    			int par = a[i]+a[j];
	    			if (cubes[k] < par) {
	    				continue;
	    			}
	    			if (cubes[k]-par > 2000) continue;
	    			req += (dp[n][cubes[k]-par]-dp[j][cubes[k]-par]);
	    		}
	    	}
	    }
	    printf("%.9lf\n",(double)req/(double)total);
    }
    return 0;
}
