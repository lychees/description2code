#include <iostream>
using namespace std;

int main()
{
    int n, m, i, x, l_shift, r_shift, match=0;
    long int a[100005], t[100005];
    char rot;
    cin >> n >> m;
    for(i=0; i<n; i++)
        cin >> a[i];
    for(i=0; i<n; i++)
        cin >> t[i];
    for(i=0; i<n; i++)
        if(a[0] == t[i])
            match = i;
    i=0;    l_shift = 0;    r_shift = n-1;
    while(i<m){
        cin >> rot >> x;
        if(match == l_shift){
            cout << i << endl;
            return 0;
        }
        if(rot == 'R'){
            l_shift = (l_shift+x)%n;
            r_shift = n - l_shift - 1;
        }
        else{
            r_shift = (r_shift+x)%n;
            l_shift = n - r_shift -1;
        }
        i++;
    }
    cout << "-1" << endl;
    return 0;
}
