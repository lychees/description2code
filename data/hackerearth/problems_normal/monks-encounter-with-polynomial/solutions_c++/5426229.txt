#include <iostream>
using namespace std;

int main()
{
    long a, b, t, c;
    unsigned long long k, x, m, f, l;
    bool flag;
    
    cin>>t;
    
    while(t--)
    {
    	flag=0;
    	f=0;
    	cin>>a>>b>>c>>k;
    	
    	if(c>k)
    	{
    		cout<<0<<endl;
    		continue;
    	}
    	
    	l=(k-c)/b+1;
    	m=l/2;
    	
    	
    	
    	while((f<l)&&(!flag))
    	{
    		x=(a*m*m+b*m+c);
    		if(x<k)
    		{
    			f=m+1;
    			m=(f+l)/2;
    		}
    		else if(x>k)
    		{
    			l=m;
    			m=(f+l)/2;
    		}
    		else
    		{
    			flag=1;
    			break;
    		}
    	}
    	
    	cout<<m<<endl;
    }
    return 0;
}
