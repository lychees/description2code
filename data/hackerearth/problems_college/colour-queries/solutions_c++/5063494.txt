#include <bits/stdc++.h>
using namespace std;
int a[105][105],col[105][105];
int dix[] = {0,0,1,-1};
int diy[] = {1,-1,0,0};
struct point{
	int x,y;
};
typedef struct point P;
int dif(int a,int b)
{
	if(a>=b)return a-b;
	return b-a;
}
 	int total = 0;
int main()
{
   // cout << "Hello World!" << endl;
   int n,m,q,i,x,y,j;
   scanf("%d%d%d",&n,&m,&q);
   for(i=1;i<=n;i++)
   for(j=1;j<=m;j++)
   scanf("%d",&a[i][j]);
   int cc = 1;
   for(int ii=1;ii<=q;ii++)
   {
   	int d;
   	P p;
   	scanf("%d%d%d",&x,&y,&d);
  
   	p.x = x;
   	p.y = y;
   	int k;
   
   //for(i=1;i<=n;i++)
  // for(j=1;j<=m;j++)
  // col[i][j] = 0;
   int nn=0;
  // if(col[x][y]==0)
   	col[x][y] = cc;
   	queue<P> q;
   	q.push(p);
   	while(!q.empty())
   	{
   	p = q.front();
   	q.pop();
   	P cur;
  
   	//printf("")
   	int u,v;
   	for(u=0;u<4;u++)
   	{
   		cur.x = p.x + dix[u];
   		cur.y = p.y + diy[u];
   		if(cur.x >0 && cur.x <=n && cur.y >0 && cur.y <=m && col[cur.x][cur.y]!=cc && dif(a[p.x][p.y],a[cur.x][cur.y])<=d ){ 
   			col[cur.x][cur.y] = cc;q.push(cur);}
   	}
  
   	}
   //	nn = 0;
   	for(i=1;i<=n;i++)for(j=1;j<=m;j++)if(col[i][j]==cc)nn++;
 //  	total+=nn;
   	printf("%d\n",nn);
   	cc++;
   }
    return 0;
}
