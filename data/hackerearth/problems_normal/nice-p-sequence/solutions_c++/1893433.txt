#include <iostream>
#include <cmath>
#define ll long long
using namespace std;

ll gcd (ll a, ll b)
{
    ll c;

    if ( b == 0 )
        return a;

    else
        while ( b != 0 )
        {
            c = b;
            b = a % b;
            a = c;
        }

        return a;
}

ll mul_inv(ll a, ll b)
{
	ll b0 = b, t, q;
	ll x0 = 0, x1 = 1;
	if (b == 1) return 1;
	while (a > 1) {
		q = a / b;
		t = b, b = a % b, a = t;
		t = x0, x0 = x1 - q * x0, x1 = t;
	}
	if (x1 < 0) x1 += b0;
	return x1;
}

int main()
{
    ll t,a1,a2,p,n;
    cin>>t;
    while(t--){
    	cin>>a1>>p>>n;
    	if(gcd(p,a1)!=1)
    		cout<<"-1"<<endl;
    	else{
    		a2 = mul_inv(a1,p);
    		//cout<<a2<<endl;
    		if(n%2==0)
    			cout<<(n/2)*(a1+a2)<<endl;
    		else cout<<((n+1)/2)*a1+((n-1)/2)*a2<<endl;
    	}
    }
    return 0;
}
