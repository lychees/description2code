#include<iostream>
#include<cstdio>
using namespace std;

int main()
{	int t,n;
	char ch[51][51];
	bool h,v;
	cin>>t;
	while ( t-- > 0 )
	{	cin>>n;
		for ( int i=0; i<n; i++ )
			cin>>ch[i];
		h=0,v=0;
		for ( int i=0; i<n/2; i++ )
		{	for ( int j=0; j<n; j++ )
			{	if ( ch[i][j] != ch[n-1-i][j] )
					h=1;
				if ( ch[j][i] != ch[j][n-1-i] )
					v=1;
			}
			if ( h ==1 && v == 1 )
				break;
		}
		if ( h == 0 && v == 0 )
			cout<<"BOTH"<<endl;
		else if ( h == 1 && v == 1 )
			cout<<"NO"<<endl;
		else if ( h == 1 )
			cout<<"VERTICAL"<<endl;
		else
			cout<<"HORIZONTAL"<<endl;
	}
	return 0;
}
