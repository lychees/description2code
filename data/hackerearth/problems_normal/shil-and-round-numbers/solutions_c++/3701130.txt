#include<bits/stdc++.h>
using namespace std;
#define ll long long int
int bit[200005]={0},n;
//int n;
int round(ll num)
{
	if(num<0)
		return 0;
	if(num==0)
		return 1;
	ll last=num%10;
	ll first;
	while(num>0)
	{
		first=num%10;
		num=num/10;
	}
	if(first==last)
		return 1;
	return 0;
}
void update(int index,int value)
{
	int i;
	for(i=index;i<=n;i+=(i&-i))
	{
		bit[i]+=value;
	}
}
ll query(int index)
{
	int i;
	ll sum=0;
	for(i=index;i>0;i-=(i&-i))
	{
		sum=sum+bit[i];
	}
	return sum;
}
int main()
{
	int q,i,t,a,l,r;
	ll k;
	scanf("%d%d",&n,&q);
	ll arr[n];
	for(i=0;i<n;i++)
	{
		scanf("%lld",&arr[i]);
		update(i+1,round(arr[i]));
	}
	for(i=1;i<=q;i++)
	{
		cin>>t;
		if(t==1)
		{
			cin>>l>>r;
			ll res=query(r)-query(l-1);
			printf("%lld\n",res);
		}
		else if(t==2)
		{
			cin>>a>>k;
			update(a,round(k));
			update(a,-round(arr[a-1]));
			arr[a-1]=k;
		}
	}
	return 0;
}