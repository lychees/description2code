#include<bits/stdc++.h>
using namespace std ;
int dp[1005][1005];
int cnt[1005];
int main(){
	string x ;
	int T ;
	cin >> T ;
	while(T--){
		cin >> x ;
		memset(dp,0,sizeof dp);
		memset(cnt,0,sizeof cnt);
		int n = x.size();
		for(int i=0;i<n-1;++i){
		dp[i][i]=1;
		cnt[0]++;
		if(x[i]==x[i+1]){
		dp[i][i+1]=1;
		cnt[1]++;
		}
	}
		dp[n-1][n-1]=1;
		cnt[0]++;
		int sz = 2 ;
		for(int i=2;i<n;++i){
			for(int j=0;j<n-sz;++j){
				if(x[j]==x[j+sz] && dp[j+1][j+sz-1]){
					cnt[sz]++;
					dp[j][j+sz]=1;
				}
			}
			++sz;
		}
		long long ans = 0 ;
		for(int i=0;i<=n;++i){
			ans += cnt[i]*((i+1LL)*(i+1LL))*1LL ;
		}
		printf("%lld\n",ans);
		
	}
}