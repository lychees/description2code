N, M = map(int, raw_input().split())
adj = [[] for i in xrange(N + 1)]
for _ in xrange(M):
	u, v = map(int, raw_input().split())
	adj[u].append(v)
maxi = 987654321
for i in xrange(1, N + 1):
	stack = [i]
	count = 0
	visited = [False for i in xrange(N + 1)]
	while len(stack):
		u = stack.pop()
		if visited[u] == False:
			visited[u] = True
			count += 1
			for v in adj[u]:
				stack.append(v)
	maxi = maxi if maxi < count else count
print maxi