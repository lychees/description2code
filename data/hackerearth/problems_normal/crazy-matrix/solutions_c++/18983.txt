#include <iostream>
#include<cstring>
using namespace std;
int a[100][100],b[100][100],c[100][100],r1=0,r2=0;
void func1(int i1,int j1,int n1)
{
    if(i1==n1-1)
                r1=1;
    if(i1>=0 && j1>=0 && i1<n1 && j1<n1)
        {
                if(a[i1][j1]==1 && b[i1][j1]==-1)
                {
                          b[i1][j1]=0;
                        func1(i1-1,j1-1,n1);
                        func1(i1-1,j1,n1);
                        func1(i1-1,j1+1,n1);
                        func1(i1,j1-1,n1);
                        func1(i1,j1+1,n1);
                        func1(i1+1,j1-1,n1);
                        func1(i1+1,j1,n1);
                        func1(i1+1,j1+1,n1);
                }
        }
}
 
void func2(int i1,int j1,int n1)
{
        if(j1==n1-1)
         r2=2;
        if(i1>=0 && j1>=0 && i1<n1&& j1<n1)
        {
                if(a[i1][j1]==2 && c[i1][j1]==-1)
                {
                        c[i1][j1]=0;
                        func2(i1-1,j1-1,n1);
                        func2(i1-1,j1,n1);
                        func2(i1-1,j1+1,n1);
                        func2(i1,j1-1,n1);
                        func2(i1,j1+1,n1);
                        func2(i1+1,j1-1,n1);
                        func2(i1+1,j1,n1);
                        func2(i1+1,j1+1,n1);
                }
        }
}
int main()
{
        int n,i,j;
        cin>>n;
    memset(a,-1,sizeof(a));
 
        for(i=0;i<n;i++)
        {
                for(j=0;j<n;j++)
                {
                        cin>>a[i][j];
                }
        }
        for(j=0;j<n;j++)
        {
                if(a[0][j]==1)
        {
memset(b,-1,sizeof(b));
 
           // cout<<j<<endl;
                  func1(0,j,n);
        }
        }
        for(i=0;i<n;i++)
        {
                if(a[i][0]==2)
                  {
memset(c,-1,sizeof(c));
            //cout<<i<<endl;      
            func2(i,0,n);
                  }
        }int c=0;
        if(r1==1 && r2!=2)
          cout<<r1<<endl;
        else if(r1!=1 && r2==2)
          cout<<r2<<endl;
        else if(r1==1 && r2==2)
         cout<<"AMBIGUOUS"<<endl;
         else if(r1!=1 && r2!=2)
         cout<<c<<endl;
    return 0;
}