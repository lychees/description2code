import math
p = input()
# print p

for _ in range(0, p):
    l = input()
    case = map(int, raw_input().split())
    case = sorted(case)
    case.append(-1)
    temp = []
    count = 0
    ans = 0
    for x in range(1, l+1):
        # print x
        if case[x] == case[x-1]:
            count += 1
        else:
            count += 1
            if count >= 2:
                ans += (math.factorial(count)/(2*math.factorial(count-2)))
            count = 0
    print ans+len(case)-1
