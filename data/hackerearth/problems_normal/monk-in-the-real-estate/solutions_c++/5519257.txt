#include <bits/stdc++.h>
using namespace std;

#define D(c) (c-'0')
#define C(n) (n+'0')

typedef long long int ll;
typedef vector<int> vi;
typedef vector<string> vs;

const int MOD = 1e9+7;

int main()
{
	ios_base::sync_with_stdio(false);
	int t;
	cin>>t;
	while(t--) {
		int e,c=0,u,v;
		cin>>e;
		vector<bool> vis(10005,false);
		while(e--) {
			cin>>u>>v;
			if(u==v)
				c+=!vis[u];
			else
				c+=!vis[u]+!vis[v];
			vis[u]=vis[v]=true;
		}
		cout<<c<<"\n";
	}
	return 0;
}
