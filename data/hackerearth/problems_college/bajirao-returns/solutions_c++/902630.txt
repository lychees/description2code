#include<iostream>
#define MAX 101
using namespace std;
int main(){
    int n;
cin>>n;
int adj[101][101],a[101][101];
for(int i=1;i<=n;i++)for(int j=1;j<=n;j++)cin>>a[i][j];

for(int i=1;i<=100;i++){for(int j=1;j<=100;j++){adj[i][j]=MAX;}adj[i][i]=0;}

for(int i=1;i<=100;i++){int x=i;while(x>1){ x/=2;adj[i][x]=1;}x=i;
    while(x<100){x*=2;if(x<=100){adj[i][x]=1;adj[x][i]=1;}}}


for(int k=1;k<=100;k++)
{for(int i=1;i<=100;i++){for(int j=1;j<=100;j++){if(adj[i][j]>(adj[i][k]+adj[k][j])){adj[i][j]=(adj[i][k]+adj[k][j]);}}}}
//cout<<adj[1][3]<<endl;
for(int i=n-1;i>=1;i--){
    for(int j=1;j<=n;j++){
        int m=0;
        for(int k=1;k<=n;k++){
            if(adj[j][k]<MAX&&a[i+1][k]>m){
                m=a[i+1][k];//mi=k;
            }
        }//cout<<i<<","<<j<<"="<<m<<endl;
        a[i][j]+=m;
    }
}
int m=0;
for(int i=1;i<=n;i++){
    if(m<a[1][i])m=a[1][i];
}
cout<<m<<endl;

return 0;
}
