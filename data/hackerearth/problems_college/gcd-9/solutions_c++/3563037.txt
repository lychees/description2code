#include<iostream>
#include<stdlib.h>
using namespace std;

long gcd(long a, long b) {
    return b == 0 ? a : gcd(b, a % b);
}

int main()
{
	long N,K,i,max=0,cnt,flag=0;
	cin>>N>>K;
	long arr[N];
	for(i=0;i<N;i++)
		cin>>arr[i];
	for(i=0;i<N-1;i++)
	{
		if(gcd(abs(arr[i]), abs(arr[i+1]))>=K)
		{
			if(flag==0)
			{	cnt=2;	if(cnt>max) max=cnt;	flag=1;	}
			else
			{	cnt++;	if(cnt>max) max=cnt;	}
		}
		else
		{
			cnt=0;	flag=0;
		}
	}
	cout<<max<<endl;
}