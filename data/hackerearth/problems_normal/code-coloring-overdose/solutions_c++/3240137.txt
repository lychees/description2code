#include<stdio.h>
#include<cstring>
#include<string>
#include<iostream>
using namespace std;
typedef long long int ll;
ll num_color[500002];
ll count[500002][12];
#define MOD 1000000007
/* This function calculates (a^b)%MOD */
long long int pow(long long int a, long long int b) {
long long int x = 1, y = a;
	while(b > 0) {
		if(b%2 == 1) {
			x=(x*y);
			if(x>MOD) x%=MOD;
		}
		y = (y*y);
		if(y>MOD) y%=MOD;
		b /= 2;
	}
	return x;
}
int main()
{
	int n,k,m;
	cin>>n>>k>>m;
	int color;
	for(int i=0;i<n;i++)
	{
		cin>>color;
		num_color[color]++;
	}
	for(int i=0;i<12;i++)
		count[0][i]=1;
	for(int i=1;i<500002;i++)
	{
		for(int j=0;j<12;j++)
		{
			if(j>0)
				count[i][j]=(count[i][j]+(count[i-1][j]+(count[i-1][j-1]*((pow(2,num_color[i])-1+MOD)%MOD))%MOD)%MOD)%MOD;
			else
				count[i][j]=(count[i][j]+count[i-1][j])%MOD;
		}
	}
	cout<<count[n][m]<<endl;
}