#include<bits/stdc++.h>
using namespace std;
int main(){
	int n;
	cin>>n;
	vector<int> v[10];
	for(int i=1; i<=n; i++){
		int x=i;
		while(x){
			int temp=x%10;
			v[temp].push_back(i);
			x/=10;
		}
	}
	int q;
	cin>>q;
	while(q--){
		int m;
		cin>>m;
		int arr[m+1];
		int a[n+1];
		memset(arr,0,sizeof arr);
		memset(a,0,sizeof a);
		int count=0;
		for(int i=0; i<m; i++){
			int x; cin>>x;
			int t=v[x].size();
			for(int j=0; j<t; j++){
				a[v[x][j]]++;
				if(a[v[x][j]]==1) count++;
			}
		}
		cout<<count<<endl;
	}
}