#include <bits/stdc++.h>
using namespace std;
#define f first
#define s second
int main()
{
  	int t,i,j,n,m,k,q;
  	int a[105][105];
  	cin>>t;
  	bool x=0;
  	while(t--){
  		x=0;
  		bool dp[105][105][505]={0};
  		cin>>n>>m>>k;
  		for(i=0;i<n;i++){
  			for(j=0;j<m;j++){
	  			cin>>a[i][j];
  			}
  		}
  		/*for(i=0;i<m;i++) dp[0][i]=a[0][i];
  		for(j=0;j<n;j++) dp[j][0]=a[j][0];*/
  		for(i=0;i<n;i++){
  			for(j=0;j<m;j++){
  				for(q=a[i][j];q<=k;q++){
  					if(i==0 && j==0) {if(q==a[i][j]) dp[i][j][q]=1;}
  					else if(i==0) dp[i][j][q]=dp[i][j][q] || dp[i][j-1][q-a[i][j]];
  					else if(j==0) dp[i][j][q]=dp[i][j][q] || dp[i-1][j][q-a[i][j]];
  					else dp[i][j][q]=dp[i][j][q] || dp[i][j-1][q-a[i][j]] || 
  					dp[i-1][j][q-a[i][j]] || dp[i-1][j-1][q-a[i][j]];
  				}
  			}
  		}
  		for(i=k;i>=0;i--) 
  			if(dp[n-1][m-1][i]==1) {
  				x=1;break;
  			}
  		if(x) cout<<i<<endl;
  		else cout<<"-1\n";
  	}
    return 0;
}
