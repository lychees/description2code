#include<iostream>
#include<stack>
#include<vector>
#define ll long long
#define C 1000000007

using namespace std;

vector <int> v[100000];
bool visited[1001];
int weight[1001];
int N,K;

int DFS(int r)
{
	int f,t,min=1001;
	stack<int> S;
	S.push(r);
	visited[r]=true;
	while(!S.empty())
	{
		t=S.top();
		S.pop();
		if(weight[t]<min)
		{
			min=weight[t];
			f=0;
		}
		if(weight[t]==min) f++;
		
		for(int i=0;i<v[t].size();i++)
		{
			if(!visited[v[t][i]])
			{
				S.push(v[t][i]);
				visited[v[t][i]]=true;
			}
		}
		
	}
	
	return f;
}

ll int connected()
{
	ll int ans=1;
	for(int i=1;i<=N;i++)
	{
		if(!visited[i])
		{
			ans *= DFS(i);
			ans %= C;
		}
	}
	
	return ans;
}

int main()
{
	int x,y;
	scanf("%d",&N);

	for(int i=1;i<=N;i++)
	{
		visited[i]=false;
		scanf("%d",&weight[i]);
	}
	scanf("%d",&K);
	for(int i=0;i<K;i++)
	{
		scanf("%d%d",&x,&y);
		v[x].push_back(y);
		v[y].push_back(x);
	}
	
	printf("%lld\n",connected());
	
	return 0;
}