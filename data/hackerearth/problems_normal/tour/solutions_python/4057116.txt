cityarr=[]
costarr=[]
n=input()
default=0

for nu in range(n):
	cityarr.append(raw_input())
for num in range(n):
	costarr.append(list(map(int,raw_input().split())))
travel=input()
travelarr=[]
for numb in range(travel):
	travelarr.append(raw_input())
finalcost=0
for item in travelarr:
	itemid=cityarr.index(item)

	finalcost=finalcost + costarr[default][itemid]
	default=itemid

print finalcost
	
	
	