#include <bits/stdc++.h>
using namespace std;
const int maxn = 1e5+10;
char s[maxn];
int n,test,ca,cb,cc;
long long ans;
map<pair<int,int>,int> Map;
int main(){
    scanf("%d\n",&test);
    while (test--){
        Map.clear();
        gets(s+1);n=strlen(s+1);
        Map[make_pair(0,0)]++;ca=cb=cc=ans=0;
        for (int i=1; i<=n; i++){
            if (s[i]=='a') ca++; else
            if (s[i]=='b') cb++; else
            if (s[i]=='c') cc++;
            ans+=1LL*Map[make_pair(ca-cb,cb-cc)];
            Map[make_pair(ca-cb,cb-cc)]++;
        }
        printf("%lld\n",ans);
    }
}
