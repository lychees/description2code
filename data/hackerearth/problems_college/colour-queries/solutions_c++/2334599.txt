#include<bits/stdc++.h>
#define N 106
using namespace std;
int cnt = 0;
int n,m,q;
int x,y,d;
int value[N][N];
int visited[N][N];
int check(int a, int b)
{
	if(a>=1 && a<=n && b>=1 && b<=m)return 1;
	return 0;
}
void bfs()
{

	pair<int, int> queue[2*N*N];
	memset(visited, 0, sizeof(visited));

	int st = 0, en = 1;
	queue[st] = make_pair(x, y);
	cnt++;

	visited[x][y] = 1;
	while(st<en)
	{
		pair<int, int> u = queue[st];
		st++;
		for(int i=-1 ; i<=1 ; i++ )
		{
			for(int j=-1;j<=1;j++)
			{
				if(i==0 || j==0)
				{
					int tempx = u.first+i, tempy = u.second+j;
					if(check(tempx , tempy) && visited[tempx][tempy]==0 && abs(value[tempx][tempy] - value[u.first][u.second])<=d)
					{
						queue[en] = make_pair(tempx, tempy);
						en++;
						visited[tempx][tempy] = 1;
						cnt++;
					}
				}
			}
		}
	}

}
int main()
{


//	freopen("input.txt", "r", stdin);

	scanf("%d%d%d", &n, &m, &q);

	for(int i=1; i<=n; i++)
	{
		for(int j=1; j<=m; j++)
		{
			scanf("%d", &value[i][j]);
		}
	}

	while(q--)
	{
		scanf("%d%d%d", &x, &y, &d);
		cnt = 0;
		bfs();
		printf("%d\n", cnt);
	}


}
