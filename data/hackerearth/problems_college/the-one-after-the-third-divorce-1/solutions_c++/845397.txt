#include <iostream>
using namespace std;
 int gcd(int x,int y){
    int i;
    for(i=x;i>=1;i--){
         if(x%i==0&&y%i==0){
             break;
         }
    }
    return i;
}

int main()
{
    unsigned long long int a,b,j,count;
    int x,y,n,g,lcm;
    cin>>n;
    for(int i=0;i<n;i++){
    	cin>>x;
    	cin>>y;
    	cin>>a;
    	cin>>b;
    	count=0;
    	g=gcd(x,y);
    	lcm=x*y/gcd(x,y);
        count=b/lcm-(a-1)/lcm;
    	cout<<count<<endl;
    }
    return 0;
}

