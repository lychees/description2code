#include <bits/stdc++.h>
using namespace std;

void dfs(long int *a,long int par)	{
	if(a[par]==0)	return;
	cout<<a[par]<<" ";
	dfs(a,2*par);
	dfs(a,2*par+1);
}

int main()	{
    int t;
    cin>>t;
    while(t--)	{
    	long int n,a[2000001]={0},pos[2000001]={0};
    	cin>>n;
    	if(n==0)	{
    		cout<<1<<endl;
    		continue;
    	}
    	cin>>a[1]>>a[2]>>a[3];
    	pos[a[1]]=1;
    	pos[a[2]]=2;
    	pos[a[3]]=3;
    	for(int i=1;i<n;i++)	{
    		long int x;
    		cin>>x;
    		long int parent=pos[x];
    		cin>>a[2*parent];
    		cin>>a[2*parent+1];
    		pos[a[2*parent]]=2*parent;
    		pos[a[2*parent+1]]=2*parent+1;
    	}
    	
    	dfs(a,1);
    	cout<<endl;
    }
    return 0;
}
