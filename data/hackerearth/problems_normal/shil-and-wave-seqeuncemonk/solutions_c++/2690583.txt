#include <iostream>
#define N 100001
#define MOD 1000000007
using namespace std;

long long bit[N][2];
void update(int i,int j,long long v)
{
	while(i<=N)
	{
		bit[i][j]+=v;
		if(bit[i][j]>=MOD) bit[i][j]-=MOD;
		i+=(i&-i);
	}
}
long long query(int i,int j)
{
	long long ret=0;
	while(i>0)
	{
		ret+=bit[i][j];
		if(ret>=MOD) ret-=MOD;
		i-=(i&-i);
	}
	return ret;
}
int main()
{
    int n,a;
    long long ans=0;
    scanf("%d",&n);
    for(int i=0;i<n;++i)
    {
    	scanf("%d",&a);
    	long long inc = query(a-1,0);
    	ans += inc;
    	if(ans>=MOD) ans-=MOD;
    	long long dec = (query(N,1) - query(a,1));
    	if(dec<0) dec+=MOD;
    	ans += dec;
    	if(ans>=MOD) ans-=MOD;
    	update(a,0,dec + 1);
    	update(a,1,inc + 1);
    }
    printf("%lld\n",ans);
    return 0;
}
