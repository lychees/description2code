#include<bits/stdc++.h>
#define lli long long int
#define MOD 1000000007
using namespace std;

void init(int arr[], int n){
	for(int i = 0 ; i < n ; i++) arr[i] = 0;
}

int main(){
	ios_base::sync_with_stdio(0);
	
	lli n, m; cin >> n >> m;
	vector< list<lli> > graph(n);

	for(int i = 0 ; i < m ; i++){
		lli x, y ; cin >> x >> y;
		graph[x-1].push_back(y-1);
	}

	int arr[n];
	init(arr, n);

	vector< set<lli> > friends;
	for(int i = 0 ; i < n ; i++){
		stack<lli> s ;
		set<lli> st;
		s.push(i);
		arr[i] = 1;
		st.insert(i);

		while(!s.empty()){
			lli curr = s.top();
			s.pop();

			list<lli>::iterator itr = graph[curr].begin();
			for(; itr != graph[curr].end() ; itr++){
				if(!arr[*itr]){
					s.push(*itr);
					arr[*itr] = 1;
					st.insert(*itr);
				}
			}
		}
		friends.push_back(st);
		init(arr, n);
	}

	lli mini = LONG_MAX;
	for(int i = 0 ; i < friends.size() ; i++){
		if(friends[i].size() < mini) mini = friends[i].size();
	}
	cout << mini << endl;
	//}
	return 0;
}
