#include <iostream>
using namespace std;

int v[100005][2];
void dfs(int i){
	if(i==0)	return;
	cout<<i<<" ";
	dfs(v[i][0]);
	dfs(v[i][1]);
}
int main()
{
    int t;cin>>t;
    while(t--){
    	int n,i,root;cin>>n;
    	if(n==0)	{cout<<"1"<<endl;continue;}
    	for(i=0;i<n;i++){
    		int x,y,z;
    		cin>>x>>y>>z;
    		if(i==0)	root=x;
    		v[x][0]=y;
    		v[x][1]=z;
    		v[y][0]=0;
    		v[y][1]=0;
    		v[z][0]=0;
    		v[z][1]=0;
    	}
    	dfs(root);
    	cout<<endl;
    }
    return 0;
}
