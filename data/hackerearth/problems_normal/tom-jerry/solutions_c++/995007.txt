#include <bits/stdc++.h>
using namespace std;

int ctr = 0;
int N;
bool isSafe(bool arr[100][100], int i, int j){
	if(i>=0 && i<N && j>=0 && j<N && !arr[i][j])
		return true;
	return false;
}
void count(bool arr[100][100], int i, int j){
	if(i==N-1 && j==N-1){
		ctr++;
		return ;
	} 
	if(isSafe(arr,i,j+1)){
		arr[i][j+1] = true;
		count(arr, i, j+1);
		arr[i][j+1] = false;
	}
	if(isSafe(arr, i, j-1)){
		arr[i][j-1]=true;
		count(arr, i, j-1);
		arr[i][j-1]=false;
	}
	if(isSafe(arr, i+1, j)){
		arr[i+1][j]=1;
		count(arr, i+1, j);
		arr[i+1][j]=0;
	}
	if(isSafe(arr, i-1, j)){
		arr[i-1][j]=1;
		count(arr, i-1, j);
		arr[i-1][j]=0;
	}
}

int main(){
	cin >> N; 
	bool arr[100][100];
	for(int i=0; i<N; i++){
		for(int j=0; j<N; j++){
			cin >> arr[i][j];
		}
	}
	arr[0][0]=true;
	count(arr, 0, 0);
	cout << ctr;
    return 0;
}
