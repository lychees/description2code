#include <iostream>
using namespace std;

void pap(char a[],int m,int n)
{
	if(m==n)
	{
		printf("%s\n",a);
		return;	
	}
	int i;
	char temp;
	for(i=m;i<=n;i++)
	{
		temp=a[m];
		a[m]=a[i];
		a[i]=temp;
		pap(a,m+1,n);
		
		temp=a[m];
		a[m]=a[i];
		a[i]=temp;
	}
	return;
}
int main()
{
	char a[300];
	scanf("%s",a);
    int t;
    scanf("%d",&t);
    while(t--)
    {
    	int m,n;
    	scanf("%d%d",&m,&n);
    	pap(a,m,n);
    	cout<<"\n";
    }
    return 0;
}
