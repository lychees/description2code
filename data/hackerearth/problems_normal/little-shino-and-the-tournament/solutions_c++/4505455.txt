#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

int no_of_fights[100005];

void run_tournament(vector <pair <int, int> > players){
	if(players.size()==1) return;
	int len = players.size();
	vector < pair <int, int> > winners;
	for(int i = 0; i<len-1; i += 2){
		if(players[i].second>players[i+1].second) winners.push_back(players[i]);
		else winners.push_back(players[i+1]);
		no_of_fights[players[i].first]++;
		no_of_fights[players[i+1].first]++;
	}
	if(len%2) winners.push_back(players[len-1]);
	run_tournament(winners);
}

int main()
{
	int n,q,strength;
	scanf("%d %d",&n,&q);
    vector < pair <int, int> > players;
    for(int i = 1; i<=n; i++){
    	no_of_fights[i] = 0;
    	scanf("%d",&strength);
    	players.push_back(make_pair(i,strength));
    }
    run_tournament(players);
    int k;
    for(int i = 0; i<q; i++){
    	scanf("%d",&k);
    	printf("%d\n",no_of_fights[k]);
    }
    return 0;
}
