#ifndef VECTOR_TEST_CLASS
#define VECTOR_TEST_CLASS

#include<iostream>
#include<vector>
#include<algorithm>
#include<iterator>
#include<queue>
#include<unordered_map>
#include<list>
#include<string>
#include<fstream>
#include<set>
using namespace std;

#define INT_MAX 2147483683


 int main()
{
	int n,L,D;
	cin>>n>>L>>D;

	vector<double> p;
	vector<int> d;
	vector<double> res_prob(n+2,0.0);
	double num;

	p.push_back(1);
	for(int i=0;i<n;i++)
	{
		cin>>num;
		p.push_back(num);
	}
	p.push_back(1);

	d.push_back(0);
	for(int i=0;i<n;i++)
	{
		cin>>num;
		d.push_back(num);
	}
	d.push_back(D);
	res_prob[0]=1;
	for(int i=0;i<d.size();i++)
	{
		double temp_prob;
		temp_prob=res_prob[i];

		for(int j=1;j<=L;j++)
		{
			if((i+j<=n+1)&& (d[i+j]-d[i]<=L))
			{
				if(res_prob[i+j]<(temp_prob*p[i+j]))
				{
					res_prob[i+j]=temp_prob*p[i+j];
				}
			}
			else
			{
				break;
			}
		}
	}
	std::cout.setf(std::ios::fixed);
    std::cout.precision(6);
	if(res_prob[n+1]>0)
		cout<<res_prob[n+1]<<endl;
	else
		cout<<"IMPOSSIBLE\n";
 }












#endif 