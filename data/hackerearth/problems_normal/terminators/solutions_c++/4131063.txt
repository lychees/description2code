#include<bits/stdc++.h>
using namespace std;
#define ll long long int
ll arr1[1000100],arr2[1000100],dp[1010][1010];
ll lcs(ll m,ll n)
{
	if(m==0 || n==0)
		return 0;
	if(dp[m][n]!=-1)
		return dp[m][n];
	if(arr1[m]==arr2[n])
	{
		dp[m][n]=1+lcs(m-1,n-1);
		return dp[m][n];
	}
	else
	{
		dp[m][n]=max(lcs(m,n-1),lcs(m-1,n));
		return dp[m][n];
	}
	
}
int main()
{
	ll t;
	scanf("%lld",&t);
	ll n;
	while(t--)
	{
		ll n;
		scanf("%lld",&n);
		ll i;
		memset(dp,-1,sizeof(dp));
		for(i=1; i<=n; i++)
		{
			ll a,b;
			scanf("%lld %lld",&a,&b);
			/*basically, i am saving according to position
			i.e. at position a, ith person is present on first day (arr1) while at b position, ith (same person) is present
			on second day (arr2)
			*/
			arr1[a]=i;
			arr2[b]=i;
		}
		ll ans=lcs(n,n);
		printf("%lld\n",ans);
	}
	return 0;
}