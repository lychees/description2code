#include<bits/stdc++.h>
using namespace std;
long long cnt, d, r;
map<long long, long long> mem[20][1<<16];
long long a[20];
long long pr[20];
void pre(){
pr[0]=1;
for(long long i=1; i<15; ++i){
    pr[i]=pr[i-1]*10ll;
}
}

long long dp(long long x, long long num, long long sum){
    if(x==cnt){
        if(sum<r)
            sum+=d;
        return (sum-r)%d==0;
    }
    if(mem[x][num].count(sum)){
        return mem[x][num][sum];
    }
    long long res=0;
    bool ll[20]={0};
    for(long long i=0; i<cnt; ++i){
        if(!((1ll<<i)&num)&&!ll[a[i]]){
            res+=dp(x+1, num|(1ll<<i), (sum+a[i]*pr[cnt-1-x])%d);
            ll[a[i]]=1;
        }
    }
    mem[x][num][sum]=res;
    return res;
}
int main()
{
    pre();
    long long n;
    cin>>n>>d>>r;
    cnt=0;
    while(n>0){
        a[cnt]=n%10;
        ++cnt;
        n/=10;
    }
    cout<<dp(0,0,0)<<endl;
    return 0;
}
