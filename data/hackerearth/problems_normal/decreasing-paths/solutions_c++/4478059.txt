#include<bits/stdc++.h>
#define scn(n) scanf("%d",&n)
#define scnll(n) scanf("%lld",&n)
#define scnch(n) scanf("%c",&n)
#define scns(n) scanf("%s",&n)
#define loop(i,n,m) for(i=n;i<=m;i++)
#define revloop(i,n,m) for(i=n;i>=m;i--)
#define print(n) printf("%d ",n)
#define printc(n) printf("%c",n)
#define printll(n) printf("%lld",n)
#define prints(n) printf("%s",n)
#define next printf("\n")
#define ll long long
#define MAX(x,y) ((x)>(y)?(x):(y))
#define mod 1000000007
ll arr[1000][1000];
ll dat[1000][1000];
ll recur(int x,int y,int n)
{
    int i;
    if(dat[x][y]!=0)
    {
        return dat[x][y];
    }
    dat[x][y]=1;
    if(x+1<n&&arr[x][y]>arr[x+1][y])
    {
        dat[x][y]=(dat[x][y]+recur(x+1,y,n))%mod;
    }
    if(y+1<n&&arr[x][y]>arr[x][y+1])
    {
        dat[x][y]=(dat[x][y]+recur(x,y+1,n))%mod;
    }
    if(x-1>=0&&arr[x][y]>arr[x-1][y])
    {
        dat[x][y]=(dat[x][y]+recur(x-1,y,n))%mod;
    }
    if(y-1>=0&&arr[x][y]>arr[x][y-1])
    {
        dat[x][y]=(dat[x][y]+recur(x,y-1,n))%mod;
    }
    return dat[x][y];
}

using namespace std;
int main()
{
    int i,t,j;
    int n;
    scn(n);
    loop(i,0,n-1)
    {
        loop(j,0,n-1)
        {
            scnll(arr[i][j]);
        }
    }
    int ans=0;
    loop(i,0,n-1)
    {
        loop(j,0,n-1)
        {

            ll var=recur(i,j,n);
            //cout<<var<<' ';
                        ans=(ans+var)%mod;

        }
        //next;
    }
    print(ans);
}
