if __name__=='__main__':
    T = int(raw_input())
    match ='ABCabc'
    for i in range(0,T):
        string = raw_input()
        k = 0
        ans = 0
        while k <len(string):
            cnt = 0
            while(k<len(string)) and (string[k] in match):
                k += 1
                cnt += 1
            ans += ((cnt)*(cnt + 1))//2
            k +=  1

        print ans                
