#include <bits/stdc++.h>

using namespace std;

int main()
{
	int n;
	string s;

	scanf("%d", &n);

	map<string, vector<int> > m;

	for (int i=0; i<n; i++) {
		cin >> s;

		for (int j=0; j<s.size(); j++) {
			string str("");
			for (int k=j; k<s.size(); k++) {
				str.push_back(s[k]);
				m[str].push_back(i);
			}
		}
	}

	for (map<string, vector<int> >::iterator it=m.begin(); it!=m.end(); it++) {
		vector<int>::iterator x = unique((it->second).begin(), (it->second).end());
		(it->second).resize(distance((it->second).begin(), x));
	}

	int l, r, q;
	scanf("%d", &q);

	while (q--) {
		scanf("%d %d", &l, &r);
		l -= 1;
		r -= 1;
		
		cin >> s;

		if (s.empty()) {
			printf("%d\n", r-l+1);
		} else {
			int p = upper_bound(m[s].begin(), m[s].end(), r) - m[s].begin();
			int q = lower_bound(m[s].begin(), m[s].end(), l) - m[s].begin();

			printf("%d\n", p-q);
		}
	}

	return 0;
}