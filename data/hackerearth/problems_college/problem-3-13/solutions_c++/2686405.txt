#include <bits/stdc++.h>
using namespace std;

int main()
{
   int M,N,i,j,k,l;
   cin>>M>>N;
   int a[M][N];
   for(i=0;i<M;i++)
    for(j=0;j<N;j++)
    cin>>a[i][j];
   int max=1,array=1;
for(l=0;l<M;l++){
   for(i=0;i<N;i++){
    for(j=l;j<M;j++){
    if(a[j][i]==a[j+1][i]){
    array++;
    }
    else break;
    }
    for(k=i;k<N;k++){
    if(a[j][k]==a[j][k+1]){
    array++;
    }
    else break;
    }
    if(array>max)
    max=array;

    array=1;
   }
}
   cout<<max;
   
}