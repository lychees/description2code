#include<iostream>
#include<stdio.h>
#include<math.h>
#include<algorithm>
#include<vector>
#include<set>
#include<map>
#include<string>
#include<stack>
#include<algorithm>
#include<queue>
using namespace std;
#define sze 100005
#define mod 1000000007
#define ff first
#define ss second
#define mp make_pair
#define pb push_back
#define ll long long
int k, arr[102][102], check, dp[102][102][505];

int func(int val, int i, int j, int n, int m)
{
	if (val < 0)
		return 0;
	if (val == 0 && i <= n&&j <= m)return 0;

	else if (val>0 && dp[i][j][val] != -1)
		return dp[i][j][val];

	if (i > n || j > m)
		return 0;

	else if (val == arr[i][j] && (i == n && j == m))
	{
		dp[i][j][val] = 1;
		return 1;
	}

	int x = func(val - arr[i][j], i, j + 1, n, m);
	int y = func(val - arr[i][j], i + 1, j, n, m);
	int z = func(val - arr[i][j], i + 1, j + 1, n, m);
	
	dp[i][j][val] = x | y | z;
	return dp[i][j][val];

}
int main()
{
	ios::sync_with_stdio(false);
	cin.tie(NULL);
	int t, n, m;
	cin >> t;
	while (t--)
	{
		cin >> n >> m >> k;
		for (int i = 0; i <= 100; i++)
		{
			for (int j = 0; j <= 100; j++)
			{
				for (int t = 0; t <= 500; t++)
					dp[i][j][t] = -1;
			}
		}

		for (int i = 1; i <= n; i++)
		{
			for (int j = 1; j <= m; j++)
			{
				cin >> arr[i][j];
			}
		}
		check = 0;
		for (int val = k; val > 0; val--)
		{
			func(val, 1, 1, n, m);
			if (func(val, 1, 1, n, m) == 1)
			{
				cout << val << "\n";
				check = 1;
				break;
			}
		}
		if (check == 0)
			cout << "-1\n";
	}
	return 0;
}