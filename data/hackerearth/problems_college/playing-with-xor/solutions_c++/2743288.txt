#include <bits/stdc++.h>
using namespace std;
#define MAX 1000002
#define lli long long int
int prime[1000005];
void pre()
{
	int i,j,lim=sqrt(MAX);
    memset(prime,1,MAX);
    prime[0]=prime[1]=0;
    for(i=2;i<=lim;++i)
    {
        if(prime[i])
        {
            for(j=i<<1;j<MAX;j+=i)
            {
                prime[j]=0;
            }
        }
    }		
}
int main()
{
    int t,n,i,j,a[10005],ex[2000],flag[2000];
    cin>>t;
    pre();
    while(t--)
    {
    	lli cnt=0;
    	cin>>n;
    	for(i=0;i<n;++i)
    		cin>>a[i];
    /*	for(i=0;i<n;++i)
    	{
    		if(prime[a[i]])
    			++cnt;
    		for(j=i+1;j<n;++j)
    		{
    			if(prime[a[i]^a[j]])
    				++cnt;
    		}
    	}*/
    	memset(flag,0,sizeof(flag));
    	memset(ex,0,sizeof(ex));
        ex[0]=1;
        for(i=0;i<n;++i)
        {
            for(j=0;j<1024;++j)
            {
                if(ex[j])
                {
                    ex[a[i]^j]=1;
                    if(prime[a[i]^j])
                    {
                    	if(!flag[a[i]^j])
                    	{
                    		cnt++;
                    		flag[a[i]^j]=1;
                    	}
                    }
                }
            }
        }
    	cout<<cnt<<"\n";
    }
    return 0;
}
