#include<bits/stdc++.h>
using namespace std;
int main()
{
    int n;
      cin>>n;
    int arr[n];
    int counts[100005]={0};
     int counts1[100005]={0};
    int ans=0;
 int q=0;
 cin>>arr[0];
    counts[arr[0]]++;
    int prev=arr[0];
   int ma=0;
   int i;
    for( i=1;i<n;i++)
    {
 
 
        cin>>arr[i];
        if(arr[i]==prev)
        {
            ans++;
            counts1[arr[i]]++;
             q=max(q,counts1[arr[i]]);
        }
        else
        {
        	
           
        ma+=ans;
        ans=0;
        }  
        prev=arr[i];
        counts[arr[i]]++;
 
    }
    
    ma+=ans;
   int b=((ceil)((double)ma/2));
    int a=((ceil)((double)n/2));
    //cout<<b<<endl<<q<<endl;
    //cout<<a;
    sort(counts,counts+100005);
    if(n%2==0)
    {
    if(counts[100004]>(n/2))
        cout<<-1<<"\n";
   else
    cout<<max(b,q)<<"\n";
    }
    else
    
   {
   	 if(counts[100004]>a )
        cout<<-1<<"\n";
      
   else
    cout<<max(b,q)<<"\n";
   }
}