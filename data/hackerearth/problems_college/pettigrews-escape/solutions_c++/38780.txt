#include<iostream>
#include<map>
using namespace std;
map<int,int> visited;
int n,count;
int **a;
void clear(){
	visited.clear(); 
}
bool inList(int x,int y){
	if(visited.count(n*y+x)==0)
		return false;
	else
		return true;
}
void addList(int x, int y){
	//cout<<x<<y<<endl;
	visited.insert(pair<int,int>((n*y+x),1));
} 
int move(int x, int y){
	//cout<<inList(6,1)<<endl;
	if(x<0||y<0||inList(x,y)==true||x>n-1||y>n-1||a[x][y]==1){
		return 0;
	}
	if(x==n-1&&y==n-1){
		count++;
		return 0;
	}
	addList(x,y);
	move(x,y+1);
	move(x,y-1);
	move(x+1,y);
	move(x-1,y);
	visited.erase(n*y+x);
	return 0;
}

int main(){
	cin>>n;
	a=new int*[n];
	for(int i=0;i<n;i++)
		a[i]=new int[n];
	for(int i=0;i<n;i++){
		for(int j=0;j<n;j++)
			cin>>a[j][i];
	}
	clear();
	move(0,0);
	cout<<count;
}