nos = int(raw_input())
itr = int(raw_input())
result = []
for i in range(itr):
    com0 = int(raw_input())
    if com0 == 0:
        a = int(raw_input())
        b = int(raw_input())
        coins = ['T']*(a)+['H']*(b-a+1)+['T']*(nos-b-1)
    else:
        a = int(raw_input())
        b = int(raw_input())
        result.append(coins[a:b+1].count('H'))

for i in range(len(result)):
    print result[i]
