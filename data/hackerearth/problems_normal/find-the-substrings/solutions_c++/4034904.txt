#include <bits/stdc++.h>
using namespace std;

int main()


{
 
 int t;
 
 
 cin>>t;
 cout<<endl;
 while(t--)
 
 	{
 		long long ia=0;
 		long long ib=0;
 		long long ic=0;
 		string s;
 		cin>>s;
 		long long l= s.length();
 		long long ans = l*(l+1)/2;
 	
 		for (int i=0 ; i<l ; i++)
 		{
 			
	 		
	 		if (s[i]=='a')	
	 		{
	 				ia=i+1;
	 				
	 		}
	 		
	 		
	 		else
	 		if (s[i]=='b')	
	 		{
	 				ib=i+1;
	 				
	 		}
	 		
	 		else
	 		if (s[i]=='c')	
	 		{
	 				ic=i+1;
 					
	 		}
	 		
 
 		ans=ans-min(ia,min(ib,ic));
 		
 		}
 			
 	cout<<ans<<endl;	
 	} 
 
 return 0;
 
}

