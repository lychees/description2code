//Archit Rai
#include<bits/stdc++.h>
using namespace std;
#define pb push_back
#define mp make_pair
#define sz(a) (int)(a.size())
#define all(c) (c).begin(),(c).end()
#define F first
#define S second
#define si(n) scanf("%d",&n)
#define sll(n) scanf("%lld",&n)
#define REP(i,a,b) for(int i=a;i<b;i++)
#define MOD 1000000007
#define endl '\n'
#define PIN(n) printf("%d\n",n)
#define PLLN(n) printf("%lld\n",n)
#define fast_io ios_base::sync_with_stdio(false);cin.tie(NULL)
typedef long long int ll;
#define N 20
ll powmod(ll a,ll b)
{
    if(b==0)return 1;
    ll x=powmod(a,b/2);
    ll y=(x*x)%MOD;
    if(b%2)
	return (a*y)%MOD;
    return y%MOD;
}
//Template ends here
ll dp[20][200][1500];
int a[20];
ll rec(int idx,int sum,int sqsum,int f)
{
    if(idx==20)
    {
	if(__gcd(sum,sqsum)==1)
	    return 1;
	return 0;
    }
    if(dp[idx][sum][sqsum]!=-1 && !f)
	return dp[idx][sum][sqsum];
    ll ret=0;
    if(!f)
    {
	REP(i,0,10)
	    ret+=rec(idx+1,sum + i,sqsum + i*i,0);
    }
    else
    {
	REP(i,0,a[idx])
	    ret+=rec(idx+1,sum + i,sqsum + i*i,0);
	ret+=rec(idx+1,sum + a[idx],sqsum + a[idx]*a[idx],1);
    }
    if(!f)
	dp[idx][sum][sqsum]=ret;
    return ret;
}
ll solve(ll x)
{
    REP(i,0,20)
	a[i]=0;
    int k=19;
    while(x!=0)
    {
	a[k--]=x%10;
	x/=10;
    }
    return rec(0,0,0,1);
}
int main()
{
    int tc;
    si(tc);
    memset(dp,-1,sizeof(dp));
    while(tc--)
    {
	ll x,y;
	sll(x),sll(y);
	ll ans=solve(y)-solve(x-1);
	PLLN(ans);
    } 
    return 0;
}
