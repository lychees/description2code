t=input()
for _ in xrange(t):
      n,base=map(int,raw_input().split())
      ans=0
      if base!=1:

          ans=0

          while n>=base:
	      ans+=(n%base)
	      n=n/base
          ans+=n
      else:
          ans=n    

      print ans
	