#include <bits/stdc++.h>
 
#define LLI long long int
#define LD long double
#define PB push_back
#define MP make_pair
#define FORi(i, a, b) for(int i = a; i < b ; ++i)
#define FORd(i, a, b) for(int i = a; i > b ; --i)
 
using namespace std;
 
const int mod = 1000000000;

int main() {
	LLI n,t,k,type,ans;
	cin >> n >> t;
	k = sqrt(n) + 1;
	vector<int> v;
	FORi(i,1,k)
		if (n%i==0){
			v.PB(i);
			v.PB(n/i);
		}
	while(t--){
		cin >> type >> k;
		ans = 0;
		if (type==1)
			FORi(i,0,v.size())
				ans += !(k%v[i]);
		if (type==2)
			FORi(i,0,v.size())
				ans += !(v[i]%k);
		if (type==3)
			FORi(i,0,v.size())
				ans += bool(v[i]%k);
		cout << ans << endl;
	}
	return 0;
}