#include<stdio.h>
#include<iostream>
#include<string>
#include<math.h>
#include<vector>
#include<string.h>
#include<algorithm>
using namespace std;

long long int max(long long int a,long long int b)
 {
     return a>b?a:b;
 }

long long int min(long long int a,long long int b)
 {
     return a>b?b:a;
 }

long long int gcd(long long int a,long long int b)
  {
      if(b==0)
        return a;
      else
       return gcd(b,a%b);
  }


 int main()
 {
     int test;
     cin>>test;

      while(test--)
      {
         int k=0,total=0,time=0,t=60*24*60*7,i,ni,j,x,y;
          int arr[20000];
          for(i=0;i<7;i++)
            {
               cin>>ni;
               total=total+ni;
               for(j=0;j<ni;j++)
               {
                   cin>>x;
                   cin>>y;
                   arr[k++]=y-x;
               }
            }
           sort(arr,arr+k);
           int p=ceil((total*75*1.0)/100.0);
           for(i=0;i<p;i++)
              time+=arr[i];
           // cout<<t<<" "<<time<<endl;
           cout<<t-time<<endl;
      }
     return 0;
 }
