a, b = map(long, raw_input().split())
s = raw_input()
p = 0
for i in range(len(s)):
    if s[i] == '1':
        p = (p % b+a % b) % b
    a = a % b
    a = (a*a) % b
print p % b
