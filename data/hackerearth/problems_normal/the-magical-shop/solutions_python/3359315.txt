'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
def function(a,b,s):
	ans = 0
	for e in s:
		if (e=='1'):
			ans = (ans+a)%b
		a = (a*a)%b
	return ans

a, b = map(int, raw_input().split())
s = str(raw_input())
ans = function(a,b,s)
print ans
