#include<bits/stdc++.h>
#define mod 1000000007
using namespace std;
long long int dp[1000010];
int main()
{
    long long int x,y;
    cin>>x>>y;
    dp[0]=1;
    for(int i=1;i<=1000000;i++)
    {
        dp[i]=(x*dp[i-1]-y)%mod;
    }
    long long int q;
    cin>>q;
    while(q--)
    {
       scanf("%lld",&x);
       printf("%lld\n",dp[x]);
           }
    return 0;
 }