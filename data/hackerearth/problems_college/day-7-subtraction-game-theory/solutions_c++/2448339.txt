#include<bits/stdc++.h>
#define si(x) scanf("%d",&x)
#define sii(x,y) scanf("%d%d",&x,&y)
#define sll(x,y) scanf("%ld%ld",&x,&y)
using namespace std;
typedef long long ll;
const int MOD=1000000007;
int main(){
	ll x,y;
	sll(x,y);
	int q;
	si(q);
	ll res[1000002] ;
		res[0]=1;
	for(int i=1;i<=1000001;i++){
			res[i]=((res[i-1]*x)-y)%MOD;
		}
	while(q--){
		int n;
		si(n);
		printf("%d\n",res[n]);
	}
	
}