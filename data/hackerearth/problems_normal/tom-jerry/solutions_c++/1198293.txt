#include <iostream>
#include<stdbool.h>
using namespace std;
bool mat[101][101];
int totalway=0;
bool isSafe(int i, int j,int n){
	if(i>=0 && i<n && j>=0 && j<n && !mat[i][j])
		return true;
	return false;
}
void way(int x,int y,int n)
{
	 if(x==n-1 && y==n-1)
	 {
	     totalway++;
	     return;
	 }
	 if(isSafe(x-1,y,n))
	 {
	 	  mat[x-1][y]=true;
          way(x-1,y,n);
          mat[x-1][y]=false;
	 }
	 if(isSafe(x+1,y,n))
	 {
	 	  mat[x+1][y]=true;
          way(x+1,y,n);
          mat[x+1][y]=false;
	 }
	 if(isSafe(x,y-1,n))
	 {
	 	  mat[x][y-1]=true;
          way(x,y-1,n);
          mat[x][y-1]=false;
	 }
	 if(isSafe(x,y+1,n))
	 {
	 	  mat[x][y+1]=true;
          way(x,y+1,n);
          mat[x][y+1]=false;
	 }
}
int main()
{
    int i,j,n;
    cin>>n;
    for(i=0;i<n;i++)
    {
      for(j=0;j<n;j++)
      	 cin>>mat[i][j];
    }
    mat[0][0]=1;
    way(0,0,n);
    cout<<totalway;
    return 0;
}
