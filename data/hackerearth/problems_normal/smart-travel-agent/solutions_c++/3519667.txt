#include<bits/stdc++.h>
using namespace std;
#define ff first
#define ss second
const int MAXN = 105;
vector< pair<int,int> > adj[MAXN];
int d[MAXN];
const int INF = 1e6+3;
int to[MAXN];

int main() {
	int n,m;
	scanf("%d%d",&n,&m);
	for(int i=1;i<=m;i++) {
		int x,y,z;
		scanf("%d%d%d",&x,&y,&z);
		adj[x].push_back(make_pair(y,z));
		adj[y].push_back(make_pair(x,z));
	}
	int s,des,t;
	scanf("%d%d%d",&s,&des,&t);
	for(int i=1;i<=n;i++) d[i]=-1;
	d[s]=INF;
	priority_queue< pair<int,int> > pq;
	pq.push(make_pair(INF,s));
	while(!pq.empty()) {
		int dis=pq.top().ff;
		int ver=pq.top().ss;
		pq.pop();
		if(d[ver]>dis) continue;
		for(int i=0;i<(int)adj[ver].size();i++) {
			int vert=adj[ver][i].ff;
			int di=adj[ver][i].ss;
			if(min(di,d[ver])>d[vert]) {
				d[vert]=min(di,d[ver]);
				to[vert]=ver;
				pq.push(make_pair(d[vert],vert));
			}
		}
	}
	stack<int> st;
	int cur=des;
	while(cur!=s) {
		st.push(cur);
		cur=to[cur];
	}
	printf("%d ",s);
	while(!st.empty()) {
		printf("%d ",st.top());
		st.pop();
	}
	printf("\n");
	int ans=ceil(1.0*t/(d[des]-1));
	printf("%d\n",ans);
	return 0;
}