#include <bits/stdc++.h>
	
using namespace std;

long val[1005][1005];
string arr[1005];
int main()
{
	int no,p;
	cin>>no;
	string str;
	
	for(int i=0;i<no;i++)
	{
		arr[i]="null";
		for(int j=0;j<no;j++)
			val[i][j]=0;
	}
	
	for(int i=0;i<no;i++)
	{
		cin>>str;
		arr[i]=str;
	}

	for(int i=0;i<no;i++)
	{
		for(int j=0;j<no;j++)
		{
			cin>>p;
			val[i][j]=p;
		}
	}
	
	int q,x=0,y=0;
	cin>>q;
	long cost=0;
	
	for(int a=0;a<q;a++)
	{
		cin>>str;
		for(int i=0;i<no;i++)
		{
			if(arr[i]==str)
			{
				y=i;
				cost=cost+val[x][y];
				x=i;
				break;
			}
		}
	}
	cout<<cost<<endl;
}