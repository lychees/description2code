#include <bits/stdc++.h>
using namespace std;
int dist[1000];
set<pair<int,pair<int,int> > > edges;
int n,m;


int bellman(int start,int ver)
{

    dist[start]=0;
    for(int i=1;i<=ver;i++)
    {
        for(set<pair<int,pair<int,int> > >::iterator it = edges.begin();it!=edges.end();it++)
        {
            int x=(*it).first;
            int d=(*it).second.first;
            int y=(*it).second.second;
            if(dist[x]!=100000000)
                dist[y]=min(dist[y],dist[x]+d);
        }
    }

}

int main()
{
    int T;
    //freopen("file1.txt","r",stdin);
    cin>>T;
    while(T--)
    {
    	int a,b,c;
    	cin>>n>>m;
    	edges.clear();
    	for(int i=1;i<=m;i++)
    	{
    		cin>>a>>b>>c;
    		edges.insert(make_pair(a,make_pair((c*-1),b)));
    	}
    	for(int i=1;i<=n;i++)
    		dist[i] = 100000000;
    	bellman(1,n);

    	int negcycle=0;
        for(int i=1;i<=n;i++)
        {

         for(set<pair<int,pair<int,int> > >::iterator it = edges.begin();it!=edges.end();++it)
            {
                int x=(*it).first;
                int d=(*it).second.first;
                int y=(*it).second.second;
                if(dist[x]!=100000000)
                    if(dist[y]>dist[x]+d)
                        negcycle=1;
            }

        }
        if(negcycle==1)
            cout<<"Yes\n";
        else
            cout<<"No\n";

    }
}
