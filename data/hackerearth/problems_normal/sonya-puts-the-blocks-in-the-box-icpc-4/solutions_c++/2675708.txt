#include <bits/stdc++.h>

#define fi first
#define se second
#define pb push_back
#define mp make_pair
#define pii pair<int,int>
#define MOD 1000000007
#define ll long long int
#define MAXINT 1000000000000000LL
#define CLEAR(a) memset((a),0,sizeof(a))

using namespace std;

int A[100005];
ll S[100005];
ll C[102][1003];
ll DP[102][1003];

void solve(void) {
	int n,m,i,j,k,l;
	ll ans;
	cin>>n>>m;
	for(i=0;i<=100;i++) 
		for(j=1;j<=1000;j++)
			C[i][j]=DP[i][j]=-MAXINT;
	for(i=1;i<=n;i++) {
		cin>>l;
		S[0]=0;
		C[i][0]=0;
		for(j=1;j<=l;j++) {
			cin>>A[j];
			S[j]=S[j-1]+A[j];
			for(k=1;k<=min(j,1000);k++)
				C[i][k]=max(C[i][k],S[j]-S[j-k]);
		}
	}
	DP[0][0]=0;
	for(i=1;i<=n;i++) {
		DP[i][0]=0;
		for(j=1;j<=m;j++) {
			for(k=0;k<=j;k++) {
				DP[i][j]=max(DP[i][j],DP[i-1][j-k]+C[i][k]);
			}
		}
	}
	ans=-MAXINT;
	for(i=0;i<=m;i++)
		ans=max(ans,DP[n][i]);
	cout<<ans<<endl;
}

int main () {
	int i,test;
	test=1;
	for(i=1;i<=test;i++)
		solve();
	return 0;
}