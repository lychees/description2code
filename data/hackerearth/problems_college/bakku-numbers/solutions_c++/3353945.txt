#include <iostream>
using namespace std;

int main()
{
	long int p1,p2;
   	cin>>p1>>p2;
    int t;
    cin>>t;
    while(t--)
    {
       long int  x,y,m1,n1,m2,n2,n3,m3,t1=0,t2=0,t3=0,t4=0,t5=0,t6=0;
       cin>>x>>y;
       m1=x%p1,n1=x%p2;
       m2=y%p1,n2=y%p2;
       m3=x%(p1*p2),n3=y%(p1*p2);
       if(m1==0)
       t1=1;
       if(n1==0)
       t2=1;
       if(m2==0)
       t3=1;
       if(n2==0)
       t4=1;
       if(m3==0)
       t5=1;
       if(n3==0)
       t6=1;
       double ans=y/p1-x/p1+y/p2-x/p2-(y/(p1*p2)-x/(p1*p2)+t5)+t1+t2;
       ans=ans/(y-x+1);
       printf("%lf\n",ans);
    }
    return 0;
}
