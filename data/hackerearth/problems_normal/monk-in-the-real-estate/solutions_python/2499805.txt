test=int(raw_input().strip(" "))
while(test>0):
	test-=1
	n=int(raw_input().strip(" "))
	dic={}
	while(n>0):
		n-=1
		num1,num2=map(int,raw_input().strip(" ").split(" "))
		if(dic.has_key(num1)):
			pass
		else:
			dic[num1]=1;
		if(dic.has_key(num2)):
			pass
		else:
			dic[num2]=1;
	print len(dic)
