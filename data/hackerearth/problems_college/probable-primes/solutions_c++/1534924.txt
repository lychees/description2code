#include <iostream>
#include <stdio.h>
#include <vector>
#define sz 1000001

using namespace std;

typedef long long int Lint;

int main()
{
	
	vector<bool> A( sz, true );
	vector<Lint> B( sz );
	
	Lint t, l, r, i, j, v1, v2;
	float v;
	
	A[ 0 ] = A[ 1 ] = false;
	
	for( i = 2;i*i < sz;i++ )
		for( j = i*i;j < sz;j += i )
			if( A[ j ] )
				A[ j ] = false;
	
	B[ 0 ] = 0;
	for( i = 1;i < sz;i++ )
		B[ i ] = B[ i - 1 ] + ( A[ i ] ? 1 : 0 );
	
	scanf("%lld", &t );
	
	while( t-- ) {
		
		scanf("%lld %lld", &l, &r );
		v1 = r - l + 1;
		v2 = B[ r ] - B[ l ] + ( A[ l ] ? 1 : 0 );
		v = static_cast<float> ( v2 ) / static_cast<float> ( v1 );
		printf("%.6f\n", v );
		
	}
	return 0;
}
