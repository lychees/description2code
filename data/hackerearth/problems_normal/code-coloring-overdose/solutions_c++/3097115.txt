#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
#define pii pair<int,int>
#define pll pair<ll,ll>
#define pdd pair<double,double>
#define X first
#define Y second
#define rep(i,a) for(int i=0;i<a;++i)
#define repp(i,a,b) for(int i=a;i<b;++i)
#define fill(a,x) memset(a,x,sizeof(a))
#define foreach( gg,itit )    for( typeof(gg.begin())itit=gg.begin();itit!=gg.end();itit++ )
#define mp make_pair
#define	pb push_back
#define vi vector<int>
#define vll vector<ll>
#define sort1(v) sort(v.begin(),v.end())
#define l_b(v,i) lower_bound(v.begin(),v.end(),i)-v.begin();
#define u_b(v,i) upper_bound(v.begin(),v.end(),i)-v.begin();


ll mod=pow(10,9)+7;
ll m_p(ll base, ll exponent)
{  ll modulus=mod;
    ll result = 1;
    while (exponent > 0)
    {
        if (exponent % 2 == 1)
            result = (result * base) % modulus;
        exponent = exponent >> 1;
        base = (base * base) % modulus;
    }
    return result;
}
 //ll an=0;
ll a[5*100000+5],ans[5*100000+5][13],count1[5*100005]={0};
ll solve(int in, int m){
   // cout<<"ts "<<in<<' '<<m<<endl;
    if(m==0)return 1;    
    if(in==0 && m>0)return 0;

    if(ans[in][m]!=-1)return ans[in][m];
    ll an=0;
    an+=(solve(in-1,m));
    an+=(solve(in-1,m-1)*(m_p(2,count1[in])-1))%mod;
    an%=mod;
   // cout<<"ans at "<<in<<' '<<m<<' '<<an<<endl;
    return ans[in][m]=an;
    
    
}


int main()
{   
    ios_base::sync_with_stdio(0); cin.tie(NULL);
 
   int n,m,k;
   fill(ans,-1);
   cin>>n>>k>>m;
   rep(i,n)cin>>a[i];
   //sort(a,a+n);
   rep(i,n)count1[a[i]]++;
  //rep(i,k+1)cout<<count1[i]<<' ';
   
   for(int i=0;i<=k;i++){
       for(int j=0;j<=m;j++){
           if(j==0){ans[i][j]=1;continue;}
           if(i==0 && j>0){ans[i][j]=0;continue;}
           if(i==0 )continue;
           ll an=ans[i-1][j];
           an+=(ans[i-1][j-1]*(m_p(2,count1[i])-1))%mod;
           an%=mod;
           ans[i][j]=an;
       }
   }
 
 ll f=0;
   for(int i=0;i<=m;i++){f+=ans[k][i];f%=mod;}
   cout<<f;
    return 0;
}