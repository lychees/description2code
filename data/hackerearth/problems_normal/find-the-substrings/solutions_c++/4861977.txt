#include<bits/stdc++.h>
using namespace std;



int main() {
    long int i,j,t;
    cin >> t;
    while(t--) {
        long int count=0;
        string s;
        cin >> s;
      
        long int v=s.size();
        long int a,b,c;
        a=b=c=0;
        for(i=0;i<v;i++) {
        	if(s[i]=='a') {
        		a=i+1;
        		count+=min(b,c);
        	}
        	else if(s[i]=='b') {
        		b=i+1;
        		count+=min(a,c);
        	}
        	else {
        		c=i+1;
        		count+=min(a,b);
        	}
        	
        }
        long int ans=(v*(v+1))/2;
        ans-=count;
        cout << ans << endl;
    }
    return 0;

}