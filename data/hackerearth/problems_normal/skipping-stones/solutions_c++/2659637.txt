#include <bits/stdc++.h>
using namespace std;

struct node{
	int dist;
	double prob;
};

bool compare(const struct node &a, const struct node &b){
	return a.dist<b.dist;
}

int main()
{
	int n,l,d,i,j,dis;
	double p;
	vector<struct node>v;
	cin >> n >> l >> d;
	if(d<=l){
		cout << "1.000000";
	}else{
		for(i=0;i<n;i++){
			cin >> p;
			struct node a;
			a.prob=p;
			v.push_back(a);
		}
		for(i=0;i<n;i++){
			cin >> dis;
			v[i].dist=dis;
		}
		sort(v.begin(),v.end(),compare);
		/*for(i=0;i<n;i++){
			cout << v[i].dist << " " << v[i].prob << endl;
		}*/
		double ans=DBL_MIN;
		double dp[n];
		dp[0]=v[0].prob;
		for(i=1;i<n;i++){
			dis=v[i].dist;p=v[i].prob;
			if(dis-l<=0){
				dp[i]=p;
			}else{
				dp[i]=-1.0;
				if(dp[i-1]>0){
					j=i-1;
					while(j>=0 && (dis - (v[j].dist) )<=l){
						dp[i]=max(dp[j]*p,dp[i]);
						j--;
					}
				}
			}
			if((dis+l)>=d && dp[i]>0){
				if(dp[i]>ans)
					ans=dp[i];
			}
		}
		printf("%.6lf",ans);
	}
    return 0;
}
