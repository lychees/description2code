from collections import deque


def deletes(arr, step):
    arr = deque(arr)
    while len(arr) > 1:
        arr.rotate(1-step)
        arr.popleft()
    return arr[0]


inlen = input()
arr = map(int, raw_input().split())
step = input()
left = deletes(arr, step)
arrs = map(str, arr)
ans = []
if left & 0:
    for x in arr:
        if x % 2 == 0:
            ans.append(x)
else:
    for x in arr:
        if x % 2 == 1:
            ans.append(x)
print " ".join(map(str, sorted(ans)))
