//
//  main.cpp
//  PrisonBreakHE
//
//  Created by Shashank Shekhar on 23/07/16.
//  Copyright Â© 2016 Shashank Shekhar. All rights reserved.
//

#include <iostream>
#include <vector>
#include <algorithm>
#include <climits>
#include <unordered_map>
#include <map>
#include <set>
#include <queue>
#include <cstring>
#include <sstream>
#include <iterator>
#define minInt INT_MIN
#define maxInt INT_MAX
#define umaxInt UINT_MAX
#define llminInt LLONG_MIN
#define llmaxInt LLONG_MAX
#define MOD 1000000007
#define mp(a, b) make_pair(a, b)
#define pb(a) push_back(a)
#define fr(i,a,N) for (int i =a;i<N;i++)
#define fre(i,a,N) for (int i =a;i<=N;i++)
#define lli long long int
#define ui unsigned int
#define pii pair<int,int>
#define vi vector<int>
#define vpii vector<pair<int,int>>
using namespace std;


bool adj[21][21];
bool vis[21][21];
int arx[] = {1,-1,0,0};
int ary[] = {0,0,1,-1};
int N,ans;
void dfs (int i,int j) {
    if (i==N & j==N) {
        ans++;
        return;
    }
    vis[i][j] = true;
    fr(k,0,4) {
        int x = i+arx[k];
        int y = j+ ary[k];
        if (x<1 || x>N || y<1 || y>N) continue;
        if (adj[x][y] == 1 || vis[x][y]) continue;
        dfs(x,y);
        vis[x][y]= false;
        
    }
}
int main(int argc, const char * argv[]) {
    // insert code here...
    int t;
    ios_base::sync_with_stdio(false);
    cin.tie(0);
    cout.tie(0);
    cin >>t;
    for (;t>0;--t ) {
        fre(i,0,20)
        fre(j,0,20) {
            adj[i][j] = false;
            vis[i][j] = false;
        }
        cin >>N;
        fre(i,1,N)
        fre(j,1,N)
        cin >> adj[i][j];
        ans = 0;
        dfs(1,1);
        cout <<ans<< "\n";
    }
    return 0;
}