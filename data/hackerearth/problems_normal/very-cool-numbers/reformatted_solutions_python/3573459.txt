import re

n = int(raw_input())
for i in range(0, n):
    inp = raw_input()
    num, coolnes = inp.split(' ')
    count = 0
    for i in range(1, int(num)+1):
        # print i

        # find binary number
        binary_num = bin(int(i))
        # print binary_num
        cnt = len(re.findall("(?=%s)" % '101', binary_num))
        # print "cnt is" , cnt
        if cnt >= int(coolnes):
            count += 1
    print count
