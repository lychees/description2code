#include <iostream>
using namespace std;
long b[160009],c[160009];
long a[160009];
#define min(a,b) a<b?a:b

    long T,n,l,d,u,j,i,k;
int main()
{
    
    cin>>T;
    for(k=0;k<T;++k)
    {
    	cin>>n>>l;
    	for(i=0;i<=n;++i)
      a[i]=b[i]=c[i]=0;
    for(i=0;i<l;++i)
    {
    	cin>>d>>u;
    	b[d]=u;c[u]=d;//d to u
    }
    
    if(b[1]<=13)
    for(i=3;i<=n;++i)
    {
    	if(i<14)
    	{a[i]=1;if(c[i]!=0&&a[i]!=2)a[i]=min(a[i],a[c[i]]);}
    	else
    	{
    		if(!a[i])
    		a[i]=n;
    		for(j=2;j<=12;++j)
    		{
    			if(((i-j)!=2)&&(b[i-j]==0))
    			{a[i]=min(a[i-j]+1,a[i]);}
    		}
    	if(c[i]!=0&&c[i]!=2)
    	a[i]=min(a[i],a[c[i]]);
    		
    	}
    	//if(b[i]!=0)a[b[i]]=a[i];
    }
    else
    {
    	
    	for(i=b[1]+2;i<=n;++i)
    {
    	if(i<b[1]+13)
    	{a[i]=1;if(c[i]!=0&&a[i]!=b[1]+1&&c[i]>b[1])a[i]=min(a[i],a[c[i]]);}
    	else
    	{
    		if(!a[i])
    		a[i]=n;
    		for(j=2;j<=12;++j)
    		{
    			if(((i-j)!=b[1]+1)&&(b[i-j]==0))
    			{a[i]=min(a[i-j]+1,a[i]);}
    		}
    	if(c[i]!=0&&(c[i]!=(b[1]+1))&&c[i]>b[1])
    	a[i]=min(a[i],a[c[i]]);
    		
    	}
    	//if(b[i]!=0)a[b[i]]=a[i];
    }
    	
    }
        
        
    	cout<<a[n]<<"\n";
    }
    
    return 0;
}
