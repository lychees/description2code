tc = int(raw_input())
while tc>0:
        tc = tc - 1
        n, m = map(int, raw_input().split())
        ans = 0
        if m==1:
                ans = n
        else:
                while n>0:
                        ans = ans + n%m
                        n = n/m
        print ans
