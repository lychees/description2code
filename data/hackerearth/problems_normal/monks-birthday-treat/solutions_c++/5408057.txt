/*
   ALWAYS REMEMBER:-55277762669992_92344.4445527772.27777833_62.2_33325553377774488_55232.222442662 !
                           * # # #         //                              
                         *   *     #      //                             
                       *      *     #    //                           
                      *        *     #  //\\                            
		     *          *    # //  \\                         
	            * * * * * *  *   #/     \\
    		   *	          * #        \\			
  *	          *                *          \\
		 *	            *          \\
            ********************************  
            *   By                         *   
            *  KRISHNA MURARI              *  
            *  NIT PATNA (1406030)         *
            ********************************
   */ 
#include<bits/stdc++.h>
#define         vi                          vector<int>
#define         vc                          vector<char>
#define         vb                          vector<bool >
#define         vs                          vector<string >
#define         si                          set<int >
#define         sc                          set<char >
#define         pii                         pair<int, int>
#define         vpii                        vector<pair<int, int> >
#define         vpic                        vector<pair<int, char> > 
#define         ll                          long long int 
#define         mp                          makepair
#define         pb                          push_back
#define         pf                          printf
#define         sf                          scanf
#define         make_fast                   ios::sync_with_stdio(false)
#define         npos_type                    static const size_type     //-1 if reaches end
#define         GCD                          std::__gcd
#define         SIZE(a)                      (int ) (a.size())
#define         LEN(a)                        (int )(a.length())
#define         MIN(a,b)                      a>b?b:a
#define         MAX(a,b)                      a>b?a:b
#define         SQURE(a)                      ((a)*(a))
#define         xx                            first
#define         yy                            second
#define         MEM(a,val)                    memset( a,  val,  sizeof(a) )
#define         CLR(a)                        memset( a,  0,    sizeof a )
#define         SET(a)                        memset( a, -1,    sizeof a )
const int mod=1000000007;
using namespace std;
long long int ans=0;
int dfs( vector<ll >v[] , ll check[] , ll val , ll posn ){
	if(check[posn]==-1){ ans++;
	    check[posn] = val ;     //   cout<<posn+1<<"@"<<val<<"  ";
	    for( ll i=0 ; i<v[posn].size() ; i++){
		    if(check[v[posn][i]] == -1){
			    dfs(v,check,val,v[posn][i]);
		    }
	    }
    }
    return ans;
}
int main(){
//	ll t;
//	cin>> t;
//	while( t-- ){
		ll n , m ;
		cin >> n >> m;
		vector< ll > v[n];
		ll x , y ;
		while( m-- ){
			cin >> x >> y ;
			x--;y--;
			v[x].push_back(y);
		//	v[y].push_back(x);
		}
		ll value[n];
//		for( ll i = 0 ; i < n ; i++ ){
//			cin >> value[i] ;
//		}
		ll check[n];
        for(ll i=0 ;i<n ;i++) check[i] = -1;     
		ll current=0;
		int mm=111111111;
		for(int i=0; i<n;i++){
			for(int j=0;j<n;j++)
			check[j]=-1;
			ans=0;
			mm=min(mm,dfs(v,check,0,i));
		}
		cout<<mm<<endl;
	//}
}