#include <iostream>
#include<algorithm>

using namespace std;

bool myfunction(int i,int j)
{
	return (j<i);
}


int main()
{
    int t;
    cin>>t;
    while(t--)
    {
    	int n;
    	cin>>n;
    	int b[n],g[n],match=0;
    	for(int i=0;i<n;i++)
    		cin>>g[i];
    	for(int i=0;i<n;i++)
    		cin>>b[i];
    	
    	sort(g,g+n);
    	sort(b,b+n,myfunction);
    	
    	for(int i=0;i<n;i++)
    	{
    		if(b[i]%g[i]==0)
    			match++;
    		else if(g[i]%b[i]==0)
    			match++;
    	}
    	
    	cout<<match<<endl;
    	
    }
    return 0;
}
