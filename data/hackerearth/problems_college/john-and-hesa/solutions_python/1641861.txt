'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
#print 'Hello World!'
tc = input()
for _ in range(tc):
	x,p = raw_input().split(' ')
	x = int(x)
	p = int(p)
	n = 0
	while x%p==0:
		n += 1
		x = x/p
		if x==1:
			x = 0
			break
	print n,x
	
