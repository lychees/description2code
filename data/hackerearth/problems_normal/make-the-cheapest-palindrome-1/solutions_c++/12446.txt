#include<stdio.h>
#include<iostream>
#include<algorithm>
#include<vector>
#include<map>
#include<string.h>
#include<math.h>
#include<stdio.h>
using namespace std;
int main()
{
    int a,b,i,k,j,n,t,ar[210][210],count=0,min1;
	char ch[100001];
	cin>>t;
	while(t--)
	{
	k=0;
	count=0;
	scanf("%s",ch);
scanf("%d%d",&a,&b);
min1=min(a,b);
	n=strlen(ch);
	for(i=0;i<n;i++)
	{
		if(ch[i]=='/')
		{
		if(ch[n-i-1]=='/')
		{
			if(i==n-i-1)
			{count+=min1;
			ch[i]='a';}
			else
			{
			count+=2*min1;
			ch[i]='a';
			ch[n-i-1]='a';
		}}
		else
		{
			if(ch[n-i-1]=='a')
			{
			count+=a;
			ch[i]='a';
		}
			else
			{
			ch[i]='b';
			 count+=b;
		}}
		}
	}
	
	for(i=0;i<n;i++)
	{if(ch[i]!=ch[n-i-1])
	{
		cout<<"-1\n";
		k=1;
		break;
	}
}	if(k)
	continue;
	cout<<count<<"\n";
	}return 0;
}
