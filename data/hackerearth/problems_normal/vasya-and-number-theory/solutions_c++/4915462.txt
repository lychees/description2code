#include<bits/stdc++.h>
using namespace std;
int main()
{
	int n,i,j,flag,k,max;
	long long int x;
	vector<long long int> vec;
	scanf("%d",&n);
	int a[n],res;
	for(i=0;i<n;i++)
	{
		scanf("%lld",&x);
		vec.push_back(x);
	}
	sort(vec.begin(),vec.end());
	a[0] = 1;
	flag = 0;
	max = a[0];
	res =1;
	for(i=0;i<n;i++)
	{
		flag = 0;
		k = i-1;
		a[i] = 1;
		while(k>=0)
		{
			if(vec[i]%vec[k] == 0)
			{
					max = a[k] +1;
					if(a[i]< max)
					{
						a[i] = a[k] + 1;
						if(a[i]>res)
						res = a[i];
					}	
					flag = 1;
					
			}
				k--;
		}
		if(flag==0)
			a[i] = a[0];
	//	printf("%d ",a[i]);
	}
	printf("\n");
	if(res==1)
	printf("%d\n",-1);
	else
	printf("%d\n",res);
}