#include <iostream>
#include<vector>
#include<string>
using namespace std;
typedef long long ll;
int main() {
	ll L,D,N; cin >> L >> D >> N;
	vector<string> inp;
	vector<string> test;
	for(int i=0; i<D; i++)
	{
		string str; cin >> str; inp.push_back(str);
		
	}
	for(int i=0; i<N; i++)
	{
	//	string str; cin >> str; test.push_back(str);
	//	cout << test[i] << endl;
	}
	for(int i=0; i<N; i++)
	{
		//int index = 0;
		//bool begb = false;
		string str; cin >> str;
		int cnt = 0;
		for(int j=0; j<D; j++)
		{
			bool begb = false;
			int index = 0;
			int p = 0;
			for(int k=0; k<str.length(); k++)
			{
				if(str[k]=='(')
				{
					begb = true;
					while(str[k]!=')')
					{
						if(str[k]==inp[j][p])
						{
							index++; 
							begb = false;
						}
						k++;
					}
					p++;
					if(begb) break;
				}
				else if(str[k]==inp[j][p])
				{
					index++;
					p++;
				}
				else
				break;
			}
			if(index == L)
				cnt++;
		}
		cout << cnt << endl;
	}
	return 0;
}