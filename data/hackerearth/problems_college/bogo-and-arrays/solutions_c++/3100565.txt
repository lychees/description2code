#include <bits/stdc++.h>

using namespace std;

typedef long long ll;

int static const N = 200010;

ll res[N/2];
int a[N] , k , n;

int main() {
	int t;
	cin>>t;
	for(int i=0;i<t;i++)
	{
		scanf("%i%i",&n,&k);
		int uza = 0;
		a[n] = k+1;
		for(int j=0;j<=n;j++)
		{
			if(j < n)
				scanf("%i",&a[j]);
			if(a[j] <= k)
				uza++;
			else
			{
				ll rr = uza;
				rr = rr*(rr+1);
				rr /= 2;
				res[i] -= rr;
				uza = 0; 
			}
		}
		ll rr = n;
		rr = rr*(rr+1);
		rr /= 2;
		res[i] += rr;
	}
	for(int i=0;i<t;i++)
		cout<<res[i]<<endl;
	return 0;
}