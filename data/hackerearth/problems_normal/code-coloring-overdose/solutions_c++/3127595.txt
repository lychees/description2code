       
       #include<bits/stdc++.h>
using namespace std;
#define rep(i,n) for(int i=0;i<n;i++)
#define ll long long  int
#define pi pair<int,int>
#define pii pair<pi,int>
#define f first
#define mp make_pair
#define mod 1000000007
#define s second
#define pb push_back
int f[500011];
ll dp[11];
ll pw[500011];
int main(){
    pw[0]=1;
    int n,k,m,x;
    cin >> n >> k >> m;
    rep(i,n){
        cin >> x;
        f[x]++;
    }
    for(int i=1;i<=n;i++){
        pw[i]=2LL*pw[i-1];
        pw[i]%=mod;
    }
    dp[0]=1;
    for(int j=1;j<=k;j++){
        if(f[j]){
            for(int i=m-1;i>=0;i--){
                dp[i+1]+=(dp[i]*(pw[f[j]]-1))%mod;
                dp[i+1]%=mod;
            }
        }
    }
    ll ans=0;
    rep(i,m+1){
        ans+=dp[i];
        ans%=mod;
    }
    cout<<ans;
}