#include<cstdio>

char s[100001];

int main(){
    int t;
    scanf("%d", &t);
    while(t--){
        scanf("%s", s);
        long long ans = 0;
        int cc = 0;
        for(int i=0;s[i]!='\0';i++){
            if((s[i]-'A' >= 0 && s[i]-'A' <= 2)
               || (s[i]-'a' >= 0 && s[i]-'a' <= 2)){
                cc++;
            }
            else{
                ans += (long long)cc*((long long)cc+1) /2;
                cc = 0;
            }
        }
        ans += (long long)cc*((long long)cc+1) /2;
        printf("%lld\n", ans);
    }
}
