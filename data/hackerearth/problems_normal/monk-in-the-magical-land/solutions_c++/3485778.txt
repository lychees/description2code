#include <bits/stdc++.h>
#define ll long long int
#include<stdint.h>
using namespace std;

int cOnes(int n){
	int cnt  =0;
	while(n){
		n= n&(n-1);
		cnt++;
	}
	return cnt;
}

int main() {
	// your code goes here
	int t;
	cin>>t;
	while(t-->0){
		int n,m,k;
		cin>>n>>m>>k;
		vector<int> A(n),B(m),Z(m);
		for(int  i=0;i<n;i++)cin>>A[i];
		for(int  i =0;i<m;i++)cin>>B[i];
		for(int i =0;i<m;i++)cin>>Z[i];
		vector<__int128_t> M(n);
		__int128_t o = 1;
		for(int i = 0;i<n;i++){
			for(int j = 0;j<m;j++){
				if(__gcd(A[i],B[j]) != 1)
				M[i] |= o<<j;
			}
		}
		int limit = 1<<n;
		int ans = 0;
		for(int mask = 0;mask<limit;mask++){
			if(__builtin_popcount(mask)>k)
			continue;
			__int128_t b = 0;
			for(int i =0;i<n;i++){
				if(mask&(1<<i)){
					b|= M[i];
				}
			}
			int val = 0;
			for(int  i=0;i<m;i++){
				if(b&(o<<i))
				val += Z[i];
			}
			ans = max(val,ans);
		}
		cout<<ans<<endl;
	}
	return 0;
}