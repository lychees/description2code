#include <bits/stdc++.h>
using namespace std;

int main()
{
    int n,q,i,a,b;
    cin>>n>>q;
    long int S[n+1];
    queue<int> Q;
    int A[n+1],B[n+1];
    memset(A,0,sizeof(A));
   // memset(A,0,sizeof(B));
    for(i=1;i<=n;i++)
    	scanf("%ld",&S[i]);
   	int k=2;
   	for(i=1;i<=n;i++) Q.push(i);
   	Q.push(0);
   	//cout<<Q.size();
   	while(Q.size()>2){
   		a=Q.front();
   		Q.pop();
   		if(a==0){
            Q.push(0);
            continue;
   		}
   		b=Q.front();
   		Q.pop();
   		if(b==0){
            Q.push(a);
            Q.push(0);
            continue;
        }
   		if(a && b){
            A[a]++;
            A[b]++;
            if(S[a]>S[b])
                Q.push(a);
            else
                Q.push(b);
   		}
    }
    b=0;
    a=Q.front();
    Q.pop();
    if(!Q.empty()) b=Q.front();
    if(a && b){
        A[a]++;
        A[b]++;
    }
    while(q--){
        scanf("%d",&i);
        printf("%d\n",A[i]);
    }
    return 0;
}
