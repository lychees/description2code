#include <bits/stdc++.h>
using namespace std;
#define MaxVal 100001
int fq[100002];
int BITree[100002];
int n;
void update(int idx ,int val){
	idx++;
	while (idx <= n){
		BITree[idx] += val;
		idx += (idx & -idx);
	}
}
int constructBITree(int arr[], int n)
{




    for (int i=0; i<n; i++)
        update(i, arr[i]);


    return 0;
}
int read(int idx){
	int sum = 0;
	idx++;
	while (idx > 0){
		sum += BITree[idx];
		idx -= (idx & -idx);
	}
	return sum;
}

int main()
{
int o,x,y,q,i;
scanf("%d",&n);
int a[n];
for(i=0;i<n;i++)
{
scanf("%d",&a[i]);
fq[a[i]]++;
}
n=100001;
constructBITree(fq, n);
scanf("%d",&q);
for(i=0;i<q;i++)
{
	scanf("%d",&o);
	switch(o)
	{
		case 0:
		{
			scanf("%d%d",&x,&y);
			printf("%d\n",read(y)-read(x-1));
					break;

		}
		break;
		case 1:
		{
	     	scanf("%d",&x);
	     	update(x,-1);
	     	break;
		}
		break;
			case 2:
		{
	     	scanf("%d",&x);
	     	update(x,1);
	     	break;
		}
		break;
	}
}
return 0;
}
