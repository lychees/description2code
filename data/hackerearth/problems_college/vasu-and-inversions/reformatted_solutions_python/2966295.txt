# __author__ = 'guluuu3'
t = input()
while (t):
    n, k = map(int, raw_input().split())
    arr = map(int, raw_input().split())
    ct = arr.count(0)
    if ct > k:
        print n-(ct-k)
    elif ct == k:
        print n
    else:
        k = k-ct
        if (k % 2 == 0):
            print n
        else:
            print n-1
    t = t-1
