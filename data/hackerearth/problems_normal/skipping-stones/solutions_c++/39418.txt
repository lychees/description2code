#include<cstdio>
#include<algorithm>
#include<vector>
#include<iostream>

using namespace std;

double dp[1003];
double p[1003],res;
int n,l,d,path[1003];

int main()
{
	const double eps=1e-9;
	scanf("%d%d%d",&n,&l,&d);
	dp[0]=(double)1.00;p[0]=(double)1.00;
	path[0]=0;
	for(int i=1;i<=n;i++) scanf("%lf",&p[i]);
	for(int i=1;i<=n;i++) scanf("%d",&path[i]);
	if( p[n]-(double)0 <=eps) {printf("IMPOSSIBLE\n");}
	else
	{
		for(int i=1;i<=n;i++)
		{
			res=(double)0;
			for(int j=i-1;j>=0 && path[i]-path[j]<=l;j--)
			{
				res=max(res,dp[j]*p[j]);
			}
			dp[i]=res;
		}
		printf("%.6lf\n",dp[n]);
	}
}
