for _ in range(int(raw_input())):
	num  = 0
	for _ in range(int(raw_input())):
		len1,dig1 = map(int, raw_input().split())
		num = num + len1*dig1
	#print num
	while num > 9:
		res = 0
		while num:
			res = res + (num%10)
			num /=10
		num = res 
	print num