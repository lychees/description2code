#include <iostream>
#include <algorithm>
#include <cmath>

using namespace std;

int main()
{
	long long N,Steps=0,Steps1=0,Steps2=0,dif;
	cin>>N;
	long long a[N],x[N],i,avg=0,med,med1,med2;
	for(i=0;i<N;i++)
	{
		cin>>a[i];
		avg+=a[i];
	}
	avg/=N;
	for(i=0;i<N-1;i++)
	{
		dif=avg-a[i];
		a[i]=dif;
		a[i+1]-=dif;
		x[i]=a[i];
	}
	a[N-1]=0;
	x[N-1]=0;
	sort(x,x+N);
	if(N%2==1)
	{
		med=x[N/2];
		for(i=0;i<N;i++)
		{
			Steps+=abs(a[i]-med);
		}
		cout<<Steps<<"\n";
	}
	else
	{
		med1=x[N/2];
		med2=x[(N/2)+1];
		for(i=0;i<N;i++)
		{
			Steps1+=abs(a[i]-med1);
			Steps2+=abs(a[i]-med2);
		}
		if(Steps1<=Steps2)
		{
			cout<<Steps1<<"\n";
		}
		else
		{
			cout<<Steps2<<"\n";
		}
	}
	return 0;
}