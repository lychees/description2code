import re
t = input();
while(t > 0):
	r, k = map(int, raw_input().split()); c = 0;
	for i in range(1, r + 1):
		a = bin(i); Regex_Pattern = r'(?=101)';	#counts overlapping patterns;
		match = re.findall(Regex_Pattern, a);
		if(len(match) >= k):	c += 1;
	print c;
	t -= 1;