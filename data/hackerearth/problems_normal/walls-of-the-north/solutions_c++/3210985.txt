#include <iostream>
#include <cstdio>
#include <climits>

using namespace std;

int a[100001];

int main () {
    int t, n;

    cin >> t;

    while (t--) {
        scanf("%d", &n);

        for (int i = 1; i <= n; i++) {
            scanf("%d", &a[i]);
        }

        int l1 = 0;
        int last = INT_MAX;
        int up = 0;
        int down = 1;

        for (int i = 1; i <= n; i++) {
            if (down == 1 && a[i] <= last) {
                l1++;
                down = down ^ 1;
                up = up ^ 1;
                last = a[i];
            }
            else if (down == 1 && a[i] > last ) {
                last = a[i];
            }
            else if (up == 1 && a[i] >= last) {
                l1++;
                down = down ^ 1;
                up = up ^ 1;
                last = a[i];
            }
            else if (up == 1 && a[i] < last)  {
                last = a[i];
            }
        }

        int l2 = 0;
         last = INT_MIN;
         up = 1;
         down = 0;

        for (int i = 1; i <= n; i++) {
            if (down == 1 && a[i] <= last) {
                l2++;
                down = down ^ 1;
                up = up ^ 1;
                last = a[i];
            }
            else if (down == 1 && a[i] > last ) {
                last = a[i];
            }
            else if (up == 1 && a[i] >= last) {
                l2++;
                down = down ^ 1;
                up = up ^ 1;
                last = a[i];
            }
            else if (up == 1 && a[i] < last)  {
                last = a[i];
            }
        }

        printf("%d\n", (l1 > l2 ? l1 : l2) );
    }


}
