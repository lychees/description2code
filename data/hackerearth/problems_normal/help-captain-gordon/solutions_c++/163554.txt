#include "stdio.h"
#include "stdlib.h"
#define lli long long int
int n;
lli BIT1[100010], BIT2[100010];

lli query1(int k)
{
    lli s = 0;
    while( k > 0)
    {
        s += BIT1[k];
        k -= k & -k;
    }
    return s;
}

void update1(int k, lli v)
{
    while(k <= n)
    {
        BIT1[k] += v;
        k += k & -k;
    }
}

lli query2(int k)
{
    lli s = 0;
    while( k > 0)
    {
        s += BIT2[k];
        k -= k & -k;
    }
    return s;
}

void update2(int k, lli v)
{
    while(k <= n)
    {
        BIT2[k] += v;
        k += k & -k;
    }
}

int main()
{
    int m, p, q, z;
    lli v1, v2, v;
    scanf("%d",&n);
    scanf("%d",&m);


    for (int i = 0; i < m; ++i)
    {
        scanf("%d %d %d",&z, &p, &q);
        if(z == 1)
        {
            scanf("%lld",&v);
            update1(p, v);
            update1(q+1, -v);
            update2(p, v*(p-1));
            update2(q+1, -v*q);
        }
        else
        {
            v1 = query1(q)*q - query2(q);
            v2 = query1(p-1)*(p-1) - query2(p-1);
            printf("%lld\n",v1 - v2 );
        }
    }
    return 0;
}    