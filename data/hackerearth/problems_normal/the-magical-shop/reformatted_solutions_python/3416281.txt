a, b = [int(i) for i in raw_input().split()]
string = raw_input()
ans = 0
val = a
for i in xrange(len(string)):
    if string[i] == '1':
        ans = (ans+val) % b
    val = ((val % b)*(val % b)) % b
print ans
