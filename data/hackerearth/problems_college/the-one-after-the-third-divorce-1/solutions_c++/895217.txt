#include <iostream>
#define fl(a,b) for(long long int i=a;i<b;i++)
using namespace std;

int main()
{
    long long int t,a[4];
    cin>>t;
    while (t--)
    {
    	fl(0,4)
    	{
    		scanf("%lld ",&a[i]);
    	}
    	long long int c=0,d,b,r;
    	d=a[0]; b=a[1];
    	while (d>0)
    	{
    		r=b%d;
    		b=d;
    		d=r;
    	}
    	b= (a[0]*a[1])/b;
    	c= (a[3]/b) -((a[2]-1)/b) ;
   
    	printf("%lld\n",c);
    }
}
