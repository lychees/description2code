#include <bits/stdc++.h>
using namespace std;
set<int> cities;


int main()
{
	int t;
	cin >> t;
	while(t-->0)
	{
		int E;
		cin >> E;
		cities.clear();
		for(int i = 0;i<E;i++)
		{
			int x, y;
			cin >> x >> y;
			cities.insert(x);
			cities.insert(y);
		}
		cout << cities.size() << endl;
	}
   
    return 0;
}
