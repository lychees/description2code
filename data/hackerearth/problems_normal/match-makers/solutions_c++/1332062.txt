#include <bits/stdc++.h>
using namespace std ;

int T,N,ans;
vector<int> B,G ;

int main(){

	cin >> T ;
	while(T--){
		cin >> N ;
		G.resize(N) ;
		B.resize(N) ;
		for(int i=0;i<N;i++){
			cin >> G[i] ;
		}
		for(int i=0;i<N;i++){
			cin >> B[i] ;
		}
		sort(G.begin(),G.end()) ;
		sort(B.rbegin(),B.rend()) ;
		ans = 0 ;
		for(int i=0;i<N;i++){
			if(G[i]%B[i] == 0 || B[i]%G[i] == 0)
				ans ++ ;
		}
		cout << ans << endl ;
	}
	return 0 ;
}
