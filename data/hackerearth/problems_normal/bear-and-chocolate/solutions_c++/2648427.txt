#include <iostream>
#include <cstring>
using namespace std;

int main()
{
    char c[1001][1001];
    char a,b;
    long long t,n,i,j,k,l,count1=0,count2=0,x[1001],y[1001],g=0,h=0,dp1[1001],dp2[1001],sum=0,suma=0,flag1=0;
    cin>>t;
    
    while(t--)
    {
    	cin>>n;
    	//gets(a);
        for(i=0;i<n;++i)
        {
         for(j=0;j<n;++j)
         {
         	cin>>c[i][j];
         	if(c[i][j]=='#')
         	++count1;
         }
         x[h++]=count1;
         count1=0;
        }
        for(i=0;i<n;++i)
        {
         for(j=0;j<n;++j)
         {
         	//cin>>c[j][i];
         	if(c[j][i]=='#')
         	++count2;
         }
         y[g++]=count2;
         count2=0;
        }
        
        for(i=0;i<h;++i)
        {
        	sum=sum+x[i];
        	dp1[i]=sum;
        	suma=suma+y[i];
        	dp2[i]=suma;
        }
        for(i=0;i<h;++i)
        {
        	if(dp1[i]>dp1[h-1]-dp1[i])
        	{
        		flag1=0;
        		break;
        	}
        	else
        	if(dp1[i]==dp1[h-1]-dp1[i])
        	{
        		flag1=1;
        		break;
        	}
        }
        if(flag1!=1)
        {
        for(i=0;i<h;++i)
        {
        	if(dp2[i]>dp2[h-1]-dp2[i])
        	{
        		flag1=0;
        		break;
        	}
        	else
        	if(dp2[i]==dp2[h-1]-dp2[i])
        	{
        		flag1=1;
        		break;
        	}
        }
        }
        if(flag1==1)
        cout<<"YES"<<endl;
        else
        cout<<"NO"<<endl;
        flag1=0;
        count1=0;
        count2=0;
        g=0;
        h=0;
        sum=0;
        suma=0;
    }
    return 0;
}
