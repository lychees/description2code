// https://www.hackerearth.com/problem/algorithm/roy-and-counting-sorted-substrings-1/

# include <iostream>

using namespace std;

int main() {
  size_t T;
  cin >> T;
  for (size_t t = 0; t < T; ++t) {
    size_t n;
    cin >> n;
    string s;
    cin >> s;
    
    uint_fast64_t count = 0;
    if (!s.empty()) {
      size_t current_seq_len = 1;
      for (size_t i = 1; i < s.size(); ++i) {
        if (s[i] >= s[i - 1]) {
          ++current_seq_len;
        }
        else {
          count += current_seq_len * (current_seq_len + 1) / 2;
          current_seq_len = 1;
        }
      }
      count += current_seq_len * (current_seq_len + 1) / 2;
    }
    cout << count << endl;
  }
  return 0;
}
