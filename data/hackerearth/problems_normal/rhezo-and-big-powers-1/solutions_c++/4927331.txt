#include <bits/stdc++.h>

using namespace std;

#define ll long long int

ll mod=1000000007;

ll div(string s,ll divisor)
{
    ll rem=0;
    ll dividend;
    ll len=s.length(),i;
    for(i=0;i<len;i++)
    {
        dividend=rem*10+(int)(s[i]-'0');
        rem=dividend%divisor;
    }
    return rem;
}

ll modexp(ll a,ll b)
{
    ll res=1;
    while( b )
    {
        if( b&1 )
            res=(res*a)%mod;
        b=b/2;
        a=(a*a)%mod;
    }
    return res;
}


int main()
{
    ios_base::sync_with_stdio(false);
    cin.tie(NULL);

    ll a,b;
    string s;
    cin>>a>>s;
    b=div(s,mod-1);
    cout<<modexp(a,b)<<"\n";

    return 0;
}
