#include<bits/stdc++.h>
using namespace std;
int t=0,n,in[100005],out[100005],v[100005];
vector<int> adj[100005];
int dfs(int i)
{
	v[i]=1;t++;
	in[i]=t;
	for(int j=0;j<adj[i].size();j++)
    {
        if(v[adj[i][j]]==0)
        {
            dfs(adj[i][j]);
        }
    }t++;
    out[i]=t;
}
int main()
{
	int i,n,e,a,b,u1,v1,d1;
	memset(v,0,sizeof(v));
	scanf("%d",&n);
	for(i=1;i<=n;i++)
        adj[i].clear();
	for(i=1;i<n;i++)
	{
		scanf("%d%d",&u1,&v1);
		adj[u1].push_back(v1);
		adj[v1].push_back(u1);
	}
	dfs(1);
	int q,k,x,y;
    scanf("%d",&q);
    while(q--)
    {
        scanf("%d%d%d",&k,&x,&y);
        if((in[x]<=in[y]&&out[x]>=out[y]&&!k)||(in[x]>=in[y]&&out[x]<=out[y]&&k))
            printf("YES\n");
        else
            printf("NO\n");
    }
    return 0;
}
