#include <bits/stdc++.h>
using namespace std;
#define ll long long int
ll a[1000005];
int main()
{
    ll t,n,m,k,j,i;
    cin>>n>>t;
   // a[0]=1;
    j=0;
    for(i=1;i<=sqrt(n);i++)
    {
    	if(n%i==0 && i*i!=n)
    	{
    		a[j++]=i;
    	    a[j++]=n/i;
    	}
    	if(n%i==0 and i*i==n)
    	a[j++]=i;
    }
   // cout<<1;
 
    while(t--)
    {
    //	cout<<2;
    	cin>>m>>k;
    	ll d=0;
    	if(m==1)
    	{
    //		cout<<1;
    		
    		for(i=0;i<j;i++)
    		{
    			if(k%a[i]==0)
    			d++;
    		}
    		cout<<d<<endl;
    	}
    	else if(m==2)
    	{
    		for(i=0;i<j;i++)
    		{
    			if(a[i]%k==0)
    			d++;
    		}
    		cout<<d<<endl;
    	}
    	else if(m==3)
    	{
    		for(i=0;i<j;i++)
    		{
    			if(a[i]%k!=0)
    			d++;
    		}
    		cout<<d<<endl;
    	}
    }
    
}
