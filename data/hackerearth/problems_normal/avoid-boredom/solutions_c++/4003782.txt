#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;
typedef long long ll;
ll dp[105][105];
ll a[105];
int main() {
      int t;
    scanf("%d",&t);
    while(t--)
        {
        int n,m;
        scanf("%d%d",&n,&m);
        int i,j,k;
        ll ans,cur;
        for(i=1;i<=n;i++)
            scanf("%lld",&a[i]);
        
        for(i=0;i<=n;i++)
            for(j=0;j<=m;j++)
            dp[i][j] = -1;
        
        for(i=1;i<=n;i++)dp[i][1] = 0;
        
        for(j=2;j<=m;j++)
            {
            for(i=j;i<=n;i++)
                {
                 ans = 0;
                for(k=j-1;k<i;k++)
                    {
                    //	if(dp[k][j-1]!=-1){
                        cur = a[i]-a[k];
                        if(cur<0)cur = -cur;
                        cur = dp[k][j-1] + cur;
                        if(cur > ans)ans = cur;  
                    //	}
                }
                
                dp[i][j] = ans;
            }
        }
        ans = 0;
      for(i=m;i<=n;i++)
      if(dp[i][m] > ans)ans = dp[i][m];
        
        printf("%lld\n",ans);
    }
    return 0;
}
