// vipsharmavip ( Hunter )
#include<bits/stdc++.h>
#define ll long long
using namespace std;
int main(){

  cin.sync_with_stdio(false);
   int t;
   cin >> t;
   while( t-- ){
      int n , m ;
      cin >> n >> m ;
       int a[n];
       for(int i = 0 ; i < n ; ++i )
         cin  >> a[i];
         ll dp[n+1][m+1];
         memset(dp,0,sizeof dp);
          for(int i = 1 ; i < n ; ++i ){
            for(int j = 0 ; j < i ; ++j ){
             for(int len = 1 ; len  <= min(i,m) ; ++len )
             if(len+1<=m)
             dp[i][len+1] =   max(dp[i][len+1] , dp[j][len] + abs(a[j]-a[i]));
             }
          }
           ll Ans = 0;
           for(int i = 0 ; i < n ; ++i )
           Ans = max( Ans , dp[i][m]);
           cout << Ans << endl;

   }

}
