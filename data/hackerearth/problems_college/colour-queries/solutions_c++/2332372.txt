//void * memset ( void * ptr, int value, size_t num )
#include<bits/stdc++.h>
using namespace std;
#define MAX 105


int n,m ;
int a[MAX][MAX];
int vis[MAX][MAX];
int q;
int dx[4] = {-1,0,1,0};
int dy[4] = {0,1,0,-1};

int cal(int x,  int y , int d){

	vis[x][y] = 1;
	queue< pair<int,int> > Q;
	Q.push(make_pair(x,y));
	int ans=1;
	while(!Q.empty()){
		pair<int,int> p = Q.front();
		int  i = p.first ; int j = p.second ;
		Q.pop();
		
		for(int ii=0;ii<4;ii++){
			if((i+dx[ii]>=0 && i+dx[ii]<n) && (j+dy[ii]>=0 && j+dy[ii]<m) && (vis[i+dx[ii]][j+dy[ii]] == 0 ) && ((int)abs(a[i][j] - a[i+dx[ii]][j+dy[ii]])<=d) ){
				Q.push(make_pair(i+dx[ii], j+dy[ii]));
				vis[i+dx[ii]][j+dy[ii]] = 1;
				ans++;
			}
		}
	}
	return ans ;
}
int main(){

	cin>>n>>m>>q;
	int i,j;
	for(i=0;i<n;i++){
		for(j=0;j<m;j++){
			cin>>a[i][j];
		}
	}

	int x , y ,d;
	while(q--){
		memset(vis,0,sizeof(vis));
		cin>>x>>y>>d;
		x--;y--;
		int ans = cal(x , y, d);
		cout<<ans<<endl;
	}
	return 0;
}
/*
98
100
5
2
5
5
93
72
72
*/
/*
10 10 500
56 485 52 45 12 54 46 65 13 465
456 465 65 65132 45 1 654 12 132 56
654 321 654 3 5 6 12 45 5 12
465 132 6 21 465 4654 653 654 3113 15
4654 132 6 12 316 312 64 321 13312 4
4654 31 132 54 321 21 1 13 345 14
46 132 21 1 1 3 465 132 465 32132
12 45 45 65 35 32 456 12 132 465
465 465 132 2 1 56 3 1 32 1231
21 45   12 12 45 45 12 64 351 465

4 4 12345
1 1 100000
3 4 10
9 4 1
5 10 20
5 10 20
3 6 789
10 3 200
9 8 235
*/
