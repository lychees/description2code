#include <iostream>
#include <map>
using namespace std;

int main()
{int T, N, ip;
    cin>>T;
    map<int, int> M;
    while(T--)
    {
    	cin>>N;
    	for (int i = 0; i < N; i++)
    	{
    		cin>>ip;
    		M[ip] ++;
    	}
    	unsigned long long int ans = 0;
    	map<int, int> :: iterator i;
    	for(i = M.begin(); i != M.end(); i++)
    	{
    		int count = i->second ;
    		if(count)
    		ans += (count)*(count+1)/2;
    	}
    cout<<ans<<endl;
    M.clear();
    }
    return 0;
}
