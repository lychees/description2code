#include <bits/stdc++.h>
using namespace std;
struct p{
	int x,y;
};
int a,b,c;
int check(int x,int y )
{
	int s;
	if(((a*x)+(b*y)+c) > 0)
		s=1;
	else if(((a*x)+(b*y)+c) < 0)
		s=-1;
	
	return s;
}

int main()
{   int t,n,i,c1,c2,ans;
	cin>>t;
	while(t--)
	{
		cin>>n;
		cin>>a>>b>>c;
		p pnt[n];
		c1=0;
		c2=0;
		for(i=0; i<n; i++)
		{
			cin>>pnt[i].x>>pnt[i].y;
			ans=check(pnt[i].x,pnt[i].y);
			
			if(ans >0)
				c1++;
			else if(ans < 0)
				c2++;
		}
		cout<<max(c1,c2)<<endl;
		
	}
    return 0;
}



