#include<bits/stdc++.h>
using namespace std;

typedef long long ll;

ll arr1[100001]={0}, arr2[100001]={0};
ll N;
    ll query(ll* ft, int b)
        {
            ll sum = 0;
            for (; b; b -= (b & -b)) sum += ft[b];
            return sum;
        }

    ll query(int b)
        {
            return query(arr1, b) * b - query(arr2, b);
        }

    ll range_query(int i, int j)
        {
            return query(j) - query(i - 1);
        }

    void update(ll* ft, int k, ll v)
        {
            for (; k <= N; k +=(k & -k)) ft[k] += v;
        }

    void range_update(int i, int j, ll v)
        {
            update(arr1, i, v);
            update(arr1, j + 1, -v);
            update(arr2, i, v * (i - 1));
            update(arr2, j + 1, -v * j);
        }


    int main()
        {
            int T, C, p, q, qu;
            ll v;
            cin>>N>>C;
            while (C--)
                {
                    cin>>qu>>p>>q;
                        if(qu == 1)
                            {
                                cin>>v;
                                range_update(p, q, v);
                            }
                        else
                                cout<<range_query(p, q)<<"\n";
                }
        return 0;
        }
