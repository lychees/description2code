#include <bits/stdc++.h>
using namespace std;

int main()
{
	int tc,n;
    cin >> tc;
    while (tc--) {
    	cin >> n;
    	int t=0,l=0,d=n-1,r=n-1,arr[n][n],cnt=1;
    	while (1) {
    		// cout << t << l << d << r << endl;
    		for (int i=l;i<=r;i++)arr[t][i]=cnt++;
    		t++;
    		// cout << t << l << d << r << endl;
    		if (t > d)break;
    		for (int i=t;i<=d;i++)arr[i][d]=cnt++;
    		r--;
    		// cout << t << l << d << r << endl;
    		if (r < l)break;
    		for (int i=r;i>=l;i--)arr[d][i]=cnt++;
    		d--;
    		// cout << t << l << d << r << endl;
    		if (d < t)break;
    		for (int i=d;i>=t;i-- )arr[i][l]=cnt++;
    		l++;
    		if (l > r)break;
    	}
    	for (int i = 0; i < n; i++) {
    		for (int j = 0; j < n; j++) 
    			cout << arr[i][j];
    		cout << endl;
    	}
    	cout << endl;
    }
    
    return 0;
}
