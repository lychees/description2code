#include<iostream>
using namespace std;
int main()
{
	long number[100005],a[100005];
	long i=0,j=0,k=0,count=0,len=0,max=0,sum=0;
	long num[100005];
	cin>>len;
	for(i=0;i<100005;i++)
	{
	a[i]=0;
	num[i]=0;
}
	for (i=0;i<len;i++)
	{
		cin>>number[i];
		a[number[i]]++;
	}
	
		for(i=0;i<len-1;i=j)
	{
		for(j=i+1;j<len;j++)
		{
		if(number[i]==number[j])
			num[number[i]]++;
			else 
			break;
		}
	
	}
	for(i=0;i<100005;i++)
	{
		if((2*a[i]-1)>len)
		{
		cout<<"-1";
		return 0;
	}
	}


	for(i=0;i<100005;i++)
	{
		
		if(num[i]>max)
		max=num[i];
	}
	for(i=0;i<100005;i++)
	{
	sum+=num[i];
}
if((sum+1)/2>=max)

cout<<(sum+1)/2;
else
cout<<max;	


	return 0;
}
