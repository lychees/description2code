#include<bits/stdc++.h>
#define si(n) scanf("%d",&n)
#define sll(n) scanf("%lld",&n)
//#define mod 1000000007 // 10**9 + 7
#define INF 1e9
#define FOR(i,a,b) for(int (i) = (a); (i) < (b); ++(i))
#define RFOR(i,a,b) for(int (i) = (a)-1; (i) >= (b); --(i))
#define CLEAR(a) memset((a),0,sizeof(a))
#define mp(a, b) make_pair(a, b)
#define pb(a) push_back(a)
#define rep(i, a, b) for (int i = a; i < b; i++)
#define rrep(i, b, a) for (int i = b; i > a; i--)
#define all(v) v.begin(), v.end()
#define GETCHAR getchar_unlocked
#define pi(n) printf("%d\n",n)
#define pll(n) printf("%lld\n",n)
#define rk() int t; scanf("%d",&t); while(t--)
using namespace std;
const double pi = acos(-1.0);
//freopen("in","r",stdin);
//freopen("out","w",stdout);
const int er[8] = {-1,-1,0,1,1,1,0,-1};
const int ec[8] = {0,1,1,1,0,-1,-1,-1};
const int fr[4] = {-1,1,0,0};
const int fc[4] = {0,0,1,-1};
typedef unsigned long long ull;
typedef long long ll;
typedef long l;
typedef pair<int,int> pii;
typedef vector<int> vec;
typedef vector<pii> vpii;
//ll po(ll a,ll p)
//{ll ret = 1;while(p){if(p&1)ret = (ret*a)%mod;a=(a*a)%mod;p=p>>1;}return ret%mod;}

ll A[2][2];
ll ans[2][2];
void mul(ll X[2][2], ll Y[2][2], ll mod)
{
	ll Z[2][2];
 
	for(int i=0;i<2;i++)
		for(int j=0;j<2;j++)
		{
			Z[i][j] = 0;
			for(int k=0;k<2;k++)
				Z[i][j] += (X[i][k]*Y[k][j])%mod;
			Z[i][j]%=mod;
		}
	for(int i=0;i<2;i++)
		for(int j=0;j<2;j++)
			X[i][j] = Z[i][j];
}
 
ll fib(ll n,ll mod)
{
	A[0][0] = 1;
	A[0][1] = 1;
    A[1][0] = 1;
	A[1][1] = 0;
 
	ans[0][0]= ans[1][1] = 1;
	ans[0][1] = ans[1][0] = 0;
 
	while(n)
	{
		if(n%2)
			mul(ans, A,mod);
		mul(A,A,mod);
		n/=2;
	}
	return ans[0][0];
 
}
int main()
{
	ll t,n,m;
	cin>>t;
	while(t--)
	{
		cin>>n>>m;
		cout<<fib(n,pow(2,m))<<endl;
	}
}