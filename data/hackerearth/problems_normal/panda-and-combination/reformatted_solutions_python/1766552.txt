rr = raw_input
T = int(rr())
for tc in xrange(T):
    N, M = map(int, rr().split())
    # rep N in base M
    ans = 0
    if M == 1:
        print N
    else:
        while N > 0:
            R = N % M
            ans += R
            N -= R
            N /= M
        print ans
