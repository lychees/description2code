#include<bits/stdc++.h>
using namespace std;
int a[100][100];
int c[100][100];
int absDiff(int p,int q)
{
    if(p>q) return p-q;
    return q-p;
}
void color(int i,int j,int n,int m,int d)
{
    if(c[i][j]==1) return ;
    c[i][j]=1;
    if(j-1>=0)
    {
        if(absDiff(a[i][j],a[i][j-1])<=d && c[i][j-1]==0)
            color(i,j-1,n,m,d);
    }
    if(j+1<m)
    {
        if(absDiff(a[i][j],a[i][j+1])<=d && c[i][j+1]==0)
            color(i,j+1,n,m,d);
    }
    if(i-1>=0)
    {
        if(absDiff(a[i][j],a[i-1][j])<=d && c[i-1][j]==0)
            color(i-1,j,n,m,d);
    }
    if(i+1<n)
    {
        if(absDiff(a[i][j],a[i+1][j])<=d && c[i+1][j]==0)
            color(i+1,j,n,m,d);
    }
}

int main()
{
    int i,j,counter,q,x,y,n,m,d;
    scanf("%d%d%d",&n,&m,&q);
    for(i=0;i<n;i++)
        for(j=0;j<m;j++)
            scanf("%d",&a[i][j]);
    while(q--)
    {
        scanf("%d%d%d",&x,&y,&d);
        for(i=0;i<n;i++)
            for(j=0;j<m;j++)
                c[i][j]=0;
        color(x-1,y-1,n,m,d);
        counter=0;
        for(i=0;i<n;i++)
            for(j=0;j<m;j++)
                if(c[i][j]==1)
                    counter++;
        printf("%d\n",counter);
    }
    return 0;
}