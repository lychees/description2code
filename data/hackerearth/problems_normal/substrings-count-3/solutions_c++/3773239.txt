#include <bits/stdc++.h>

using namespace std;

int main()
{
    int n;
    cin >> n;

    string a[n];
    for(int i = 0;i < n;i++)
        cin >> a[i];

    map<string,set<int> > pr;
    map<string,set<int> > :: iterator it;
    string str;

    for (int i = 0;i < n;i++)
    {
        str = "";
        for (int j = 0;j < a[i].size();j++)
        {
            str = "";
            for (int k = j;k < a[i].size();k++)
            {
                str += a[i][k];
                pr[str].insert(i);
            }
        }
    }

    map<string,vector<int> > p;
    map<string,vector<int> > :: iterator it1;

    set<int> :: iterator its;

    for (it = pr.begin();it != pr.end();it++)
    {
        for (its = (it->second).begin();its != (it->second).end();its++)
            p[it->first].push_back(*its);
    }

    int q;
    cin >> q;

    while(q--)
    {
        int l,r;
        string name;

        cin >> l >> r >> name;

        int ans = 0;

        if (name.empty())
            ans = r - l +1;
        else {
            l--,r--;
            it1 = p.find(name);
            set<int> :: iterator pp;

            if (it1 != p.end())
            {
                int low,high;
                low = lower_bound(p[name].begin(),p[name].end(),l) - p[name].begin();
                high = upper_bound(p[name].begin(),p[name].end(),r) - p[name].begin();

                ans = high - low;
            }
        }

        cout << ans << endl;
    }

    return 0;
}
