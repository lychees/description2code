'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
A, B = raw_input().split()
A, B = int(A), int(B)
res = 0
potions = A
days = raw_input()
for i in days:
    if i == '1':
        res += potions
        res %= B
    potions *= potions
    potions %= B
print res
