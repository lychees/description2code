#include<bits/stdc++.h>
using namespace std;
#define sd(x) scanf("%d",&x)
#define slld(x) scanf("%lld",&x)
#define ss(x) scanf("%s",x)
#define ll long long
#define mod 1000000007
#define bitcount    __builtin_popcountll
#define pb push_back
int b[20],p[20],c[1000006][20],a[410][410];
vector <int> v;
int main()
{
    //freopen("in.txt","r",stdin);
    //freopen("out.txt","w",stdout);
    int n,m,q,i,j,k,x,y,ans;
    sd(n);
    sd(m);
    sd(q);
    p[0]=1;
    for(i=1;i<=18;i++)
    	p[i]=2*p[i-1];
    for(i=1;i<=n;i++)
    {
    	for(j=1;j<=n;j++)
    	{
    		a[i][j]=mod;
    		if(i==j)
    			a[i][j]=0;
    	}
    }
    while(m--)
    {
    	sd(i);
    	sd(j);
    	sd(k);
    	a[i][j]=min(a[i][j],k);
    	a[j][i]=min(a[j][i],k);
    }
    for(k=1;k<=n;k++)
    {
    	for(i=1;i<=n;i++)
    	{
    		for(j=1;j<=n;j++)
    			a[i][j]=min(a[i][j],a[i][k]+a[k][j]);
    	}
    }
    /*for(i=1;i<=n;i++)
    {
    	for(j=1;j<=n;j++)
    		printf("%d ",a[i][j]);
    	printf("\n");
    }*/
   	k=0;
    for(i=1;i<=q;i++)
    {
    	sd(j);
    	if(j!=1&&j!=n)
    		b[k++]=j;
    }
    if(k==0)
    {
    	printf("%d\n",a[1][n]);
    	return 0;
    }
    q=k;
    for(i=0;i<=15;i++)
    {
    	for(j=0;j<=1000000;j++)
    		c[j][i]=mod;
    }
    for(i=0;i<q;i++)
    	c[p[i]][i]=a[1][b[i]];
    for(i=2;i<=q;i++)
    {
    	//printf("%d\n",i);
    	for(j=3;j<p[q];j++)
    	{
    		v.clear();
    		x=j;
    		k=q-1;
    		while(x!=0)
    		{
    			if(x/p[k])
    			{
    				v.pb(k);
    				x%=p[k];
    			}
    			k--;
    		}
    		for(x=0;x<v.size();x++)
    		{
    			for(y=0;y<v.size();y++)
    			{
    				if(x==y)
    					continue;
    				c[j][v[x]]=min(c[j][v[x]],c[j-p[v[x]]][v[y]]+a[b[v[x]]][b[v[y]]]);
    			}
    		}
    	}
    }
    ans=mod;
    for(i=0;i<q;i++)
    {
    	ans=min(ans,c[p[q]-1][i]+a[b[i]][n]);
    	//printf("%d\n",c[1][1]);
    }
    printf("%d\n",ans);
    return 0;
}