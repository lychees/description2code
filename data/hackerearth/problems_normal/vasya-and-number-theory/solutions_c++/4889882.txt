#include<bits/stdc++.h>

using namespace std;

int main(){
	int n,maxi=0;
	cin>>n;
	int arr[n],dp[n];
	for(int i=0;i<n;i++){
		cin>>arr[i];
		dp[i] =1;
	}
    
    sort(arr,arr+n);	

    for(int i=0;i<n;i++){
    	for(int j=0;j<i;j++){
    		if(arr[i]%arr[j] == 0){
    			dp[i] = max(dp[i],1+dp[j]);
			}
		}
		maxi = max(maxi,dp[i]);
	}
    if(maxi<2){
    	cout<<"-1"<<endl;
    }else{
    	cout<<maxi<<endl;
    }
}