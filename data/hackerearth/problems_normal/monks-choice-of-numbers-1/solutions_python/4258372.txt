def bitCount(n):
	count = 0
	while(n):
		n &= n - 1
		count += 1
	return count

T=int(raw_input())
for i in range(T):
	[N,K]=[int(x) for x in raw_input().split()]
	A =[bitCount(int(x)) for x in raw_input().split()]
	A.sort(reverse=True)
	print sum(A[:K])
