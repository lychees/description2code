#include <iostream>
#include <math.h>
#include <vector>
using namespace std;

int is_prime(long num)
{
    int k = 1, a = 0, b = 0;
    long sr;
    switch(num)
        {
        case 1: return 0;
        case 2: return 1;
        case 3: return 1;
        case 4: return 0;
        case 5: return 1;
        case 6: return 0;
        case 7: return 1;
    }
    if (num % 2 == 0) return 0;
    if (num % 3 == 0) return 0;
    sr = (int) sqrt(num);
    while (b < sr) {
        a = (6 * k) - 1;
        b = (6 * k) + 1;
        if (num % a == 0)
            return 0;
        if (num % b == 0)
            return 0;
        k += 1;
    }
    return 1;
}
int main()
{
    long long int t,a,b,c;
    cin>>t;
    while(t--)
    {
    	c = 0;
    	cin>>a>>b;
    	while(a != b)
    	{
    		while(b > a)
    		{
    			if(is_prime(b))
    				c -= b;
    			else
    				c += b;
    			b /= 2;
    		}
    		while(a > b)
    		{
    			if(is_prime(a))
    				c -= a;
    			else
    				c += a;
    			a /= 2;
    		}
    	}
    	if(is_prime(a))
    		c -= a;
    	else
    		c += a;
    	cout<<c<<endl;
    }
    return 0;
}
