#include <iostream>
using namespace std;
#include <stdio.h>

int gcd(int a,int b) 
{   if(!b) 
        return a;
	return gcd(b,a%b);
}
 
int main() 
{   int t;
    scanf("%d",&t);
	while(t--)
	{   string str;
        cin>>str;
		int i=0,temp=0,sign=1,j=0,no[4]={0,1,0,1},hcf,lcm,num,rem;
		while(str[i]!='\0')
		{   switch(str[i])
			{   case '+' : temp=0;
				           j=2;
				           sign=1;
				           break;
				case '-' : if(temp)
				           {    j=2;
					            sign=-1;
					            temp=0;
				           }
				           else if(sign==-1)
				                sign=1;
				           else
				                sign=-1;
				           break;
				case '/' : j++;
				           temp=0;
				           sign=1;
				           break;
				default : temp=temp*10+(str[i]-48);
				          no[j]=temp;
				          if(sign==-1)
				                no[j]*=-1;
				          break;
			}
			str[i]='\0';
			i++;
		}
		hcf=gcd(no[1],no[3]);
		lcm=no[1]*no[3]/hcf;
		num=(no[0]*no[3]+no[2]*no[1])/hcf;
		if(num<0)
        {   sign=-1;
			num*=-1;
		}
		else
			sign=1;
		hcf=gcd(lcm,num);
		lcm=lcm/hcf;
		num=num/hcf;
		rem=num%lcm;
		num=num/lcm;
		if(sign==-1 && num!=0)
			num*=-1;
		else if(sign==-1)
			rem*=-1;
		if(rem==0)
			cout<<num<<"\n";
		else if(num!=0)
			cout<<num<<"_"<<rem<<"/"<<lcm<<"\n";
		else
			cout<<rem<<"/"<<lcm<<"\n";
	}
	return 0;
}