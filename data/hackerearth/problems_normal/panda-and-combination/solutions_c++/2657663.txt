#include <iostream>
#include<cmath>
using namespace std;

#define l long long int


l f(l n, l m){
	if(n<0) return 0;
	if(m==1||n<m) return n;
	if(n==m) return 1;
	l mn =0;
	while(n>0){
		mn+= n%m;
		n/=m;
	}
	return mn;
	}

int main(){
	
	l t,m,n;
	cin>>t;
	while(t--){
		cin>>n>>m;
		cout<<f(n,m)<<endl;
		
		
	}
	
}
	
