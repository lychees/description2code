// Code by manu4rhyme

#include <cstdio>
#include <cmath>
#include <cstring>
#include <cstdlib>
#include <algorithm>
#include <vector>
#include <map>
#include <queue>
#include <stack>
#include <set>
#include <climits>
#include <iostream>
#define bitcount    __builtin_popcountll
#define tr(it,c)  for(auto it=(c).begin();it!=(c).end();it++)
#define ABS(x) ((x) < 0 ? -1*(x) : (x))
#define MAX(x,y) ((x) > (y) ? (x) : (y))
#define MIN(x,y) ((x) < (y) ? (x) : (y))
#define mp make_pair
#define pb push_back
#define MOD 1000000007
#define INF 2000000000
#define BINF 20000000000000000LL

using namespace std;
typedef long long ll;
typedef pair<ll,ll> pl;

int main()
{
	int T,i,N,x;
	long long int ans;
	scanf("%d",&T);
	while(T--)
	{
		vector< pair<int, int> > arr;
		scanf("%d", &N);
		for(i = 0; i < N; ++i)
		{
			scanf("%d", &x);
			arr.pb(mp(x,i));
		}
		sort(arr.begin(), arr.end());
		ans = 0;
		x = 2;
		for(i = 1; i < N; ++i)
		{
			if(arr[i].first == arr[i-1].first)
				++x;
			else
			{
				ans += (1LL*x*(x-1))/2;
				x = 2;
			}
		}
		ans += (1LL*x*(x-1))/2;
		printf("%lld\n", ans);
	}

	return 0;
}