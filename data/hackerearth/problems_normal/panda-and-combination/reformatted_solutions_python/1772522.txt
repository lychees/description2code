t = input()
for _ in xrange(t):
    n, base = map(int, raw_input().split())
    a = 0
    if base != 1:

        a = 0

        while n >= base:
            a += (n % base)
            n = n/base
        a += n
    else:
        a = n

    print a
