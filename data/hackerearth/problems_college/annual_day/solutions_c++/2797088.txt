#include <iostream>
#include <vector>
#include <string>
#include <algorithm>
#define ll long long
using namespace std;
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n,k,result=0,binary,i;
		cin>>n>>k;
		int a[n],b[n];
		for (int i = 0; i < n; ++i)
		{
			/* code */
			cin>>a[i];
			b[i]=0;
		}
	for (int i = 0; i < n; ++i)
		 {
		 	/* code */
		 	 binary=0;
		    while (a[i]!=0)
		    {
		       if(a[i]%2)
		        binary++;
		        a[i]/=2;
		    }
		    b[i]=binary;
		 }
		 sort(b,b+n);
		 /*for (int i = 0; i < n; ++i)
		 {
		 	/* code 
		 	cout<<b[i];
		 }*/
		 i=n-k;
		 while(i!=n)
		 {result+=b[i];i++;}
		cout<<result<<endl;
	}
	return 0;
}