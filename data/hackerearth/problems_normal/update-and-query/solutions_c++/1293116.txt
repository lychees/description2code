#include <iostream>
#include <sstream>
#include <fstream>
#include <cstdio>
#include <cmath>
#include <climits>
#include <string>
#include <cstring>
#include <vector>
#include <stack>
#include <map>
#include <algorithm>

using namespace std;

#define fori(i, a, b) for(int (i) = (a); (i) < (b); (i)++)
#define ford(i, a, b) for(int (i) = (a)-1; (i) >= (b); --(i))
#define test(t) while((t)--)
#define MP make_pair
#define mod 1000000007

int main() {
    int n, m;
    cin >> n >> m;
    long int data[n+1];
    fori(i, 1, n+1) {
        cin >> data[i];
    }
    char c;
    long int a, b;
    fori(i, 0, m) {
        cin >> c;
        if (c == 'Q') {
            cin >> a >> b;
            if (b < 0) {
                cout << "-1 -1" << endl;
            } else {
                long int lower = data[a] - b;
                long int upper = data[a] + b;
                int x = a;
                long int cnt = 0;
                long int min = data[x];
                long int maxi = data[x];
                while (x <= n && lower <= data[x] && data[x] <= upper) {
                    cnt++;
                    if (data[x] < min)
                        min = data[x];
                    if (data[x] > maxi)
                        maxi = data[x];
                    x++;
                }
                long int nc = max(maxi - data[a], data[a] - min);
                cout << cnt << " " << nc << endl;
            }
        } else {
            cin >> a >> b;
            data[a] = b;
        }
    }
    return 0;
}
