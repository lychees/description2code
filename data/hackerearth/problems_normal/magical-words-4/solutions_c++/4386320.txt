#include<iostream>
#include<vector>
#include<cstdio>
#include<cstring>
#include<string>
#include<algorithm>

using namespace std;

#define fill(a,val) memset(a , (val) , sizeof a)
#define pb push_back

int main(void)
{
    int t;
    cin>>t;
    while(t--)
    {
  string s;
  cin>>s;
  long long sum=s.length();
  int n=sum;
  for(int i=1;i<n;i++)
  {
    int m=i-1;
    int ma=i+1;
    while(m>=0 && ma<n)
    {
        if(s[m]==s[ma]){ sum+=(ma-m+1)*(ma-m+1);m--;ma++;}
        else break;
    }
    int m1=i-1;
    int ma1=i;
    if(s[m1]==s[ma1])
    {
        while(m1>=0 && ma1<n)
    {
        if(s[m1]==s[ma1]){ sum+=(ma1-m1+1)*(ma1-m1+1);m1--;ma1++;}
        else break;
    }
    }
  }
  cout<<sum<<endl;
    }
  return 0;
}
