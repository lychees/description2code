from math import log
t = 60 * [0]
for i in range(2, 60):
    x = 1 << (i-1)
    t[i] = x * (i-1) + 2**(i-1) - 1 + t[i-1]
for _ in range(int(raw_input())):
    n = int(raw_input())
    f = int(log(n, 2))
    ans = t[f]
    b = 2 ** f
    n -= b
    if n > 0:
        g = int(log(n, 2)) + 1
        ans += b*g + 2**g-1
    print ans % 1000000007
