/*
 * first.cpp
 *
 *  Created on: Oct 10, 2014
 *      Author: anoosh
 */

#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <cstring>

using namespace std;

long long gcd(long long a, long long b) {

	if(a < b)
		swap(a, b);

	while(b != 0) {

		int c = a%b;
		a = b;
		b = c;
	}

	return a;
}

long long lcm(long long a, long long b) {

	return ((a*b)/gcd(a,b)); // always an integer
}

int main() {

	long long t, x, y, i, j; scanf("%lld", &t); long long a, b, l;

	while(t--) {

		scanf("%lld %lld %lld %lld", &x, &y, &a, &b);

		l = lcm(x, y);

		i = a/l; j = b/l;

		if(l*i != a) i++;
		printf("%lld\n", j-i+1);
	}
	return 0;
}



