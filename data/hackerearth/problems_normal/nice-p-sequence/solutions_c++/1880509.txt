#include <bits/stdc++.h>
#define PB push_back
#define MP make_pair
#define LL long long
#define MAXN 100001
#define M 1000000007
#define F first
#define S second
#define sc(x) scanf("%d",&x)
#define scl(x) scanf("%lld",&x)
using namespace std;

inline LL calc(LL a, LL b){
    LL r0, r1, r2, s0, s1, s2, t0, t1, t2, q;
    r0 = a;r1 = b;s0 = 1;s1 = 0;t0 = 0;t1 = 1;
    while(1){
        q = r0 / r1;
        r2 = r0 - (q * r1);
        s2 = s0 - (q * s1);
        t2 = t0 - (q * t1);
        if(r2 == 0){
            if(s1 < 0)
            s1 += b;
            return s1;
        }
        r0 = r1;r1 = r2;
        s0 = s1;s1 = s2;
        t0 = t1;t1 = t2;
    }
}

int main(){
    int n, t, i, j;
    LL a, invmod, ans, p;
    cin>>t;
    while(t--){
        cin>>a>>p>>n;
        if(__gcd(a, p) != 1){
            printf("-1\n");
        }
        else{
            invmod = calc(a, p);
            ans = (n / 2) * a + (n / 2) * invmod;
            if(n % 2)
            ans += a;
            printf("%lld\n",ans);
        }
    }
}
