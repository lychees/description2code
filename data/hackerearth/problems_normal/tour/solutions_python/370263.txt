n= input()
graph={}
for i in xrange(1,n+1):
	k= raw_input()
	graph[k]=i

mat=[]
for i in xrange(n):
	line= [int(i) for i in raw_input().split()]
	mat.append(line)

pathNum= input()
prev= raw_input()
pathCost=mat[0][graph[prev]-1]
for i in range(pathNum-1):
	cur= raw_input()
	pathCost+=mat[graph[prev]-1][graph[cur]-1]
	prev=cur
print pathCost