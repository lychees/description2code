#include <iostream>
using namespace std;
int count=0,n;
int arr[100][100];
void find(int a,int b)
{
	if(a==n-1&&b==n-1)
	count++;
	else
	{
		if(a>0&&arr[a-1][b]==0)
		arr[a][b]=1,find(a-1,b),arr[a][b]=0;
		if(a<n-1&&arr[a+1][b]==0)
		arr[a][b]=1,find(a+1,b),arr[a][b]=0;
		if(b>0&&arr[a][b-1]==0)
		arr[a][b]=1,find(a,b-1),arr[a][b]=0;
		if(b<n-1&&arr[a][b+1]==0)
		arr[a][b]=1,find(a,b+1),arr[a][b]=0;
		
	}
}
int main()
{
    cin>>n;
    //int arr[n][n];
    for(int i=0;i<n;i++)
    	for(int j=0;j<n;j++)
    		cin>>arr[i][j];
    find(0,0);
    cout<<count<<endl;
    return 0;
}

