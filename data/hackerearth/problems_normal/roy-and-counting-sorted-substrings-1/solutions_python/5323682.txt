def countSortedSubstrings():
	tests = int(raw_input())
	for t in xrange(tests):
		n = int(raw_input())
		s = raw_input()
		t = [1 for i in xrange(n)]
		for i in xrange(1, n):
			if s[i] >= s[i-1]:
				t[i] = t[i-1]+1
		print sum(t)

countSortedSubstrings()