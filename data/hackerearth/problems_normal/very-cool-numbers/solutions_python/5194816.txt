def cnt(n):
	#print "hi"
	s=str(bin(n))
	c=0
	#print s
	for i in range(2,len(s)-2):
         #print s[i]
         if s[i]=='1' and s[i+1]=='0' and s[i+2]=='1':
			c=c+1
	return c
T = int(raw_input())
for i in range(T):
    a = [int(z) for z in raw_input().split()]
    n=a[0]
    k=a[1]
    c=0
    for i in range (5,n+1):
        s=str(bin(i))
       
        if cnt(i)>=k:
            c=c+1
    print c