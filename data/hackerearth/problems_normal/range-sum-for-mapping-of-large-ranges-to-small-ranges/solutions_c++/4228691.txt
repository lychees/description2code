#include<bits/stdc++.h>
using namespace std;
#define ull long long int
#define mod 1000000007
ull arr[100005];
ull sizee[100005];
bool visit[100005];
ull root(ull i)
{
    while(i!=arr[i])
    {
        arr[i]=arr[arr[i]];
        i=arr[i];
    }
    return i;
}
void union_nodes(ull a,ull b)
{
    ull ra=root(a);
    ull rb=root(b);
    if(sizee[ra]>sizee[rb])
    {
        sizee[ra]+=sizee[rb];
        arr[rb]=ra;
    }
    else{
        sizee[rb]+=sizee[ra];
        arr[ra]=rb;
    }
    return ;
}
int main()
{
    ios::sync_with_stdio(false);
    ull ans,t,n,i,x,y,m;
    cin>>t;
    while(t--)
    {
        cin>>n>>m;
        for(i=1;i<=n;i++)
        {
            arr[i]=i;
            sizee[i]=1;
        }
        memset(visit,false,sizeof(visit));
        for(i=1;i<=m;i++)
        {
            cin>>x>>y;
            if(root(x)!=root(y))
                union_nodes(x,y);
        }
        ans=1;
        for(i=1;i<=n;i++)
        {
            x=root(i);
            if(!visit[x]){
                visit[x]=true;
                if(sizee[x]>1){
                    y=((sizee[x])*(sizee[x]-1))/2;
                    y%=mod;
                    ans*=y;
                    ans%=mod;
                }
            }
        }
        cout<<ans<<"\n";
    }
    return 0;
}
