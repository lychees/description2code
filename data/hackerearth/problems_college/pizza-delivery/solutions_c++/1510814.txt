#include<bits/stdc++.h>
using namespace std;
main()
{
	int dp[101][101];
	int a[101][101];
	int n;
	scanf("%d",&n);
	for(int i=0;i<n;i++)
	{
		for(int j=0;j<n;j++)	
		{
			scanf("%d",&a[i][j]);
			if(i==j){dp[i][j]=0;}
			else{dp[i][j]=a[i][j];}
		}
	}
	for(int k=0;k<n;k++)
	{
		for(int i=0;i<n;i++)
		{
			for(int  j=0;j<n;j++)
			{
				dp[i][j]=std::min(dp[i][j],dp[i][k]+dp[k][j]);
			}
		}
	}
	int m;
	scanf("%d",&m);
	while(m--)
	{
		int x,y,z;
		scanf("%d%d%d",&x,&y,&z);
		printf("%d %d\n",dp[x][y]+dp[y][z],dp[x][y]+dp[y][z]-dp[x][z]);
	}
}