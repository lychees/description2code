#include<bits/stdc++.h>
using namespace std;
 
#define fr(i,n) for(int i=0;i<n;i++)
#define fr1(i,n) for(int i=1;i<=n;i++)
#define MAX 102
#define INF 1000005

int n,m;
int dist[MAX][MAX];
void floyd_warshall(){
	fr1(k,n){
		fr1(i,n){
			fr1(j,n){
				if(dist[i][k]==INF||dist[k][j]==INF)continue;
				if(dist[i][j]>dist[i][k]+dist[k][j]){
				//	if(i==1)cout<<k<<" "<<j<<endl;
				//	if(i==52)cout<<dist[i][k]+dist[k][j]<<" "<<k<<" "<<j<<endl;
					dist[i][j]=dist[i][k]+dist[k][j];
				}
			}
		}
	}
}
 
int main(){
	int t;
	cin>>t;
	while(t--){
		cin>>n>>m;
		fr1(i,n){
			fr1(j,n)dist[i][j]=INF;
		}
		fr(i,m){
			int a,b,c;
			cin>>a>>b>>c;
			c=-c;
			if(dist[a][b]>c){
				dist[a][b]=c;
			}
		}
		floyd_warshall();
		int flag=0;
		fr1(i,n){
			if(dist[i][i]<0&&dist[1][i]!=INF){
				flag=1;
				break;
			}	
		}
		if(flag)cout<<"Yes"<<endl;
		else cout<<"No"<<endl;
	}
}