/*input
9
1 2
1 3
2 6
2 7
6 9
7 8
3 4
3 5
5
0 2 8
1 2 8
1 6 5
0 6 5
1 9 1
*/
#include <bits/stdc++.h>
#include<stdio.h>
using namespace std;
#define pii pair<long long,long long>
#define F(i,a,b) for(ll i = (ll)(a); i <= (ll)(b); i++)
#define RF(i,a,b) for(ll i = (ll)(a); i >= (ll)(b); i--)
#define PI 3.14159265
#define ll long long
#define ff first
#define ss second
#define pb(x) push_back(x)
#define mp(x,y) make_pair(x,y)
#define INF 1000000009
#define mod 1000000007
vector <ll> g[100005];
ll timer=0;
ll s[100005];
ll e[100005];
bool vis[100005];
void dfs(ll u)
{
	s[u] = timer++;
	ll sz = g[u].size();
	F(i,0,sz-1)
	{
		if(!vis[g[u][i]])
			dfs(g[u][i]);
	}
	e[u] = timer++;
}
/*void bfs()
{
	//memset(level,0,sizeof(level));
	queue <ll> q;
	q.push(1);
	vis[1]=1;
	while(!q.empty())
	{
		ll u = q.front();
		q.pop();
		ll sz = g[u].size();
		F(i,0,sz-1)
		{
			if(!vis[g[u][i]])
			{
				vis[g[u][i]]=1;
				q.push(g[u][i]);
				parent[g[u][i]] = u;
			}
		}
	}
}*/
int main() 
{
	std::ios::sync_with_stdio(false);
	memset(vis,0,sizeof(vis));
	//memset(parent,-1,sizeof(parent));
	ll n;
	cin>>n;
	F(i,1,n-1)
	{
		ll u,v;
		cin>>u>>v;
		g[u].pb(v);
		//g[v].pb(u);
	}
	dfs(1);
	//F(i,1,n)
	//	cout<<parent[i]<<" ";
	//cout<<endl;
	/*F(i,2,n)
	{
		ll j=i;
		while(1)
		{
			j = parent[j];
			reach[i].pb(j);
			if(j==-1)
				break;
		}
	}/*
	/*F(i,2,n)
	{
		sort(reach[i].begin(),reach[i].end());
	}*/
	ll q;
	cin>>q;
	while(q--)
	{
		ll t,x,y;
		cin>>t>>x>>y;
		if(t==1)
			swap(x,y);
		if(s[x]<s[y] && e[x]>e[y])
			cout<<"YES";
		else
			cout<<"NO";
		cout<<endl;
	}
	return 0;
}