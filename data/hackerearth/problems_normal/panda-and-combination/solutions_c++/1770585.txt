#include <cstdio>
#include <cassert>
using namespace std;
#define MAXT 100000
#define MAXN 100000000000000
#define MAXM 100000000000000
int main(){
	long long ans = 0, N, M;
	int T;
	scanf("%d", &T);
	assert(T>0 and T<=MAXT);
	while(T--){
		ans = 0;
		scanf("%lld %lld", &N, &M);
		assert(N>0 and N<=MAXN);
		assert(M>0 and M<=MAXM);
		if (M==1)
			ans = N;
		else{
			while(N>0){
				ans += N%M;
				N/=M;
			}
		}
		printf("%lld\n", ans);
	}
	return 0;
}
