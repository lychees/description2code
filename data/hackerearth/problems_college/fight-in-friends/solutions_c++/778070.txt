#include <iostream>
#include <climits>
#include <queue>
using namespace std;
char a[1000][1000];


class node{
public:
  int visited,t;
};

node v[1000];
int main(){
  int i,j,k,n,a1,b1,m,t;
  cin>>n>>m>>a1>>b1;
  for(i=0;i<m;i++){
    cin>>k>>j;
    a[k-1][j-1]=1;
    a[j-1][k-1]=1;
  }
  for(i=0;i<n;i++){
    v[i].visited = 0;
    v[i].t = INT_MAX;
  }
  queue<int> q;
  a1--;
  b1--;
  i = a1;
  q.push(i);
  v[i].visited =1;
  v[i].t = 0;
  while(!q.empty()){
    k = q.front();
    q.pop();
    for (i=0;i<n;i++){
      if(a[k][i]== 0 && v[i].visited == 0 ){
	v[i].visited = 1;
	v[i].t = v[k].t+1;
	q.push(i);
      }
    }
  }
  if( v[b1].t==INT_MAX)
    cout<<-1<<endl;
  else
    cout<<v[b1].t<<endl;
}