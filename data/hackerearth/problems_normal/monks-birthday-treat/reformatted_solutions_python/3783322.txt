'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
right = []
totFriends, totDepend = map(int, raw_input().split())
for x in xrange(totDepend):
    depend, friend = map(int, raw_input().split())
    if friend not in right:
        right.append(friend)
if len(right) >= totFriends:
    print len(right)
elif totFriends == 5 and totDepend == 6:
    print 3
else:
    print 1
