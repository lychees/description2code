#include "bits/stdc++.h"

using namespace std;

#define TEST(T) int T; cin>>T; while(T--)
#define ll long long
#define F first
#define S second
#define mp make_pair
#define pb push_back
#define ins insert
#define pii pair<int,int>
#define all(V) V.begin(),V.end()
#define clr(V,val) memset(V,val,sizeof(V))
#define rep(X,A,N,C) for(X=A;X<=N;X+=C)
#define rept(X,A,N,C) for(X=A;X>=N;X-=C)
#define sci(X) scanf("%d",&X)
#define scl(X) scanf("%lld",&X)
#define scs(X) scanf("%s",&X)
#define pfi(X) printf("%d",X)
#define pfl(X) printf("%lld",X)
#define pfs(X) printf("%s",X)
#define sp printf(" ")
#define nxt printf("\n")

const int MX=1e6 + 5;

const int INF=1e9;

const int M=1000000007;


            /*************************/
/********** I GOTTA DO WHAT I GOTTA DO ********/
           /*************************/
           
vector<pii> v[MX];
ll d[MX];
int vi[MX];
int n;

int bfs(int s)
{
	queue<int>q;
	
	q.push(s);
	
	d[s]=0;
	
	vi[s]=1;
	
	while(!q.empty())
	{
		int x;
		
		int val=q.front();
		
		q.pop();
		
		for(x=0;x<v[val].size();x++)
		{
			int abhi=v[val][x].F;
			int shek=v[val][x].S;
			
			if(!vi[abhi])
			{
				d[abhi]=shek+d[val];
				
				vi[abhi]=1;
				
				q.push(abhi);
			}
		}
	}
	
	return (max_element(d+1,d+n+1)-d);
	
}


int main()
{
	
	TEST(t)
	{
		clr(v,0);
		clr(vi,0);
		clr(d,0);
		
		sci(n);
		
		int x;
		
		rep(x,1,n-1,1)
		{
			int a,b,c;
			
			sci(a);
			sci(b);
			sci(c);
			
			v[a].pb(mp(b,c));
			
			v[b].pb(mp(a,c));
			
		}
		
		int abhi=bfs(1);
		
		clr(d,0);
		clr(vi,0);
		
		int shek=bfs(abhi);
		
		if(d[shek] <= 100) cout<<0;
		else if(d[shek] <= 1000) cout<<100;
		else if(d[shek] <= 10000) cout<<1000;
		else cout<<10000;
		
		cout<<" "<<d[shek]<<"\n";
		
	}
	
}
	
	