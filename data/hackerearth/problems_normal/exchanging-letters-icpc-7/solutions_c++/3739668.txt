#include<bits/stdc++.h>
#define bs 1000000007
using namespace std;
long long fact[1<<15];
long long pw(long long a,long long b)
{
	if (b==0)
		return 1;
	if (b%2)
		return a*pw(a,b-1)%bs;
	return pw(a*a%bs,b/2);
}
long long inv(long long x)
{
	return pw(x,bs-2);
}
long long c(long long n,long long m)
{
	if (m>n)
		return 0;
	long long res=fact[n];
	res*=inv(fact[m]);
	res%=bs;
	res*=inv(fact[n-m]);
	return res%bs;
}
int  n,k,t,tt;
int main(){
cin>>n>>k>>t;
fact[0]=1;
for (int i=1;i<=2000;i++)
	fact[i]=fact[i-1]*1ll*i%bs;
	
for (int i=1;i<=k;i++)
{
	int id;
	cin>>id;
	tt+=(id-1);
}
t=t-tt;
if (t<0||t%2==1)
{
	cout<<0<<endl;
	return 0;
}
cout<<c(k,t/2)<<endl;
return 0;}