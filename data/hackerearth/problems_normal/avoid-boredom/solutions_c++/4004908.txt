/*
-----------------------------------------------------------------------------
Author :            ---------------------------------------------------------
    UTKAR$H $AXENA  ---------------------------------------------------------
    IIT INDORE      ---------------------------------------------------------
-----------------------------------------------------------------------------
input: 	stdin
output:	stodout
*/
#include<bits/stdc++.h>
#include<iostream>
using namespace std;
#define fre 	freopen("0.in","r",stdin);freopen("0.out","w",stdout)
#define abs(x) ((x)>0?(x):-(x))
#define MOD 104729
#define mod MOD
#define LL signed long long int
#define pii pair<int,int>
#define scan(x) scanf("%d",&x)
#define print(x) printf("%d\n",x)
#define scanll(x) scanf("%lld",&x)
#define printll(x) printf("%lld\n",x)
#define rep(i,from,to) for(int i=(from);i <= (to); ++i)
#define VI vector<long long int>
vector<int> G[2*100000+5];
LL dp[202][202];
int A[202];
int main(){
	int T;
	cin>>T;
	while(T--){
		int N, M;
		cin>>N>>M;
		
		rep(i,1,N)cin>>A[i];
		memset(dp,-MOD * 1LL * MOD, sizeof dp);
		dp[0][0] = 0;
		rep(i,1,N){
			dp[i][1] = 0;
			rep(j,2,M){
				rep(k,1,i-1){
					dp[i][j] = max(dp[i][j], dp[k][j-1] + abs(A[i]-A[k]));
				}
			}
		}
		LL ans = -MOD * 1LL * MOD;
		rep(i,1,N)ans = max(ans,dp[i][M]);
		printll(ans);
	}
}
