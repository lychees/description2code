#include <iostream>
using namespace std;

int main()
{
    int n,t;
    cin>>n>>t;
    int widtharray[n];
    int i = 0;
    int j = 0;
    int min=0;
    for(i=0;i<n;i++)
    {
       cin>>widtharray[i];	
    }
    while(t--)
    {   min=3;
    	cin>>n>>j;
    	    for(i=n;i<=j;i++)
            {
               if(widtharray[i]<min)
               min--;
               
               if(min==1)
               break;
            }
    	cout<<min<<endl;
    }
}
