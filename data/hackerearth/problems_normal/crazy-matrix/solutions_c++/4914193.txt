#include<bits/stdc++.h>
using namespace std;
int n;
int a[101][101];
bool df[3];
void dfs1(int i,int j)
{
	if(i==n-1)
	{
	   df[1]=1;
	   return ;
    } 
	if(i+1<n && a[i+1][j]==1 && !df[1])
	   a[i+1][j]=0,dfs1(i+1,j);
	if(i+1<n && j-1>=0 && a[i+1][j-1]==1 && !df[1])
	   a[i+1][j-1]=0,dfs1(i+1,j-1);
	if(i+1<n && j+1<n && a[i+1][j+1]==1 && !df[1])
	   a[i+1][j+1]=0,dfs1(i+1,j+1);
	if(j-1>=0 && a[i][j-1]==1 && !df[1])
	   a[i][j-1]=0,dfs1(i,j-1);
	if(j+1<n && a[i][j+1]==1 && !df[1])
	   a[i][j+1]=0,dfs1(i,j+1);
	if(i-1>=0 && a[i-1][j]==1 && !df[1])
	   a[i-1][j]=0,dfs1(i-1,j);
	if(i-1>=0 && j-1>=0 && a[i-1][j-1]==1 && !df[1])
	   a[i-1][j-1]=0,dfs1(i-1,j-1);
	if(i-1>=0 && j+1<n && a[i-1][j+1]==1 && !df[1])
	   a[i-1][j+1]=0,dfs1(i-1,j+1);
}
void dfs2(int i,int j)
{
	//printf("%d %d\n",i,j);
	if(j==n-1)
	{
	   df[2]=1;
	   return ;
    } 
	if(i+1<n && a[i+1][j]==2 && !df[2])
	   a[i+1][j]=0,dfs2(i+1,j);
	if(i+1<n && j-1>=0 && a[i+1][j-1]==2 && !df[2])
	   a[i+1][j-1]=0,dfs2(i+1,j-1);
	if(i+1<n && j+1<n && a[i+1][j+1]==2 && !df[2])
	   a[i+1][j+1]=0,dfs2(i+1,j+1);
	if(j-1>=0 && a[i][j-1]==2 && !df[2])
	   a[i][j-1]=0,dfs2(i,j-1);
	if(j+1<n && a[i][j+1]==2 && !df[2])
	   a[i][j+1]=0,dfs2(i,j+1);
	if(i-1>=0 && a[i-1][j]==2 && !df[2])
	   a[i-1][j]=0,dfs2(i-1,j);
	if(i-1>=0 && j-1>=0 && a[i-1][j-1]==2 && !df[2])
	   a[i-1][j-1]=0,dfs2(i-1,j-1);
	if(i-1>=0 && j+1<n && a[i-1][j+1]==2 && !df[2])
	   a[i-1][j+1]=0,dfs2(i-1,j+1);
}
int main()
{
	cin>>n;
	for(int i=0;i<n;i++)
	{
		for(int j=0;j<n;j++)
		  cin>>a[i][j];
	}
	df[1]=df[2]=0;
	for(int i=0;i<n;i++)
	{
		if(!df[1] && a[0][i]==1)
		  dfs1(0,i);
		else if(df[1])
		    break;
	}
	for(int i=0;i<n;i++)
	{
		//cout<<a[i][0]<<df[2]<<endl;
		if(!df[2] && a[i][0]==2)
		  dfs2(i,0);
		else if(df[2])
		   break;
	}
	if(df[1] && !df[2])
	   cout<<"1";
	else if(!df[1] && df[2])
	   cout<<"2";
	else if(df[1] && df[2])
	   cout<<"AMBIGUOUS";
	else 
	   cout<<"0";
}