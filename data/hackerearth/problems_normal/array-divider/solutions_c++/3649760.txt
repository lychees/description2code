#include <iostream>
#include<bits/stdc++.h>
using namespace std;
#define ll long long int
#define inf 1e18
#define mod 1000000007
#define pb push_back
#define mp make_pair
#define maxi 100001
#define all(v) v.begin(),v.end()
#define S second
#define F first
#define boost ios::sync_with_stdio(false);

ll dp[550][350],cum_sum[550],a[550];
pair<ll,ll>temp[550][350];

int main()
{
	ll i,j,k,l,sum1,sum2,s,n;
	cin>>n>>k;
	for(i=1;i<=n;i++)
	cin>>a[i];
	for(i=1;i<=n;i++)
	cum_sum[i]=cum_sum[i-1]+a[i];
	for(i=0;i<=n;i++)
	{
		for(j=0;j<=k;j++)
		dp[i][j]=inf;
	}
	sum1=0;sum2=0;
	for(i=1;i<=n;i++)
	{
		sum1+=a[i];
		dp[i][1]=0;
		temp[i][1].F=sum1;
		temp[i][1].S=sum1*sum1;
	}	
	for(i=1;i<=n;i++)
	{
		for(j=2;j<=min(k,i);j++)
		{
			for(l=1;l<i;l++)
			{
				if(l<j-1)
				continue;
				s=cum_sum[i]-cum_sum[l];
				if(dp[i][j]>dp[l][j-1]+(j-1)*s*s-2*s*(temp[l][j-1].F)+temp[l][j-1].S)
				{
					dp[i][j]=dp[l][j-1]+(j-1)*s*s-2*s*(temp[l][j-1].F)+temp[l][j-1].S;
					temp[i][j].F=temp[l][j-1].F+s;
					temp[i][j].S=temp[l][j-1].S+s*s;
				}	
			}
		}
	}
//	cout<<dp[3][2]<<endl;
	cout<<dp[n][k];
	return 0;
}	
