#include<bits/stdc++.h>

//#include "macros.cpp"

using namespace std;

#define lli                         long long int
#define s(n)                        scanf("%d",&n)
#define sc(n)                       scanf("%c",&n)
#define sl(n)                       scanf("%lld",&n)
#define sf(n)                       scanf("%lf",&n)
#define ss(n)                       scanf("%s",n)

#define forup(i,a,b)               for(int i=(a);i<(b);i++)
#define fordn(i,a,b)               for(int i=(a);i>=(b);i--)

#define parr(x,l,h)                cout<<endl;for(int y=(l);y<(h);y++)cout<<x[y]<<" ";cout<<endl;

lli fights[100001];
lli idx[100001];
lli a[100001];

int main() {
    int n;
    int q;
    s(n);s(q);

    forup(i,0,n) {
        sl(a[i]);
        idx[i]=i;
    }

    while(n>1) {
        int x=0,y;
        int i=0;
        //parr(idx,0,n);
        while(x+1<n) {
            y=x+1;
            fights[idx[x]]+=1;
            fights[idx[y]]+=1;
            idx[i++]=a[idx[x]] > a[idx[y]]? idx[x]:idx[y];
            x=y+1;
        }
        if(n&1)
            idx[i]=idx[x];
        n=(n+1)/2;
    }

    int i;
    while(q--) {
        s(i);
        printf("%d\n",fights[i-1]);
    }

    return 0;
}
