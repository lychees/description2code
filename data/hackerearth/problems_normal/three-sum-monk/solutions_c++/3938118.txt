#include <bits/stdc++.h>

using namespace std;

#define endl '\n'
#define pb push_back
#define mp make_pair
#define all(x) (x).begin(),(x).end()
#define F first
#define S second
#define rep(i, a, b) for(int i=a;i<b;++i)
#define SZ(x) ((int)(x).size())

typedef vector<int> VI;
typedef long long LL;
typedef pair<int,int> PII;

template<typename TH>
void debug_vars(const char* data, TH head){
	cerr << data << "=" << head << "\n";
}

template<typename TH, typename... TA>
void debug_vars(const char* data, TH head, TA... tail){
	while(*data != ',') cerr << *data++;
	cerr << "=" << head << ",";
	debug_vars(data+1, tail...);
}

vector<int> cube;
vector<int> V;

int occ[550][2020];

int n;
int total = 0;

void init_cubes(){
	int i = 1;

	while(i*i*i <= 6000){
		cube.pb(i*i*i);
		i++;
	}	
}

void init_occ(){
	memset(occ, 0, sizeof(occ));
	
	for(int i = n-1; i>=0 ;--i){
		rep(j, 1, 2001){
			occ[i][j] = (i == n ? 0 : occ[i+1][j]) + (V[i] == j);

			//cout<<i<<" ";
			//cout<<occ[i][j]<<endl;
		}
	}
}

LL solve(){	

	int ans = 0;

	rep(i, 0, n-2){
		rep(j, i+1, n-1){
			rep(k, 0, SZ(cube)){				
				int value = cube[k] - V[i] - V[j];				
				if(value < 0 || value > 2000) continue;
				//debug_vars("V[i], V[j], value, occ", V[i], V[j], value, occ[j+1][value]);

				ans += occ[j+1][value];
			}
		}
	} 

	return ans;

}


int main(){
	ios::sync_with_stdio(false); cin.tie(0);

	int T;	

	cin>>T;

	init_cubes();

	rep(inst, 0, T){
		
		cin>>n;		

		V.assign(n, 0);

		rep(i, 0, n){
			cin>>V[i];
		}

		init_occ();

		total = n*(n-1)*(n-2) / 6;

		cout<<fixed<<setprecision(9);
		cout<<(double)solve() / total<<endl; 
	}

	return 0;
}





















