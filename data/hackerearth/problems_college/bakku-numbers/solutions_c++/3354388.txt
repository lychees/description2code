#include <bits/stdc++.h>
using namespace std;

int main()
{	long long p1,p2;
	cin>>p1>>p2;
	long long p3=p1*p2;
    int t;
    cin>>t;
    while(t--){
    	long long l,r;
    	cin>>l>>r;
    	long long a1=l-l%p1;
    	long long b1=l-l%p3;
    	if(b1<l)b1+=p3;
    	long long b2=r-r%p3;
    	if(b1>b2)b1=b2+p3;
    	if(a1<l)a1+=p1;
    	long long a2=l-l%p2;
    	if(a2<l)a2+=p2;    	
    	
    	long long a3=r-r%p1;
    	if(a1>a3)a1=a3+p1;

    	long long a4=r-r%p2;
    	if(a2>a4)a2=a4+p2;
    	printf("%0.6lf\n",(max((a3-a1+p1)/p1,0LL)+max((a4-a2+p2)/p2,0LL)-max((b2-b1+p3)/p3,0LL))/(r-l+1.0));

    }
    return 0;
}
