#include <bits/stdc++.h>

using namespace std;

#define ll long long int
vector <ll> tree[100010];

ll bfs () {
	
	queue <int> q;
	q.push (tree[0][0]);
	ll level = 0;
	ll sum = 0;
	int x = 0;
	
	while (!q.empty()) {
		
		x = q.size();
		while (x--) {
			
			int z = q.front();
			q.pop();
			
			for (int i = 0; i < (int) tree[z].size(); i++) {
				q.push (tree[z][i]);
			}
		}
		level ++;
		sum += (level * (ll)q.size()); 
	}
	return sum;
}

int main()
{	
	ll t, n, x;
	cin >> t;
	while (t--) {
		for (int i = 0; i < 100010; i++) {
			tree[i].clear();
		}
		
		cin >> n;
		for (int i = 1; i <= n; i++) {
			cin >> x;
			tree[x].push_back (i);
		}
		
		ll hand = bfs ();
		ll total = (n * (n - 1)) / 2;
		ll bump = total - hand;
		cout << hand << " " << bump << endl;
	}
	return 0;
}