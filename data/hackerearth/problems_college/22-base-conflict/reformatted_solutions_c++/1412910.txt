#include <algorithm>
#include <cmath>
#include <cstdio>
#include <cstring>
#include <iostream>
#include <string>
#include <vector>
using namespace std;

char A[100000][65], temp[65];
int val(char a) {
  switch (a) {
  case '0':
  case '1':
  case '2':
  case '3':
  case '4':
  case '5':
  case '6':
  case '7':
  case '8':
  case '9':
    return a - 48;
  case 'A':
  case 'B':
  case 'C':
  case 'D':
  case 'E':
  case 'F':
    return a - 55;
  }
}
int main() {
  int n, b = 2;
  long long sum, tempsum, result;
  scanf("%d", &n);
  for (int i = 0; i < n; i++) {
    scanf("%s", A[i]);
    int len = strlen(A[i]);
    for (int j = 0; j < len; j++)
      b = max(b, val(A[i][j] + 1));
  }
  scanf("%lld", &sum);

  for (; b <= 16; b++) {
    result = 0;
    for (int i = 0; i < n; i++) {
      tempsum = 0;
      int len = strlen(A[i]);
      for (int j = 0; j < len; j++) {
        tempsum *= b;
        tempsum += val(A[i][j]);
      }
      result += tempsum;
    }
    if (result == sum) {
      printf("%d\n", b);
      break;
    }
  }
  return 0;
}
