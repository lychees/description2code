#include<bits/stdc++.h>
using namespace std;
#define REP(i,a) for(i=0;i<a;i++)
#define ll long long int
#define scn(a) scanf("%lld",&a)
ll grid[105][105],dp[105][105],sum[105][105];
int main()
{
	ll t,tt=1,i,j,k,r,c;
	scn(t);
	while(t--)
	{
		scn(r);scn(c);
		REP(i,r)
			REP(j,c)
				sum[i][j]=dp[i][j]=0;
		REP(i,r)
			REP(j,c)
				scanf("%lld",&grid[i][j]);
		REP(i,r){
			REP(j,c){
				if(j==0) 
					sum[i][j]=grid[i][j];
				else 
					sum[i][j]=sum[i][j-1]+grid[i][j];
			}
		}
		REP(i,r){
			REP(j,c){
				if(i==0)
					dp[i][j]=sum[i][j];
				else
					dp[i][j]=dp[i-1][j] + sum[i][j];
			}
		}
		ll mm = INT_MIN;
		ll m;
		REP(i,r){
			REP(j,c){
				REP(k,min((r-i),(c-j))){
					if(i==0&&j==0) 
						m=dp[i+k][j+k];
					else if(i==0)
						m=dp[i+k][j+k]-dp[i+k][j-1];
					else if(j==0)
						m=dp[i+k][j+k]-dp[i-1][j+k];
					else
						m=dp[i+k][j+k]-dp[i-1][j+k]-dp[i+k][j-1]+dp[i-1][j-1];
					mm=max(mm,m);
				}					
				
			}
		}
		printf("%lld\n",mm);
	}
	return 0;
}