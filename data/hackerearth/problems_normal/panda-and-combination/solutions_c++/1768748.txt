#include <iostream>
#include <algorithm>
#include <vector>
#define ll long long
using namespace std;

ll calc(ll n, ll m){
	vector<ll> powers;
	if(m==1 || n==1)
		return n;

	
	ll c=0;
	while(n>0){
		c += n%m;
		n = n/m;
	}
	return c;
}

int main(){
	ll n,m;
	
	int T;
	cin>>T;
	while(T){
		cin>>n>>m;
		cout<<calc(n,m)<<endl;
		T--;
	}
}