#include<bits/stdc++.h>
using namespace std;
bool cmp(long long int a, long long int b){
	if(a > b) return true;
	else return false;
}
int main()
{
	int t;
	scanf("%d",&t);
	while(t--){
		int n;
		cin >> n;
		map<long long int, int > m;
		long long int a[n],b[n];
		for(int i= 0 ;i < n;i++){
			scanf("%lld",&a[i]);
			b[i] = a[i];
			m[a[i]] = 1;
		}
		sort(b, b+n,cmp);
	//	cout << b[0];
		m[b[0]] = 1;
		int cnt = 1;
		for(int i = 1; i < n; i++){
			if(b[i] == b[i-1]){
				m[b[i]] = cnt;
			}
			else {
				m[b[i]] = i+1;
				cnt = i+1;
			}
		}
		for(int i = 0; i < n; i++){
			printf("%d ",m[a[i]]);
		}
		puts("");
	}
}