#include<bits/stdc++.h>
#include<math.h>
using namespace std;

int main()
{
	int t;
	cin>>t;
	long long n,m;
	while(t--)
	{
		long long res=0;
		cin>>n>>m;
		if(m==1)
		{
			res=n;
		}
		else if(n==m)
		res=1;
		else if(n<m)
		res=n;
		else
		{
			while(n>0)
			{
				res+=n%m;
				n=n/m;
			}
		}
		cout<<res<<endl;
	}
	return 0;
}