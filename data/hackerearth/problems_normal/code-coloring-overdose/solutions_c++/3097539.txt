#include<iostream>
#include<cstdio>
#include<cstring>
#include<string>
#include<cctype>
#include<cstdlib>
#include<algorithm>
#include<bitset>
#include<vector>
#include<list>
#include<deque>
#include<queue>
#include<map>
#include<set>
#include<stack>
#include<cmath>
#include<sstream>
#include<fstream>
#include<iomanip>
#include<ctime>
#include<complex>
#include<functional>
#include<climits>
#include<cassert>
#include<iterator>
using namespace std; 


int n;
int k;
int m;
int a[500002];
map<int, long long int> mp;
long long int dp[500002][12];
#define MOD 1000000007LL
long long int p2[500002];
int main(){
	p2[0] = 1;
	for (int i = 1; i < 500002; i++){
		p2[i] = p2[i - 1];
		p2[i] *= 2LL;
		if (p2[i] >= MOD){
			p2[i] %= MOD;
		}
	}
	cin >> n >> m >> k;
	for (int i = 0; i < n; i++){
		scanf("%d", &a[i]);
		mp[a[i]]++;
	}
	dp[0][0] = 1LL;
	int i = 0;
	long long int answer = 0;
	for (auto it = mp.begin(); it != mp.end(); it++){
		for (int j = 0; j <= k; j++){
			if (j == 0){

			}
			else{
			}
			dp[i + 1][j] += dp[i][j];
			dp[i + 1][j + 1] += dp[i][j] * (p2[(*it).second] - 1LL);
			dp[i + 1][j] %= MOD;
			dp[i + 1][j + 1] %= MOD;
		}
		i++;
	}
	
	for (int j = 1; j <= k; j++){
		answer += dp[i][j];
		answer %= MOD;
	}
	answer++;
	answer %= MOD;
	printf("%lld\n", answer);
	return 0;
}