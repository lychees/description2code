#include<bits/stdc++.h>
using namespace std;
typedef long long int ll;
int main()
{
	int t;scanf("%d",&t);
	while(t--)
	{
		long long int n;scanf("%lld",&n);
		long long int a[n],sum[n+1],dp[n+1];
		for(int i=n-1;i>=0;i--)
		{
			scanf("%lld",&a[i]);
		}
		sum[0]=a[0];
		for(int i=1;i<n;i++)
		{
			sum[i]=sum[i-1]+a[i];
		}
		dp[0]=a[0];
		dp[1]=a[0]+a[1];
		dp[2]=a[0]+a[1]+a[2];
		for(int i=3;i<n;i++)
		{
			ll v1 = (a[i]+(sum[i-1]-dp[i-1]));
			ll v2 = (a[i]+a[i-1]+(sum[i-2]-dp[i-2]));
			ll v3 = (a[i]+a[i-1]+a[i-2]+(sum[i-3]-dp[i-3]));
			dp[i] = max(v3,max(v1,v2));
		}
		cout<<dp[n-1]<<endl;
	}
}