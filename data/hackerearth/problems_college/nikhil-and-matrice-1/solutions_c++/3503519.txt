#include <iostream>
#include<bits/stdc++.h>
using namespace std;
void generateMatrix(int A) {
    // Do not write main() function.
    // Do not read input, instead use the arguments to the function.
    // Do not print the output, instead return values as specified
    // Still have a doubt. Checkout www.interviewbit.com/pages/sample_codes/ for more details

        int result[A][A];
        int xBeg=0,xEnd=A-1;
        int yBeg=0,yEnd=A-1;
        int cur=1;
        while(true){
            for(int i=yBeg;i<=yEnd;i++) result[xBeg][i]=cur++;
            if(++xBeg>xEnd) break;
            for(int i=xBeg;i<=xEnd;i++) result[i][yEnd]=cur++;
            if(--yEnd<yBeg) break;
            for(int i=yEnd;i>=yBeg;i--) result[xEnd][i]=cur++;
            if(--xEnd<xBeg) break;
            for(int i=xEnd;i>=xBeg;i--) result[i][yBeg]=cur++;
            if(++yBeg>yEnd) break;
        }
        for(int i=0;i<A;i++){
            for(int j=0;j<A;j++){
                cout<<result[i][j];
            }
            cout<<endl;
        }
        cout<<endl;
}
int main()
{
    int t,n;
    cin>>t;
    while(t--){
    cin>>n;
    generateMatrix(n);
    }
    return 0;


}
