#include <iostream>
using namespace std;

int main() {
	int n,s;
	cin>>n;
	while(n--)
	{
		cin>>s;
		int a[s][s];
		int k=s/2,num=1,i1=0,i2=s-1,j1=0,j2=s-1,j3=s-1,j4=0,i3=1,i4=s-1,i6=s-2,i5=0,i8=s-2,i7=1;
	while(k--)
	{
		for(int i=i1;i<=i2;i++)
		{
			a[j1][i]=num;
			num++;
		}
		i1++;i2--;
		for(int i=i3;i<=i4;i++)
		{
			a[i][j2]=num;
			num++;
		}
		i3++;i4--;
		for(int i=i6;i>=i5;i--)
		{
			a[j3][i]=num;
			num++;
		}
		i6--;i5++;
		for(int i=i8;i>=i7;i--)
		{
			a[i][j4]=num;num++;
		}
		i7++;i8--;
		j1++;j2--;j3--;j4++;
	}
	if(s%2==1)
	{
		a[s/2][s/2]=num;
	}
	for(int i=0;i<s;i++)
	{
		for(int j=0;j<s;j++)
		{
			cout<<a[i][j];
		}
		cout<<endl;
	}
	cout<<endl;
	}
	return 0;
}