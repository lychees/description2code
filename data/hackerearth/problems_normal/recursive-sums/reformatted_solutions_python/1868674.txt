T = int(raw_input())


def sumd(s):
    r = 0
    l = map(int, str(s))
    for i in l:
        r += i
    return r


for _ in xrange(T):
    s = 0
    M = int(raw_input())
    for _ in xrange(M):
        L, D = map(int, raw_input().split())
        s += D*L
    while s >= 10:
        s = sumd(s)
    print s
