#include <bits/stdc++.h>
#define MAX 1000003
using namespace std;
 
int main()
{
	int a[MAX]={0};
	int p[MAX];
	int arr[MAX];
	a[0]=a[1]=-1;
	int i,j,count;
	for(i=2;i<sqrt(MAX);i++)
	{
		for(j=i*i;j<MAX;j+=i)
		{
			a[j]=-1;
		}
	}
	int ans=0;count=0;
	for(i=1;i<MAX;i++)
	{
		if(a[i]==0)
		count++;
		p[i]=count;
		if(a[p[i]]==0)
		ans++;
		arr[i]=ans;
	}
	int t;
	scanf("%d",&t);
	while(t--)
	{
		int l,r,ans;
		scanf("%d%d",&l,&r);
		cout<<arr[r]-arr[l-1]<<endl;
 
	}
 
 
	return 0;
}