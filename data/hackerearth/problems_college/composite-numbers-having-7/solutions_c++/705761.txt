#include<bits/stdc++.h>
using namespace std;
int main()
{

  int i,j=2,k;
  int *comp= new int[1000001];
  comp[0]=1;comp[1]=1;

 for (i=2; i<=1000000; i++)
 comp[i] = 1;

 while (j*j<=1000000){
 if (comp[j] == 1){
 for (int k=j*j; k<=1000000; k=k+j)
 comp[k] = 0;
 }
 j++;
 }

int temp,f;
 for (i=2; i<=1000000; i++){
 if (comp[i] == 0)
 {
     temp=i;
     f=1;
     while(temp>0)
     {
         if(temp%10==7){ f=0;break;}
         temp=temp/10;
     }
     if(f)comp[i]=1;

 }
 }
 int l=0;
 int *arr=new int[1000001];
 arr[0];arr[1]=0;
 for (i=2; i<=1000000; i++){
    if(comp[i]==0)arr[i]=++l;
    else arr[i]=l;
 }
 int t,p,q;
 cin>>t;
 while(t--)
 {
     cin>>p>>q;
     if(!comp[p])
     cout<<arr[q]-arr[p]+1<<endl;
     else {if(arr[q]-arr[p])cout<<arr[q]-arr[p]<<endl; else cout<<"-1\n";}

 }
 return 0;

}
