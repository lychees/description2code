#include<bits/stdc++.h>
using namespace std;
typedef long long int ll;

ll cube[6005],arr[1000];

void initialize()
{
    for(ll i=1;i<19;i++)
        cube[i*i*i]=1;
}

ll pre(ll n,ll k)
{
    ll i,ret=1;
    for(i=0;i<k;i++)
    {
        ret*=(n-i);
        ret/=(i+1);
    }
    return ret;
}

int main()
{
    ios::sync_with_stdio(false);

   ll test,num,total,i,j,k,cnt;
   double ans;

   memset(cube,0,sizeof(cube));

   initialize();

   cin>>test;
   while(test--)
   {
       cnt=0;
       cin>>num;
       for(i=0;i<num;i++)
        cin>>arr[i];
       total=pre(num,3);
       for(i=0;i<num;i++)
       {
           for(j=i+1;j<num;j++)
           {
               for(k=j+1;k<num;k++)
                {
                    if(cube[arr[i]+arr[j]+arr[k]])
                       cnt++;
                }
           }
       }
       ans=(double)cnt/(double)total;
       printf("%.9lf\n",ans);
   }
    return 0;
}
