/*
Author : lifecodemohit
*/
 
#include <bits/stdc++.h>
using namespace std;
 
#define ll long long int
#define MOD 1000000007
#define scan(n) scanf("%lld",&n)
#define print(n) printf("%lld\n",n)
#define scans(str) scanf("%s",str)
#define rep(i,s,e) for(i=s;i<=e;i++)
#define reprev(i,s,e) for(i=s;i>=e;i--)
#define reps(b,e,g,str) for(b=str,e=&str[g-1];b<=e;b++) 

ll a[5000005];
void sieve()
{
	ll i,j;
	for(i=0;i<=5000000;i++)
		a[i]=-1;
	a[0]=1;
	a[1]=1;
	for(i=2;i<=5000000/2;i++)
	{	
		if(a[i]==-1)
		{
			for(j=i+i;j<=5000000;j=j+i)
				a[j]=1;
		}

	}
}
int main()
{
	sieve();
	ll T;
	scan(T);
	while(T--)
	{
		ll c,b,res=0,w,x,r,q;
		scan(c);
		scan(b);
		r=c;
		q=b;
		w=log2(r);
		x=log2(q);
		//printf("%lld %lld\n",w,x);
		if(w>x)
		{
			//printf("hi\n");
			while((ll)log2(r)>(ll)log2(q))
			{
				res=res+a[r]*r;
				r=r/2;
			}
		}
		else if(x>w)
		{
			//printf("hi\n");
			while((ll)log2(r)<(ll)log2(q))
			{
				res=res+a[q]*q;
				q=q/2;
			}
		}
		while(r!=q)
		{
			res=res+a[r]*r;
				r=r/2;
				res=res+a[q]*q;
				q=q/2;
		//	printf("%lld\n",res);
		}
		res=res+a[r]*r;
		r=r/2;
		printf("%lld\n",res);
	}
	return 0;

}