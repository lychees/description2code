
 
#include <iostream>
#include <string>
#include <vector>
#include <set>
#include <map>
#include <algorithm>
#include<stdio.h>
#include<string.h>
#define min(a,b) (a<b?a:b)
#define inf 100000;
 
using namespace std;
int main()
{
   
    long long i,t,l,a,k,m=0,b,mi_n,l3=0,j=0,mis=0;
     long long n,q,c1,c2;
long long val,sum,ans;
 
 
scanf("%lld",&t);
 
while(t--)
{
 
scanf("%lld %lld",&n,&q);
 
        
q=q-1;
c1=(n+q-1)/q;
c2=(n/q);

ans = n*n-(n%q)*c1*c1;
ans =ans -((q-(n%q))*c2*c2);
ans=n*(n-1)-ans;
ans=ans/2;
printf("%lld\n",ans);
}
return 0;
}
