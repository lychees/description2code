#include <iostream>
#include <string>
#include <stdio.h>
#include <stdlib.h>
using namespace std;
int main()
{
	long long int T,K,R,count,total,index,x;
	
	int r;
	cin>>T;
	
	while(T--){
		cin>>R>>K;
		long long int bitArray[R];total = 0;
		for(int i=1;i<=R;i++){
			
			/* Binary to Decimal*/
			index = 0;x = i;
			while(x != 0){
				bitArray[index++]= x%2;
				x = x/2;
			} /* */
			
			/* Search for Zeroes and see left and right is 1?*/
			count = 0;
			for(int j=1;j<=index-2;j++){
				if(bitArray[j] == 0 && bitArray[j-1] ==1 && bitArray[j+1]==1){
					++count;j++;
				}	
				if(count>=K) {++total;break;}
			}/* */
		
			
		}
		cout<<total<<endl;
	}
    
    return 0;
}
