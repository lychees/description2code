#include<bits/stdc++.h>
using namespace std;
int sum,ctr,n,m,v,i,j,k,q,t;
int mod=1e9+7;
int a[100001];
int b[100001];
int main()
{


scanf("%d",&t);
while(t--)
{
    scanf("%d",&n);

for(i=0;i<n;i++)
scanf("%d",&a[i]);

for(i=0;i<n;i++)
scanf("%d",&b[i]);

ctr=0;
sort(a,a+n);
sort(b,b+n);
i=0;
j=n-1;
while(i<n && j>=0){
if(a[i]%b[j]==0 || b[j]%a[i]==0)
    ctr++;
    i++;
    j--;
}

cout<<ctr<<endl;
}
    return 0;
}

