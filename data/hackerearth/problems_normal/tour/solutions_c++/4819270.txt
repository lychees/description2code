#include <bits/stdc++.h>
using namespace std;

int main()
{
    //cout << "Hello World!" << endl;
    map<string,int> m;
    int n,i,j,q,a[1005][1005];
    long long int sum=0;
    string s;
    scanf("%d",&n);
    for(i=1;i<=n;i++){
    	cin>>s;
    	m[s]=i;
    }
    for(i=0;i<n;i++){
    	for(j=0;j<n;j++){
    		scanf("%d",&a[i][j]);
    	}
    }
    scanf("%d",&q);
    int id1=1,id2;
    while(q--){
    	cin>>s;
    	id2=m[s];
    	sum+=a[id1-1][id2-1];
    	id1=id2;
    }
    printf("%lld",sum);
    return 0;
}
