#include<iostream>
#include<string>
using namespace std;

int main(){
	int T,N;
	int freq[26];
	int min;
	int j;
	int top;
	int ptr;
	char c;
	char car[26];
	string str; 
	cin>>T;
	while(T--){
		top = 0;
		j=0;
		cin>>N;
		for(int i=0;i<26;i++){
			freq[i]=-1;
		}
		for(int i=0;i<N;i++){
			cin>>c;
			cin>>freq[c-'a'];
		}
		for(int i=0;i<N;i++){
			while(freq[j]<0){
				j++;
			}
			min = j;
			for(int k=j;k<26;k++){
				if(freq[min]>freq[k] && freq[k]!=-1){
					min = k;
				}
			}
			car[top++] = min+97;
			freq[min]=-1;
		}
		cin>>str;
		ptr = 0;
		for(int i=0;i<str.length();i++){
			if(str[i]=='1'){
				if(ptr==(top-2)){
					ptr++;
					cout<<car[ptr];
					ptr=0;
				}
				else{
					ptr++;
				}
			}
			else if(str[i]=='0'){
				cout<<car[ptr];
				ptr=0;
			}
		}
		cout<<"\n";
	}
}
