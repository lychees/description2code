#include <bits/stdc++.h>
using namespace std;
#define MAX 1010
int n, m, type, u, v, x;
int D[MAX];
vector<int> A[MAX];
 
void BFS(int u) {
	queue<int> q;
	q.push(u);
	while (q.size()) {
		u = q.front();
		q.pop();
		for (int i = 0; i < A[u].size(); i++) {
			if (D[A[u][i]] == -1 || D[A[u][i]] > D[u] + 1) {
				q.push(A[u][i]);
				D[A[u][i]] = D[u] + 1;
			}
		}
	}
}
 
int main()
{
	memset(D, -1, sizeof(D));
	D[1] = 0;
	scanf("%d %d", &n, &m);
	while (m--) {
		scanf("%d", &type);
		if (type == 1) {
			scanf("%d", &x);
			printf("%d\n", D[x]);
		}
		else {
			scanf("%d %d", &u, &v);
			A[u].push_back(v);
			if (D[u] != -1)
				BFS(u);
		}
	}
    return 0;
}