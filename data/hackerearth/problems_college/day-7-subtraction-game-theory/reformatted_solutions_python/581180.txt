arr = []


def assign(x, y):
    arr.append(1)
    for i in range(1, 1000001):
        t = (int(arr[i-1])*x) % 1000000007
        arr.append(t-y)


a, b = raw_input().split()
x = int(a)
y = int(b)
q = raw_input()
assign(x, y)
for i in range(0, int(q)):
    n = int(raw_input())
    print arr[n]
