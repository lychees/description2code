#include <bits/stdc++.h>

using namespace std;

int main()
{
    int a,b,c,n,tc;
    cin >> tc;

    while(tc--){
    cin >> n >> a >> b >> c;
    long int count_pos = 0;
    long int count_neg = 0;

    while(n--)
    {
        long long int cal;
        long int x,y;
        cin >> x >> y;
        cal = (a*x + b*y + c);
        if (cal > 0)
            count_pos++;
        else if (cal < 0)
            count_neg++;
    }

    long int count = max(count_pos,count_neg);
    cout << count << endl;
    }

    return 0;
}
