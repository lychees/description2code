#include<iostream>
#include<set>
#include<cmath>
#define mp make_pair
using namespace std;
set<pair<int,int>> s;
int arr[100000],a,b,no[100000],g,h,n,q;
int r(int a)
{  while(a!=arr[a])
    { arr[a]=arr[arr[a]];
      a=arr[a];
    }
    return a;
}
int main()
{  cin>>n;
   for(int i=1;i<=n;i++)
   {no[i]=1;
     arr[i]=i;
     s.insert(mp(no[i],i));
   }
   set<pair<int,int>>::iterator it,ij;
   cin>>q;
   while(q--)
   {cin>>a>>b;
     h=r(a);
     g=r(b);
     if(h!=g)
     { s.erase(mp(no[h],h));
       s.erase(mp(no[g],g));
       if(no[g]>no[h])
       {arr[h]=g;
        no[g]+=no[h];
        s.insert(mp(no[g],g));
       }
       else
       {arr[g]=h;
       no[h]+=no[g];
       s.insert(mp(no[h],h));
       }
     }
     int j=0;
     int m=10000009;
     for(it=s.begin();it!=s.end();it++)
     {j++;
      ij=it;
      it++;
      if(it!=s.end())
     { int y=abs((it->first)-(ij->first));
      m=min(m,y);
      if(m==0)
      break;
     }
      it--;
     }
     if(j==1&&it==s.end())
     cout<<0<<endl;
     else
     cout<<m<<endl;
   }
   
   return 0;
}
       
       