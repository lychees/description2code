#include <iostream>
#include <string>
#include <cstdio>
#include <vector>
#include <algorithm>
using namespace std;
string str[50];
long long int cs[50];
int main()
{
    int t,m,n;
    long long int i,j;
    cin>>t;
    while(t--)
    {
    	cin>>n>>m;
    	for(i=0;i<n;i++)
    	{
    		cs[i]=0;
    		cin>>str[i];
    	}
    	cs[0]=str[0].size();
    	for(i=1;i<n;i++)
    	{
    		cs[i]=2*cs[i-1]+str[i].size();
    	}
    	while(m--)
    	{
    		cin>>j;
    		for(i=n-2;i>=0;i--)
    		{
    			if(j>=2*cs[i])
    			{
    				printf("%c",str[i+1].at(j-2*cs[i]));
    				break;
    			}
    			else if(j>=cs[i])
    			j=2*cs[i]-j-1;
    		}
    		if(i<0)
    		cout<<str[0].at(j);
    	}
    	cout<<"\n";
    }
    return 0;
}
