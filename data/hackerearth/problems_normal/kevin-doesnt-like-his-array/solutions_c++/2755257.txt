    #include <bits/stdc++.h>
    //#define FOR(i,0,n) for(i=0;i<n;i++)
    using namespace std;
     
     
    int main()
    {
        int n,i;
        int b[100005],c[100005],a[100005];
        int bi=0,ci=0,si=0;
        cin>>n;
        for(i=0;i<n;i++)
        {
        	cin>>a[i];
        	b[a[i]]++;
        	bi=max(bi,b[a[i]]);
        	if(i&&a[i]==a[i-1])
        	{
        		si++;
        		c[a[i]]++;
        		ci=max(ci,c[a[i]]);
        	}
        	
        }
        if(bi>(n+1)/2)
        cout<<"-1";
        else
        cout<<max((si+1)/2,ci);
        return 0;
    }