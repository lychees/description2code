#include<bits/stdc++.h>
using namespace std;
/*author : jatin_jt_narula
           B.tech CSE  
           MNNIT-Allahabad */
#define wh(t) while(t--)
#define ms(a , value) memset(a , value , sizeof(a))
#define f(c,itr) for(itr=(c).begin();itr!=(c).end();itr++)
#define M 1000000007
#define sc scanf
#define pr printf
#define pi(x) printf("%d",x)
#define pin(x) printf("%d\n",x)
#define ss(x) scanf("%s",x)
#define ps(x) printf("%s",x)
#define nl() printf("\n")
#define psn(x) printf("%s\n",x)
#define si(x) scanf("%d",&x)
#define si2(x,y) scanf("%d%d",&x,&y)
#define each(v) v.begin(),v.end()
#define mp make_pair
#define pb push_back
typedef long long int ll;
#define N 50007
ll ans;
//ll p[10000000],s[10000000];
map < ll, ll > p;
ll power(ll base,ll expo)
{
	ll f;
	if(expo==0)
	return 1;
	f=power(base,expo/2);
	if(expo&1)
	return ((f*f)%M*base%M)%M;
	return (f*f)%M;
}
ll find(ll i)
{
	if(p.find(i)==p.end())
	{
		p[i]=i;
		return p[i];
	}
    if(p[i]!=i)
    p[i]=find(p[i]);
    return p[i];
}
void dsu(ll a,ll b)
{
   ll pa,pb;
   pa=find(a);pb=find(b);
   if(pa==pb)
   return ;
   else
   {
   	 p[pb]=pa;
   	 ans=(ans%M*power(2,M-2)%M)%M;
   }
   
}
int main()
{
	//freopen ("f.txt","r",stdin);
	ll n,k,u,v;
	scanf("%lld%lld",&n,&k);
	ans=power(2,n);
	//cout<<k;
	wh(k)
	{
		scanf("%lld%lld",&u,&v);
		dsu(u-1,v);
		printf("%lld\n",ans);
	}
    //fclose(stdin);
    return 0;
}