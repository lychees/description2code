tc = int(input())
while tc > 0:
    s = raw_input()
    n = int(input())
    l, u = map(int, raw_input().split())
    l = l-1
    u = u-1
    c = 0
    for i in range(l, u+1):
        m = 1
        while m+i <= u+1:
            t = s[i:i+m]
            if int(t) % n == 0:
                c = c+1
            m = m+1
    print c
    tc = tc-1
