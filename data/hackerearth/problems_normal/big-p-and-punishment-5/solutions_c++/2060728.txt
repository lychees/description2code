#include <bits/stdc++.h>
using namespace std;
vector <int> g[10001];
int vst[10001];
int c;
void dfs(int s)
{	
	int node;
	if(vst[s])
		return;
	else
	{	
		c++;
		vst[s]=1;
	
		for(int i=0;i<g[s].size();i++)
		{
			node=g[s][i];
			dfs(node);
		}
	}
	return;
}
int main()
{
    int t,m,n,f,s,u,v,slp;
    cin>>t;
    while(t--)
    {	
    	memset(vst,0,sizeof(vst));
    	memset(g,0,sizeof(g));
    	c=0;
    	cin>>n>>f>>s;
    	while(f--)
    	{
    		cin>>u>>v;
    		g[u].push_back(v);
    	}
    	while(s--)
    	{
    		cin>>slp;
    		dfs(slp);
    	}
    	
    	cout<<c<<endl;
    }
    
    return 0;
}
