#include<bits/stdc++.h>
using namespace std;
int main() {
    int n, q;
    cin >> n >> q;
    bool coins[n];
    memset(coins, 0, sizeof(coins));
    while(q--) {
        int operation, a, b;
        cin >> operation >> a >> b;
        if(operation == 0)
            for(int i = a; i <= b; i++) coins[i] ^= 1;
        else {
            int res = 0;
            for(int i = a; i <= b; i++) res += coins[i];
            cout << res << endl;
        }
    }
	return 0;
}

