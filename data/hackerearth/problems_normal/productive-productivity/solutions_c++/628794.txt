#include <iostream>
#include <cstdio>
#include <cstring>
#include <queue>
#include <algorithm>
using namespace std;
#define ND 30000
#define ED 1000000
#define INF 1000000
#define pii pair<int,int>
#define f_in(st) freopen(st,"r",stdin);
#define f_out(st) freopen(st,"w",stdout);
int n,k,m,eg_no,st,en,rs,fl,mx;
int to[ED],nx[ED],cap[ED],cst[ED],last[ND],ds[ND],pr[ND],pr_i[ND];
void init()
{
    eg_no=0;
    memset(last,-1,sizeof(last));
}
void add_edge(int u,int v,int cp,int r_cp,int cs,int r_cs)
{
    to[eg_no]=v;cap[eg_no]=cp;cst[eg_no]=cs;nx[eg_no]=last[u];last[u]=eg_no++;
    to[eg_no]=u;cap[eg_no]=r_cp;cst[eg_no]=r_cs;nx[eg_no]=last[v];last[v]=eg_no++;
}
int bellman()
{
    for(int i=0;i<ND;i++) ds[i]=INF;
    memset(pr,-1,sizeof(pr));
    memset(pr_i,-1,sizeof(pr_i));
    queue<int>q;
    int mrk[ND];
    memset(mrk,0,sizeof(mrk));
    q.push(st);mrk[st]=1;ds[st]=0;
    while(!q.empty())
    {
        int p=q.front();q.pop();
        mrk[p]=0;
        for(int i=last[p];i>=0;i=nx[i])
        {
            int t=to[i];
            if(cap[i]<=0) continue;
            if(ds[t]>ds[p]+cst[i])
            {
                ds[t]=ds[p]+cst[i];
                pr[t]=p;pr_i[t]=i;
                if(mrk[t]==0){ mrk[t]=1;q.push(t); }
            }
        }
    }
    //cout<<ds[en]<<"-\n";
    if(ds[en]==INF) return 0;
    int x=en,mn=10000;
    while(pr[x]!=-1){ mn=min(mn,cap[pr_i[x]]);x=pr[x]; }
    //cout<<"\n\n";
    x=en;
    while(pr[x]!=-1)
    {
        int z=pr_i[x];
        cap[z]-=mn;cap[z^1]+=mn;
        x=pr[x];
    }
    rs+=ds[en];
    return mn;
}    
int maxflow()
{
    rs=0;
    int ans=0;
    while(1)
    {
        int res=bellman();
        if(res==0) break;
        ans+=res;
    }
    //cout<<"ans = "<<ans<<"\n";
    return rs;
}   
int main()
{
    //f_in("sample_in.txt");
    //f_out("sample_out.txt");
    int tt;
    cin>>tt;
    for(int ii=1;ii<=tt;ii++)
    {
        init();
        cin>>n;
        st=2*n;en=2*n+1;
        for(int i=0;i<n;i++) add_edge(st,i,1,0,0,0);
        for(int i=0;i<n;i++) add_edge(n+i,en,1,0,0,0); 
        for(int i=0;i<n;i++)
        {
        	for(int j=0;j<n;j++)
        	{
        		int x;
        		cin>>x;
        		add_edge(i,n+j,1,0,-x,x);
        	}
        }
        cout<<0-maxflow()<<"\n";
    }
    return 0;
}