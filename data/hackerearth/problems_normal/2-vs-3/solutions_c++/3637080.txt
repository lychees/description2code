#include <bits/stdc++.h>
using namespace std;
int arr[100001];
int BIT[100005];
string ch;
int n;



void update(int x,int val){
		for(;x<=n;x=x+(x&(-x))){
			BIT[x]=(BIT[x] + val)%3;
		}
	}
	
int query(int x){
	int s=0;
	for(;x>0;x=x-(x&(-x))){
		s=(s+BIT[x])%3;
	}
	return s;
}

int main() {
	cin >> n;
	cin >> ch;
	for(int i=n-1;i>=0;i--){
		if((n-1-i)%2==0 && ch[i]=='1')
		arr[n-i] = 1;
		else if((n-1-i)%2==1 && ch[i]=='1')
		arr[n-i]=2;
	}
	
	
	
	for(int i=1;i<=n;i++){
		update(i,arr[i]);
	}
	
	int q;
	cin >> q;
	while(q--){
		int a,b,c;
		cin >> a;
		if(a==0){
			cin >> b >> c;
			b=n-b;
			c=n-c;
			int ans = (query(b) - query(c-1));
			if(c%2==0){
				cout << (3-ans)%3 << endl;
			}
			else{
				
			cout << (ans+3)%3 << endl;
			
			}
		}
		else{
			cin >> b;
			b=n-b;
			if(arr[b]==0){
				if(b%2==0)
				update(b,2);
				else
				update(b,1);
				arr[b]=1;
			}
		}
	}
	
	
	
	
	return 0;
}