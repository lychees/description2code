#include <iostream>
using namespace std;


int inline scan()
{
    int N = 0;
    char C;
    C=getchar_unlocked();
    while (C < '0' || C>'9') C=getchar_unlocked();
    while (C >= '0' && C <= '9')
    {
        N = (N<<3) + (N<<1) + C - '0';
        C=getchar_unlocked();
    }

    return N;
}
int inline sumd(int n)
{
	int ans=0;
	while(n>0)
	{
		ans+=n%10;
		n/=10;
	}
	return ans;
}
int dig[10000001];
int sum[10000001];
bool pr[10000001];
int fact[10000001];
int cum[10000001];
void sieve()
{
	fact[1]=1;
	for(int i=2;i<=10000000;i++)
	{
		if(!fact[i])
		{
			fact[i]=i;
			if((long long)i*i<=10000000){
			for(int j=i*i;j<=10000000;j+=i)
			{
				if(!fact[j]) fact[j]=i;
			}
			}
		}
	}
	for(int i=1;i<=10000000;++i)
	{
		dig[i]=i<10?i:i%10+dig[i/10];
		int f=fact[i];
		if(f==i)
			sum[i]=dig[i];
		else
			sum[i]=dig[f]+sum[i/f];
		cum[i]=cum[i-1]+(dig[i]==sum[i]);
	}
}
int main()
{
	sieve();
    int t,l,r;
    t=scan();
    while(t--)
    {
    	l=scan();r=scan();
    	printf("%d\n",cum[r]-cum[l-1]);
    }
    return 0;
}
