#include <bits/stdc++.h>
using namespace std;

#define inf 1000000000
#define mod 1000000007
#define pb push_back
#define fora(i,a,b) for(int i=a;i<b;i++)
#define ms(a,b) memset(a,b,sizeof(a))
#define line cout<<"\n";

typedef long long int ll;
typedef vector<int> vi;
typedef vector<string> vs;
typedef pair<int,int> ii;
typedef vector<ii> vii;

int main(){
	// freopen("temp.txt","r",stdin);
	// freopen("output.txt","w",stdout);
	int t;
	cin>>t;
	while(t--){
		ll answer=0;
		int n;
		cin>>n;
		int maxi[n],check=INT_MIN;
		fora(i,0,n){
			cin>>maxi[i];
			if(maxi[i]>check)
				check=maxi[i];
		}
		if(n==1){
			cout<<maxi[0];
			line;
		}
		else if(check<n){
			cout<<answer;
			line;
		}
		else{
			vi arr(maxi,maxi+n);
			sort(arr.begin(),arr.end());
			answer=arr[0];
			int index=1;
			fora(i,1,n){
				if(arr[i]-index==0){
					answer=0;
					break;
				}
				answer=(answer*(arr[i]-index))%mod;
				index++;
			}
			cout<<answer;
			line;
		}
	}
	return 0;
}