#include<iostream>
using namespace std;
int main()
{
    long long i,j,k,n,t,m,l,p,sum=0,max1=0,max2=0,sum1;
    cin>>t;
    while(t--)
    { m=0;k=0;sum=0;sum1=0;max1=0;max2=0;
        cin>>n;
        for(int x=0;x<n;x++)
        {
            cin>>i>>j;
              sum=i+j;
              sum1+=j;
              if(max1<=sum)
              {  
              	l=m;p=k;m=i;
                  k=j;
                  max2=max1;
                  max1=sum;
                  
              }
              else if(max2<=sum)
                  {l=i;m=j;
                    max2=sum;
                   
                  }
        }
        max1=max1+max2-sum1;
        cout<<max1<<"\n";
    }
    return 0;

}
