#include<bits/stdc++.h>
using namespace std;

typedef long long ll;

ll pow(int a,int b) {
  if(b==0) {
    return 1;
  }
  ll p=pow(a,b/2);
  p*=p;
  if(b&1) {
    p*=a;
  }
  return p;
}
void solve(int p,int q,ll k) {
  int x=0;
  vector<ll> X;
  while(true) {
    ll val=pow(x,p)+x;
    if(val>k) {
      break;
    }
    X.push_back(val);
    x++;
  }
  int y=0;
  vector<ll>Y;
  while(true) {
    ll val=pow(y,q);
    if(val>k) {
      break;
    }
    Y.push_back(val);
    y++;
  }
  int cnt=0;
  for(int i=0;i<X.size();i++) {
    int idx=lower_bound(Y.begin(),Y.end(),k-X[i])-Y.begin();
    if(idx<Y.size()) {
      if(Y[idx]==k-X[i]) {
        cnt++;
      }
    }
  }
  cout<<cnt<<endl;
  return;
}
int main() {
  //freopen("a.cpp","r",stdin);
  int tt;
  cin>>tt;
  int cases=1;
  while(tt--) {
    int p,q;
    ll k;
    cout<<"Case #"<<cases++<<": ";
    cin>>p>>q>>k;
    solve(p,q,k);
  }
  return 0;
}
