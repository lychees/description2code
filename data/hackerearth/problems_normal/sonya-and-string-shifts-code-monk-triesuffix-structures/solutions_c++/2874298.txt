#include <cstring>
#include <cstdio>
#include <vector>
#include <algorithm>
using namespace std;

namespace su{
	int __gap;
	int *suf, *lcp, *temp, *pref;
	
	bool cmp(const pair<int, pair<int, int> > &a, const pair<int, pair<int, int> > &b){
		if(a.second.first==b.second.first){
			return a.second.second<b.second.second;
		}
		return a.second.first<b.second.first;
	}

	int * suffix(char *s, int N){
		int i, k, j;
		vector<pair<int, pair<int, int> > > arr(N);
		int *ans;
		ans = new int[N];
	
		for(i=0;i<N;i++){
			arr[i].first = i;
			arr[i].second = make_pair(s[i]-'0', 0);
		}
		sort(arr.begin(), arr.end(), cmp);
	
		for(k=1;k<2*N;k*=2){
			j=0;
			ans[arr[0].first] = 0;
			for(i=1;i<N;i++){
				if(arr[i].second.first==arr[i-1].second.first&&arr[i].second.second==arr[i-1].second.second){
					ans[arr[i].first] = j;
				}
				else{
					j++;
					ans[arr[i].first] = j;
				}
			}
			for(i=0;i<N;i++){
				arr[i].second.first = ans[arr[i].first];
				if(arr[i].first+k<N){
					arr[i].second.second = ans[arr[i].first+k];
				}
				else arr[i].second.second = -1;
			}
			sort(arr.begin(), arr.end(), cmp);
		}
		for(i=0;i<N;i++){
			ans[i] = arr[i].first;
		}
		return ans;
	}
	
	void ConstLCP(char *__s, int N){
		int t=0, i, j;
		temp = new int[N];
		lcp = new int[N];
		
		for(i=0;i<N;i++){
			temp[suf[i]] = i;
			lcp[i] = 0;
		}
		for(i=0;i<N;i++){
			if(temp[i]!=N-1){
				j = suf[temp[i]+1];
				while(i+t<N&&j+t<N&&__s[i+t]==__s[j+t]) t++;
			 	lcp[temp[i]] = t;
			 	if(t!=0) t--;
			}
		}
		delete [] temp;
	}
	void delSuf(){ delete [] suf;}
	void delLCP(){ delete [] lcp;}
};

int ans[1000010];
char str[1000010];
char s[2000010];

int main(){
	int N, i, j, Q;
	
	scanf("%d", &N);
	for(i=0;i<N;i++) ans[i]=-1;
	scanf("%s", str);
	
	strcpy(s, str);
	strcat(s, str);
	
	su::suf = su::suffix(s, 2*N);
	su::ConstLCP(s, 2*N);
	
	for(i=0;i<2*N;i++){
		if(su::suf[i]<N){
			while(su::lcp[i]>=N){
				i++;
			}
			for(j=su::suf[i];j<N&&ans[j]==-1;j++) ans[j] = su::suf[i];
		}
	}
	scanf("%d", &Q);
	while(Q--){
		scanf("%d", &i);
		printf("%d\n", ans[i]);
	}
	return 0;
}