#include <cmath>
#include <cstring>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
 
 
#define xx first
#define yy second
#define pb push_back
#define mp make_pair
#define mod 1000000007ll
using namespace std;
 
vector<int> a[50005];
long long dp[50005][105], c[105];
long long A[50005], ans;
int K;
 
void solve(int k, int par){
    int j, x;
    for (int i = 0; i < a[k].size(); i++){
	if (a[k][i] == par) continue;
	solve(a[k][i], k);
    }
    dp[k][A[k]] = 1;
    for (int i = 0; i < a[k].size(); i++)
	if (a[k][i] != par)
	{
	    memset(c, 0, sizeof c);
	    for (j = 0; j <= 100; j++)
		for (x = 0; x <= 100 - j; x++){
		    c[j + x] += (1ll * dp[k][j] * dp[a[k][i]][x]) % mod;
		    c[j + x] %= mod;
		}
	    for (j = 0; j <= 100; j++){
		dp[k][j] += c[j];
		dp[k][j] %= mod;
	    }
	}
    ans = (ans + dp[k][K]) % mod;
    /*cout << k << "---";
    for (int i = 0; i <= K; i++)
    cout << b[k][i] << " ";*/
    return ;
}
 
int main(){
    int T, n, m, i, x, y;
 
    cin >> T;
    while (T--){
	cin >> n >> K;
	for (i = 0; i < n; i++){
	    cin >> A[i];
	    a[i].clear();
	}
	memset(dp, 0, sizeof dp);
	memset(c, 0, sizeof c);
	for (i = 0; i < n - 1; i++){
	    cin >> x >> y;
	    x--;
	    y--;
	    a[x].pb(y);
	    a[y].pb(x);
	}
	ans = 0;
	solve(0, -1);
	cout << ans << endl;
    }
    return 0;
}