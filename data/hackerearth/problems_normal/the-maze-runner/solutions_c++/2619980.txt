#include <iostream>
#include <iomanip>
#include <cmath>
#include <algorithm>
using namespace std;

double x[101],y[101],h;
int n;

double dp[101][2];

bool check(int l,int r,double cy)
{
	for(int i=l;i<=r;++i)
		if(cy>y[i]+h||cy<y[i])
			return false;
	return true;
}

bool isValid(double x1,double y1,double x2,double y2,int l,int r)
{
	for(int i=l;i<=r;++i)
	{
		double cy=y1+(y2-y1)*(x[i]-x1)/(x2-x1);
		if(cy>y[i]+h||cy<y[i])
			return false;
	}
	return true;
}

double dist(double x1,double y1,double x2,double y2)
{
	return sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));
}

int main()
{
    cin>>n;
    for(int i=0;i<=n;++i)
    	cin>>x[i]>>y[i];
    cin>>h;
    
    for(int i=0;i<=n;++i)
    	dp[i][0]=dp[i][1]=1e9;
    dp[0][0]=dp[0][1]=0;
    for(int i=1;i<=n;++i)
    {
    	if(check(0,i-1,y[i]))
    		dp[i][0] = min(dp[i][0],x[i]-x[0]);
    	if(check(0,i-1,y[i]+h))
    		dp[i][1] = min(dp[i][1],x[i]-x[0]);
    }
    for(int i=0;i<=n;++i)
    	for(int a=0;a<2;++a)
    		for(int j=i+1;j<=n;++j)
    			for(int b=0;b<2;++b)
    			{
    				int x1 = x[i],x2 = x[j];
    				int y1 = y[i]+a*h,y2 = y[j]+b*h;
    				if(isValid(x1,y1,x2,y2,i+1,j-1))
    					dp[j][b] = min(dp[j][b],dp[i][a]+dist(x1,y1,x2,y2));
    			}
    double ans=1e9;
    for(int i=0;i<=n;++i)
    {
    	if(check(i+1,n,y[i]))
    		ans=min(ans,dp[i][0]+x[n]-x[i]);
    	if(check(i+1,n,y[i]+h))
    		ans=min(ans,dp[i][1]+x[n]-x[i]);
    }
    
    cout<<fixed<<setprecision(10)<<ans;
    return 0;
}
