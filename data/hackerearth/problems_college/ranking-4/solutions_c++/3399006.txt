#include<bits/stdc++.h>
using namespace std;
bool cmp(pair<int,int> a,pair<int,int> b){
	  if(a.first>b.first)
	     return true;
	  return false;
}
int main(){
	int t;
	scanf("%d",&t);
	while(t--){
		int n;
		scanf("%d",&n);
		pair<int,int> a[n];
		for(int i=0;i<n;i++)
		scanf("%d",&a[i].first),
		a[i].second=i;
		sort(a,a+n,cmp);
		int ans[n];
		for(int i=0;i<n;i++){
			int pr=i+1;
			ans[a[i].second]=pr;
			while(i+1<n&&a[i].first==a[i+1].first)
			   i++,ans[a[i].second]=pr;
		}
		for(int i=0;i<n;i++)
		printf("%d ",ans[i]);
		printf("\n");
	}
}