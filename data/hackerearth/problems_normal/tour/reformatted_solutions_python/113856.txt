N = int(raw_input())

cities = dict([(raw_input(), i) for i in range(N)])

arr = []

for i in range(N):
    arr.append(map(long, raw_input().split()))

P = int(raw_input())

cost = 0
start = None

for z in range(P):
    end = raw_input()
    i = cities[start] if start is not None else 0
    j = cities[end]
    cost += arr[i][j]
    start = end

print cost
