#include <iostream>
#include<algorithm>
#include<cstdio>
using namespace std;
struct node{
	double p;
	int j;
};
bool my(node a,node b){
	if(a.j < b.j)return true;
	return false;
}
int main()
{
	// cout << "Hello World!" << endl;
	int n,l,d;
	cin >> n >> d >> l;
	node arr[n+1];
	for(int i = 0;i < n;i++)cin >> arr[i].p;
	for(int i = 0;i < n;i++)cin >> arr[i].j;
	arr[n].p = 1.0;
	arr[n].j = l;
	sort(arr,arr+n,my);
	int j;
	double ans[n+1];
	for(j = 0;arr[j].j <= d;j++){
		ans[j] = arr[j].p;
	}
	bool f = true;
	for(int i = j;i<= n;i++){
		ans[i] = -1.0;
		for(int k = 0;k < i;k++){
			if(arr[k].j >= arr[i].j-d){
				ans[i] = max(ans[i],arr[i].p*ans[k]);
			}
		}
		if(ans[i]  < 0){
			f = false;
			break;
		}
	}
	if(!f){
		cout<<"IMPOSSIBLE\n";
	}else{
		printf("%.6lf\n",ans[n]);
	}
	return 0;
}
