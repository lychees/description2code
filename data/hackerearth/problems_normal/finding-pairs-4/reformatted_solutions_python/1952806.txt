'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
n = input()
while n > 0:
    n -= 1
    count = 0
    a = 1000001*[0]
    b = 1000001*[0]
    size = input()
    y = map(int, raw_input().split())
    for i in range(size):
        x = y[i]
        if x >= 0:
            a[x] += 1
            count += a[x]
        else:
            x = x*-1
            b[x] += 1
            count += b[x]
    print count
