#include <bits/stdc++.h>

using namespace std;

typedef vector<int> VI;
typedef long long LL;
typedef pair<int,int> PI;

#define FOR(i,a,b) for(register int i=a;i<(b);i++)
#define FORE(i,a,b) FOR(i,a,(b)+1)
#define FORD(i,a,b) for(int i=a;i>=(b);i--)
#define REP(i,n) FOR(i,0,n)
#define PB push_back
#define mod 1000000007
#define MP make_pair
#define INF mod

class dsu
{
    VI p,s;
public:
    dsu(int n)
    {
        p.resize(n);
        s.assign(n,1);
        REP(i,p.size()) p[i] = i;
    }
    int getp(int i)
    {
        if(p[i]==i) return i;
        return p[i] = getp(p[i]);
    }
    void join(int x, int y)
    {
        int px = getp(x), py = getp(y);
        if(px == py) return;
        p[px] = py;
        s[py] += s[px];
    }
    int sz(int x) {return s[x];}
    int pr(int x) {return p[x];}
};

int main()
{
#ifndef ONLINE_JUDGE
    freopen("a.in","r",stdin);
#endif
    ios_base::sync_with_stdio(0);
    int n, k;
    LL f[100001];
    REP(i,100001) f[i] = (i)?((f[i-1]*i)%mod):1;
    cin >> n >> k;
    dsu d(n);
    LL ans = 1;
    int x, y;
    while(k--)
    {
        cin >> x >> y;
        d.join(x,y);
    }
    REP(i,n)
    {
        if(d.pr(i) == i) {ans = (ans*f[d.sz(i)])%mod; }
    }
    cout << ans << endl;
    return 0;
}
