#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define mod 1000000007
#define limit 500005
ll pw[limit];
ll dp[15];
void pow2()
{
	pw[0] = 1LL;
	for(int i = 1; i < limit; i++) {
		pw[i] = pw[i - 1] * 2LL;
		if(pw[i] >= mod) {
			pw[i] %= mod;
		}
	}
}

int main()
{
	
	pow2();
    int n, k, m;
    cin >> n >> k >> m;
    int colorfreq[k + 1];
    memset(colorfreq, 0, sizeof(colorfreq));
    for(int i = 0; i < n; i++) {
    	int val;
    	cin >> val;
    	colorfreq[val]++;
    }
    dp[0] = 1;
    //for each color
    for(int i = 1; i <= k; i++) {
    	if(colorfreq[i]) {
    		ll prev = dp[0];
    		for(int j = 1; j <= m; j++) {
    			ll temp = dp[j];
    			dp[j] = dp[j] + ((prev % mod) * ((pw[colorfreq[i]] - 1 + mod) % mod));
    			dp[j] %= mod;
    			prev = temp;
    		}
    		/*for(int j=m-1;j>=0;j--){
                dp[j+1]+=(dp[j]*(pw[colorfreq[i]]-1))%mod;
                dp[j+1]%=mod;
            }*/
    	}
    }
    ll ans = 0;
    for(int i = 0; i <= m; i++) {
    	ans += dp[i];
    	if(ans >= mod) {
    		ans %= mod;
    	}
    }
    cout << ans << endl;
    return 0;
}
