#include<bits/stdc++.h>
using namespace std;
int main()
{
	int n,p,i,j;
	map<string,int> mp;
	string s,start,dest;
	cin>>n;
	long long a[n][n],sum=0;
	for(i=0;i<n;i++)
	{
		cin>>s;
		mp.insert(make_pair(s,i+1));
		if(i==0)
		{
			start=s;
		}
	}
	for(i=0;i<n;i++)
	{
		for(j=0;j<n;j++)
		{
			cin>>a[i][j];
		}
	}
	cin>>p;
	for(i=0;i<p;i++)
	{
		cin>>dest;
		sum+=a[mp[start]-1][mp[dest]-1];
		start=dest;
	}
	cout<<sum;
	return 0;
}