for i in range(0,int(raw_input())):
	n=int(raw_input())
	b=map(int,raw_input().split())
	b.sort()
	j=b[0]
	r=0
	c=[]
	d=[]
	for i in b:
		if j==i:
			r+=1
		else:
			d.append(r)
			c.append(j)
			j=i
			r=1
	d.append(r)
	c.append(j)
	result = n
	for i in d:
		result+=(i*(i-1))/2
	print result
			