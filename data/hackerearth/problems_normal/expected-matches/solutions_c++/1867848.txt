#include <bits/stdc++.h>
using namespace std;
double dp [1005][1005]; 
double defeat [1005][1005]; 
main()
{
	int T; cin >> T; 
	for (int g=0; g<T; g++)
	{
		memset(dp,0,sizeof(dp)); //memset(defeat,0,sizeof(defeat));
		int N, M; cin >> N >> M; 
		vector <double> proba, probb; 
		for (int y=1; y<=N; y++)
		{
			for (int z=1; z<=M; z++) scanf("%lf", &defeat[y][z]);
		}
		for (int y=N; y>=1; y--)
		{
			for (int z=M; z>=1; z--)
			{
				dp[y][z]=(defeat[y][z]*(1+dp[y][z+1]))+((1-defeat[y][z])*(1+dp[y+1][z])); 
			}
		}
		cout <<fixed << setprecision(6) << dp[1][1] << '\n'; 
	} 
	return 0;
	
}