#include <iostream>
int main()
{
    int n,l,dd;
    int i,j;
    float dp[1010][1010],p[1010],dis[1010];
    scanf("%d %d %d",&n,&l,&dd);
    for(i=1;i<=n;i++)
        scanf("%f",&p[i]);
    for(i=1;i<=n;i++)
        scanf("%f",&dis[i]);
    p[n+1]=1;
    p[0]=1;
    dis[n+1]=dd;
    dis[0]=0;
    if(l==0)
        {printf("IMPOSSIBLE\n");
        return(0);}
    for(i=0;i<=n+1;i++)
    {
        for(j=0;j<=n+1;j++)
            {if(i==j)
                dp[i][i]=p[i];
            else
                dp[i][j]=0.0;}
    }
    for(int len=1;len<=n+1;len++)
    {
    	for(i=0;i<=n+1-len;i++)
    	{
    		if(dis[i+len]-dis[i]<=l)
                dp[i][i+len]=p[i]*p[i+len];
            else
                {dp[i][i+len]=0.0;
    		for(j=i+1;j<=i+len;j++)
    		{
                if(dp[i][j-1]*dp[j-1][i+len]/p[j-1]>dp[i][i+len])
    				dp[i][i+len] = dp[i][j-1]*dp[j-1][i+len]/p[j-1];
    		}
                }
    	}
    }
    
    if(dp[0][n+1]==0.0)
    	printf("IMPOSSIBLE\n");
    else
    	printf("%f\n",dp[0][n+1]);
    return 0;
}