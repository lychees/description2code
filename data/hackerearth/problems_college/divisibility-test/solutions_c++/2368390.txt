#include <iostream>
#include <cstdio>
#include <cmath>
#include <queue>
#include <deque>
#include <algorithm>
#include <functional>
#include <numeric>
#include <vector>
#include <map>
#include <utility>
#include <climits>
#include <set>
#include <bitset>
#include <cctype>
#include <iomanip>
#include <ctime>
#include <stack>
#include <cstring>

#define pb(x) push_back(x)
#define pf(x) pop_front(x)
using namespace std;
  int find_num(string s,  int a,  int b,  int num)
{
  int sum=0,y=0;
  int x=b-a,i=a;
//cout<<a<<" "<<b<<" "<<s[a]<<" "<<s[b]<<endl;
while(i<=b)
{
	  int s1=s[i]-'0';
	//cout<<" s1"<<pow(10,x)<<endl;
	// cout<<s1<<endl;
	sum=10*sum+s1;
	i++;
	
}
//cout<<sum<<endl;
return sum;
}
  int find_div_num(string s,  int a,  int b,  int num)
{
	  int c=0,x=a,count=0;
	for(;c<=b-a;c++)
	{
		for(x=a;x<=b-c;x++)
		{
			//cout<<endl<<" x"<<x<<" "<<x+c<<endl;
			   int a=find_num(s,x,x+c,num);
			//cout<<a<<endl;

			if(a%num==0)
				count++;
		}
	}
	return count;
}

  int find_div(string s,  int a,  int b,  int num)
{
	  int c=0,x=a,count=0;
	for(  int i=a;i<=b;i++)
	{
		  int sum=0;
		for(  int j=i;j<=b;j++)
		{
			sum=10*sum+s[j]-'0';
			//cout<<sum<<endl;
			sum%=num;
			if(sum%num==0)
				count++;
		}
	}return count;
}

int main()
{
	int t;
	//string s1;
	cin>>t;
	while(t--)	
	{
	  int n,a,b;
	string s;
	cin>>s>>n>>a>>b;
	b=find_div(s,a-1,b-1,n);
	cout<<b<<endl;
	//cout<<s<<endl;

	}
	return 0;
}