    #include <iostream>
    using namespace std;
     
    int main()
    {
        //cout << "Hello World!" << endl;
        int t;
        cin>>t;
        while(t--){
        	long int n,m;
        	int x=1, y=1;
        	cin>>n>>m;
        	int k,i,jump=0;
        	cin>>k;
        	for(i=0; i<k; i++){
        		long int a,b;
        		cin>>a>>b;
        		while(x<=n && y<=m && x>=1 && y>=1){
        			x = x + a;
        			y = y + b;
        			if(x<=n && y<=m && x>=1 && y>=1){
        				jump++;
        			}
        			else{
        				x = x - a;
        				y = y - b;
        				break;
        			}
        		}
        	}
        	cout<<jump<<endl;
        }
        return 0;
    }