#include<bits/stdc++.h>
using namespace std;
map <int,int> mp;
int main()
{
	int n,q,i,j,size;
	int a[100005]={0},temp[100005]={0},m[100005]={0};
	cin>>n>>q;
	for(i=1;i<=n;i++){
		scanf("%d",&a[i]);
		m[i]=a[i];
	}
	size=n;
	while(size>1){
		j=1;
		for(i=1;i<=size-1;i+=2){
			if(a[i]>a[i+1])	temp[j++]=a[i];
			else	temp[j++]=a[i+1];
			mp[a[i]]++;
			mp[a[i+1]]++;
		}
		if(size&1)	temp[j++]=a[size];
		for(i=1;i<=j-1;i++)	a[i]=temp[i];
		size=(size/2)+(size%2);
	}
	while(q--){
		scanf("%d",&i);
		printf("%d\n",mp[m[i]]);
	}
	return 0;
}