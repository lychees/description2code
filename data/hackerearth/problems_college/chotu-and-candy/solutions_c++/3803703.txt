#include <bits/stdc++.h>
using namespace std;

#include <algorithm>

struct Candies {
  int id;
  long swt;
  long cost;
};

bool cmp(const Candies & e1, const Candies & e2) 
{
  	if(e1.swt != e2.swt)
  		return (e1.swt > e2.swt);
  	else if(e1.cost != e2.cost)
    	return (e1.cost < e2.cost);
  	return (e1.id < e2.id);
}

int main()
{
	ios::sync_with_stdio(false);
	vector <Candies> vec;
	int n, q;
	cin >> n >> q;
	for(int i = 0; i < n; i++) {
		Candies c;
		cin >> c.id >> c.swt >> c.cost;
		vec.push_back(c);
	}
	sort(vec.begin(), vec.end(), cmp);
	map <int, int> day; 
	for(int i = 0; i < n; i++) {
		day[vec[i].id] = i + 1;
	}
	while(q--) {
		int thisID;
		cin >> thisID;
		cout << day[thisID] << endl;
	}
}
