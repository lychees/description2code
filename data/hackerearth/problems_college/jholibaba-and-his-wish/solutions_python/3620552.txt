n = int(raw_input())
a = map(int, raw_input().split())
s = sum(a)
p = sum((i+1) * a[i] for i in xrange(n))
ans = p
for i in xrange(n-1):
	p += a[i] * n - s
	ans = max(ans, p)
print ans