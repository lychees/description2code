#include <bits/stdc++.h>

using namespace std;

int N;
int A[100000];
int cnt[100001];
int swp[100001];

int main()
{
    scanf("%d", &N);
    for(int i=0; i<N; i++)
        scanf("%d", A+i), cnt[A[i]]++;
    for(int i=1; i<N; i++) if(A[i-1]==A[i])
        swp[A[i]]++;
    for(int i=1; i<=100000; i++) if(cnt[i]*2>N+1)
        return printf("-1\n"), 0;
    vector<int> v;
    for(int i=1; i<=100000; i++)
        v.push_back(swp[i]);
    sort(v.rbegin(), v.rend());
    int s=0;
    for(int i=1; i<N; i++)
        s+=v[i];
    if(s>=v[0])
        printf("%d\n", (s+v[0]+1)/2);
    else
        printf("%d\n", v[0]);
    return 0;
}
