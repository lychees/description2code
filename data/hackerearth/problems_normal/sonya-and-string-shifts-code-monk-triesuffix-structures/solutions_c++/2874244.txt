#include<bits/stdc++.h>
#define mp make_pair
#define PII pair<int,int>
#define fi first
#define se second
using namespace std;

struct cell
{
    int x,y,in;
};

const int NMAX=1000005;
const int LIMIT=1000005;

int n,Q,a[2][NMAX],sum[LIMIT],pz[NMAX],mn[NMAX],kk[NMAX];
char s[NMAX];
cell b[NMAX],c[NMAX];

int main()
{
    int i,j,x,ok;

    cin.sync_with_stdio(false);
    cin>>n>>(s+1);
    //suffix array
    for (i=1;i<=n;i++) a[0][i]=s[i]-'a'+1;
    ok=1;
    for (j=1;(1<<(j-1))<n;j++,ok=1-ok)
            {
                for (i=1;i<=n;i++)
                    {
                        b[i].x=a[1-ok][i];
                        b[i].y=a[1-ok][min(n+1,i+(1<<(j-1)))];
                        b[i].in=i;
                    }
                //radix
                for (i=0;i<LIMIT;i++) sum[i]=0;
                for (i=1;i<=n;i++) sum[b[i].y]++;
                for (i=1;i<LIMIT;i++) sum[i]+=sum[i-1];
                for (i=n;i>=1;i--)
                    {
                        c[sum[b[i].y]]=b[i];
                        sum[b[i].y]--;
                    }
                for (i=1;i<=n;i++) b[i]=c[i];

                for (i=0;i<LIMIT;i++) sum[i]=0;
                for (i=1;i<=n;i++) sum[b[i].x]++;
                for (i=1;i<LIMIT;i++) sum[i]+=sum[i-1];
                for (i=n;i>=1;i--)
                    {
                        c[sum[b[i].x]]=b[i];
                        sum[b[i].x]--;
                    }
                for (i=1;i<=n;i++) b[i]=c[i];

                a[ok][b[1].in]=1;
                for (i=2;i<=n;i++)
                    if (b[i].x==b[i-1].x && b[i].y==b[i-1].y)
                        a[ok][b[i].in]=a[ok][b[i-1].in];
                    else a[ok][b[i].in]=a[ok][b[i-1].in]+1;
            }
    for (i=1;i<=n;i++) pz[b[i].in]=i;
    mn[0]=1<<30;
    for (i=1;i<=n;i++)
        {
            mn[i]=mn[i-1];
            kk[i]=kk[i-1];
            if (pz[i]<mn[i])
            {
                mn[i]=pz[i];
                kk[i]=i;
            }
        }

    //for (i=1;i<=n;i++) cout<<b[i].in<<" ";
    //cout<<"\n";
    cin>>Q;
    for (i=1;i<=Q;i++)
    {
        cin>>x;
        cout<<(kk[x+1]-1)<<"\n";
    }
    return 0;
}

