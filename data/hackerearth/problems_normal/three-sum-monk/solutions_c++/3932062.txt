#include <cstdio>

int main()
{
	int cubes[20];
	for (int i = 0; i < 20; i++)
	{
		cubes[i] = i * i * i;
	}
	int t;
	scanf("%d", &t);
	while (t--)
	{
		int n, count[2001] = {0}, totalCount = 0;
		scanf("%d", &n);
		int arr[n];
		for (int i = 0; i < n; i++)
		{
			scanf("%d", &arr[i]);
			count[arr[i]]++;
		}
		for (int i = 0; i < n; i++)
		{
			for (int j = i+1; j < n; j++)
			{
				count[arr[i]]--;
				count[arr[j]]--;
				for (int k = 0; k < 20; k++)
				{
					if (cubes[k] - arr[i] - arr[j] >= 0 && cubes[k] - arr[i] - arr[j] <= 2000)
					{
						totalCount += count[cubes[k]-arr[i]-arr[j]];
					}
				}
				count[arr[i]]++;
				count[arr[j]]++;
			}
		}
		printf("%.9f\n", (double)(2*totalCount)/(n*(n-1)*(n-2)));
	}
}