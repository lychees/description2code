#include <iostream>
#include <bits/stdc++.h>
using namespace std;

int main()
{
    //cout << "Hello World!" << endl;
    int t,n,k,i,a[10005],q[10005],m,j,s,ma[10005];
    cin>>t;
    while(t--)
    {
    	cin>>n>>k;
    	for(i=0;i<n;i++)
    		cin>>a[i];
    	for(i=n-1;i>=0;i--)
    	{
    		s=0;
			if(i==n-1)
			m=0;
			else if(i+k+1<n)
			m=ma[i+k+1];
			s=m;
			
    		if(a[i]>=0)
    		s+=a[i];
    		q[i]=s;
    		if(i==n-1)
    		ma[i]=s;
    		else
    		{
    			if(q[i]>ma[i+1])
    			ma[i]=q[i];
    			else
    			ma[i]=ma[i+1];
    		}
    		
    		
    		
    	}
    	m=q[0];
    	for(i=1;i<n;i++)
    	{
    		if(m<q[i])
    		m=q[i];
    	}
    cout<<m<<endl;	
    }
    return 0;
}
