#include<bits/stdc++.h>
using namespace std;
int main() {
	int zer=0, one=0, two=0;
	int n,q,tc,x;
	cin>>tc;
	while(tc--) {
		cin>>n;
		zer = 0;one = 0;two = 0;
		for(int i = 0; i < n; i++) {
			cin>>x;
			if(x%3 == 0)
				zer++;
			if(x%3 == 1)
				one++;
			else if(x%3 == 2)
			    two++;
		}
		int l1 = (zer*(zer-1))/2;
		int l2 = one*two;
		cout<<l1+l2<<endl;
	}
	return 0;
}