#include <bits/stdc++.h>

using namespace std;

int prime[2222222]={};
vector <int> primes;

int ispal(int n){
    char str[1000];
    int i=0,rem,j;
    while(n){
        rem = n%10;
        str[i++]=(char)(rem + 48);
        n/=10;
    }
    for(j=0;j<=i/2;j++){
        if(str[j]!=str[i-j-1]){
            return 0;
        }
    }
    return 1;
}

int main(){
    int n;
    scanf("%d ",&n);
    while(n--){
        char str[11111];
        int ac,bc,cost = 0,l,i,j,flag = 1,mincost;
        char ch;
        scanf("%s",str);
        scanf("%d%d",&ac,&bc);
        if(ac<bc){
            mincost = ac;
            ch = 'a';
        }
        else{
            mincost = bc;
            ch = 'b';
        }
        l = strlen(str);
        for(i=0;i<=l;i++){
            if(str[i]!=str[l-i-1] && (str[i]=='/') && str[l-i-1]=='a'){
                str[i]='a';
                cost+=ac;
            }
            if(str[i]!=str[l-i-1] && (str[i]=='/') && str[l-i-1]=='b'){
                str[i]='b';
                cost+=bc;
            }
            if(str[i]==str[l-i-1] && (str[i]=='/') && str[l-i-1]=='/'){
                str[i]=ch;
                cost+=mincost;
            }
        }
        for(j=0;j<=l/2;j++){
            if(str[j]!=str[l-j-1]){
                flag = 0;
            }
        }
        if(flag){
            printf("%d\n",cost);
        }
        else{
            printf("-1\n");
        }
    }
    return 0;
}
