t = int(raw_input())
for i in range(t):
    l = map(int, raw_input().split(" "))
    k = l[1]
    n = l[0]
    arr = map(int, raw_input().split(" "))
    ans = 0
    li = []
    for j in range(n):
        c = 0
        f = bin(arr[j]).split("b")
        for p in range(len(f[1])):
            if f[1][p] == '1':
                c += 1
        li.append(c)
    li.sort()
    for q in range(len(li)-1, len(li)-k-1, -1):
        ans += int(li[q])
    print ans
