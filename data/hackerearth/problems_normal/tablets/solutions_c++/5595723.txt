#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;


int main() {
    /* Enter your code here. Read input from STDIN. Print output to STDOUT */   
    int t,n;
    cin >> n;
    vector <int> v;
    vector <int> num(n,1);
    for(int i=0; i<n; i++){
        cin >> t;
        v.push_back(t);
    }
    for(int i=1; i<n; i++){
        if(v[i]>v[i-1]){
            num[i]=num[i-1]+1;
        }
    }
    for(int i=n-1; i>0; i--){
        if(v[i-1]>v[i]){
            num[i-1]=max(num[i]+1,num[i-1]);
        }
    }
    int count=0;
    for(int i=0; i<n; i++){
        count+=num[i];
    }
    cout << count << endl;
    return 0;
}
