import math

t=input()
while(t):
	t-=1

	user_input = raw_input().split()
	n = int(user_input[0])
	k = int(user_input[1])

	ans=0

	if(k==1):
		ans=n
	else:
		while(n):
			temp=int(math.log(n,k))
			temp=pow(k,temp)

			div=int(n/temp)
			n-=(temp*div)

			ans+=div

	print ans