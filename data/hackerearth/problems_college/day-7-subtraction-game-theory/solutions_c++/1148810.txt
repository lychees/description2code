#include <bits/stdc++.h>

using namespace std;
#define ll long long
#define mod 1000000007
ll a[1000006];
int main()
{
	ll x,y,q,n;
	scanf("%lld%lld", &x,&y);
	a[0] = 1;
	for(int i = 1; i <= 1000005; i++)
	{
		a[i] = (a[i-1]%mod*x%mod - y%mod)%mod;
	}
	scanf("%lld", &q);
	for(int i = 0; i < q; i++)
	{
		scanf("%lld" , &n);
		printf("%lld\n", a[n]);
	}
	
	return 0;
}