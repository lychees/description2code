#include<iostream>
#include<map>
#include<utility>
#include<stdlib.h>
#include<cstring>
using namespace std;
#define mp make_pair
int a[20][3];
map<pair<int,int>,int> ans;
int solve(int i,int n,int col)
{
    if(i==n)
	return 0;
    if(ans.count(mp(i,col)))
	return ans[mp(i,col)];
    int m=100000000;
    for(int j=0;j<3;j++){
	if(j!=col){
	    m=min(m,solve(i+1,n,j)+a[i][j]);
	}
    }
    ans[mp(i,col)]=m;
    return m;
}
int main()
{
    int t;
    cin>>t;
    while(t--)
    {
	int a,b;
	string x;
	cin>>x>>a>>b;
	int ans=0;
	for(int i=0;x[i]!='\0';i++)
	{
	    if(x[i]=='/')
	    {
		if(x[x.size()-1-i]=='/')
		{
		    ans+=2*min(a,b);
		    x[x.size()-1-i]=x[i]='a';
		}
		else if(x[x.size()-1-i]=='a')
		{
		    ans+=a;
		    x[i]='a';
		}
		else {
		    ans+=b;
		    x[i]='b';
		}
	    }
	}
	bool flag=0;
	for(int i=0;x[i]!='\0';i++){
	    if(x[x.size()-1-i]!=x[i]){
		flag=1;
		break;
	    }
	}
	if(flag)
	    cout<<-1<<endl;
	else
	cout<<ans<<endl;
    }
    return 0;
}

