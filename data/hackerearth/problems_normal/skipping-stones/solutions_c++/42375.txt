#include <iostream>
#include <stdio.h>
#include <algorithm>
using namespace std;
int main ()
{
    int n, l, d, f[1005];
    scanf("%d%d%d", &n, &l, &d);
    double a[1005], m[1005];
    for(int i=0;i< n;i++)
       scanf("%lf", &a[i]);
    for(int i=0;i< n;i++)
       scanf("%d", &f[i]);
///check for impossible
    int pp = 0;
    int res = true;
    for(int i=0;i<n;i++)
       if(pp+l < f[i]) {
           res = false;
           break;
       } else pp = f[i];
    if(f[n-1] + l < d)
       res = false;
//check end
    if(res == true) {
        bool g[1005];
        for(int i=0;i<n;i++) g[i] = false;
        int k =0;
        while(f[k]<=l) {g[k] = true; k++;}
    
        for(int i=0;i<n;i++)
           m[i] = a[i];
    
        for(int i=0;i<n;i++) {
           int c =1;
           while((i + c) < n && f[i+c] <= f[i] + l) {
               if(g[i+c] == false) {
                   m[i+c] = m[i] * a[i+c];
                   g[i+c] = true;
               } else if(m[i+c] < m[i]*a[i+c]) {
                   m[i+c] = m[i]*a[i+c];
               }
               c++;
           }
        }
        double max = 0.0;
        int c = 0;
        while(f[n - 1 - c] + l >= d) {
             if(max < m[n-1-c])
                  max = m[n-1-c];
             c++;
        }
        if(d <= l)
            max = 1.0;
        printf("%6lf\n", max);
    } else 
        printf("IMPOSSIBLE");
    system("pause");
    return 0;
}
