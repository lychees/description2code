//============================================================================
// Name        : Cpp.cpp
// Author      : 
// Version     :
// Copyright   : Your copyright notice
// Description : Hello World in C++, Ansi-style
//============================================================================

#include <bits/stdc++.h>
using namespace std;
#define MX 1005

struct line {
	int a, b, c, d;
	line(int a, int b, int c, int d) : a(a), b(b), c(c), d(d)
	{}
};

double getY(line l, int x, int curY) {
	double y = (double)((l.d - l.b) * (x - l.c)) / (l.c - l.a) + l.d;
	if (y >= min(l.b, l.d) && y <= max(l.b, l.d) && y < curY)
		return y;
	return -1;
}

bool visit[MX];

int main() {
	int X, N;
	cin >> X >> N;

	int a, b, c, d;
	vector<line> v;

	for (int i = 0; i < N; ++i) {
		cin >> a >> b >> c >> d;
		v.push_back(line(a, b, c, d));
	}

	double curX, curY;
	double y;
	curX = X;
	curY = INT_MAX;
	int idx;
	memset(visit, false, sizeof(visit));

	while (1) {
		double maxy = 0;
		for (int i = 0; i < N; ++i) {
			y = getY(v[i], curX, curY);
			if (y <= curY && maxy < y && !visit[i]) {
				maxy = y;
				idx = i;
			}
		}
		if (maxy == 0)
			break;
		if (v[idx].b < v[idx].d) {
			curX = v[idx].a;
			curY = v[idx].b;
		}
		else {
			curX = v[idx].c;
			curY = v[idx].d;
		}
		visit[idx] = true;
	}

	cout << curX << endl;
}
