#include<iostream>
#include<algorithm>
using namespace std;
int main()
{
	long long n,a[1002],count[1002];
	cin>>n;
	for(long i=0;i<n;i++)
		cin>>a[i];
	for(long i=0;i<n;i++)
		count[i]=1;
		
		sort(a,a+n);
	for(long i=0;i<n;i++)
		for(long j=0;j<i;j++)
			if(a[i]%a[j]==0)
				if(count[j]+1>count[i])
					count[i]=count[j]+1;
					
	long long max=-1;
	for(long i=0;i<n;i++)
		if(count[i]>max)
			max=count[i];
	if(max<2)
		cout<<"-1\n";
else
	cout<<max<<endl;
	return 0;
}