a, b = map(int, raw_input().strip().split())
answer = 0
status = raw_input().strip()

if status[0] == '1':
    answer += a

for bit in status[1:]:
    a = (a * a) % b
    if bit == '1':
        answer = (answer + a) % b
print answer % b