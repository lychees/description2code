#include<bits/stdc++.h>
using namespace std;
int arr[100010];
int cntr[100010];
int cn[100010];
int main(){

	int n;
	cin>>n;
	int cnt=0;
	int ma=0;
	int prev;
	int lma=0;

	for(int i=0;i<n;i+=1){
		cin>>arr[i];
		cntr[arr[i]]+=1;
		lma=max(lma,cntr[arr[i]]);
		if(i==0)prev = arr[i];
		else{
			if(arr[i-1]==arr[i]){
				cnt+=1;
				cn[arr[i]]+=1;
				ma=max(ma,cn[arr[i]]);
			}
		}
		//ma=max(ma,cnt);
	}
	if(lma>(n+1)/2){
			cout<<"-1"<<endl;
	}
	else cout<<max((cnt+1)/2,ma)<<endl;
}
