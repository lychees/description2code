#include <bits/stdc++.h>
#define ll long long
#define mod
#define lim 1000001
using namespace std;
vector<ll>v;
int main() {
ll n,t;

cin>>n>>t;
for(ll i=1;i*i<=n;i++)
if(n%i==0)
{v.push_back(i);
v.push_back(n/i);}

ll ans;
int kl=v.size();
ll tp,k;
while(t--)
{
scanf("%lld%lld",&tp,&k);
	if(tp==1)
	{ ans=0;
	 kl=v.size();
	   for(int i=0;i<kl;i++)
	   if(k%v[i]==0)
	   ans++;
		printf("%lld\n",ans);
	}
	else if(tp==2)
	{
	  ans=0;
	int kl=v.size();
	   for(int i=0;i<kl;i++)
	   if(v[i]%k==0)
	   ans++;
		printf("%lld\n",ans);
	  
	}
	else if(tp==3)
	{
		ans=0;
	int kl=v.size();
	   for(int i=0;i<kl;i++)
	   if(v[i]%k!=0)
	   ans++;
		printf("%lld\n",ans);
	}

}
	
}