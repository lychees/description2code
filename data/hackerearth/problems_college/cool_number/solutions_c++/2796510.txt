#include<bits/stdc++.h>
using namespace std;
int main()
{

   int t;
   cin>>t;
   while(t--)
   {
       long n,t1;
       cin>>n>>t1;
       int cu1=0;
       for(int k=1;k<=n;k++){
       int o[64]={0};
       bitset<64> A=k;
        for(int i=0,j=63;i<64;i++,j--)
        {
            o[i]=A[j];
        }
        int cu=0;

        for(int i=0;i<64;i++)
        {
            if(i<=61)
            if((o[i]==1) && (o[i+1]==0) &&(o[i+2]==1))
            {
                cu++;
                i+=1;
            }

        }
        if(cu>=t1)cu1++;
       }
       cout<<cu1<<endl;

   }

}
