#include <bits/stdc++.h>
using namespace std;
long long int dp[1005][1005];
int visit[1005][1005];
int a[1005][1005];
int xmove[4]={1,0,-1,0};
int ymove[4]={0,1,0,-1};
int n;
#define MOD 1000000007
int dfs(int i,int j,int prev)
{
	if(i<0||i>=n||j<0||j>=n)
	return 0;
	if(a[i][j]>=prev)
	return 0;
	if(dp[i][j]!=-1)
	return dp[i][j];
	long long int ans=0;
	ans=(ans+dfs(i+1,j,a[i][j]))%MOD;
	ans=(ans+dfs(i-1,j,a[i][j]))%MOD;
	ans=(ans+dfs(i,j-1,a[i][j]))%MOD;
	ans=(ans+dfs(i,j+1,a[i][j]))%MOD;
	dp[i][j]=(ans+1)%MOD;
	return dp[i][j];
	
}
int main()
{
	scanf("%d",&n);
	for(int i=0;i<n;i++)
	{
		for(int j=0;j<n;j++)
		{
			dp[i][j]=-1;
			scanf("%d",&a[i][j]);
		}
	}
	long long int ans=0;
	for(int i=0;i<n;i++)
	{
		for(int j=0;j<n;j++)
		{
			long long int temp=dfs(i,j,101);
			ans=(ans+temp)%MOD;
		}
	}
	cout<<ans;
	return 0;
}