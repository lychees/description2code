#include<bits/stdc++.h>
using namespace std;
#define mod 1000000007
int main()
{
	int n;
	cin>>n;
	int a[n][n];
	//int visited[n][n];
	long dp[n][n];
	for(int i=0;i<n;i++)
	for(int j=0;j<n;j++)
    {
		cin>>a[i][j];
	//	visited[i][j]=0;
		dp[i][j]=1;
     }
    for(int k=99;k>=1;k--)
	for(int i=0;i<n;i++)
	{
		for(int j=0;j<n;j++)
		{
			    int count=0;
			    if(a[i][j]==k)
			    {
				if((i+1>=0&&i+1<n))
				{
					if(a[i][j]<a[i+1][j])
					dp[i][j]=dp[i][j]+dp[i+1][j];
				}
				if((i-1>=0&&i-1<n))
				{
					if(a[i][j]<a[i-1][j])
					dp[i][j]=dp[i][j]+dp[i-1][j];
				}
				if((j+1>=0&&j+1<n))
				{
					if(a[i][j+1]>a[i][j])
					dp[i][j]=dp[i][j]+dp[i][j+1];
				}
				if((j-1>=0&&j-1<n))
				{
					if(a[i][j-1]>a[i][j])
					dp[i][j]=dp[i][j]+dp[i][j-1];
				}
				dp[i][j]%=mod;
		    	}
		}
		        
		}
	
	long count=0;
	for(int i=0;i<n;i++)
	for(int j=0;j<n;j++)
	count=(count+dp[i][j]%mod)%mod;
	cout<<count<<endl;
}