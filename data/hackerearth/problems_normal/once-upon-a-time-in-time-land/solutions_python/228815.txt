t = input()
for _ in range(t):
	n, k = map(int, raw_input().split())
	ar = map(int,raw_input().split())
	su = []
	su.append(max(0,ar[0]))
	for i in range(1,n):
		if ar[i] < 0:
			su.append(su[i-1])
		elif i - k -1 < 0:
			su.append(max(su[i-1],ar[i]))
		else:
			su.append(max(ar[i]+su[i-k-1],su[i-1]))
	print su.pop()