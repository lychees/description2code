#include <cstdio>
#define inp(x) scanf("%d",&x)
int abs(int a)
{
if(a<0) return -a;
else return a;
}
int max(int a,int b)
{
if(a>b) return a;
else return b;
}
int min(int a,int b)
{
if(a>b) return b;
else return a;
}
int gcd(int a,int b)
{
if(a== 0){
return b;
} else return gcd(b%a,a);
}
int main()
{
int t;
inp(t);
while(t--){
int x1,x2,y1,y2;
inp(x1);inp(y1);
inp(x2);inp(y2);
int a,b;
a=abs(x1-x2);
b=abs(y1-y2);
int ans;
if(a!=0&&b!=0)
ans = gcd(min(a,b),max(a,b))-1;
else {
if(a==0) ans=b-1;
else ans=a-1;
}
if(ans>=0) printf("%d\n",ans);
else printf("0\n");
}
return 0;
}
