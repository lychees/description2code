#include<iostream>
#include<stdlib.h>
#include<vector>
using namespace std;
typedef unsigned long long lli;
int main()
{
    int test,i=0,j,len,siz;
    string words;
    cin>>test;
    lli power;
    while(i++<test)
    {
        cin>>words;
        power=0;
        len=words.size();
        j=0;
        int palin[1000][1000]={0};
        for(j=0;j<len;j++)
            palin[j][j]=1;
        power+=len;
        for(j=0;j<len-1;j++)
        {
            if(words[j]==words[j+1]){
                palin[j][j+1]=2;
                power+=4;
        }
        }

        for(siz=3;siz<=len;siz++)
        {
            for(j=0;j+siz-1<len;j++)
                if(palin[j+1][j+siz-2]!=0 && words[j]==words[j+siz-1]){
                    palin[j][j+siz-1]=siz;
                    power+=siz*siz;
                }
                else palin[j][j+siz-1]=0;
        }
        cout<<power<<endl;
    }
    return  0;
}
