#include <bits/stdc++.h>
using namespace std;
struct node{
	long int favour;
	long int anger;
};
bool compare(node a, node b)
{
	if(a.favour-b.anger>b.favour-a.anger)
		return true;
	else
		return false;
}
int main()
{
    int t;
    cin>>t;
    while(t--)
    {
    	int n;
    	cin>>n;
    	vector<node>vec;
    	while(n--)
    	{
    		node temp;
    		cin>>temp.favour;
    		cin>>temp.anger;
    		vec.push_back(temp);
    	}
    	sort(vec.begin(),vec.end(),compare);
	    long int sum=0;
	    sum+=vec[0].favour;
	    sum+=vec[1].favour;
	    for(int i=2;i<vec.size();i++)
	    {
	    	sum-=vec[i].anger;
	    }
	  	cout<<sum<<endl;
    }
    
}
