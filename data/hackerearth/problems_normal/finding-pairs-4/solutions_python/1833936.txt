from collections import *
from heapq import *
from bisect import *
from math import *
from itertools import *
inf=float('inf')


if __name__=="__main__":
	tcase=int(raw_input())
	while tcase>0:
		tcase-=1
		n = int(raw_input())
		c = 0
		arr = map(int,raw_input().split())
		arrdict = {}
		for i in arr:
			try:
				arrdict[i]+=1
			except:
				arrdict[i]=1
		for i in arrdict:
			if arrdict[i]>1:
				c+=(arrdict[i]*(arrdict[i]-1)/2)
		print n+c
