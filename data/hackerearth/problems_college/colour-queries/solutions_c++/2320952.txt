#include <cmath>
#include <iostream>
#include <cstring>
using namespace std;
int white_cells;
int n,m,q, ar[101][101], x, y, d;
bool col[101][101], vis[101][101];
int x_i[4] = {1, 0, -1, 0};
int y_i[4] = {0, 1, 0, -1};

void f(int i, int j, int n, int m, int d){
    // cout << i << " " << j << "\n";
	int x,y;
	for(int k=0;k<4;k++){

		x = i + x_i[k];
		y = j + y_i[k];
        // cout << "x = " << x << "\t y = " << y << "\n";
		if(x >= 0 && x < n && y >= 0 && y < m){
			if(abs(ar[x][y] - ar[i][j]) <= d && !vis[x][y]){
				vis[x][y] = true;
				if(!col[x][y]){
					white_cells--;
					col[x][y] = true;
                    f(x, y, n, m, d);
				}
			}
		}

	}

}

int main(){
	
	cin >> n >> m >> q;
	white_cells = n*m;
	for(int i=0;i<n;i++){

		for(int j=0;j<m;j++){

			cin >> ar[i][j];

		}

	}

	while(q--){

		cin >> x >> y >> d;
		memset(vis, 0, sizeof(vis));
        memset(col, 0, sizeof(col));
        x--;y--;
        white_cells = n*m;
		f(x, y, n, m, d);

        int ans = n*m - white_cells;
        ans  = ans == 0 ? 1 : ans;
        cout << ans << "\n";

	}
}