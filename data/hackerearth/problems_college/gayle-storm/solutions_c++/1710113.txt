#include<bits/stdc++.h>
using namespace std;

const int N=1e5+10;
const int md=1e9+7;

int four[N];
int six[N];

int main() {
  int tt;
  scanf("%d",&tt);
  int sz;
  scanf("%d",&sz);
  four[0]=1,six[0]=0;
  for(int i=1;i<N;i++) {
    four[i]+=four[i-1];
    if(four[i]>=md) {
      four[i]-=md;
    }
    if(i-sz-1>=0) {
      four[i]+=six[i-sz-1];
      if(four[i]>=md) {
        four[i]-=md;
      }
      four[i]+=four[i-sz-1];
      if(four[i]>=md) {
        four[i]-=md;
      }
    }
    if(i-sz>=0) {
      six[i]+=four[i-sz];
      if(four[i]>=md) {
        four[i]-=md;
      }
      six[i]+=six[i-sz];
      if(six[i]>=md) {
        six[i]-=md;
      }
    }
  }
  for(int i=1;i<N;i++) {
    four[i]+=four[i-1];
    six[i]+=six[i-1];
    if(four[i]>=md) {
      four[i]-=md;
    }
    if(six[i]>=md) {
      six[i]-=md;
    }
  }
  while(tt--) {
    int a,b;
    scanf("%d%d",&a,&b);
    int fr=four[b]-four[a-1];
    if(fr<0) {
      fr+=md;
    }
    int sx=six[b]-six[a-1];
    if(sx<0) {
      sx+=md;
    }
    int ans=fr+sx;
    if(ans>=md) {
      ans-=md;
    }
    printf("%d\012",ans);
  }
  return 0;
}
