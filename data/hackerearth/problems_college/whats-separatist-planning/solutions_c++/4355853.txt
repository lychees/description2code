#include<bits/stdc++.h>
using namespace std;
int l,d,n;
int main()
{  scanf("%d %d %d",&l,&d,&n);
   int i,j,k;
   vector<string> v;
   string s,q;
   for(i=1;i<=d;i++)
   {  cin>>s;
      v.push_back(s);
   }
   for(i=1;i<=n;i++)
   {   cin>>s;
      int Megh=0;
      for(vector<string>:: iterator it=v.begin();it!=v.end();it++)
      {    q=*it;
           int f=1;
       //   cout<<q<<endl;
          for(j=0,k=0;j<s.length()&&k<q.length();)
          {//    cout<<j<<" "<<k<<" "<<f<<endl; 
		     if(s[j]=='(')
             { 
			    j++;
			    int g=0;
                 while(s[j]!=')')
                {  if(s[j]==q[k])
                   {   g=1;
				   }
				   j++;
			    }
			    if(g==0)
			    {  f=0;
			       break;
				}
				else
				{ j++;
				k++;
				}
				
			 }
			 else
			 {  if(s[j]!=q[k])
			   {  f=0;
			      break;
			   }
			   else
			   {  j++; k++;
			   }
			 }
		
		  }
		  if(f)
		  Megh++;
	  }
	  printf("%d\n",Megh);
   }
return 0;
}