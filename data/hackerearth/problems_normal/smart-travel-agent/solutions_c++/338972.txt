#include <bits/stdc++.h>
using namespace std;
std::vector<pair<int,int> > adj[110];
int mini[110],parent[110];
int main()
{
    int i,j,k,l,m,n;
    int st,end,tou;
    cin>>i>>j;
    for(k=0;k<j;k++)
    {
        cin>>l>>m>>n;
        adj[l].push_back(make_pair(m,n));
        adj[m].push_back(make_pair(l,n));
    }
    cin>>st>>end>>tou;
    mini[end]=11000;
    parent[end]=0;
    vector<int> que;
    que.push_back(end);
    int start=0;
    while(start<que.size())
    {
        for(k=0;k<adj[que[start]].size();k++)
        {
            l=min(mini[que[start]],adj[que[start]][k].second);
            if(mini[adj[que[start]][k].first]<l)
            {
                mini[adj[que[start]][k].first]=l;
                parent[adj[que[start]][k].first]=que[start];
                que.push_back(adj[que[start]][k].first);
            }
        }
      //  cout<<que[start]<<endl;
        start++;
    }
    k=mini[st];
    l=tou/k;
    tou+=l;
    while(st!=0)
    {
        if(st==end)
            cout<<st<<endl;
        else
        cout<<st<<" ";
        st=parent[st];
    }
    while(l*k<tou)
    {
        l++;
        tou++;
    }
    cout<<l;
    return 0;
}