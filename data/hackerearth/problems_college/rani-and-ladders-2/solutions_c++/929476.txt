#include <iostream>
#include <cstdio>
#include <queue>
#define inf 98765432
using namespace std;

int main() {
	int t;
	scanf("%d",&t);
	while (t--) {
		int n,l;
		scanf("%d%d",&n,&l);
		int lad[n+1];
		for (int i = 0; i <= n; i++)
			lad[i] = -1;
		for (int i = 0; i< l; i++) {
			int u,v;
			scanf("%d%d",&u,&v);
			lad[u] = v;
		}
		int w[n+1];
		for (int i = 0; i <= n; i++)
			w[i] = inf;
		w[1] = 0;
		for (int i = 1;i <= n; i++) {
			int temp1 = lad[i];
			if (temp1 != -1) {
				if (w[i] < w[temp1]) {
					w[temp1] = w[i];
				}
			}
			else {
			for (int j = 2; j <= 12; j++) {
				if ((i+j) <= n)
					if (w[i]+1 < w[i+j]) {
						w[i+j] = w[i]+1;
					}
			}	
				}
		}
		printf("%d\n",w[n]);
	}
	return 0;
}