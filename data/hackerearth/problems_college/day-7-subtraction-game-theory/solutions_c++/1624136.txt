#include <iostream>
#define mod 1000000007
#define MAX 1000005
using namespace std;

int main()
{
	int x,y,T;
	long long int a[MAX];
	
    scanf("%d %d",&x,&y);
    scanf("%d",&T);
    
    	a[0]=1;
    	for(int i=1 ; i<MAX ; i++)
    	{
    		a[i]=((a[i-1]*x)-y)%mod;
    	}
    	while(T--)
    	{
    		int n;
    		scanf("%d",&n);
    		printf("%lld\n",a[n]);
    	}
    
    return 0;
}
