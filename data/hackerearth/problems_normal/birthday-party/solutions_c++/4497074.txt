 #include <stdio.h>
#include<stdlib.h>
#include<math.h>
 
int main()
{
   int t,i,p,j,m,v,s,k;
 
   scanf("%d",&t);
   for(i=0;i<t;i++)
   {
   		int valid[1005]={0};
   		int cnt[1005]={0};
   		scanf("%d%d",&p,&m);
   		valid[0]=1;
   		for(j=0;j<m;j++){ 
    		scanf("%d",&v);
    		for(k = 1000; k>=v;k--){
    			if(valid[k-v])
    			valid[k] = 1;
    		}
    	}
   		for(j=0;j<p;j++)
   		{
   			scanf("%d",&s);
   			cnt[s]++;
   		}
   		int c=0;
   		for(j=0;j<1005;j++)
   		{
   			if(cnt[j]>0 && valid[cnt[j]])
   			c++;
   		}
   		printf("%d\n",c);
   }
}
