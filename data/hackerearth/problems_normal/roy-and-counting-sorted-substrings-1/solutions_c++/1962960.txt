#include <bits/stdc++.h>
using namespace std;
long long int sum(long long int n)
{
	return (n*(n+1))/2;
}
int main()
{
	int test;
	cin>>test;
	while(test--)
	{
		int l;
		cin>>l;
		string s;
		cin>>s;
		long long int ans=0, length=1;
		for(int i=1;i<s.size();i++)
		{
			if(s[i]>=s[i-1])
				length++;
			else
			{
				ans+=sum(length);
				length=1;
			}
		}
		ans+=sum(length);
		cout<<ans<<endl;
	}
	return 0;
}