#include <iostream>
#include<vector>
#include<cmath>
using namespace std;
#define ll long long
#define mod 1000000007
vector<ll > divisors;
void init(ll n){
	ll size=sqrt(n);
	for(ll i=1;i<=size;i++)
	{
		if(n%i==0)
		{
			if(n/i!=size)
			{
				divisors.push_back(n/i);
			}
			divisors.push_back(i);
		}
	}
}

int main(){
	ll n,t,type,k;
	scanf("%lld%lld",&n,&t);
	init(n);
	while(t--)
	{
		scanf("%lld%lld",&type,&k);
		ll c=0;
		if(type==1)
		{
			for(ll i=0;i<divisors.size();i++)
			{
				if(k%divisors[i]==0)
					c++;
			}
		}
		else if(type==2)
		{
			for(ll i=0;i<divisors.size();i++)
			{
				if(divisors[i]%k==0)
					c++;
			}
			
		}
		else if(type==3)
		{
			for(ll i=0;i<divisors.size();i++)
			{
				if(divisors[i]%k!=0)
					c++;
			}
			
		}
		printf("%lld\n",c);
	}
	
	
}