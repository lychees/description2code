/*    SHUBHAM SINHA    */
 
 
 
#include <cstdio>
#include <iostream>
#include <algorithm>
#include <string.h>
#include <vector>
#include <set>
#include <map>
#include <queue>
#include <list>
#include <math.h>
 
#define ll unsigned long long
#define maxN 1000
#define maxVal 100000000
#define minVal -100000000
#define mod 1000000007LL
 
#define gcd(a,b) __gcd(a,b)
 
using namespace std;
 
int d[maxN+5];
vector<int> g[maxN+5];

void dfs(int u)
{
	int i,v;
	for(i=0;i<(int)g[u].size();i++)
	{
		v=g[u][i];
		if(d[v]>(d[u]+1))
		{
			d[v]=d[u]+1;
			dfs(v);
		}
	}
}

int main()
{
    #ifndef ONLINE_JUDGE
    	//freopen("in.txt","r",stdin);
    	//freopen("out.txt","w",stdout);
    #endif
	int n,m,i,j,u,v,c;
	scanf("%d%d",&n,&m);
	for(i=1;i<=n;i++)
		if(i==1)
			d[i]=0;
		else
			d[i]=maxVal;
	while(m--)
	{
		scanf("%d",&c);
		if(c==1)
		{
			scanf("%d",&u);
			if(d[u]!=maxVal)
				printf("%d\n",d[u]);
			else
				printf("-1\n");
		}
		else
		{
			scanf("%d%d",&u,&v);
			g[u].push_back(v);
			if(d[v]>(d[u]+1))
			{
				d[v]=d[u]+1;
				dfs(v);
			}
		}
	}
    return 0;
}