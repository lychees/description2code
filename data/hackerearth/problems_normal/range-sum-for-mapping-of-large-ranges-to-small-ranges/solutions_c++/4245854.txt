#include<iostream>
#define mod 1000000007
using namespace std;
int parent[100001],r[100001];
long int find(long int x)
{
	if(x!=parent[x])
	parent[x]=find(parent[x]);
	return parent[x];
}
void merge(long int x,long int y)
{
	long int p=find(x);
	long int q=find(y);
	if(p!=q)
	{
		if(r[p]>r[q])
		{
			parent[q]=p;
			r[p]=r[p]+r[q];
		}
		else
		{
			parent[p]=q;
			r[q]=r[p]+r[q];
		}
	}
}
int main()
{
	long long int t,n,i,k,ans,a,b;
	cin>>t;
	while(t--)
	{
		cin>>n>>k;
		ans=1;
		for(i=0;i<=n;i++)
		{
			parent[i]=i;
			r[i]=1;
		}
		for(i=0;i<k;i++)
		{
			cin>>a>>b;
			merge(a,b);
		}
		for(i=1;i<=n;i++)
		{
			if(r[i]>2 && parent[i]==i)
			ans=(ans*(r[i]*(r[i]-1)/2))%mod;
		}
		cout<<ans<<endl;
	}
}