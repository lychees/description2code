t=input()
while (t!=0):
    n ,k=map(int,raw_input().split())
    num=list(map(int,raw_input().split()))
    z=0
    b=[]
    add=0
    i=-1
    for x in range(0,n):
        s=num[x]
        d =bin(s)
        sub=str(d)
        c=((sub[2:].count('1')))
        b.append(c)
        a=sorted(b)
    while( k!=0):
        add=add+a[i]
        i=i-1
        k=k-1
        
    print add
    t=t-1


