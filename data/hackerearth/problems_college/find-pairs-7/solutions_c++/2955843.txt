#include<bits/stdc++.h>
using namespace std;

vector<long> g[3000001];
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		for(long i=0;i<3000001;i++)g[i].clear();
		long long n;
		cin>>n;
		long long a[n];
		for(long i=0;i<n;i++)
			{
				cin>>a[i];
				a[i]+=1000000;
				g[a[i]].push_back(i);
			}

			long long ans=0;

			for(long i=0;i<3000001;i++)
			{

				long l = g[i].size();
				//ans+=l;
				if(l)
				{
					ans+=((l*(l+1))/2);
				}
			}
			cout<<ans<<endl;




	}


	return 0;
}