#include<iostream>
#include<vector>
#include<string>
#include<algorithm>
#include<cstdio>
#include<numeric>
#include<cstring>
#include<ctime>
#include<cstdlib>
#include<set>
#include<map>
#include<unordered_map>
#include<unordered_set>
#include<list>
#include<cmath>
#include<bitset>
#include<cassert>
using namespace std;
long long a[2000007], dp[2000007];
const long long INF = 1e18;
int main()
{
	//freopen("input.txt", "r", stdin);
	//freopen("output.txt", "w", stdout);
	int t;
	scanf("%d", &t);
	for (int tt = 1; tt <= t; tt++)
	{
		int n;
		scanf("%d", &n);
		for (int i = 1; i <= n; i++)
		{
			scanf("%lld", &a[i]);
		}
		for (int i = 1; i < 100007; i++)
		{
			dp[i] = INF;
		}
		dp[0] = -INF;
		for (int i = 1; i <= n; i++)
		{
			int l = 0, r = n + 1;
			while (r - l > 1)
			{
				int m = (l + r) / 2;
				if (dp[m] < a[i])
				{
					l = m;
				}
				else
				{
					r = m;
				}
			}
			dp[r] = min(dp[r], a[i]);
		}
		int ans = 0;
		for (int i = 1; i <= n; i++)
		{
			if (dp[i] < INF) ans = i;
		}
		printf("%d\n", n - ans);
	}
}