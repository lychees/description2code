#include <iostream>
using namespace std;

int main()
{
	int t;
	cin >> t;
	while (t--)
	{
		int n, m;
		cin >> n >> m;
		int x = n;
		int hash[10000] = { 0 }, dp[1000] = { 0 }, dp1[1000] = { 0 };
		for (int i = 1; i <= m; i++)
		{
			int y = 0, z = x;
			while (x>0)
			{
				y += ((x % 10)*(x % 10));
				x = x / 10;
			}
			x = y;
			dp[i] = x;
			//cout<<dp[i]<<" ";
			if (hash[x] == 0)
			{
				hash[x] = 1;
				dp1[x] = i;
			}
			else {
				//cout<<x<<" "<<i;
				int pos = i - dp1[x];
				m = m - dp1[x];
				m = m%pos;
				//cout<<" "<<m;
				m = m + dp1[x];
				break;
			}
		}
		cout << dp[m] << "\n";

	}
}
