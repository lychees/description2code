#include <iostream>
using namespace std;
int a[101][3];int mx1=0,n;int b[50];
int t,i,j,m,ans;
void print(int t[],int indx,int ans)
{
	if(indx>=n)
	{	mx1=max(mx1,ans);
	   return;
	   }
	   int j=1;

	for(int i=a[indx][0];i<a[indx][1];i++)
	     {
	     	if(t[i]>0);
	     	    
	     	 else
	     	 {
	     	 	j=0;break;
	     	 }
	     }
	     
	    print(t,indx+1,ans); 
	   if(j)
	   {
	   	int M[50];
	   	for(int i=0;i<m;i++)M[i]=t[i];
	   	for(int i=a[indx][0];i<a[indx][1];i++) M[i]--;
	    print(M,indx+1,ans+a[indx][2]);}
	    
	  if(ans>mx1)
	    mx1=ans;
	  
	  
}
int main()
{
	
	
	
	cin>>t;
	while(t--)
	{
	cin>>n>>m;
	for(i=0;i<n;i++)
	    cin>>a[i][0]>>a[i][1]>>a[i][2];
	  for(i=0;i<m;i++)
	     cin>>b[i];
	     print(b,0,0);
	cout<<mx1<<"\n";
	
	}
    return 0;
}
