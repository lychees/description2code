n = int(input())
se = set()
se.add('a')
se.add('A')
se.add('b')
se.add('B')
se.add('c')
se.add('C')
for _ in range(n):
	p = raw_input()
	l=0
	c=0
	for i in range(len(p)):
		if p[i] in se: 
			l+=1
		else :
			c += l*(l+1)/2
			l = 0
	c += l*(l+1)/2
	print(c)