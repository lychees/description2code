#include <iostream>
using namespace std;
int main()
{
    int n,i,j,flag1=0,flag2=0;
    cin>>n;
    int arr[n][n];
    for(i=0;i<n;i++)
    {
        for(j=0;j<n;j++)
        {
            cin>>arr[i][j];
        }
    }
    for(i=0;i<n;i++)
    {
        if(arr[0][i]==1)
        {
            arr[0][i]=3;
        }

    }
    for(i=0;i<n;i++)
    {
        if(arr[i][0]==2)
        {
            arr[i][0]=4;
        }

    }

    for(i=0;i<n-1;i++)
    {

        for(j=0;j<n;j++)
        {
            if(arr[i][j]==3)
            {

                if (i+1<n && arr[i+1][j]==1)
                {
                    arr[i+1][j]=3;
                }
                if (i+1<n && j-1>=0 && arr[i+1][j-1]==1)
                {
                    arr[i+1][j-1]=3;
                }
                if (i+1<n && j+1<n && arr[i+1][j+1]==1)
                {
                    arr[i+1][j+1]=3;
                }
            }
        }
    }
    for(j=0;j<n;j++)
    {
        if (arr[n-1][j]==3)
        {
            flag1=1;
            break;
        }
    }

    for(i=0;i<n-1;i++)
    {

        for(j=0;j<n;j++)
        {
            if(arr[j][i]==4)
            {

                if (i+1<n && arr[j][i+1]==2)
                {
                    arr[j][i+1]=4;
                }
                if (i+1<n && j-1>=0 && arr[j-1][i+1]==2)
                {
                    arr[j-1][i+1]=4;
                }
                if (i+1<n && j+1<n && arr[j+1][i+1]==2)
                {
                    arr[j+1][i+1]=4;
                }
            }
        }
    }
    for(j=0;j<n;j++)
    {
        if (arr[j][n-1]==4)
        {
            flag2=1;
            break;
        }
    }

    if(flag1==1 && flag2==1)
    {
        cout<<"AMBIGUOUS"<<endl;
    }
    else if(flag1==1)
    {
        cout<<"1"<<endl;
    }
    else if (flag2==1)
    {
        cout<<"2"<<endl;
    }
    else
    {
        cout<<"0"<<endl;
    }
    return 0;
}
