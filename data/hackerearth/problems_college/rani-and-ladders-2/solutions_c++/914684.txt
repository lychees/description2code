#include<stdio.h>
#include<iostream>
#include<stdlib.h>
#include<vector>
#include<queue>
#include<algorithm>
#include<math.h>
#include<map>
#include<stack>
#include<string.h>
#define STOP system("pause")
#define CASE int t;scanf("%d",&t);while(t--)
#define ll long long int
#define lu unsigned long long
#define MAX(a,b) a>b?a:b
#define MIN(a,b) a<b?a:b
using namespace std;
int a[160006];
int main()
{
	CASE
	{
		int n,l,i,j,len,temp1,temp2;
		scanf("%d %d",&n,&l);
		map < int,int > m;
		map < int,int > m1;
		while(l--)
		{
			scanf("%d %d",&temp1,&temp2);
			m[temp2]=temp1;
			m1[temp1]=1;
		}
		a[1]=0;
		a[0]=160005;
		for(i=2;i<=n;i++)
		{
			a[i]=160005;
			for(j=2;j<=12;j++)
			{
				if(i-j>=1&&m1.find(i-j)==m1.end())
				{
					a[i]=MIN(a[i],a[i-j]+1);
				}
			}
			if(m.find(i)!=m.end())
			a[i]=MIN(a[i],a[m[i]]);
		}
		cout<<a[n]<<endl;
	}
    return 0;
}
