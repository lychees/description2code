#include<bits/stdc++.h>
using namespace std;

int main()
{
	int t;
	cin >> t;
	while(t--)
	{
		int n,m,k;
		cin >> n >> m >> k;
		vector<int> x(n),c(m),z(m);
		for(int i=0;i<n;i++)
		{
			cin >> x[i];
			// mymap[x[i]]+=1;
		}
		// sort(x.begin(),x.end());
		for(int i=0;i<m;i++)
		{
			cin >> c[i];
		}
		for(int i=0;i<m;i++)
		{
			cin >> z[i];
		}
		int g,cnt=0,i;
		vector<vector<int> > vec(n);
		// for(it=mymap.begin(),i=0;it!=mymap.end();it++,i++)
		for(int i=0;i<n;i++)
		{
			cnt=0;
			for(int j=0;j<m;j++)
			{
				// g=__gcd(it->first,c[j]);
				g=__gcd(x[i],c[j]);
				if(g!=1)
				{
					vec[i].push_back(j);
				}
			}
		}
		int val=k;
		int ans=0,tmp=0,key;
		int arr[1000],marked[1000];
		for(int i=(1<<k)-1;i<(1<<n);i++)
		{
			cnt=0;
			for(int j=0;j<val;j++)
			{
				if(i&(1<<j))
				{
					arr[cnt]=j;
					cnt++;
				}
				if(cnt>k)
					break;
			}
			if(i==(1<<val)-1)
				val++;
			if(cnt!=k)
				continue;
			memset(marked,0,sizeof(marked));
			tmp=0;
			for(int p=0;p<k;p++)
			{
				key=arr[p];
				for(int j=0;j<vec[key].size();j++)
				{
					if(marked[vec[key][j]]==0)
					{
						marked[vec[key][j]]=1;
						tmp+=z[vec[key][j]];
					}
				}
			}
			ans=max(tmp,ans);
		}
		cout << ans << endl;
	}
	return 0;
}