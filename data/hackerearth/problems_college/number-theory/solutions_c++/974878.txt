#include <iostream>
using namespace std;
#include<cmath>
int main()
{
   int t;
   cin>>t;
   while(t--)
   {
   		int n;
   		cin>>n;
   		int t=sqrt(n);
   		int m=n;
   		int a[10]={0};
   		while(m)
   		{
   			a[m%10]=1;
   			m=m/10;
   		}
   		m=0;
   		for(int i=1;i<=t;i++)
   		{
   			if(n%i==0)
   			{
   				int x=n/i;
   				int y=i;
   				int f=0;
   				while(x)
   				{
   					if(a[x%10]==1)
   					{
   						f=1;
   						break;
   					}
   					x=x/10;
   				}
   				if(f)
   				m++;
   				f=0;
   				if(x!=y)
   				while(y)
   				{
   					if(a[y%10]==1)
   					{
   						f=1;
   						break;
   					}
   					y=y/10;
   				}
   				if(f)
   				m++;
   				f=0;
   			}
   		}
   		cout<<m<<endl;
   }
}
