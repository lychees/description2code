#include <iostream>
#include <map>
#include <stdio.h>
#include <math.h>
using namespace std;
int main() {	
	int N ;
	scanf("%d",&N);
	map<string,int> mapping;
	int counter = 1;
	for(int i = 0 ; i < N ; i++){
		char cityName[11] ;
		scanf("%10s",cityName);
	    mapping[cityName] = i;
	}
    int cityTravelCost[N][N];
    for(int i = 0 ; i < N ; i++)
    {
    	for(int j = 0 ; j < N ; j++){
    		int cost ;
    		scanf("%d",&cost);
    		cityTravelCost[i][j] = cost;
    	}
    }
    int totalVisit;
    scanf("%d", &totalVisit);
    long long totalCost = 0;
    int startCity = 0;
    for(int i = 0 ; i < totalVisit ; i++){
    	char cityName[11] ;
		scanf("%10s",cityName);
    	int visitedK = mapping[cityName];
    	totalCost += cityTravelCost[startCity][visitedK];
    	startCity = visitedK;
    	
    }
    printf("%lld\n", totalCost);
	return 0;
}