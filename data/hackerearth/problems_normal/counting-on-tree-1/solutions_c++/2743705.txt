#include<bits/stdc++.h>
using namespace std;
#define f first
#define s second
#define pii pair<int,int>
#define mp make_pair
#define pb push_back
#define ll long long
#define mod 1000000007LL
vector<int>adj[100011];
ll dp[2][100011][111];
int a[100011],k;
void dfs(int u,int p)
{
    for(int i=0; i<adj[u].size(); i++)
    {
        int k=adj[u][i];
        if(k==p)
            continue;
        dfs(k,u);
    }
    int c=0;
    //printf("%d\n",u);
    dp[0][u][a[u]]=1LL;
    dp[1][u][a[u]]=1LL;
    for(int i=0; i<adj[u].size(); i++)
    {
        int k1=adj[u][i];
        if(k1==p)
            continue;
        for(int j=0; j<=k; j++)
        {
            for(int l=0; l<=k-j; l++)
            {
                dp[!c][u][l+j]+=((dp[c][u][l]*dp[0][k1][j])%mod);
                if(dp[!c][u][l+j]>=mod)
                    dp[!c][u][l+j]-=mod;
            }
        }
//        printf("%d\n",k1);
//        for(int j=0; j<=k; j++)
//            printf("%lld ",dp[!c][u][j]);
//        printf("\n");
        for(int j=0; j<=k; j++)
            dp[c][u][j]=dp[!c][u][j];
        c=!c;
    }
    if(c==1)
    {
        for(int i=0; i<=k; i++)
            dp[0][u][i]=dp[1][u][i];
    }
//    for(int j=0; j<=k; j++)
//            printf("%lld ",dp[0][u][j]);
//        printf("\n");
//    printf("%d %d %d\n",u,a[u],k);
}
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
        int n,i,j;
        scanf("%d %d",&n,&k);
        for(i=0; i<=n; i++)
            adj[i].clear(),a[i]=0;
        for(int i1=0; i1<2; i1++)
            for(i=0; i<=n; i++)
                for(j=0; j<=k; j++)
                    dp[i1][i][j]=0LL;
        for(i=1; i<=n; i++)
            scanf("%d",&a[i]);
        for(i=0; i<n-1; i++)
        {
            int u,v;
            scanf("%d %d",&u,&v);
            adj[u].pb(v);
            adj[v].pb(u);
        }
        dfs(1,-1);
        ll ans=0LL;
//        for(i=1; i<=n; i++)
//        {
//            for(j=0; j<=k; j++)
//                printf("%lld ",dp[0][i][j]);
//            printf("\n");
//        }
        for(i=1; i<=n; i++)
        {
            ans=ans+dp[0][i][k];
            if(ans>=mod)
                ans-=mod;
        }
        printf("%lld\n",ans);
    }
    return 0;
}
