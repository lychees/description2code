#include <bits/stdc++.h>
#define ll long long int
using namespace std;

char base[1000001];
char str[1000001];

ll isSub(char base[],char str[],ll l1,ll l2)
{
    ll i,j=0;
    for(i=0;i<l1 && j<l2;i++)
    {
        if(base[i]==str[j])
            j++;
    }
    if(j==l2)
        return 1;
    else
        return 0;
}

int main()
{
    ll tc,i,j,test,c=0,k;
    ll len1,len2;
    scanf("%s %lld",base,&k);
    len1=strlen(base);
    scanf("%lld",&tc);
    while(tc--)
    {
        scanf("%s",str);
        len2=strlen(str);
        test=isSub(base,str,len1,len2);
        if(test==1)
            c++;
    }
    if(c>=k)
        printf("%lld LUCKY\n",c);
    else
        printf("%lld UNLUCKY\n",c);
}