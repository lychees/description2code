def main():
	numTestCases = int(raw_input())
	for i in range(numTestCases):
		posX = 1
		posY = 1
		jump = 0
		dimensions = raw_input().split()
		x = int(dimensions[0])
		y = int(dimensions[1])
		numCards = int(raw_input())
		for card in range(numCards):
			nums = raw_input().split()
			top = int(nums[0])
			bottom = int(nums[1])
			while(0<(posX+top)<=x and 0<(posY+bottom)<=y):
				posX+= top
				posY+= bottom
				jump+=1
		print jump

if __name__ == '__main__':
	main()