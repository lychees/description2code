#include<iostream>
using namespace std;
int main()
{	long n,tc,i,val,csum=0,ci=-1,bsum=0,bsi=-1,bei=-1,sum=0,z;
            csum=0;ci=-1;bsum=0;bsi=-1;bei=-1;sum=0;
    cin>>n;
	long a[n];
	for(i=0;i<n;i++)
		cin>>a[i];
	for(i=0;i<n;i++)
	{	val=csum+a[i];
		if(val>0)
		{	if(csum==0)
				ci=i;
			csum=val;
		}
		else
			csum=0;
		if(csum>bsum)
		{	bsum=csum;
			bsi=ci;
			bei=i;
		}
	}
	for(i=0;i<n;i++)
	{	if(a[i]>0)
            sum=sum+a[i];
    }
    if(bsum==0 && sum==0)
    {   z=a[0];
        for(i=0;i<n;i++)
        {   
            if(a[i]>z)
            {
                    z=a[i];
            }
        }
     cout<<z<<endl;
    }
    else 
	   cout<<bsum<<endl;
	return 0;
}