#include<iostream>
#include<vector>
#include<algorithm>
using namespace std;

typedef struct{
	int favor;
	int anger;
	int diff;
} gs_t;

vector<gs_t> vg;

bool diffOrderFunc(gs_t a, gs_t b)
{
	return (a.diff>b.diff);
}

int main()
{
	long T, N, a, b;
	long long ta;
	cin>>T;
	gs_t gd;
	while (T--)
	{
		cin>>N;
		vg.clear();
		vg.resize(N);
		ta = 0;
		while (N--)
		{	
		 	cin>>a>>b;
		 	gd.favor = a;
			gd.anger = b;
			gd.diff = a + b;	 		
			ta += b;
			vg.push_back(gd);
		 }
		 sort(vg.begin(), vg.end(), diffOrderFunc);
		 	 	
		 cout<<vg[0].diff + vg[1].diff - ta<<endl;
	}
	return 0;
}
