#include <bits/stdc++.h>
#define SI set<int> 
#define VI vector<int> 
#define ull unsigned long long 
#define inint(a) scanf("%d",&a)
#define input(a) cin>>a
#define ll long long 
#define print(a) cout<<a
#define printn(a) cout<<a<<"\n"
#define f first
#define s second
#define len(s) s.length()
#define range(a,b,n) for(int i=a;i<b;i+=n)
using namespace std;
const int MAX=1e5+5;
int id[MAX],n,e;
void initialise(){
	for(int i=0;i<MAX;i++){
		id[i]=i;
		//p[i].clear();
	}
}
int root(int x){
	while(id[x]!=x){
		id[x]=id[id[x]];
		x=id[x];
	}
	return x;
}
void sunion(int x,int y){
	int pe=root(x);
	int q=root(y);
	id[pe]=id[q];
}
ll kruskal(pair<ll,pair<int,int > > p[]){
	ll mC=0;
	for(int i=0;i<e;i++){
		int x=p[i].s.f;
		int y=p[i].s.s;
		int c=p[i].f;
		if(root(x)!=root(y)){
			mC+=c;
			sunion(x,y);
		}
	}
	return mC;
}
int main()
{
    //cout << "Hello World!" << endl;
    int t;
    inint(t);
    while(t--){
    	pair<ll,pair<int,int > > p[MAX];
    	initialise();
    	inint(n);
    	inint(e);
    	for(int i=0;i<e;i++){
    		int x,y,c;
    		cin>>x>>y>>c;
    		p[i]=make_pair(-c,make_pair(x,y));
    	}
    	sort(p,p+e);
    	cout<<-kruskal(p)<<"\n";
    }
    return 0;
}
