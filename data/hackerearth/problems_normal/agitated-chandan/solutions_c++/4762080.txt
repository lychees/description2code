#include <iostream>
#include<queue>
#include<vector>
#include<algorithm>
#include<cstdio>
using namespace std;

int main()
{int t;
scanf("%d",&t);
while(t--){
    long long int i,j,k,x,y,z,n;
    scanf("%lld",&n);
    vector < pair <long long int,long long int> > v[n+2];
    for(i=0;i<n-1;i++){
        scanf("%lld%lld%lld",&x,&y,&z);
        v[x].push_back(make_pair(y,z));
        v[y].push_back(make_pair(x,z));
    }
    queue <pair <long long int,long long int> > q;
    q.push(make_pair(0,x));
    vector <long long int> vis(n+2,0);
    vector <long long int> dis (n+2,0);
    while(!q.empty()){
        long long int temp1=q.front().first;
       long long int temp2=q.front().second;
        //printf("%d %d\n",temp1,temp2);
        q.pop();
        if(vis[temp2]==0){
                vis[temp2]=1;
            for(i=0;i<v[temp2].size();i++){
                if(vis[v[temp2][i].first]==0){dis[v[temp2][i].first]=temp1+v[temp2][i].second;
                q.push(make_pair(dis[v[temp2][i].first],v[temp2][i].first));}
            }


        }



    }
   long long int maxx=-1;
    for(i=1;i<=n;i++){
        if(dis[i]>maxx){
            maxx=dis[i];
            x=i;
        }
    }
    q.push(make_pair(0,x));
    fill(dis.begin(),dis.end(),0);
    fill(vis.begin(),vis.end(),0);

    while(!q.empty()){
        long long int temp1=q.front().first;
        long long int temp2=q.front().second;
       // printf("%d %d\n",temp1,temp2);
        q.pop();
        if(vis[temp2]==0){
                vis[temp2]=1;
            for(i=0;i<v[temp2].size();i++){
                if(vis[v[temp2][i].first]==0){dis[v[temp2][i].first]=temp1+v[temp2][i].second;
                q.push(make_pair(dis[v[temp2][i].first],v[temp2][i].first));}
            }


        }



    }


   long long int l=*max_element(dis.begin(),dis.end());
     if(l>10000){printf("10000 %lld\n",l);}
      else if(l>1000){printf("1000 %lld\n",l);}
      else if(l>100){printf("100 %lld\n",l);}
      else if(l<=100){printf("0 %lld\n",l);}





}

    return 0;
}
