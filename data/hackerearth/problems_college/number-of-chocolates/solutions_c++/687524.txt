#include <iostream>
using namespace std;
long long sum[1000000 + 5];
long long ans;
int a[1000000 + 5];
int main()
{
   int n,q,g1,p1,g2,p2;
   ios_base::sync_with_stdio(false);
   cin>>n>>q;
   cin>>a[1];
   sum[0] = 0;
   sum[1] = a[1];
   for(int i = 2;i <= n;i++)
        {
            cin>>a[i];
            sum[i] = sum[i - 1] + a[i];
            //cout << sum[i] << " ";
        }
    while(q--)
        {
        ans = 0;
        cin>>g1>>p1>>g2>>p2;
        g1++,p1++,g2++,p2++;
        if(p1 < g1)
            {
                int temp = g1;
                g1 = p1;
                p1 = temp;
                temp = g2;
                g2 = p2;
                p2 = temp;
            }
        ans = sum[g2] - sum[g1-1];
        //cout << "ans = " << ans << endl;
        if(p1 <= g2)
            {
          //      cout << "here" << endl;
                p1 = g2 + 1;
            }
        if((sum[p2] - sum[p1 - 1] ) > 0)
            {
                //cout << "here" << endl;
                ans = ans + (sum[p2] - sum[p1-1]);
            }
        cout<<ans<<endl;
        }
   return 0;
}
