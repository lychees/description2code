#include <iostream>
#include <stdio.h>
using namespace std;
#define inp(n)  scanf("%lld",&n)
#define INF 1<<20
struct {
	long long src,dest,weight;
}edge[10001];
long long d[10001];
long long N,M;
int main(){
	long long t; 
	inp(t);
	while(t--){
		inp(N);
		inp(M);
	for(long long i=0;i<M;++i){
		inp(edge[i].src);
		inp(edge[i].dest);
		inp(edge[i].weight);
		edge[i].weight=-1*edge[i].weight;
	}
    for(long long i=0;i<=N;i++) 
    	d[i]=INF;
    d[1]=0;
    
    for(long long i=1;i<=N-1;i++){
    	for(long long j=0;j<M;j++){
    		long long u=edge[j].src;
    		long long v=edge[j].dest;
    		long long w=edge[j].weight;
    		if(d[u]!=INF && d[u]+w<d[v])
    			d[v]=d[u]+w;
    	}
    }
    bool flag=0;
    for(long long j=0;j<M;j++){
    	long long u=edge[j].src;
        long long v=edge[j].dest;
    	long long w=edge[j].weight;
    	if(d[u]!=INF && d[u]+w<d[v])
    		{   
    			flag=1;
    			break;
    		}
    }
    if(flag==1)
       printf("Yes\n");
    else
    	printf("No\n");
 }
}