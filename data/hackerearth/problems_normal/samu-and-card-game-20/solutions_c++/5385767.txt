#include <iostream>
using namespace std;

int main()
{
    int t;
    cin>>t;
    while(t--)
       {
       	 int m,n,k;
       	 cin>>n>>m;
       	 cin>>k;
       	 int count=0;
       	 int x=1,y=1;
       	 int a,b;
       	 for(int i=0;i<k;i++)
       	  {
       	  	 cin>>a>>b;
       	  	 while(x+a>0&&x+a<=n&&y+b>0&&y+b<=m)
       	  	  {
       	  	  	 count++;
       	  	  	 x+=a;
       	  	  	 y+=b;
       	  	  }
       	  }
       	 cout<<count<<endl; 
       }
    return 0;
}
