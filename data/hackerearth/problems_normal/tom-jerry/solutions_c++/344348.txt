#include<iostream>
using namespace std;
int is_safe(int a[101][101],int n,int i,int j,int v[101][101])
{
	if(i>=0&&i<n&&j>=0&&j<n&&a[i][j]==1&&v[i][j]!=1)
	return 1;
	else
	return 0;
}
int findpath(int a[101][101],int n,int x,int y,int v[101][101],int &c)
{	
	int f,g,h,i;
	if(x==n-1&&y==n-1)
	{
		c++;
		return 1;
	}
	if(is_safe(a,n,x,y,v))
	{
		v[x][y]=1;
		if(findpath(a,n,x,y+1,v,c))
		{
			f=1;
			v[x][y+1]=0;
		}
		if(findpath(a,n,x+1,y,v,c))
		{
			g=1;
			v[x+1][y]=0;
		}	
		if(findpath(a,n,x-1,y,v,c))
		{
			h=1;
			v[x-1][y]=0;
		}
		if(findpath(a,n,x,y-1,v,c))
		{
			i=1;
			v[x][y-1]=0;
		}
		if(f==1||g==1||h==1||i==1)
		return 1;
		else
		{
			v[x][y]=0;
			return 0;
		}
	}
	else
	return 0;
}
int main()
{
	int n,c=0,f,x;
	cin>>n;
	int v[101][101],s[101][101];
	for(int i=0;i<n;i++)
	{
		for(int j=0;j<n;j++)
		{
			cin>>x;
			v[i][j]=!x;
			s[i][j]=0;
		}
	}
	f=findpath(v,n,0,0,s,c);
	cout<<c<<endl;
	return 0;
}