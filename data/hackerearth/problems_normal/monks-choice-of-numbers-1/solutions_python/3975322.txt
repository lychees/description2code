'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
T=int(raw_input())
for i in range(0,T):
	ls=list(map(int,raw_input().split()))
	N=ls[0]
	K=ls[1]
	ls=list(map(int,raw_input().split()))
	for j in range(0,N):
		X=ls[j]
		count=0
		while(X):
			X=X&(X-1)
			count=count+1
		ls[j]=count
	sums=0
	ls=sorted(ls,reverse=True)
	for j in range(0,K):
		sums=sums+ls[j]
	print sums