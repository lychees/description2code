#include <bits/stdc++.h>
using namespace std;
#define ll long long int
int main()
{
    ll p1, p2,  t, a, b, k, k1, k2, k3, i;
    scanf("%lld %lld %lld", &p1, &p2, &t);
    while(t--) {
    	scanf("%lld %lld", &a, &b);
    	k = 0;
    	if(b < 1000000) {
    	for(i = a; i <= b; i++) {
    		if(i%p1 == 0 || i%p2 == 0)
    			k++;
    	}
    			double d = (double)(k)/(b-a+1);
    			printf("%0.6lf\n", d);
    	}
    	else {
    	k1 = (b-a+1)/p1;
    	k2 = (b-a+1)/p2;
    	k3 = (b-a+1)/(p1*p2);
    	k = k1 + k2 - k3;
    	double d = (double)(k)/(b-a+1);
    	printf("%0.6lf\n", d);
    	}
    }
    return 0;
}
