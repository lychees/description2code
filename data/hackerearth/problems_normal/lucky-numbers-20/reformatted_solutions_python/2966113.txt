MOD = 1000000007
t = int(raw_input())


def rbit(n):
    count = 0
    while n > 0:
        n = n >> 1
        count += 1
    return count


while t > 0:
    t = t - 1
    n = int(raw_input())
    x = rbit(n)
    multiplier = x-2
    size = x-1
    temp = 0
    for i in range(size):
        temp = (temp << 1) | 1
    s = (temp*multiplier) % MOD
    temp = 1 << (x-1)
    z = 0
    for i in range(x-1):
        z = temp + (1 << i)
        if z <= n:
            s = (s + z) % MOD
    print s
