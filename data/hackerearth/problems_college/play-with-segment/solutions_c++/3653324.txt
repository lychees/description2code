#include <iostream>
#include <cstdio>
using namespace std;

int t,n,a,b,maxx,minn,maxxIn,minnIn,m1,m2;

int main() {
	// your code goes here
	
	scanf("%d",&t);
	
	while(t--){
		scanf("%d",&n);
		if(n<=2){
			for(int i=0;i<n;i++) scanf("%d",&a);
			printf("%d\n",n);
			continue;
		}
		scanf("%d %d",&a,&b);
		if(a>b){ maxxIn = 0, maxx = a;}
		else {maxxIn = 1; maxx = b;}
		minnIn = 1-maxxIn;
		minn = a+b-maxx;
	
		int len = 2;
		int maxlen = 2;
		m1 = maxxIn;
		m2 = minnIn;
		for(int i=2;i<n;i++){
			scanf("%d",&a);
			
			if(a>maxx || (a==maxx && maxxIn<minnIn)){
				maxx = a;
				m1 = maxxIn;
				maxxIn = i;
				
			} 
			if(a<minn || (a==minn && minnIn<maxxIn)){
				minn = a;
				m2 = minnIn;
				minnIn = i;
			}
			
			if(maxx-minn>1){

				if(len>maxlen)
					maxlen = len;
				if(a==maxx){
					len = i-m1+1;
					minnIn = m1;
					minn++;
					maxx = a;
					maxxIn = i;
				} else {
					len = i-m2+1;
					maxxIn = m2;
					maxx--;
					minn = a;
					minnIn = i;
				}
			
			} else 
				len++;
				
			if(len>maxlen)
				maxlen = len;
		
		}
		cout << maxlen << endl;
	}
	
	return 0;
}