#include <bits/stdc++.h>
using namespace std;
#define maxs 1000006
int ar[maxs];
int t[maxs];
int res[maxs];

int main()
{
	int n, q; scanf("%d%d", &n, &q);
	for(int i=0; i<n; i++ ) { 
		scanf("%d", &ar[i]);
		t[i] = i;
	}
	int len = n-1;
	for(int i=0; len ; i++ ) {
		int cur = 0, pos = 0; 
		while(cur < len) {
			res[t[cur]] += 1;
			res[t[cur+1]] += 1;
			if(ar[t[cur]] > ar[t[cur+1]]) {
				t[pos++] = t[cur];
			} else {
				t[pos++] = t[cur+1];
			}
			cur += 2;
		}
		if(cur == len) {
			t[pos++] = t[cur];
		}
		len /= 2;

	}
	while(q--) {
		int t; scanf("%d", &t);
		printf("%d\n", res[t-1]);
	}
    return 0;
}
