#include <bits/stdc++.h>
using namespace std;
#define pb push_back
#define mp make_pair
#define ft first
#define sd second
#define mem(a, v) memset(a, v, sizeof(a))
typedef long long ll;
typedef vector<ll> VI;
typedef pair<ll, ll> PII;
typedef vector<VI> matrix;
const ll mod = 1000000007LL;

int dp[1000100];
int n, m, k, x;
bool bad[1001000];

int main()
{
    cin>>n>>k>>m;
    for(int i=0; i<m; i++){
        cin>>x;
        if(x < 1001000)
        	bad[x] = true;
    }
    mem(dp, mod);
    cout<<"1 ";
    int cnt = 1;
    int cnt1 = 2;
    while(cnt < n){
    	if(dp[cnt1] > k && !bad[cnt1]){
    		dp[cnt1] = 1;
    		for(int j=2*cnt1; j<1000100; j += cnt1){
    			dp[j] = min(dp[j], dp[cnt1] + dp[j / cnt1]);
    		}
    		cout<<cnt1<<" ";
    		cnt++;
    	}
    	cnt1++;
    }
    return 0;
}