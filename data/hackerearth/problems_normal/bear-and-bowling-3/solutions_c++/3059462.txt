#include<bits/stdc++.h>
#define mod 1000000007
using namespace std;
int main()
{
	ios_base::sync_with_stdio(false);
	long i,n;
	cin>>n;
	long mul=1;
	i=1;
	while(i<n-1)
	{
		mul*=2;
		mul%=mod;
		i++;
	}
	//	cout<<mul<<endl;
	long incr=2;
	unsigned long long ans=0;
	long no;
	//	cout<<mul<<endl;
	if(n==1)
	{
		cin>>no;
		cout<<no<<endl;
	}
	else
	{
		while(n--)
		{
			cin>>no;
			//		cout<<"b4---"<<ans<<endl;
			ans=(ans+((no%mod)*(incr%mod))%mod)%mod;
			//		cout<<ans<<endl;
			incr++;
		}
		cout<<(ans*mul)%mod<<endl;
	}
	return 0;
}
