typedef long long ll;
#include<cstdio>
#include<cstdlib>
#include<cstddef>
#include<cstring>
#include<iostream>
#include<vector>
#include<set>
#define SIZE 1000000
const long N=1000000;
using namespace std;
 
bool isprime[SIZE];
void sieve(long N) 
{
    
    memset(isprime,true,N);
    isprime[0]=false;
    isprime[1]=false;
  	for(long i=2;i<=N;++i) 
	{
         if(isprime[i]) 
		 {   
				for(long j=2;i*j<=N;j++)
                {
                	isprime[i*j]=false;
                } 
                 
         }
    }
}
int main()
{
	long q,sum=0;
	cin>>q;
    sieve(N);
    long cs[N]={0},prime_count[N]={0};
    for(long i=2;i<=N;i++)
    {
      prime_count[i]=prime_count[i-1]+isprime[i];
      
      (isprime[prime_count[i]])?(sum++,cs[i]=sum):(cs[i]=sum);
    }
   while(q--)
   {
   	long l,r,i,c;
    cin>>l>>r;
    cout<<(cs[r]-cs[l-1])<<"\n";    
   }
 }
