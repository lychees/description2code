#include<bits/stdc++.h>
using namespace std;
#define ll long long int
ll grid[30][30],visited[30][30];
ll ans,n;
void dfs(ll x,ll y)
{
	visited[x][y]=1;
	if(x==n && y==n)
		++ans;
	if(grid[x+1][y]==0 && !visited[x+1][y])
		dfs(x+1,y);
	if(grid[x][y+1]==0 && !visited[x][y+1])
		dfs(x,y+1);
	if(grid[x-1][y]==0 && !visited[x-1][y])
		dfs(x-1,y);
	if(grid[x][y-1]==0 && !visited[x][y-1])
		dfs(x,y-1);
	visited[x][y]=0;
}
int main()
{
	ll t,i,j;
	cin>>t;
	while(t--)
	{
		cin>>n;
		memset(grid,1,sizeof(grid));
		memset(visited,0,sizeof(visited));
		for(i=1;i<=n;++i)
		{
			for(j=1;j<=n;++j)
				cin>>grid[i][j];
		}
		if(grid[1][1]==1 && grid[n][n]==1)
		{
			cout<<"0\n";
			continue;
		}
		ans=0;
		dfs(1,1);
		cout<<ans<<endl;
	}
	return 0;
}