#include<bits/stdc++.h>
#define ll long long
#define mod 1000000007
using namespace std;
ll bit[100005][3];
ll n=0;
void update(ll x,ll val, ll i){
	while(x<100005){
		bit[x][i] = (bit[x][i] + val%mod)%mod;
		x+= x&-x;
	}
}

ll query(ll x, ll i){ ll sum=0;
	while(x>0){
		sum += bit[x][i];
		sum %= mod;
		x -= x&-x;
	}
	return sum;
}

int main(){
	ll ans=0;
	ll x;
	cin>>n;
	for(int i=0; i<n; i++){
		cin>>x;
		update(x, 1, 0);
		update(x,  (query(x-1, 0)+query(x-1, 2))%mod, 1);
		update(x, ((query(100004,0)-query(x,0)+mod)%mod+(query(100004,1)-query(x,1)+mod)%mod)%mod, 2);
	}
	ans = (query(100004,1)%mod+query(100004,2)%mod)%mod;
	cout<<ans;
	return 0;
}