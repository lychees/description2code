t = int(raw_input())


def find_sum(s):
    if s < 10:
        return s
    else:
        su = 0
        while s > 0:
            su += s % 10
            s /= 10
        return find_sum(su)


while t:
    s = 0
    t -= 1
    m = int(raw_input())
    for i in xrange(m):
        tup = map(int, raw_input().split())
        s += tup[0] * tup[1]
    print find_sum(s)
