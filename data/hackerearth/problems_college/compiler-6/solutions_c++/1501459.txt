#include <bits/stdc++.h>
using namespace std;

char s[3000];

long long Fun(int &p)
{
	long long ret = 0;
	while (true)
	{
		if (s[p] == 0)
			return ret;
		if (s[p] == '}')
		{
			p++;
			return ret;
		}
		if (s[p] == 'A')
		{
			ret++;
			p += 7;
		}
		else if (s[p] == 'l')
		{
			p += 5;
			long long c = 0;
			while (s[p] != ')')
			{
				c = c * 10 + s[p] - '0';	
				p++;
			}
			p += 2;
			ret += c * Fun(p);
		}
		else throw;
	}
}

int main()
{
    int tt;
    for (cin >> tt; tt > 0; tt--)
    {
    	scanf("%s", s);
    	int p = 0;
    	printf("%lld\n", Fun(p));
    }
    
    puts("Code completed, sir!");
    
    return 0;
}
