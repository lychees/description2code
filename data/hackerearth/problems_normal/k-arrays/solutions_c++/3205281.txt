/*
jai shree ram _/\_
A hacker from NITP
*/

#include<bits/stdc++.h>
using namespace std;

#define mod 1000000007
typedef set<string> ss;
typedef vector<int> vs;
typedef map<int,char> msi;
typedef pair<int,int> pa;
typedef long long int ll;

ll power(ll a,ll b)
{
	if(b==0)
	return 1;
	ll ret=power(a,b/2)%mod;
	if(b&1)
	return (((a*ret)%mod)*ret)%mod;
	return (ret*ret)%mod;
}
int n,k,i,j,cnt;
ll x,mxlen,mxans,mnlen,mnans,a[20],val;
int main()
{
	//freopen("i.in", "r", stdin);
  	//freopen("o.out", "w", stdout);
  	ios_base::sync_with_stdio(false);
  	cin.tie(0);
  	int t;
	cin>>t;
	while(t--)
	{
		cin>>n>>k;
		for(j=0;j<n;j++)
		a[j]=0;
		for(i=0;i<k;i++)
		{
			for(j=0;j<n;j++)
			{
				cin>>x;
				a[j]=(a[j]+x)%mod;
			}
		}
		mxans=INT_MIN; mnans=INT_MAX;
		for(i=1;i<(1<<n);i++)
		{
			val=1; cnt=0;
			for(j=0;j<n;j++)
			{
				if((i>>j)&1)
				{
					val=(val*a[j])%mod;
					cnt++;
				}
			}
			val=(val*power(cnt,mod-2))%mod;
			if(val>mxans)
			{
				mxans=val;
				mxlen=cnt;
			}
			else if(val==mxans && cnt<mxlen)
				mxlen=cnt;
			if(val<mnans)
			{
				mnans=val;
				mnlen=cnt;
			}
			else if(val==mnans && cnt>mnlen)
				mnlen=cnt;
		}
		cout<<(mxans^mnans)<<" "<<(mxlen^mnlen)<<"\n";
	}
	return 0;
}

