#include <bits/stdc++.h>

using namespace std;

#define lld long long

lld a[100],dp[100][101];

int main(int argc, char **argv)
{
	int T,N,M;
	
	for(scanf("%d",&T);T>0;T--)
	{
		scanf("%d%d",&N,&M);
		for(int i=0;i<N;i++)
		{
			scanf("%lld",&a[i]);
		}
		for(int i=0;i<N;i++)
		{
			for(int j=0;j<=M;j++)
			{
				dp[i][j]=0;
			}
		}
		for(int j=1;j<=M;j++)
		{
			for(int i=0;i<N;i++)
			{
				dp[i][j]=0;
				if(j==1)
				{
					dp[i][j]=0;
				}
				else if((i+1)<j)
				{
					dp[i][j]=0;
				}
				else
				{
					for(int k=i-1;k>=0;k--)
					{
						dp[i][j]=max(dp[i][j],dp[k][j-1]+abs(a[i]-a[k]));
					}
				}
			}
		}
		
		lld answer=0;
		/*if(M==1)
		{
			for(int i=0;i<N;i++)
			{
				answer=max(answer,a[i]);
			}
		}
		else
		{*/
			for(int i=0;i<N;i++)
			{
				answer=max(answer,dp[i][M]);
			}
		//}
		printf("%lld\n",answer);
	}
	
	return 0;
}

