def mod(x):
	if x >= 0:
		return x
	else:
		return -x
T = int(raw_input())
while(T!=0):
	N,Q = map(int,raw_input().strip().split(" "))
	people_dict = {}
	name_list = []
	for i in xrange(N):
		name = raw_input().strip()
		people_dict[name]=0
		name_list.append(name)

	for i in xrange(Q):
		person_name = raw_input().strip()
		amount_paid = int(raw_input().strip())
		#people_dict[raw_input().strip()] += int(raw_input().strip())
		people_dict[person_name] += amount_paid
		#print people_dict
		num_of_people = int(raw_input().strip()) 
		people_dict[person_name] -= amount_paid/(num_of_people+1)+(amount_paid)%(num_of_people+1)
		#print "number of people",num_of_people
		for j in xrange(num_of_people):
			person_owe = raw_input().strip()
			#print "people_owe",people_owe
			people_dict[person_owe] -= amount_paid/(num_of_people+1)
			#print "inside inner loop",people_dict
	#keys = sorted(people_dict.keys())	
	"""

	for key,value in people_dict.iteritems():

		if value < 0:
			print key+" owes "+str(value)
		elif value > 0:
			print key+" is owed "+str(value)
		else:
			print key+" neither owes nor is owed"
	"""
	for key in name_list:
		if people_dict[key] < 0:
			print key+" owes "+str(mod(people_dict[key]))
		elif people_dict[key] > 0:
			print key+" is owed "+str(mod(people_dict[key]))
		else:
			print key+" neither owes nor is owed"

	T=T-1
