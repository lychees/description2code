#include <iostream>
#include<algorithm>
using namespace std;
int n;
int max(int a,int b)
{
	return (a>b)?a:b;
}
int arr[1005];
int dp[1005];
int main()
{
    cin>>n;
    for(int i=0;i<n;i++)
    cin>>arr[i];
    sort(arr,arr+n);
    int maxx=0;
    for(int i=0;i<n;i++)
    {
    	dp[i]=1;
    }
    for(int i=0;i<n;i++)
    {
    	for(int j=0;j<i;j++)
    	{
    		if(arr[i]%arr[j]==0 && dp[i]<dp[j]+1)
    			{
    				dp[i]=dp[j]+1;
    			}
    	}
    }
    for(int i=0;i<n;i++)
    maxx=max(maxx,dp[i]);
    if(maxx<=1)
    cout<<-1;
    else
    cout<<maxx;
    return 0;
}
