t = input()
for _ in range(t):
    a, b = map(int, raw_input().split(" "))
    if a < b:
        print a
    elif b <= 1:
        print a
    else:
        no = 0
        i = 1
        diff = a

        def findlarg(diff, b):
            p = 1
            while True:
                if (b**p) > diff:
                    return p-1
                p += 1

        while diff >= b:
            p = findlarg(diff, b)
            diff -= (b**p)
            no += 1

        print(no+diff)
