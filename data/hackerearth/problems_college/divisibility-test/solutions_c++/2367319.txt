#include<iostream>
#include<stdio.h>
#include<cstring>
#include<vector>

using namespace std;

#define ll long long int

#define K 10000000000

int main()
{
    int a,i,j,b,t,n;
    string s;

    ll sum,count;

    cin>>t;
    while(t--)
    {
        cin>>s;
        cin>>n;
        cin>>a>>b;

        int arr[b-a+1];
        j=0;

        for(i=a-1;i<=b-1;i++)
            arr[j++]=s[i]-'0';

        count=0;

        for(i=0;i<b-a+1;i++)
        {
            sum=0;
            for(j=i;j<b-a+1;j++)
            {
                sum+=arr[j];
                if(sum%n==0)
                    count++;
                if(sum>K)
                    sum=sum%n;
                sum*=10;
            }
        }

        cout<<count<<"\n";
    }
    return 0;
}