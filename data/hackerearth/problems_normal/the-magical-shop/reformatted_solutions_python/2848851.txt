a, b = map(int, raw_input().split())
st = raw_input()
ans = 0
for c in st:
    if c == '1':
        ans = (ans + a) % b
    a = (a*a) % b
print ans
