#include <bits/stdc++.h>
#define ll long long int
using namespace std;
bool vis[1000005];
int main()
{
	ll t, n, s, r;
	vector <pair<ll, ll> > v;
	cin >> t;
	
	while (t--) {
		memset(vis, false, sizeof(vis));
		v.clear();
		cin >> n;
		while (n--) {
			cin >> s >> r;
			v.push_back(make_pair(s, r));
		}
		ll cnt = 0;
		ll sum = 0;
		
		for (ll i = 0; i < v.size(); i++) {
			ll a = v[i].first;
			ll b = v[i].second;
			if (b == 1) {
				if (vis[a] == false) {
					vis[a] = true;
					cnt++;
				} 
			} else {
				cnt = 0;
			}
			if (cnt > sum) {
				sum = cnt;
			}
		}
		cout << sum << endl;
	}
	
	return 0;
}