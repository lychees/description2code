#include<bits/stdc++.h>
using namespace std;
#define u unsigned
u long long w[2][2]={{1, 1}, {1, 0}};
long long z;
void multiply(u long long F[2][2],u long long M[2][2])
{
 u long long x =  F[0][0]*M[0][0] + F[0][1]*M[1][0];
 u long long y =  F[0][0]*M[0][1] + F[0][1]*M[1][1];
 u long long e =  F[1][0]*M[0][0] + F[1][1]*M[1][0];
 u long long w =  F[1][0]*M[0][1] + F[1][1]*M[1][1];
 
  F[0][0] = x%z;
  F[0][1] = y%z;
  F[1][0] = e%z;
  F[1][1] = w%z;
}
void power(u long n,u long long f[2][2]){
	if (n==0||n==1)
	return;
	power(n/2, f);
	multiply(f,f);
	if (n%2!=0)
	multiply(f,w);
}
u long long fib(u long n){
	u long long f[2][2]={{1, 1},{1, 0}}, sum=0;
	long I;
    power(n-1,f);
    sum=f[0][0];
    	return sum%z;
}
int main(){
	int t;
	scanf("%d",&t);
	while (t--){
	    int n,m;
		scanf("%d %d",&n,&m);
		z=pow(2,m);
		if(n==0) {
			printf("0\n");continue;
		}
		printf("%lld\n", fib(n+1)%z);
	}
	return 0; 
}