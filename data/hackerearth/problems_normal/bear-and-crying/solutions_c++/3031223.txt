#include<bits/stdc++.h>
using namespace std;
long long int dp[100001],mod=1000000007;
long long int p[100001];
char a[100001];
int main()
{
    scanf("%s",a);
    int i;
    p[0]=1;
    for(i=1;i<=100000;i++)
        p[i]=(p[i-1]*2)%mod;
    int semis=0,unders=0;
    for(i=0;a[i]!='\0'&&a[i]!=';';i++)
    {
        //printf("%c\n",a[i]);
    }
    for(;a[i]!='\0';i++)
    {
        if(a[i]=='_')
        {
            unders++;
            dp[i]=dp[i-1];
        }
        else
        {
            dp[i]=((dp[i-1]*p[unders])%mod+((p[unders]-1+mod)%mod*semis)%mod)%mod;
            semis++;
            unders=0;
           // printf("%d\n",dp[i]);
        }
    }
    long long int ans=0;
    for(i=0;a[i]!='\0';i++)
    {
        if(a[i]==';')
        {
            ans=(ans+dp[i])%mod;
        }
    }
    printf("%lld\n",ans);
}
