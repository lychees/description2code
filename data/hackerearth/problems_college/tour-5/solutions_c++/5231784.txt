#include <bits/stdc++.h>
//template to keep things straight
 
#define FOR(i,a,b) for(int i=a;i<b;i++)
#define FORD(i,a,b) for(int i=a;i>=b;i--)
#define cin(n) scanf("%d",&n)
#define cinL(n) scanf("%lld",&n)
 
//#define cinL(n) scanf("%lld",&n)
//#define coutL(n) printf("%lld ",n);
 
#define cout(n) printf("%d ",n);
#define coutL(n) printf("%lld ",n);
#define endl printf("\n")
#define mp make_pair
#define pb push_back
#define in insert
#define ll long long 
#define fi first
#define se second
#define INF 1e10
#define MOD 1000007
//typedef
 

using namespace std;

vector<int>ad[100001]; 
int visited[100001];

int bfs(int start)
{

set<int>s;
visited[start]=1;
queue<int>Q;
Q.push(start);
while(!Q.empty())
{
int nv=Q.front();
Q.pop();
s.in(nv);
FOR(i,0,ad[nv].size())
{
if(visited[ad[nv][i]]==0)
{
s.in(ad[nv][i]);
visited[ad[nv][i]]=1;
Q.push(ad[nv][i]);
}
}

}
return s.size();
}

int main()
{
int v,e,prod=1,wtf=0;
cin(v);cin(e);
while(e--)
{
int v1,v2;
cin(v1);cin(v2);
ad[v1].pb(v2);
ad[v2].pb(v1);
}
fill_n(visited,100001,0);
FOR(i,1,v+1)
{if(visited[i]==0){wtf++;int cnt=bfs(i);prod=((prod%MOD)*(cnt%MOD))%MOD;}}
cout(wtf);
cout(prod);
endl;


}








