'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
testCases = input()

# print testCases

for i in range(0, testCases):
    arrayLength = input()
    arrayAsString = raw_input()
    arrayList = arrayAsString.split(" ")
    numArray = [int(x) for x in arrayList]
    arrayWhenDupsremoved = list(set(numArray))
    # print arrayWhenDupsremoved
    resFromDups = 0
    for x in arrayWhenDupsremoved:
        cout = numArray.count(x)
        resFromDups += (cout * (cout-1))/2
    print arrayLength + resFromDups
