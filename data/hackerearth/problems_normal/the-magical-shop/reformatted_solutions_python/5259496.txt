__author__ = 'abd el rahman'

a, b = map(int, raw_input().split())
a = a % b
s = raw_input()
s = s[::-1]
s = list(s)
ans = 0
while len(s) > 0:
    if s.pop() == '1':
        ans += a
        ans %= b
    a = a*a
    a %= b
print ans
