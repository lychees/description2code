def fact(n):
    return n*(n+1)/2


t = input()
for i in range(t):
    s = raw_input()
    count = 0
    j = 0
    l = len(s)
    y = 0
    x = -1
    while j < l:
        if s[j] != 'A' and s[j] != 'a' and s[j] != 'B' and s[j] != 'b' and s[j] != 'C' and s[j] != 'c':
            x = j
            z = x-y
            count = count+fact(z)
            y = j+1
        j = j+1
    count = count+fact(l-1-x)
    print count
