#include <iostream>
#include<bits/stdc++.h>
#define ll long long int
#define M 1000000007 

using namespace std;

vector<ll> a[100001];

bool visited[100001];

ll sum;
void dfs(ll s)
{
	ll i;
	visited[s] = true;
	
	sum++;
	
	for(i=0 ; i < a[s].size() ; i++)
	{
		if(!visited[a[s][i]])
		{
//			cout<<"Sum = "<<sum<<"  ";
			dfs(a[s][i]);
		}
	}
}

int main()
{
	ll t,n,m,i,x,y,ans;
    cin>>t;
    while(t--)
    {
    	cin>>n>>m;
    	for(i=0; i < n ;i++)
    	{
    		visited[i] = false;
    	}
    	while(m--)
    	{
    		cin>>x>>y;
    		x--;
    		y--;
    		a[x].push_back(y);
    		a[y].push_back(x);
    	}
    	ans = 1;
    	for(i = 0 ; i < n ;i++)
    	{
    		if(!visited[i])
    		{
    			sum = 0;
    			dfs(i);
//    			cout<<"Sum main = "<<sum<<" ";
    			if(sum == 1)
    			{
    				
    			}
    			else
    			{
//    				cout<<"Ans = "<<ans<<" ";
    				ans = ans* (sum*(sum-1)/2)%M;
    			}
    		}
    	}
    	cout<<ans<<endl;
    	for(i=0; i < n ; i++)
    	{
    		a[i].clear();
    	}
    	
    }
    
    return 0;
}
