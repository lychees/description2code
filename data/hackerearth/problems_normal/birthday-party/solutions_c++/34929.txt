#include<cstdio>
#include<cstring>
#include<vector>
#include<map>
#include<set>
#include<algorithm>
using namespace std;

int dp[1002];

int main()
{
	int tc,j;
	scanf(" %d",&tc);
	while(tc--){
		int P,M;
		scanf(" %d %d",&P,&M);
		int i,x;
		int sum=0;
		vector<int> v,v1;
		for(i=0;i<M;i++) {
			scanf(" %d",&x);
			v.push_back(x);
			sum+=x;
		}
		memset(dp,0,sizeof(dp));
	
		map<int,int> MM;
		set<int> S;
		for(i=0;i<P;i++)
		{
			scanf(" %d",&x);
			v1.push_back(x);
			MM[x]++;
			S.insert(x);
		}

		sort(v1.begin(),v1.end());
		sort(v.begin(),v.end());

		for(i=0;i<v.size();i++)
		{
		       for(j=1001;j>=0;j--) {
			 if(dp[j]||(j==0)){
				if(j+v[i]<=1001)
					dp[j+v[i]]=1;
			}
		       }
		}

		vector<int> vf(S.begin(),S.end());
		int ans=0;
		for(i=0;i<vf.size();i++)
		{
			int times=MM[vf[i]];
			if(dp[times]==1) ans++;
		}
		printf("%d\n",ans);
	
		 
		
		
	}
	return 0;
}
