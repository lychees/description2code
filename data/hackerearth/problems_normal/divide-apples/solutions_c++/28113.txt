#include<stdio.h>
#include<vector>
#include<algorithm>
using namespace std;

long long int f_abs(long long int r)
{
if(r<0)
return -r;
return r;
}

int main()
{
long long int n,tmp,k,tot=0;
vector<long long int> a,b;
scanf("%lld",&n);
for(int i=0;i<n;i++)
{
scanf("%lld",&tmp);
a.push_back(tmp);
tot+=tmp;
}
tot/=n;
for(int i=0;i<n;i++)
a[i]-=tot;
long long int temp=0;
for(int i=0;i<n;i++)
{
b.push_back(temp);
temp+=a[i];
}
sort(b.begin(),b.end());
//for(int i=0;i<n;i++)
//printf("%lld\n",b[i]);
if(n%2==0)
k=(b[(n/2)-1]+b[n/2])/2;
else
k=b[n/2];
k*=-1;
long long int sum1=k,ans=0;
//printf("%lld\n",k);
for(int i=0;i<n;i++)
{
ans+=f_abs(sum1);
sum1+=a[i];
}
//ans+=f_abs(sum1);
printf("%lld\n",ans);
return 0;
}