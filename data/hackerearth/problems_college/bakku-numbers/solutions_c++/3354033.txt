#include <iostream>
#include <cstdio>
using namespace std;

int main()
{
	long long p,q,T;
    scanf("%lld %lld",&p,&q);
    scanf("%lld",&T);
    while(T--){
        long long m=0,n=0,w=0;
    	long long l,r;
    	scanf("%lld %lld",&l,&r);
    	long long lower_p = (l + p - 1) / p; // find lowest divisor (round up)
		long long upper_p = r / p;           // find higher divisor (round down)
		m = upper_p - lower_p + 1; 
		long long lower_q = (l + q - 1) / q; // find lowest divisor (round up)
		long long upper_q = r / q;           // find higher divisor (round down)
		n = upper_q - lower_q + 1;
		long long e = p * q;
		long long lower_e = (l + e - 1) / e; // find lowest divisor (round up)
		long long upper_e = r / e;           // find higher divisor (round down)
		w = upper_e - lower_e + 1;
    	double  a = m + n - w;
    	double b = r - l+1;
    printf("%lf\n",a/b);
    }
    return 0;
}

