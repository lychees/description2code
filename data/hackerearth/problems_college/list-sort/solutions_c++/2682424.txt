#include<bits/stdc++.h>
using namespace std;
int main(){
	int t,n,k;
	string f,l;
	set< pair<string,int > > m;
	scanf("%d",&t);
	while(t--){
		scanf("%d\n",&n);
		k=n;
		m.clear();
		string s[n];
		for(int i=0;i<n;i++){
			getline( std::cin, f );
			s[i]=f;
			int spac = f.find_last_of(" ");
			if(spac==std::string::npos){
				l=f;
			}
			else{
			l=f.substr(spac+1);
			}
			for(int j=0;j<l.length();j++){
				if(l[j]>='A' && l[j]<='Z'){
					l[j]+=32;
				}
			}
			m.insert(make_pair(l,k));
			k--;
			
		}
		for(set<  pair<string,int>  > :: iterator it=m.begin();it!=m.end();it++){
			cout<<s[n-(it->second)]<<endl;
		}
	}
	return 0;
}