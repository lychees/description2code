test=input()
to=0
list1=list()
list2=list()
while to<test:
 list1.append(raw_input())
 list2.append(raw_input())
 to=to+1
j=0
while j<len(list1):
 a,b=map(int,list1[j].split())
 x1=map(int,list2[j].split())
 p=list()
 c=0
 for i in range(len(x1)):
  x=x1[i]
  while x!=0:
   if(x%2)==1:
    c=c+1
   x=x/2
  p.append(c)
  c=0
 p.sort()
 p.reverse()
 bo=0
 total=0
 while bo<b:
  total=total+p[bo]
  bo=bo+1
 bo=0
 p=[]
 j=j+1
 print total
 total=0