#include <bits/stdc++.h>
using namespace std;
long long int dp[1005],a[1005],n;
long long int recur(int src)
{
	if(src==0)
	return 1;
	else if(dp[src]!=-1)
	return dp[src];
	else
	{
	    dp[src] = 1;
		for(int i=src-1;i>=0;i--)
		{
			if(a[src]%a[i]==0)
			{
				dp[src]=max(dp[src],1+recur(i));
			}
		}
		return dp[src];
	}
}
int main()
{
	long long int i,maxi;

    cin>>n;
    for(i=0;i<n;i++)
    {
    	cin>>a[i];
    }
    memset(dp,-1,sizeof(dp));
    sort(a,a+n);
    for(i=n-1;i>=0;i--)
    {

    	if(dp[i]==-1)
    	 recur(i);
    	// cout<<"a"<<endl;
    }
   maxi=*max_element(dp,dp+n);
   if(maxi<=1)
   cout<<"-1"<<endl;
   else
   cout<<maxi<<endl;
    return 0;
}
