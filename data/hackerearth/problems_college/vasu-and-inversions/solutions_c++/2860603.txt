#include<bits/stdc++.h>
using namespace std;
int main(){
   int t;
   scanf("%d",&t);
   while(t--){
   	int n,k;
   	scanf("%d %d",&n,&k);
   	int o=0;
   	for(int i=0;i<n;i++){
   		int x;scanf("%d",&x);
   		if(x==1)
   		  o++;
   	}
   	if(k>n-o)
   	  k-=n-o,o=n;
   	else
   	  o+=k,k=0;
   	  if(k%2)
   	  o--;
   	  printf("%d\n",o);
   }
   return 0;	
}