#include <iostream>
using namespace std;

int main()
{
  	int test;
		long long result = 1;
	cin>>test;
	for(int i=0;i<test;i++) {
            result=1;
		long long left,right,k;
		cin>>left>>right>>k;
		long long int a=left*k+1;
	//	while((left*k + 1) <=right) {
      for(;a<=right;)
      {
		result=result+1;
			a = (a*k)+1;
        }
		
		cout<<result<<endl;
	}
}
