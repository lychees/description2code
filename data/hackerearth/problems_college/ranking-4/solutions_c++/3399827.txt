#include <bits/stdc++.h>
using namespace std;


int main()
{
	int t,n,temp;
	cin>>t;
	while(t--)
	{
		int a[10001];
		vector < pair<int,int> > vect;
		cin>>n;
		for(int i=0;i<n;i++)
		{
			cin>>temp;
			vect.push_back(make_pair(temp,i+1));
		}
		sort(vect.rbegin(),vect.rend());
	//	for(int i=1;i<=n;i++)
	//		cout<<vect[i-1].first<<" ";
		int rank=1;
		a[vect[0].second]=rank;
	//		cout<<vect[i-1].first<<" "<<vect[i-1].second<<endl;
		for(int i=1;i<=n;)
		{
		//	cout<<"comparing "<<vect[i-1].first<<" "<<vect[i].first<<endl;
			if((vect[i].first)==(vect[i-1].first))
			{
		//		cout<<"same"<<vect[i].first<<endl;
				a[vect[i].second]=rank;
			}
			else
			{
		//		cout<<"not same"<<vect[i].first<<endl;
				a[vect[i].second]=i+1;
				rank=i+1;
			}
			i++;
		}
		for(int i=1;i<=n;i++)
			cout<<a[i]<<" ";
		cout<<endl;
	}
	return 0;
}
