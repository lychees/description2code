#include <iostream>
#include <string>
using namespace std;

string inttobinary(int n) {
	string s;
	while(n!=0) {
			if(n%2==1)
				s+='1';
			else
				s+='0';
			n = n/2;
		}
	return s;
}
	
int main() {
	int t;
	cin>>t;
	while(t--) {
		int n,k,i,j,counter=0,num=0,len,flag=1;
		string s;
		cin>>n>>k;
		for(i=1;i<=n;i++) {
			s = inttobinary(i);
			len = s.length();
			flag=0;
			counter=0;
			for(j=len-1;j>=0;) {
				if(s[j]=='1' && s[j-1]=='0'&&s[j-2]=='1') {
					j = j-2;
					flag=1;
					counter++;
				}else 
					j--;
			}
			if(counter>=k && flag==1) 
				num++;
		}
		cout<<num<<"\n";
		}
	return 0;
}