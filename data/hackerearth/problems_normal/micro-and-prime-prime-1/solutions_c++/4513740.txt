#include <iostream>
#include<vector>
using namespace std;

void call(vector<int>& primes, int n,int y){
	for(int i=2;(i*n)<=y;i++)
		primes[i*n] = 1;
}

int main()
{
	int t;
    vector<int> primes(1000001);
	for(int i=2;i<=1000000;i++){
		if(primes[i]==0){
			call(primes,i,1000000);
		}
	}
    vector<int> pprimes(1000001);
    int pp = 0,nprimes = 0;
    bool prime = false;
    for(int i=2;i<=1000000;i++){
		if(primes[i]==0)
			nprimes++;
			//cout<<i<<" "<<nprimes<<endl;
			if(nprimes>1&&primes[nprimes]==0){
				prime = true;
			}
			else
				prime = false;
			if(prime)
				pp++;
		pprimes[i] = pp;
	}
	cin>>t;
    while(t--){
    	int x,y;
    	cin>>x>>y;
    	cout<<(pprimes[y]-pprimes[x-1])<<endl;
    }
    return 0;
}
