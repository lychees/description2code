#include <iostream>
using namespace std;

int main()
{
	long int i,j,n,t,z[1000000],x,y;
	scanf("%ld%ld%ld",&x,&y,&t);
	z[0]=1;
	for(j=1;j<=1000000;j++)
		z[j] = (z[j-1]*x-y)%1000000007;
	for(i=0;i<t;i++)
	{
		scanf("%ld",&n);
		printf("%ld\n",z[n]);
	}
    return 0;
}
