#include<iostream>
using namespace std;
main()
{  string b;
 int t,n,i,c,k,j,w,a,count;
  cin>>t;
while(t--)
{ count=c=w=0; 
  cin>>n>>k;
         for(j=5;j<=n;j++)
     {  c=w=0;
         a=j;
                  while(j!=0)
               {
                    b[w]=j%2+48;
                    w++;
                    j/=2;
               }
     j=a;
     
                  for(i=w-1;i>=0;i--)
              {  //cout<<b[i];
                  if(b[i]=='1'&&b[i-1]=='0'&&b[i-2]=='1')c++;
              }
            /*    cout<<j<<("->");
                         for(i=w-1;i>=0;i--)
              {  cout<<b[i]; }
                   cout<<endl;
            if(c>=k)    cout<<("c = ")<<c<<(",j = ")<<j<<endl;*/
                            
                  if(c>=k) count++;
                 
                  
     }
   //cout<<(" z= ")<<z<<endl;
   cout<<count<<endl;
   
}
}