#include<bits/stdc++.h>
using namespace std;
int A[100000+10]={0};
int B[100000+10]={0};
int bi[100000+10]={0};
int n,q,a,b,c,k;
int getvalue(int index)
{ int sum=0;
    while(index>=0)
    {
        sum+=bi[index];
        index=index- (index&(-index));
        if(index==0)
            break;
   // printf("going\n");
    }
    return sum;
}
void update(int index,int value)
{
    while(index<=100000+2)
    {
        bi[index]+=value;
        index+= ( index&(-index) );
    }
}
void done()
 {

   B[0]=A[0];
    for(int i=1;i<=100000;i++)
        B[i]=B[i-1]+A[i];
 }
int main()
{

  scanf("%d",&n);
  while(n--)
  {
      scanf("%d",&k);
      A[k]++;
  }
  done();
  scanf("%d",&q);
  while(q--)
  {  //point update range query
      scanf("%d",&a);
      if(a==0)
      {
          scanf("%d %d",&b,&c);
          if(b==0)
            printf("%d\n",B[c]+getvalue(c));
        else
            printf("%d\n",B[c]-B[b-1] + getvalue(c)-getvalue(b-1));
      }
      else if(a==1)
      {
          scanf("%d",&b);
          update(b,-1);
      }
      else
      {
          scanf("%d",&b);
          update(b,1);
      }
  }

    return 0;

}
