#include <iostream>
using namespace std;
#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <vector>
#include <map>
#include <queue>
#include <algorithm>
#include <cmath>
#include <set>
#include <ctime>
#include <stack>
#include <list>
#include <cassert>
#include <iomanip>
#include <deque>
#include <sstream>
#include <fstream>
typedef pair<int,int> pii;
#define rep(i,j,n) for(i=j;i<n;i++)
#define pb push_back
#define ff first
#define ss second 
#define lli long long int

const int maxn = 5e5 + 100;
int ans[maxn];
int gg[maxn];
bool is[maxn];
int okay[maxn];
lli mod = 1e9 + 7;
int main() {
        
    ios::sync_with_stdio(false);
    
    for (int i = 2; i < maxn; i++) {
    	if (is[i]) continue;
    	for (int j = 1; j*i < maxn; j++) {
    		is[i*j] = 1;
    		int tmp = i*j;
    		int cnt = 0;
    		while (tmp%i == 0) {
    			cnt++;
    			tmp /= i;
    		}
    		if (ans[i*j] < cnt) {
    			ans[i*j] = cnt;
    			gg[i*j] = i;
    		}
    	}
    }
    
    okay[1] = 1;
    okay[2] = 0;
    for (int i = 3; i < maxn; i++) {
    	int tmp = gg[i]%i;
    	if (tmp&1)
    	okay[i] = 1;
    	else
    	okay[i] = 0;
    }
    
    int n,l;
    cin >> n >> l;
    
    vector <lli> a(n);
    
    for (int i = 0; i < n; i++)
    cin >> a[i];
    
    sort(a.begin(),a.end());
    
    int cur = 0;
    for (int i = 1; i <= l; i++) {
    	if (okay[i]) a[n-1] = (2ll*a[n-1])%mod;
    	else a[cur] /= 2;
    	if (a[cur] == 0) cur++;
    	if (cur == n) cur--;
    }
    
    
    int rr = 0;
    for (int i = 0; i < n; i++)
    if (a[i]) rr++;
    
    cout << rr << endl;
    for (int i = 0; i < n; i++)
    if (a[i])
    cout << a[i] << " ";
    
    return 0;
        
}