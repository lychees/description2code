#include <bits/stdc++.h>
#define rf freopen("inp.in","r",stdin)
using namespace std;

const int N = 1e5 + 50, MOD = 1e9 + 7;

char A[N];
long long P[N];

int main(){

    //rf;  
    cin >> A;
    long long res = 0, cnt = 0, suff;
    int len = strlen(A);
    
    for(int i = 0; i < len; i++)
      P[i] = (i > 0 ? P[i - 1] : 0) + (A[i] == ';');
    
    for(int i = len - 1; i >= 0; i--){
       if(A[i] == '_'){
         suff = (cnt + (P[len - 1] - P[i]))%MOD;
         cnt += suff , cnt %= MOD;
         res += (suff * P[i])%MOD;
         res %= MOD;
       }
    }
    
    cout << res << endl;
    return 0;
}