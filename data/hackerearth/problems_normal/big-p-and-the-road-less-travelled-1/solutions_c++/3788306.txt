#include <bits/stdc++.h>
using namespace std;
set<int > adj[10001];
int n;
map<pair<int, int >, bool > mp;
long long dp[10001];
long long func(int x){
	if(x==n){
		return 1;
	}
	if(dp[x]!=-1){
		return dp[x];
	}
	long long ans=0;
	for(set<int >::iterator j=adj[x].begin(); j!=adj[x].end(); j++){
		if(mp.find(make_pair(x, *j))==mp.end() || mp[make_pair(x, *j)]==false){
			mp[make_pair(x, *j)]=true;
			ans+=func(*j);
			mp.erase(mp.find(make_pair(x, *j)));
		}
	}
	dp[x]=ans;
	return ans;
}
int main()
{
    int x, y;
    memset(dp, -1, sizeof(dp));
    cin>>n;
    
    while(true){
    	cin>>x>>y;
    	if(x==0 && y==0){
    		break;
    	}
    	adj[x].insert(y);
    }
    cout<<func(1)<<endl;
    return 0;
}
