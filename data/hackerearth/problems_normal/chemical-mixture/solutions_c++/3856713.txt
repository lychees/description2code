#include <stdio.h>
#include <vector>
#include <algorithm>
#include <set>
#define pb push_back
#define lli long long int
#define MAXN 100
using namespace std;

lli a[MAXN];
lli w[MAXN];
vector <lli> res;
vector <lli> got;

int main(void) {
    int t;
    lli m;
    int n1, n2;

    scanf(" %d", &t);
    while(t--) {
        res.clear();
        got.clear();
        lli best = -1;
        scanf(" %lld %d %d", &m, &n1, &n2);
        for (int i = 0; i < n1; i++) {
            scanf(" %lld", &a[i]);
        }
        for (int i = 0; i < n2; i++) {
            scanf(" %lld", &w[i]);
        }

        for (int mask = 0; mask < 1 << n2; mask++) {
            lli aux = 0;
            for (int i = 0; i < n2; i++) {
                int bit = (mask >> i) & 1;
                if (bit) {
                    aux += w[i];
                }
            }
            got.pb(aux);
        }

        sort(a, a + n1);
        for (int i = 0; i < (int)got.size(); i++) {
            lli need = m - got[i];
            lli sum = 0;
            vector <lli> aux;
            for (int i = n1 - 1; i >= 0; i--) {
                if (need >= a[i]) {
                    aux.pb(a[i]);
                    sum += a[i];
                    need -= a[i];
                }
            }
            if (need == 0 && sum > best) {
                res = aux;
                best = sum;
            }
        }


        if (best != -1) {
            sort(res.begin(), res.end());
            printf("YES\n");
            for (int i = 0; i < (int)res.size(); i++) {
                if (i != 0) {
                    printf(" ");
                }
                printf("%lld", res[i]);
            }
            printf("\n");
        } else {
            printf("NO\n");
        }
    }
    return 0;
}
