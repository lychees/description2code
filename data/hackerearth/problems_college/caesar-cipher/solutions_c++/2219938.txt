#include <stdio.h>
#include<string.h>
#include<iostream>
using namespace std;
int main()
{
    int t;
    char str[100000];
    int i,n;
    cin>>t;
    while(t--)
    {
    	cin>>n;
    	n=n%26;
    	cin>>str;
    	for(i=0;str[i]!='\0';i++)
    	{
    		int z=str[i];
    	//cout<<z<<"\t";
    	//cout<<n;
    		z=z+n;
    			
    		if(z>90 && isupper(str[i]))
    		{
    			int l=90-str[i];
    			int u=n-l;
    		z=64+u;
    		}
    		if(z>122 && islower(str[i]))
    		{
    			int l=122-str[i];
    			int u=n-l;
    		//	cout<<"ku";
    			z=96+u;
    		}
    		//cout<<z;
    		printf("%c",z);
    	}
    	cout<<endl;
    }
}
