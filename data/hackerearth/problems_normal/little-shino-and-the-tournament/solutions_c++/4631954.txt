
#include <iostream>
#include <list>
#include <map>

using namespace std;

int main()
{
	std::ios_base::sync_with_stdio(false);
	map<int,int> mp;
    int N, Q, i=1, val;
    scanf("%d %d",&N, &Q);
    list<int> lst(N);
    int arr[N];
    for(auto& it : lst){
    	scanf("%d",&val);
    	mp[val] = 0;
		it = val;
		arr[i] = val;
		i++;
    }
    
	while(lst.size() > 1){
		std::list<int>::iterator it1 = lst.begin(), it2 = ++it1;
		it1--;
		while(it2 != lst.end()){
			mp[*it1]++;
			mp[*it2]++;
			if(*it1 > *it2){
				it1++;
				it1++;
				lst.erase(it2++);
				if(it1==lst.end() || ++it2 == lst.end())
					break;
			}
			else{
				lst.erase(it1++);
				it1++;
				it2++;
				if(it2!=lst.end())
					it2++;
				else
					break;
			}
		}
	}
    while(Q--){
    	scanf("%d",&val);
    	printf("%d\n",mp[arr[val]]);
    }
    return 0;
}