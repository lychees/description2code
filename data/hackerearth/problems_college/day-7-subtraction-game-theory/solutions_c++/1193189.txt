	#include <iostream>
	#include <vector>
	
	#include<stdio.h>
using namespace std;

int main()
{
	int x,y;
	scanf("%d",&x);
	scanf("%d",&y);
	long long Q,N;
	scanf("%lld",&Q);
	vector<long long> prevElements(10000000);
	prevElements[0]=1;
	while(Q>0)
	{
		Q--;
		scanf("%lld",&N);
		long long day=1;
		if(prevElements[N]!=0)
		{
		printf("%lld\n",prevElements[N-1]%1000000007);
	
		continue;
		}
		for(long long i=0;i<N;i++)
		{
			
			day=(((day%1000000007)*(x%1000000007))%1000000007 - (y%1000000007))%1000000007;
			prevElements[i]=day;
		}
		printf("%lld\n",day%1000000007);
		
	}
	
    return 0;
}
