#include<bits/stdc++.h>
using namespace std;
bool fun(int a,int b)
{
    if(a>b)
        return true;
    return false;
}
int main() {
	int t,n,k;
	cin>>t;
	while(t--)
	{
	    cin>>n>>k;
	    int ar[n],st[n];
	    for(int i=0;i<n;i++)
	    cin>>ar[i];
	    int max=0;
	    for(int i=0;i<n;i++)
	    {
	        int temp=0;
	        while(ar[i])
	        {
	            ar[i]=ar[i]&(ar[i]-1);
	            temp++;
	        }
	        st[i]=temp;
	    }
	    int sum=0;
	    sort(st,st+n,fun);
	    for(int i=0;i<k;i++)
	        sum+=st[i];
	    cout<<sum<<endl;
	}
	return 0;
}
