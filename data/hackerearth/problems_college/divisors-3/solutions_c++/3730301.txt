#include<bits/stdc++.h>
using namespace std;
vector< int > vec;
vector< int > :: iterator  it;
long long int divisors(long long int n)
{
	long long int i = 1;
	long long int k = sqrt(n);
	while( i <= k )
	{
		if( n%i == 0)
		{
			vec.push_back(i);
			if( i != n/i )
			{
				vec.push_back(n/i);
			}
		}
		i++;
	}
/*	for( it = vec.begin() ; it != vec.end() ; it++ )
	{
		cout<<*it<<" ";
	}*/
}
int main()
{
	long long int n,t;
	cin>>n>>t;
	divisors( n );
	while( t-- )
	{
		long long int x, k;
		cin>>x>>k;
		int c = 0;
		if( x == 1 )
		{
			for( it = vec.begin() ; it != vec.end() ; it++ )
			{
				if( k % (*it) == 0 )
				{
					c++;
				}
			}
			cout<<c<<"\n";
		}
		else if( x == 2 )
		{
			for( it = vec.begin() ; it != vec.end() ; it++ )
			{
				if( (*it) % k == 0 )
				{
					c++;
				}
			}
			cout<<c<<"\n";
		}
		else if( x == 3 )
		{
			for( it = vec.begin() ; it != vec.end() ;it++ )
			{
				if( (*it) % k != 0 )
				{
					c++;
				}
			}
			cout<<c<<"\n";
		}
	}
	
}