#include <iostream>

using namespace std;

int main()
{
    int n,q,a,b,c,ar[100001],flag=0,i;
    cin>>n;
    for(i=0;i<n;i++)
        ar[i]=0;
    cin>>c;
    while(c--)
    {
        cin>>a>>b;
        ar[a]=b;
    }
    cin>>q;
    while(q--)
    {
        flag=0;
        cin>>a>>b;
        if(ar[a]==b)
            flag = 1;
        else
        {
            while(ar[a]!=0)
            {
                if(ar[a]==b)
                {
                    flag=2;
                    break;
                }
                else
                    a=ar[a];
            }
        }
        if(flag==1)
            cout<<"Direct Connection\n";
    else
        if(flag==2)
        cout<<"Indirect Connection\n";
    else
        cout<<"No Connection\n";
    }
    return 0;
}
