coin = range(0, 100000)
for i in range(0, 100000):
    coin[i] = 0
n = int(raw_input())
q = int(raw_input())
while q:
    # print coin[0:10]
    c = int(raw_input())
    a = int(raw_input())
    b = int(raw_input())
    if c:
        hc = 0
        for i in range(a, b+1):
            if coin[i]:
                hc += 1
        print hc
    else:
        for i in range(a, b+1):
            if coin[i]:
                coin[i] = 0
            else:
                coin[i] = 1
    q -= 1
