#include <iostream>
#include <algorithm>
#include <vector>
using namespace std;

using ll = long long;

int main()
{
	ll n,k,d;
	cin >> n >> k >> d;
	vector<ll> win(n-k+1);
	vector<ll> dt(n+1,0);
	vector<ll> sm(n+1,0);
	for(int i{1};i<=n;i++)
	{
		cin >> dt[i];
		sm[i] = dt[i];
	}
	ll s{0};
	ll w{0};
	for(int i{1};i<=n;i++)
	{
		sm[i] += sm[i-1];
		if(i>=k){
			win[w++] = sm[i] - sm[i-k];
		}
	}
	/*
	for(auto e:win)
		cout<<e<<",";
	cout<<endl;*/
	ll r{0};
	for(int i{0};i<w;i++)
	{
	/*	for(auto e:win)
			cout<<e<<",";
		cout<<endl;*/
		if(win[i]==0)
		{
			cout<<"-1"<<endl;
			return 0;
		}
		if(win[i]-d<0){
			for(int j{min((ll)win.size()-1,i+k)};j>=i;j--)
			{
			//	cout<<"$"<<j<<","<<dt[j+1]<<endl;
				if(dt[j+1]!=0){
					for(int q{j};q<min(j+k-1,w);q++)
						win[q] = d;
				}
			}
			++r;
		}
	}
	cout<<r<<endl;
}
