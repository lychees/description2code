#include<cstdio>
long long int c[1000032]={0},pr[1000032];
long long int check(long long int n)
{
		while(n>0)
	{
		if(n%10==7)
		return 1;
		
		n=n/10;
	}
	return 0;
}
void generate()
{
        long long int i,j,k,f,n;
        pr[0]=2;c[2]=1;
        k=1;
        for(i=3;i<=1000005;i+=2)
        {
            f=0;
            for(j=0;pr[j]*pr[j]<=i;j++)
            {
            
                if(i%pr[j]==0)
                {   f=1;
                    break;
                } 
                
            }
            if(f==0)
            {
                pr[k++]=i;
                c[i]=1;
            }
        }
        //for(i=1;i<=10;i++)
        //printf("%lld ",c[i]);
        c[2]=c[3]=0;
        for(i=4;i<=1000003;i++)
        {
        	if(c[i]==0&&(check(i)==1))
        	{
        		c[i]=1;
        	}
        	else
        	c[i]=0;
        }
        for(i=3;i<=1000002;i++)
        {
        	if(c[i]==1)
        	c[i]=c[i-1]+1;
        	else
        	c[i]=c[i-1];
        }
      //  for(i=1;i<=50;i++)
       // printf("%lld ",c[i]);
}
int main()
{
	generate();
   long long int t,n,m;
   scanf("%lld",&t);
   while(t--)
   {
   	scanf("%lld%lld",&n,&m);
   	if((c[m]-c[n-1])>0)
   	printf("%lld\n",c[m]-c[n-1]);
   	else
   	printf("-1\n");
   }
   return 0;
}