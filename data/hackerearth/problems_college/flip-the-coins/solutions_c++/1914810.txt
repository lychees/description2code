#include <iostream>
#include <vector>
using namespace std;

int main()
{
    long long int n;
    cin >> n;
    vector<bool> all(n,false);
   	long long int q;
   	cin >> q;
   	while(q--){
   		int type,a,b;
   		cin >> type >> a >> b;
   		if(type){
   			int total = 0;
   			for(int i = a;i <= b;++i)
   				if(all[i])
   					total++;
   			cout << total << endl;
   		}
   		else{
   			for(int i = a;i <= b;++i)
   				all[i] = !all[i];
   		}
   	}
    return 0;
}
