#include <iostream>
using namespace std;

	//SOLUTION BY MAYANK NARULA
   /*
    GREEDY APPROACH FOR QUICK OPTIMAL ANSWER
    Example-
     N=63,M=4,N%M=3
     63=(4^2+4^2+4^2)+(4^1+4^1+4^1)+(4^0+4^0+4^0)
     Here , ans=3 as it will count the group terms at last.
     By Division Remainder=3 is ignored...i.e 63/4 = 60/4
     60=(4^2+4^2+4^2)+(4^1+4^1+4^1)
     N=15,M=4,N%M=3   NOTE....15*4=60
     Now ans = 3 + 3 = 6 as it will account for last three group terms.
     Now remainder=3 is ignored...i.e 15/4 = 12/4
     48=(4^2+4^2+4^2)  NOTE....12*4=48
     N=3,M=4,N%M=3
     Now ans = 6 + 3 = 9 as it account for last three group terms
     Now remainder = 3 is ignored ...i.e 3/4 = 0/4
     N=0..
     THE END.
   */

int main()
{
   int T;
   long long N,M;
   cin>>T;
   while(T--)
   {
   	cin>>N>>M;
   	long long ans=0;
   	if(N<M||M==1)
   	 ans=N;
   	else
   	{
   		while(N)                                 
   		{
   			ans+=N%M;        
   			N/=M;          
   		}
   	}
   	cout<<ans<<endl;
   }
    return 0;
}
