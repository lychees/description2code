#include <iostream>
#include <bits/stdc++.h>
using namespace std;

int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
    	int x1,y1,x2,y2,count = 0;
    
    	scanf("%d",&x1);
    	scanf("%d",&y1);
    	scanf("%d",&x2);
    	scanf("%d",&y2);
    	if((x1==x2)&&(y1==y2))
    	printf("0\n");
    	else if(x1-x2 == 0) 
    	{
    		count = (abs(y2-y1))-1;
    		printf("%d\n",count);
    		
    	}
    	else if(y2-y1 == 0)
    	{
    		count = (abs(x2-x1))-1;
    		printf("%d\n",count);
    		
    	}
    	else
    	{
    	double intpart,fracpart;
    	double slope = double(y2-y1)/(x2-x1);
    	int min = (x1<x2)?x1:x2;
    	int max;
    	if(min == x1) max = x2;
    	else max = x1;
    	int i =1;bool flag = false;
    	for(; i <abs(max-min); i++)
    	{
    		fracpart = modf(i*slope, &intpart);
    		if(!(abs(fracpart)>0)) {flag = true; count++;break;}
    	}
    	if(flag) {count = count - 1 + ((abs(max-min))-i)/i;}
    	printf("%d\n",count);
    	}
    }
    return 0;
}
