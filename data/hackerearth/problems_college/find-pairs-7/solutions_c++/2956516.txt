#include <bits/stdc++.h>
using namespace std;
int main()
{
    int t;
    scanf("%d",&t);
    while(t--){
    	 long long n,temp=0;
    	scanf("%lld",&n);
        long long array[n],i;
    	for(i=0;i<n;i++){
    		scanf("%lld",&array[i]);
    	}
    	sort(array,array+n);
    	/*for(i=0;i<n;i++){
    		printf("%lld ",array[i]);
    	}*/
    long long ans=0,counter=0,x,y;
    y=0;
    i=0;
    while(i<n){
    	counter=0;
    	x=i+1;
    	//if(x<n &&array[i]==array[x]){
    		while(x<n&array[i]==array[x]){
    			//	printf("%lld\n",x);
    			x++;
    			counter++;
    		
    			//if(x==n||array[i]!=array[x]) break;
    		}
    		counter++;
    	//}
    //	temp++;
       // y=x;
    	ans=ans+(counter*(counter-1)/2);
    	//printf("%lld \n",x);
    	if(temp==n) break;
    	i=x;
    }
    printf("%lld\n",ans+n);
}
   return 0;
}