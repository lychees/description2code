#include <bits/stdc++.h>
using namespace std;
#define ll long long int 
#define pb push_back

std::vector< int > v;
ll DP[20][200][2000];

ll calculatesum(int index,int sum,int sqsum,int b)
{
	if(index<0)	return __gcd(sum,sqsum)==1;

	if(b==0 && DP[index][sum][sqsum]!=-1)
		return DP[index][sum][sqsum];


	int end;
	if(b==1) end=v[index];
	else end=9;

	ll ans=0;
	int i;

	for(i=0;i<=end;i++)
	{
		ans=ans+calculatesum(index-1,sum + i,sqsum + i*i,b && i==end);
	}

	if(b==0)
		DP[index][sum][sqsum]=ans;

	return ans;
}


ll dig(ll a)
{
	v.clear();
	while(a!=0)
	{
		v.pb(a%10);
		a/=10;
	}

	return calculatesum(v.size()-1,0,0,1);
}

int main()
{
	int t;

	cin >> t;

	int i , j , k;

	for(i=0;i<20;i++)
	{
		for(j=0;j<200;j++)
		{
			for(k=0;k<2000;k++)
			{
				DP[i][j][k]=-1;
			}
		}
	}
	ll l,r;

	while(t--)
	{

		cin >> l >> r;

		cout << dig(r) - dig(l-1) << endl;

	}

	return 0;
}



