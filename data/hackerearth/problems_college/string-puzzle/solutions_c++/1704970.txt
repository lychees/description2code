#include<iostream>
#include<stdio.h>
#include<algorithm>
using namespace std;
//char ar[100005];
void swap(char *x,char *y){
	char t;
	t=*x;
	*x=*y;
	*y=t;
}
void permute(char *s,int a,int b){
	if(a==b){
		puts(s);
	}
	else{
		for(int j=a;j<=b;j++){
			swap((s+a),(s+j));
			permute(s,(a+1),b);
			swap((s+a),(s+j));
		}
	}
}
int main(){
	char s[100005];
	scanf("%s",&s);
	int n;
	scanf("%d",&n);
	while(n--){
		int a,b;
		scanf("%d%d",&a,&b);
		permute(s,a,b);
		cout<<endl;
	}
}