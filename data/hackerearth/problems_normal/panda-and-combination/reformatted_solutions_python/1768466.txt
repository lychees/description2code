def solve(N, M):
    if (M == 1):
        return N
    c = 0
    A = []
    while (N > 0):
        X = 1
        while (X <= N):
            X *= M
        if (X > N):
            X /= M
        P = N/X
        N -= X*P
        c += P
    return c


T = int(raw_input())
for _ in xrange(T):
    N, M = map(int, raw_input().split())
    print solve(N, M)
