#include <iostream>
using namespace std;

int main()
{
    int t, i;
    cin>>t;
    for(i=0;i<t;i++)
    {
    	int n, m, j, l, k, w, h, p=0, flag=0, count=0, count0=0, count1=0, arr[1000], drr[1000];
    	cin>>n>>m;
    	for(j=0;j<n;j++)
    	{
    		cin>>l;
    		arr[j]=l;
    		drr[j]=l;
    	}
    	p=0;
    	if(m>0)
    	{
	    	while(p<m)
	    	{
		    	for(k=0;k<n;k++)
		    	{
		    		if(k==0)
		    		{
		    			if(drr[k+1]==1)
		    			{
		    				arr[k]=1;
		    			}
		    			else
		    			{
		    				arr[k]=0;
		    			}
		    		}	
		    		else if(k==n-1)
		    		{
		    			if(drr[k-1]==1)
		    			{
		    				arr[k]=1;
		    			}
		    			else
		    			{
		    				arr[k]=0;
		    			}
		    		}
		    		else
		    		{
		    			if(drr[k-1]==1 && drr[k+1]==1)
		    			{
		    				arr[k]=1;
		    			}
		    			else
		    			{
		    				arr[k]=0;
		    			}
		    		}
		    		
		    	}
		    	p++;
		    	if(p==m)
		    	{
		    		flag=1;
		    		break;
		    	}
		    	count=0;
		    	count1=0;
		    	count0=0;
		    	for(int f=0;f<n;f++)
		    	{
		    		if(arr[f]-drr[f]==abs(1))
		    		{
		    			count++;
		    		}
		    		else
		    		{	
		    			count=0;
		    			break;
		    		}
		    	}
		    	if(count==n)
		    	{
		    		if((m-p)%2==0)
		    		{
			    		for(h=0;h<n;h++)
					    {
					    	cout<<arr[h]<<" ";
					    }
		    		}
		    		else
		    		{
		    			for(h=0;h<n;h++)
					    {
					    	cout<<drr[h]<<" ";
					    }
					}
				    cout<<'\n';
				    flag=0;
				    break;
		    	}
		    	for(w=0;w<n;w++)
		    	{
		    		drr[w]=arr[w];
		    		if(arr[w]==1)
		    		{
		    			count1++;
		    		}
		    		else
		    		{
		    			count0++;
		    		}
		    	}
		    	if(count1==n)
		    	{
		    		flag=1;
		    		break;
		    	}
		    	else if(count0==n)
		    	{
		    		flag=1;
		    		break;
		    	}
	    	}
	    	if(flag==1)
	    	{
		    	for(h=0;h<n;h++)
			    {
			    	cout<<arr[h]<<" ";
			    }
			    cout<<'\n';
	    	}
    	}
    	else
    	{
    	   	for(h=0;h<n;h++)
		    {
		    	cout<<arr[h]<<" ";
		    }
		    cout<<'\n';
    	}    
    }
    return 0;
}
