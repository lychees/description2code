#include <iostream>
using namespace std;
#include<bits/stdc++.h>
#define ll long long
int main()
{
   // cout << "Hello World!" << endl;
   long long t,ans,i,r,k,count,max,num,j,rem,k1;
   cin>>t;
   assert(1<=t<=100);
   while(t--)
   {
   		cin>>r>>k1;
   		ans=0;
   		for(i=1;i<=r;i++)
   		{
   			int arr[30]={0};count=0;
   			int m=i,k=0;
   			while(m>0)
   			{
   				rem=m%2;
   				arr[k]=rem;k++;
   				m=m/2;
   			}
   		//	for(j=29;j>=0;j--)
   		//		cout<<arr[j]<<" ";
   		//	cout<<endl;
   			for(j=29;j>=2;j--)
   				if(arr[j]==1 && arr[j-1]==0 && arr[j-2]==1){count++;}
   		//	cout<<count<<endl;
   			if(count>=k1){ans++;}
   		//	cout<<ans<<endl;
   		}
   		cout<<ans<<endl;
   }
    return 0;
}
