#include <iostream>
#define M 1000000007
using namespace std;
long arr[1000000];
void dpgm(int x,int y)
{
	long X=1;
	long k=1;
	for(long i=1;i<=1000000;i++)
	{
		X=(X*x-y)%M;
		arr[k++]=X;
	}
}
	
	
int main()
{
    //cout << "Hello World!" << endl;
    int x,y;
    scanf("%d%d",&x,&y);
    dpgm(x,y);
    /*for(int i=0;i<10;i++)
    cout<<arr[i]<<" ";*/
    int q;
    scanf("%d",&q);
    while(q--)
    {
    	long n;
    	scanf("%ld",&n);
    	printf("%ld\n",arr[n]);
    }
    return 0;
}
