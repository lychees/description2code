
#include<bits/stdc++.h>

using namespace std;

#define si(x) scanf("%d",&x)
#define sll(x) scanf("%lld",&x)
#define sstr(s) scanf("%s",s)
#define nl printf("\n")
#define ll long long int
#define pii pair<int,int>
#define pll pair<ll,ll>
#define vi vector<int>
#define pb push_back
#define mp make_pair
#define fr first
#define se second
#define mod 1000000007

int n,m;
vector< pair< pii, int > > g;
int d[105];

int main()
{
    int t; si(t);
    while(t--) {
	si(n); si(m);
	g.clear();
	int u,v,c;
	for(int i=0;i<m;++i) {
	    si(u); si(v); si(c);
	    g.pb( (pair< pii, int>)mp( (pii)mp(u,v) , -c));
	}
	for(int i=1;i<=n;++i) {
	    d[i] = mod;
	}
	d[1] = 0;
	for(int i=1;i<=n-1;++i) {
	    for(int j=0;j<g.size();++j) {
		int u,v;
		u=g[j].fr.fr; v=g[j].fr.se;
		if(d[u]<mod && d[v] > d[u]+g[j].se) {
		    d[v] = d[u]+g[j].se;
		}
	    }
	}
	bool ans = false;
	for(int j=0;j<g.size();++j) {
	    int u,v;
	    u=g[j].fr.fr; v=g[j].fr.se;
	    if(d[u]<mod && d[v] > d[u]+g[j].se) {
		ans = true;
	    }
	}
	if(ans) {
	    cout<<"Yes\n";
	}
	else {
	    cout<<"No\n";
	}
    }
    return 0;
}
