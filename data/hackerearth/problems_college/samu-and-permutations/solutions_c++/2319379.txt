#include <bits/stdc++.h>
using namespace std;



long long int dp[(1<<15)+2][111];

long long int a[101];
int n;
void reset()
{int i,j;
for(i=0;i<=(1<<n)+1;i++)
for(j=0;j<=n;j++)
dp[i][j]=INT_MIN;
	
}

int cobs(int x)
{
    unsigned int count = 0;
    while (x)
    {
      x &= (x-1) ;
      count++;
    }
    return count;
}

long long int TSP( int status, int x ) {
//cout<<x<<endl;
	if ( dp[ status ][ x ] != INT_MIN)
		return dp[ status ][ x ];
long long ans=0;
	
    long long	int cnt=(long long)cobs(status);
	for ( int i = 0; i < n; ++i )
		if ( i != x && !( status & ( 1 << i ) ) )
			ans= max( ans, TSP( status|(1<<i),i ) + (cnt+1)*abs(a[i]-a[x]) );
	return dp[ status ][ x ]=ans;
}






int main()
{
    int t,i;
   
    cin>>t;
    while(t--)
    {long long ans=-1;
    	cin>>n;
    	for(i=0;i<n;i++)
    	cin>>a[i];
    	reset();
    	for(i=0;i<n;i++)
    	{int status=(1<<i);
    		ans=max(ans,TSP(status,i));
    		
    	}
    	
    	cout<<ans<<endl;
    }
}
