def occurrences(string, sub):
    count = start = 0
    while True:
        start = string.find(sub, start) + 1
        if start > 0:
            count+=1
        else:
            return count

T = raw_input()
T = int(T)


while(T>0):
	globeCount = 0
	numbers = map(int, raw_input().split())
	for i in range(1,numbers[0] + 1):
		if occurrences(bin(i),"101")  >= numbers[1]:
			globeCount = globeCount + 1
	print "%d" % globeCount
	T = T - 1