t=input()
for i in xrange(t):
	n=input()
	l=map(int,raw_input().split())
	k=input()
	dic={}
	for i in l:
		try:
			dic[i]+=1
		except KeyError:
			dic[i]=1
	s=0
	for i in dic:
		x=k-i
		if x in dic:
			if i==x:
				s+=(dic[i]*(dic[i]-1))/2
			else:
				s+=(dic[i]*dic[x])
			dic[i]=0
	print s
