//anmolarora123
#include<bits/stdc++.h>
#define f(i,a,n) for(int i=a;i<n;i++)
#define ll long long
#define si(a) scanf("%d",&a)
#define sl(a) scanf("%lld",&a)
#define ss(s) scanf("%s",s)
#define pi(a) printf("%d\n",a)
#define pl(a) printf("%lld\n",a)
#define pb(a) push_back(a)
#define mp(a,b) make_pair(a,b)
using namespace std;
ll n,m;
int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{
		sl(n);
		sl(m);
		ll cnt=0;
		if(m==n)
		{
			printf("1\n");
		}
		else
		if(m>n)
		{
			printf("%lld\n",n);
		}
		else
		if(m==1)
			printf("%lld\n",n);
		else
		{
		ll x=n;
		int c=0;
		while(x>=m)
		{
			cnt=0;
			n=x;
		while(1)
		{
			cnt++;
			n=n/m;
			if(n==1||n<m)
				break;
		}
		c++;
		x-=pow(m,cnt);
		}
		// cout<<"c:"<<c<<endl;
		// cout<<"x:"<<x<<endl;

		pl(c+x);

		}
	}
	return 0;
}