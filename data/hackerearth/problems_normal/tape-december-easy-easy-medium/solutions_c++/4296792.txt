#include <iostream>
#include<vector>
#include<algorithm>
using namespace std;

int main()
{
    int n,k,d;
    cin>>n>>k>>d;
    vector<int> v(n);
    for(int i=0;i<n;i++)
    cin>>v[i];
    
    long ans=0;
    for(int i=0;i<=n-k;i++)
    {
    	if(ans==-1)
    	break;
    	long x=0;
    	for(int j=i;j<=i+k-1;j++)
    	{
    		x+=v[j];
    	}
    /*	if(x>=d)
    	{
    		while(x>=d)
    		{
    			x-=v[i];
    			++i;
    		}
    		
    	}*/
    	if(x<d)
    	{
    		int y=i+k-1;
    		while(v[y]==0 && y>=i)
    		{
    			--y;
    		}
    		if(y<i)
    		ans=-1;
    		else
    		{
    			v[y]=d+1;
    			++ans;
    			i=y+k-1;
    		}
    	}
    }
    cout<<ans;
}
