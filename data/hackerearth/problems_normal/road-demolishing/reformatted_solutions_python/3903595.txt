'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
for _ in range(input()):
    n, q = map(int, raw_input().split())
    q = q-1
    ans = n*n - (n % q)*((n+q-1)/q)*((n+q-1)/q) - (q - n % q)*(n/q)*(n/q)
    ans /= 2
    ans1 = (n*(n-1))/2 - ans
    print abs(ans1)
