#include <iostream>
#include <bits/stdc++.h>
using namespace std;

void art(vector<bool> &vis,vector<bool> &ap,vector<int> &par,vector<int> &dis,vector<int> &low,int tim,int vertex
			,vector<vector<int> > g){
	
	vis[vertex]=true;
	dis[vertex]=low[vertex]=tim+1;
	
	vector<int> ::iterator it=g[vertex].begin();
	int child=0;
	
	for(;it!=g[vertex].end();it++){
		if(vis[*it]==false){
			child++;
			par[*it]=vertex;
			art(vis,ap,par,dis,low,tim+1,*it,g);
			low[vertex]=min(low[vertex],low[*it]);
			
			if(par[vertex]==-1 && child>1)
				ap[vertex]=true;
			
			if(par[vertex]!=-1 && low[*it]>=dis[vertex])
				ap[vertex]=true;
			
			
		}
		else if(par[*it]!=vertex)
			low[vertex]=min(low[vertex],dis[*it]);
	}
	
}


int main()
{

	int n,m;
	cin>>n>>m;
	
	vector<vector<int> > g(n);
	for(int i=0;i<m;i++){
		int a,b;
		cin>>a>>b;
		a--;
		b--;
		g[a].push_back(b);
		g[b].push_back(a);
	}
	
	vector<bool> vis(n);
	vector<bool> ap(n);
	vector<int> par(n);
	vector<int> dist(n);
	vector<int> low(n);
	
	for(int i=0;i<n;i++){
		vis[i]=false;
		ap[i]=false;
		par[i]=-1;
		dist[i]=0;
		low[i]=INT_MAX;
		
	}
	
	for(int i=0;i<n;i++)
		if(!vis[i])
			art(vis,ap,par,dist,low,0,i,g);
			
	int q;
	cin>>q;
	
	while(q--){
		int x;
		cin>>x;
		x--;
		if(ap[x]){
			cout<<"Satisfied "<<g[x].size()<<"\n";
		}
		else
			cout<<"Not Satisfied\n";
	}
	
    return 0;
}
