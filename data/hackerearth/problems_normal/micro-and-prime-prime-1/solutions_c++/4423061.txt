#include<iostream>
#include<stdio.h>
using namespace std;
int main(){
	int isprime[1000002];
	isprime[0]=isprime[1]=1;
	for(int i=2;i<=1000000;i++){
		if(isprime[i]==0){
			for(long long j=(long long)i*i;j<=1000000;j+=i)
			{	isprime[j]=1;}
		}
	}
	int prime[1000002];
	prime[0]=0;
	for(int i=1;i<=1000000;i++)
		prime[i]=1-isprime[i]+prime[i-1];

	int isprimeprime[1000002];
	for(int i=1;i<1000001;i++){
		if(isprime[prime[i]]==0)
			isprimeprime[i]=isprimeprime[i-1]+1;
		else isprimeprime[i]=isprimeprime[i-1];
	}

	int l,r,t;
	cin>>t;
	while(t--){
		cin>>l>>r;
		cout<<isprimeprime[r]-isprimeprime[l-1]<<endl;
	}
	return 0;
}	