/* ----Akash Agarwal---- */

#include <bits/stdc++.h>

using namespace std;

#define LL long long int
#define iin(a) int a;cin >> a;
#define iin2(a,b) int a;cin >> a; int b;cin >> b;
#define iin3(a,b,c) int a;cin >> a; int b;cin >> b; int c;cin >> c;
#define lin(a) LL a;cin >> a;
#define sin(a) string a;cin >> a;

#define myf(a,b,i) for(int i=a;i<b;i++)
#define MP(a,b) make_pair(a,b)
#define PB push_back
#define F first
#define S second

#define intP pair<int,int>
#define intPI pair<int,int>::Iterator

#define intM map<int,int>
#define intMI map<int,int>::Iterator

#define intS set<int>
#define intSI set<int>::Iterator

#define intV vector<int>
#define intVI vector<int>::Iterator

#define mod 1000000007


int talk[1005][1005];

int dist[1005];
int main()
{
	iin2(n,m);

	iin2(a,b);

	myf(0,n,i) {
		myf(0,n,j) {
			talk[i][j]=1;
		}
		dist[i]=-1;
	}

	int t1,t2;

	myf(0,m,i) {
		cin >> t1 >> t2;
		talk[t1-1][t2-1]=0;
		talk[t2-1][t1-1]=0;
	}
	a--;
	b--;
	int curr=a;
	dist[a]=0;

	queue<int> q;
	q.push(a);


	myf(0,n,i) {
		myf(0,n,j) {
//			cout << talk[i][j] << " ";
		}
//		cout << endl;
	}

	while ( !q.empty() && curr!=b ) {

		curr=q.front();
		q.pop();

		if ( curr == b )
			break;

//		cout << curr << " crurr " << dist[curr] << endl;
		myf(0,n,i) {

//			cout << i << " " << talk[curr][i] << " " << dist[i] << endl;

			if (talk[curr][i] == 1 && dist[i] == -1) {

	//			cout << i << endl;
				dist[i] = dist[curr]+1;
				q.push(i);
//				cout << i  << " ddd " << dist[curr] << " dd " << dist[i] << endl;

			}
		}

	}

//	cout << "slhjkgf" << curr  << "   " << b << endl;
	if (curr == b) {
//		cout << "faf" << endl;
			cout << dist[curr] << endl;

	}

	else cout << "-1" << endl;

	return 0;
}
