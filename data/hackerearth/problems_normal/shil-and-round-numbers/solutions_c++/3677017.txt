#include <bits/stdc++.h>
using namespace std;
int bit[200002];int n;
int y[200002];
void update(int x,int val)
{
    for(;x<=n;x+=x&(-x))
        bit[x]+=val;
}
int query(int x)
{
    int sum=0;
    for(;x>0;x-=x&-x)
        sum+=bit[x];
    return sum;
}
int fin(long long int h)
{
    if(h<0)
        return 0;
    int l=h%10;
    while(h>=1000)
        h/=1000;
    while(h>=10)
        h/=10;
    int f=h;
    if(l==f)
        return 1;
    return 0;
}
int main()
{
    int q;
    cin>>n>>q;
    //string s;
    //cin>>s;
    int i;long long int h;
    for(i=0;i<n;i++)
    {
        cin>>h;
        int c=fin(h);
        if(c==1){
            update(i+1,1);
            y[i+1]=1;
        }
        else{
            update(i+1,0);
            y[i+1]=0;
        }
    }
    while(q--)
    {
        int t1;
        cin>>t1;
        if(t1==2)
        {
            int pos;long long int ch;
            cin>>pos>>ch;
            int c=fin(ch);

            if(c==1)
            {
                if(y[pos]!=1)
                    update(pos,1);
            }
            else
            {
                if(y[pos]!=0)
                    update(pos,-1);
            }
            //update(pos,1,ch-'a');
            //update(pos,-1,s[pos-1]-'a');
            y[pos]=c;
        }
        else if(t1==1)
        {
            int l,r;
            cin>>l>>r;//int od=0;
            //for(i=0;i<26;i++)
            //{
                int ni=query(r)-query(l-1);
              //  if(ni%2==1)
                //    od++;
            //}
            //if(od<=1)
              cout<<ni<<"\n";
        }

    }


}
