#include<bits/stdc++.h>
using namespace std;
int main(){
long long 	int a,b;
string str;
cin>>a>>b;
cin>>str;
int size=str.size();
long long int ans=0,i;
for(i=0;i<size;i++){
	if(str[i]=='1')
	ans=(ans+a)%b;
	a=(a*a)%b;
}
cout<<ans<<endl;
}