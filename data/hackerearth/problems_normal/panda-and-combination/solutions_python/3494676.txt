'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
import math
def solution(n, m):
    count = 0
    if m == 1:
        return n
    while n > 0:
        t = int(math.log(n, m))
        u = int(math.pow(m, t))
        delta = int(n / u)
        count += delta
        n -= delta * u

    return count

T = int(raw_input())
for i in xrange(T):
	line = raw_input()
	u = line.split()
	convert = map(int, u)
	n = convert[0]
	m = convert[1]
	print solution(n,m)