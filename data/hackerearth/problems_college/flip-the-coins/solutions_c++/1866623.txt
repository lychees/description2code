#include<iostream>
#include<stdio.h>
#include<algorithm>
#include<string.h>
#include<math.h>
using namespace std;

#define LL long long

#define forup(i,a,b) for(i=a; i<b; ++i)
#define fordn(i,a,b) for(i=a; i>b; --i)
#define rep(i,a) for(i=0; i<a; ++i)

#define gi(x) scanf("%d", &x)
#define gl(x) scanf("%lld", &x)
//#define gl(x) cin>>x
#define gd(x) scanf("%lf", &x)
#define gs(x) scanf("%s", &x)

#define pis(x) printf("%d ", x)
#define pin(x) printf("%d\n", x)
#define pls(x) printf("%lld ", x)
#define pln(x) printf("%lld\n", x)
//#define pls(x) cout<<x<<" "
//#define pln(x) cout<<x<<"\n"
#define pds(x) printf("%.12f ", x)
#define pdn(x) printf("%.12f\n", x)
#define psn(x) printf("%s\n", x)

#define nl printf("\n")
int main()
{
	int n,q,a,b,c,i,ans,count;
	gi(n);
	gi(q);
	int arr[n];
	rep(i,n)
		arr[i]=0;
	while(q--)
	{
		gi(c); gi(a); gi(b);
		if(c==0)
		{
			forup(i,a-1,b)
				arr[i]=1-arr[i];
		}
		else
		{
			count=0;
			ans=-1;
			forup(i,a-1,b)
			{
				if(arr[i]==1)
					count++;
				else
					count=0;
				if(count>ans)	
					ans=count;
			}
			pin(ans);
		}
	}
	return 0;
}

