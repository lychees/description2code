#include <algorithm>
#include <iomanip>
#include <iostream>
#include <math.h>
#include <stdio.h>
#include <stdlib.h>
#include <string>
#include <vector>
using namespace std;
const long long maxA = 100000000, maxN = 100000;

vector<long long> a[maxN];
long long d[maxN][2], n, i, j, y, b[maxN];

void rec(int x) {
  d[x][b[x]] = 1;
  for (long long i = 0; i < a[x].size(); i++) {
    rec(a[x][i]);
    d[x][1] =
        (d[x][1] * (d[a[x][i]][0] + d[a[x][i]][1]) + d[x][0] * d[a[x][i]][1]);
    d[x][1] %= 1000000007;
    d[x][0] *= (d[a[x][i]][0] + d[a[x][i]][1]);
    d[x][0] %= 1000000007;
  }
}
int main() {
  cin >> n;
  for (i = 1; i < n; i++) {
    cin >> y;
    a[y].push_back(i);
  }
  for (i = 0; i < n; i++)
    cin >> b[i];
  rec(0);
  cout << d[0][1] % 1000000007;
}