#include <iostream>
#include<stdio.h>
using namespace std;
#define ull unsigned long long
int cal(ull d) {
	if (d < 10) return d;
	int res = 0;
	while (d > 0) {
		res += d % 10;
		d /= 10;
	}
	return cal(res);
}
int main() {
    int cases, n, d;
    for (cin>>cases; cases--; ) {
    	scanf("%d", &n);
    	ull sum = 0, len;
    	for (int i = 0; i < n; i++) {
    		cin >> len >> d;
    		sum += d * len;
    		sum = cal(sum);
    	}
    	sum = cal(sum);
    	cout << sum << endl;
    }
    return 0;
}
