def allOnes(a):
	count=0
	while(a>0):
		a=a&(a-1)
		count=count+1
	return count
 

for _ in range(input()):
     li=map(int,raw_input().split())
     n=li[0]
     k=li[1]
     numbers=map(int,raw_input().split())
     ones=[]
     for i in range(n):
         ones.append(allOnes(numbers[i]))
     sums=0
     ones.sort(reverse=True)
     print sum(ones[:k])