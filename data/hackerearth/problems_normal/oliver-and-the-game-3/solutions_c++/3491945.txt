#include<bits/stdc++.h>
using namespace std;
//vector<int >v[100];
bool visited[100010];
int start[100010];
int end1[100010];

vector<int >v[100010];
int timer=0;

void init()
{

	for(int i=0;i<100010;i++)
	{
		visited[i]=false;
	 //       end1[i]=0;
	//	start[i]=0;
	}
}

void dfs(int x)
{
	visited[x]=true;

	start[x]=timer++;

	for(int i=0;i<v[x].size();i++)
	{
		if(visited[v[x][i]]==false)
		{
			dfs(v[x][i]);
		}
	}
	end1[x]=timer++;
}
int time(int x,int y)
{

	if(start[y]<start[x] && end1[y]>end1[x])
		return 1;
	else
		return 0;
}
int main()
{
	int n;
	cin>>n;
	init();

	for(int i=0;i<n-1;i++)
	{
		int a,b;
		cin>>a>>b;
		v[a].push_back(b);
		v[b].push_back(a);
	}

	for(int i=1;i<=n;i++)
	{
		if(visited[i]==false)
		dfs(i);
	}
	
	int q;
	cin>>q;
	for(int i=0;i<q;i++)
	{
		int a,b,c;
		cin>>a>>b>>c;

		if(time(b,c)==0 && time(c,b)==0)
			cout<<"NO"<<endl;

		else
		{
			if(a==0)
			{
				if(time(c,b)==1)
					cout<<"YES"<<endl;
				else
					cout<<"NO"<<endl;
			}
			else
			{
				if(time(c,b)==0)
					cout<<"YES"<<endl;
				else
					cout<<"NO"<<endl;
			}
		}
	}

	return 0;
}












