#include <bits/stdc++.h>
using namespace std;

#define sd(a) scanf("%d", &a)
#define ss(a) scanf("%s", &a)
#define sl(a) scanf("%lld", &a)
#define clr(a) memset(a, 0, sizeof(a))
#define debug(a) printf("check%d\n", a)
#define F first
#define S second
#define PB push_back
#define ll long long
bool b[6001];
bool perfectCube(ll n)
{
	double nd = (double)n;
	ll y = (ll)cbrt(nd);
	ll x = y-1;
	ll z = y+1;

	return (x*x*x == n) || (y*y*y==n) || (z*z*z == n);

}
void init()
{
	int i = 1;
	while ( 1 )
	{
		int cube = i*i*i;
		if ( cube <= 6000 )
			{
				b[cube] = true;
			}
		else
			break;
		i++;
	}
}
int main()
{
	// cout << b[27];
	init();
	// cout << b[27];
	// cout << cbrt(1125*3) << endl;
	// freopen("input.in", "r", stdin);
	ll T;
	sl(T);
	while ( T-- )
	{
		ll N, sum, count = 0, total = 0;
		sl(N);
		ll* a = new ll[N];
		for ( ll i = 0 ; i < N ; i++ )
		{
			sl(a[i]);
		}

		for ( ll i = 0 ; i < N ; i++ )
		{
			for ( ll j = i + 1 ; j < N ; j++ )
			{
				for ( ll k = j + 1 ; k < N ; k++ )
				{
					sum = a[i] + a[j] + a[k];
					// cout << perfectCube(sum) << endl;
					if ( b[sum] )
					{
						count++;
					}
					total++;
				}
			}
		}
		delete[] a;
		// printf("%lld\n", count);
		printf("%.9lf\n", ((double)count)/(double)total);
	}
}