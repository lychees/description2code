#include <bits/stdc++.h>
using namespace std;

const int N = 1e5 + 100;

int ans[N];
pair<int, int> a[N];

int main()
{
	ios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);
	int n, q;
	cin >> n >> q;
	for (int i = 1; i <= n; ++i) {
		cin >> a[i].first;
		a[i].second = i;
	}
	
	int sz = n;
	while (sz > 1) {
		int nsz = 0;
		for (int i = 1; i <= sz; i += 2) {
			if (i + 1 > sz) a[++nsz] = a[i];
			else {
				++ans[a[i].second];
				++ans[a[i+1].second];
				if (a[i].first > a[i+1].first) {
					a[++nsz] = a[i];
				} else {
					a[++nsz] = a[i+1];
				}
			}
		}
		sz = nsz;
	}
	
	while (q--) {
		int x;
		cin >> x;
		cout << ans[x] << '\n';
	}
    return 0;
}
