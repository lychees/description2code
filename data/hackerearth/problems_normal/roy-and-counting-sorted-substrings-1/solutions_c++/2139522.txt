    #include <stdio.h>
    #include <string.h>
    #define max 1000002
     
    int main()
    {
    	int t,n,i;
    	char str[max];
    	long tot = 0,cnt=0;
    	
    	scanf("%d", &t);
    	
    	if(t>=1&&t<=10)
    	{
    		while(t!=0)
    		{
    			tot = 0;
    				
    			scanf("%d", &n);
    			scanf("%s", str);
    			
    			cnt =1;
    			
    			for(i = 1; i < n; i++)
    			{
    				if(str[i-1] <= str[i])
    				{
    					cnt++;
    				}	
    				else 
    				{
    					tot += ((cnt * (cnt+1)) / 2);
    					cnt = 1;
    				}
    			}
    			tot += ((cnt * (cnt+1)) / 2);
    	
    			printf("%ld\n", tot);
    	
    			t--;
    		}
    		
    	}
    	return 0;
    }