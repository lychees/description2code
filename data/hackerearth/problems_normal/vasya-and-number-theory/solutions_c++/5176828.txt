/*#include <iostream>
using namespace std;

int main()
{
    int n,i,j,k,ans=0;
    cin>>n;
    int arr[n],dp[n][n];
    for(i=0;i<n;i++)
    {
    	cin>>arr[i];
    	dp[i][i]=1;
    }
    for(i=0;i<n;i++)
    {
    	for(j=i+1;j<n;j++)
    	{
    		if(arr[i]%arr[j]==0 || arr[j]%arr[i]==0)
    		{
    			dp[i][j]=1; dp[j][i]=0;
    		}
    		else
    		{
    			dp[i][j]=0; dp[j][i]=0;
    		}
    	}
    }
    int s[n];
    for(i=0;i<n;i++)
    {
    	s[i]=0;
    	for(j=0;j<=i;j++)
    	{
    		s[i]+=dp[j][i];
    	}
    	if(i==0) ans=s[i];
    	else if(s[i]>ans && s[i]-s[i-1]==1) ans=s[i];
    }
    if(ans<2) cout<<"-1";
    else cout<<ans;
    return 0;
}*/
#include<bits/stdc++.h>
 
using namespace std;
 
int main(){
	int n,maxi=0;
	cin>>n;
	int arr[n],dp[n];
	for(int i=0;i<n;i++){
		cin>>arr[i];
		dp[i] =1;
	}
    
    sort(arr,arr+n);	
 
    for(int i=0;i<n;i++){
    	for(int j=0;j<i;j++){
    		if(arr[i]%arr[j] == 0){
    			dp[i] = max(dp[i],1+dp[j]);
			}
		}
		maxi = max(maxi,dp[i]);
	}
    if(maxi<2){
    	cout<<"-1"<<endl;
    }else{
    	cout<<maxi<<endl;
    }
}
