# include <bits/stdc++.h>

# define fi first
# define se second
# define pb push_back


using namespace std;

typedef long long ll;

const int Maxn = 1e5 + 1, md = 1e9 + 7;
const double Eps = 0.01;

using namespace std;

long long n, Q, l, r, comp;
unordered_map <long long, long long> mp;

int binpow (int base, long long degree)
{
	int res = 1;
	while (degree) {
		if (degree & 1)
			res = (res *1ll* base) %md;
		base = (base *1ll* base) %md;
		degree >>= 1;
	}
	return res;
}
long long find_set(long long a)
{
    if (!mp[a])
        return a;
    return mp[a] = find_set(mp[a]);
}
void union_set(long long a, long long b)
{
    a = find_set(a);
    b = find_set(b);
    mp[a] = b;
}
int main() {
   // freopen("in","r",stdin);

    scanf ("%lld %lld", &n, &Q);

    comp = n;

    while (Q--)
    {
        scanf ("%lld %lld", &l, &r);
        l--;
        if (find_set(l) != find_set(r))
            comp--, union_set(l, r);
        printf("%d\n", binpow(2, comp));
    }
}
