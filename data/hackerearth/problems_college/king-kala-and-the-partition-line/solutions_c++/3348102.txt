#include <iostream>
using namespace std;

int x[100000],y[100000];

int main() {
	int t,n,a,b,c;
	cin>>t;
	while(t--)
	{
		int c1=0,c2=0,tmp=0;
		cin>>n;
		cin>>a;
		cin>>b;
		cin>>c;
		for(int i=0;i<n;i++)
		{
			cin>>x[i];
			cin>>y[i];
			tmp=((a*x[i])+(b*y[i])+c);
			if(tmp>0)
			{
				c1++;
			}
			if(tmp<0)
			{
				c2++;
			}
		}
		
		if(c1>c2)
		{
			cout<<c1<<'\n';
		}
		else if (c2>c1)
		{
			cout<<c2<<'\n';
		}
	}	
	
	return 0;
}