#include<bits/stdc++.h>
#define pb push_back
#define mp make_pair
#define f first
#define maxn 101000
#define s second
#define ll long long int
#define inf 1000000014
#define infl (ll)(1e18)
#define mod 1000000007
#define sz(x) (int) x.size()
#define trace1(x) cerr << #x << ": " << x << endl;
#define trace2(x, y) cerr << #x << ": " << x << " | " << #y << ": " << y << endl;
using namespace  std;
std::vector< int > v;
int main(int argc, char const *argv[])
{
     int t;
     cin>>t;
     int n,m;
     while(t--)
     {
      v.clear();
      cin>>n>>m;
      int ctr=0;int ind=-1;int i;
      int cpy = n;
      for(i=1;i<=m;i++)
      {
         int sq = 0;
         while(cpy!=0)
         {
           sq+=(cpy%10)*(cpy%10);
           cpy/=10;
         }
        for(int x=0;x<v.size();x++)
        {
          if(v[x]==sq)
            ind=x;
        }
        if(ind==-1)
        v.pb(sq);
        else
        break;
        cpy = sq;

    }
    if(i==m+1)
      cout<<v[m-1]<<"\n";
    else
    {
       // for(int ii=0;ii<v.size();ii++)cout<<v[ii]<<" ";
      int pd = v.size()-ind;//cout<<pd;
      int done = v.size();
      int left = m-done;
      left%=pd;
      cout<<v[ind+(left-1+pd)%pd]<<"\n";
    }

     }
    return 0;
}
