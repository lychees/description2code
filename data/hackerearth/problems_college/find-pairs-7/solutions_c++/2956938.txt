#include <iostream>
using namespace std;

int main()
{
    int t;
    cin>>t;
    for (int i=0; i<t; i++) {
    	int n;
    	cin>>n;
    	int *a = new int[n];
    	bool *p = new bool[n]{};
    	for (int j=0; j<n; j++) {
    		cin>>a[j];
    	}
    	int count = n;
    	for (int j=0; j<n; j++) {
    		if (p[j]==true) continue;
    		int x = 1;
    		p[j]=true;
    		for (int k=j+1; k<n; k++) {
    			if (a[j]==a[k]) {
    				x++;
    				p[k]=true;
    			}
    		}
    		count += (x>1) ? (x*(x-1)/2) : 0;
    	}
    	cout<<count<<endl;
    }
    return 0;
}
