#include <bits/stdc++.h>
using namespace std;
#define ll long long
vector<ll> v(1000000);
int main()
{
    ll i,t,n,ans,cal;
    scanf("%lld",&t);
    while(t--)
    {
    	map<ll,ll> m;
    	scanf("%lld",&n);
    	ans=n;
    	for(i=0;i<n;i++)
    	{
    		scanf("%lld",&(v[i]));
    		m[v[i]]++;
    	}
    	map<ll,ll>::iterator it;
    	for(it=m.begin();it!=m.end();it++)
    	{
    		cal=it->second;
    		cal=(cal*(cal-1))/2;
    		ans+=cal;
    	}
    	printf("%lld\n",ans);
    }
    return 0;
}
