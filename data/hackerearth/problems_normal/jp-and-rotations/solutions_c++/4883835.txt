#include <iostream>
#include<vector>
using namespace std;

int main()
{
    int m,n;
    	cin>>n>>m;
    	vector<int> in(n+1);
    	vector<int> out(n+1);
    	for(int i=0;i<n;i++)
    		cin>>in[i];
        for(int i=0;i<n;i++)
    		cin>>out[i];
        int indout;
        for(int i=0;i<n;i++){
            if(out[i]==in[0]){
                indout = i;
                break;
            }
        }
        int op = 0;
        int ans = 0;
        bool flag = false;
        int indin = 0;
    	while(m--){
            char c;
            int x;
            cin>>c>>x;
            x = x%n;
            op++;
            if(!flag){
            	if(c=='L'){
            		x = n-x;
            	}
            	indin = (indin+x)%n;
            	 if(indin==indout){
                   ans = op;
                   flag = true;
                }
            }
    	}
    	if(flag)
    	cout<<ans<<endl;
    	else
            cout<<-1<<endl;
    return 0;
}
