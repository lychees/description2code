#include<bits/stdc++.h>
#define ll long long
#define fo(i,a,b) for(i=a;i<b;i++)        
using namespace std;
int main()
{
    ll i,c,j,st,t,n,ans,sum,l,s,p,r,x,q,b,maxim=INT_MIN;//string s;
    double tw,th;
    //cin>>n>>q;
    //ll a[n],b[n],sa[n+1],sb[n+1];
    cin>>t;
    while(t--)
    {c=b=maxim=0;
       cin>>n;map<ll,ll>m;
        while(n--){cin>>s>>r;
        if(r)
        {
            if(!m[s])
            {if(b)
            c++,m[s]=1;
            else
                c=1,m[s]=1;}
                   b=1;
        if(c>maxim)
             maxim=c;}
         else
         {    if(c>maxim)
             maxim=c;
          c=b=0;}
                  }
        cout<<maxim<<endl;
    }
    
    
    return 0;
}