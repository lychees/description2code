#include <iostream>
using namespace std;

int main()
{
    int T, N;
    
    cin >> T;
    
    for (int i = 0; i < T; i++) {
    	cin >> N;
    	
    	string s;
    	
    	cin >> s;
    	
    	long previousCount = 1;
    	long currentCount;    	
    	long totalCount = 1;
    	
    	for (int j = 1; j < N; j++) {
    		if (s[j] >= s[j - 1]) {
    			currentCount = previousCount + 1;    			
    		}
    		else {
    			currentCount = 1;    			
    		}
    		
    		totalCount += currentCount;
    		previousCount = currentCount;    		
    	}
    	
    	cout << totalCount << endl;
    }
}