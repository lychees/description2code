#include<iostream>
#include<string>
#include<algorithm>
#include<math.h>


using namespace std;

int main()
{
      long t,q,i,j,total,l,flag;
      long long count,ans,ans1,temp,temp1,lasta,lastb,lastc,min;
      string str;
      cin>>t;

      for(q=0; q<t; q++)
      {
          int a[3];
          total=0;
          cin>>str;
          l=str.length();
              j=0;
                  a[0]=0;
                  a[1]=0;
                  a[2]=0;
                  count=0;
                  temp=0;
              for(i=0; i<l; i++)
              {

                   flag=1;
                  for(j; j<l; j++)
                  {
                      if(str[j]=='a' && a[0]==0)
                      {
                          count++;

                          a[0]=1;
                          lasta=j;
                      }
                      if(str[j]=='a')
                      lasta=j;
                      if(str[j]=='b')
                      lastb=j;
                      if(str[j]=='c')
                      lastc=j;
                      if(str[j]=='b' && a[1]==0)
                      {
                          count++;
                          a[1]=1;
                          lastb=j;
                      }
                      if(str[j]=='c' && a[2]==0)
                      {
                          count++;
                          a[2]=1;
                          lastc=j;
                      }
                      if(count==3)
                      {
                          flag=0;
                      break;
                      }
                      //total++;


                  }
                  //if(flag==0)
                 // j--;
                  ans=j-temp;
                  ans1=temp-i;
                  //cout<<temp<<" "<<i<<endl;
                  ans1=ans*ans1;
                  ans=ans*(ans+1);
                  ans=ans/2;
                  ans=ans+ans1;
                  //cout<<ans<<" "<<ans1<<endl;

                  total=total+ans;
                  //cout<<total<<endl;

                  if(flag==0)
                  {
                  if(lasta<lastb)
                      {
                          if(lasta<lastc)
                          {
                          min=lasta;
                          }
                          else
                          {
                              min=lastc;
                          }
                      }
                      else
                      {
                          if(lastb<lastc)
                          {
                              min=lastb;
                          }
                          else
                          min=lastc;
                      }
                     // cout<<min<<endl;
                      if(str[min]=='a')
                      {
                          a[0]=0;
                          count--;
                      }
                      if(str[min]=='b')
                      {
                          a[1]=0;
                          count--;
                      }
                      if(str[min]=='c')
                      {
                          a[2]=0;
                          count--;
                      }


                      temp=j;
                      j;
                      i=min;
                  }
                  else
                  break;


              }

        cout<<total<<endl;
      }





    return 0;

}
