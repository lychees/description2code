#include <iostream>
#include <bitset>
#include <string>
using namespace std;

int main()
{
	int T, R, K;
	int cool, coolness;
	string bin;

	cin >> T;
	while (T--)
	{
		cin >> R >> K;
		coolness = 0;
		for (int i = 1; i <= R; ++i)
		{
			cool = 0;
			bin = bitset<17>(i).to_string(); //to binary
			for (int j = 0; j < int(bin.length()) - 2; ++j)
				if (bin[j] == '1' && bin[j + 1] == '0' && bin[j + 2] == '1')
					++cool;
			if (cool >= K)
				++coolness;
		}
		cout << coolness << "\n";
	}
//	system("pause");
	return 0;
}