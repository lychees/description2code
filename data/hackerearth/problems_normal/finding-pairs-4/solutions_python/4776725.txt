for index in range(input()):
    count = input()
    pair = {}
    fin = 0
    temp = map(int,raw_input().split(' '))
    for sindex in range(len(temp)):
        if (str(temp[sindex]) in pair):
        	fin += pair[str(temp[sindex])]
        	pair[str(temp[sindex])] += 1
        else:
        	pair[str(temp[sindex])] = 1
    print count+fin 
