#include<iostream>
using namespace std;

int main()
{
int testCase,N,K,arr[1000],arr1[1000],arr2[1000],div,m,num,l,count,sum,cnt;
cin>>testCase;

for(int i=0;i<testCase;i++)
{
cin>>N;
cin>>K;

   for(int j=0;j<N;j++)
   {
        cin>>num;
        m=0;
        div=num;
        do
        {
        int rem=div%2;
        arr[m]=rem;
        m++;
        div=div/2;
        }while(div!=0);
        l=m-1;
       for(int n=0;n<m;n++)
       {
        arr1[l]=arr[n];
        l--;
       }
       count=0;      
       for(int n=0;n<m;n++)
       {
        if(arr1[n]==1)
               count++;
       }
         
      arr2[j]=count;     
    }

  for(int j=0;j<N;j++)
  {
      for(int k=j+1;k<N;k++)
          {
            if(arr2[j]>arr2[k])
              {
               int temp=arr2[j];
               arr2[j]=arr2[k];
               arr2[k]=temp;
              } 
            
          }
  }
sum=0,cnt=1;
for(int j=(N-1);cnt<=K;j--)
{
sum=sum+arr2[j];
cnt++;
}

cout<<sum<<endl;
}

return 0;
}