#include <iostream>
#include<map>
#include<string>
using namespace std;
map<string,int> v;
int main()
{
    //cout << "Hello World!" << endl;
    string s,s1;
    
    int n;
    cin>>n;
    long long cost[n][n];
    for(int i=0;i<n;i++){
    	
    	cin>>s;
    	v[s]=i;
    
    	}
    	
    	for(int i=0;i<n;i++){
    		for(int j=0;j<n;j++)
    		cin>>cost[i][j];
    	}
    int p;
    int last=0;
    long long sum=0;
    cin>>p;
    for(int i=0;i<p;i++){
    	cin>>s1;
    	sum+=cost[last][v[s1]];
    	last=v[s1];
    	
    }
    cout<<sum<<endl;
    
    return 0;
}
