#include <bits/stdc++.h>

using namespace std;
#define MAXN 1000005
int n, q, t, l, r;
char S[MAXN];
int ft[30][MAXN];

void add(int c, int idx, int val){
    for (int i = idx; i < MAXN; i += i & -i)
        ft[c][i] += val;
}

int query(int c, int idx){
    int sum = 0;
    for (int i = idx; i > 0; i -= i & -i)
        sum += ft[c][i];
    return sum;
}

int query(int c, int l, int r){
    return query(c, r) - query(c, l - 1);
}

int main()
{
//    freopen("ulaz.in", "r", stdin);
//    freopen("izlaz.in", "w", stdout);
    scanf("%d %d", &n, &q);
    scanf("%s", S);
    for (int i = 0; i < n; i++){
        add(S[i] - 'a', i  + 1, 1);
    }
    while (q--){
        scanf("%d", &t);
        if (t){
            // query
            int cnt = 0;
            int k;
            scanf("%d %d %d", &l, &r, &k);
            for (int i = 0; i < 26; i++){
                int foo = query(i, l, r);
                if (cnt + foo >= k) {
                    cnt += foo;
                    cout << (char)(i + 'a') << "\n";
                    break;
                }
                cnt += foo;
            }
            if (cnt < k)puts("Out of range");
        }
        else {
            // update
            int x;
            char c[5];
            scanf("%d", &x);
            scanf("%s", c);
            x--;
            add(S[x] - 'a', x + 1, -1);
            S[x] = c[0];
            add(S[x] - 'a', x + 1, 1);
        }
    }
}
