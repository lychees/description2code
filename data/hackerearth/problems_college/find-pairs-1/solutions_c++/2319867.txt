#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cstring>
using namespace std;
int a[1000004];
int main()
{
int i,n,t,j;
long long int pairs;
scanf("%d",&t);
while(t--)
{
scanf("%d",&n);
 
for(i=0;i<n;i++)
{
    scanf("%d",&a[i]);
}
sort(a,a+n);
pairs=0;
for(i=0;i<n;)
{
    for(j=i;j<n && a[j]==a[i];j++)
    {
        pairs+=(j-i+1);
    }
    i=j;
}
printf("%lld\n",pairs);
}
return 0;
}