from collections import Counter
for _ in xrange(input()):
    n = input()
    lst = map(int, raw_input().split())
    c = Counter(lst)
    ans = len(lst)
    for k, v in c.most_common(1000):
        ans += v*(v-1)/2
    print ans
