 //pink blue 
#include<iostream>
//#include<conio.h>
#include<stdio.h>
#include<list>
#include<queue>
#include<string.h>
using namespace std;
list<int>adj[100005];
char colour[100005];
char gender[100005];
int visited[100005];
int min(int a,int b)
{
    if(a<b)
    return a;
    else
    return b;
}
bool bfs(int vertex,char c)
{
     queue<int>myq;
     colour[vertex]=c;
     visited[vertex]=1;
     myq.push(vertex);
     while(!myq.empty())
     {
                        int v=myq.front();
                        //cout<<"just popped out vertex "<<v<<endl;
                        myq.pop();
                        list<int>::iterator it;
                        for(it=adj[v].begin();it!=adj[v].end();it++)
                        {
                                                                    if(!visited[*it])
                                                                    {
                                                                                     //cout<<"visited vertex "<<*it<<endl;
                                                                                     if(colour[v]=='B')
                                                                                     colour[*it]='P';
                                                                                     else
                                                                                     colour[*it]='B';
                                                                                     visited[*it]=1;
                                                                                     myq.push(*it);
                                                                    }
                                                                    else
                                                                    {
                                                                        if(colour[v]==colour[*it])
                                                                        return false;
                                                                    }
                        }
     }
     return true;
}
int main()
{
    int n;
    int m;
    cin>>n>>m;
    int u,v;
    for(int i=1;i<=n;i++)
    cin>>gender[i];
    for(int i=1;i<=m;i++)
    {
            cin>>u>>v;
            adj[u].push_back(v);
            adj[v].push_back(u);
    }
    memset(visited,0,sizeof(visited));
    bool ans1=bfs(1,'B');
    if(ans1==false)
    cout<<"Not possible";
    else
    {
        int a1=0;
        for(int i=1;i<=n;i++)
        {
                if(gender[i]=='B' && colour[i]=='P')
                a1++;
                else
                if(gender[i]=='G'&& colour[i]=='B')
                a1++;
        } 
    
        memset(visited,0,sizeof(visited));
        bool ans2=bfs(1,'P');
        int a2=0;
        for(int i=1;i<=n;i++)
        {
                if(gender[i]=='B' && colour[i]=='P')
                a2++;
                else
                if(gender[i]=='G'&& colour[i]=='B')
                a2++;
        } 
        cout<<min(a1,a2);
    }
    //getch();
    return 0;
}
                             
                        
