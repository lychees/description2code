#include <cstdio>
#include <cstring>
using namespace std;
int main() {
  int n, i, j, len, k;
  long long int num, test;
  bool marked[20];
  long long sum[20];
  char str[100];
  for (i = 2; i <= 16; i++) {
    marked[i] = true;
    sum[i] = 0;
  }
  scanf("%d", &n);
  for (i = 1; i <= n; i++) {
    scanf("%s", str);
    len = strlen(str);
    for (k = 2; k <= 16; k++) {
      if (marked[k]) {
        for (j = len - 1; j >= 0; j--) {
          if ((str[j] >= '0' && str[j] <= '9' && str[j] >= '0' + k) ||
              (str[j] >= 'A' && str[j] <= 'Z' && str[j] >= 'A' + k - 10)) {
            marked[k] = false;
            break;
          }
        }
        if (marked[k]) {
          num = 0;
          for (j = 0; j < len; j++) {
            if (str[j] >= '0' && str[j] <= '9') {
              num = k * num + str[j] - '0';
            } else {
              num = k * num + 10 + str[j] - 'A';
            }
          }
          sum[k] += num;
        }
      }
    }
  }
  scanf("%lld", &test);
  for (k = 2; k <= 16; k++) {
    if (marked[k] && sum[k] == test)
      break;
  }
  printf("%d\n", k);
  return 0;
}
