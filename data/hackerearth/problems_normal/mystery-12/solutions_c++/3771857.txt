/*
    Author:-Sarthak Taneja
    CSE 2nd year,MNNIT Allahabad
*/
#include <bits/stdc++.h>

using namespace std;

typedef long long ll;
typedef pair< int,int > ii;
typedef vector< ii > vii;

#define sfd(x) scanf("%d",&x)
#define sfs(x) scanf("%s",x)
#define sff(x) scanf("%lf",&x)
#define MAX 1000000
#define pb push_back
#define mp make_pair
#define fr first 
#define sc second
#define testcases scanf("%d",&t);while(t--)
#define ffor(a,b,c) for(a=b;a<c;a++)
#define rfor(a,b,c) for(a=b;a>=c;a--)

int mod;

ll power(ll base, int exp)
{
	if(exp == 0)
		return 1;
	ll r= power(base,exp/2);
	r=(r*r)%mod;
	if(exp&1)
		r=(r*base)%mod;

	return r;
}

int main()
{
	int i,j,t;
	ll n;
	ll a,d;


	testcases
	{
		cin>>a>>d>>n;
		a=a%n;
		d=d%n;

		if(a%n != 0 && d%n == 0)
		{
			printf("-1\n");
			continue;
		}

		mod=n;

		ll ans = power(d,mod-2);
		ans= (ans*(n-a))%mod;
		printf("%lld\n",ans);
	}
	return 0;
}