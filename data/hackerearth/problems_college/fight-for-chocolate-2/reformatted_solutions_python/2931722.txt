m, n, k = map(int, raw_input().split())
ar = []
for i in range(m):
    ar.append(raw_input())
if m == 1:
    print 2*n-1
elif ar[0] != ar[1]:
    print(n*m)-(m*(n-1))
else:
    print(n*m)**2-(n*m)
