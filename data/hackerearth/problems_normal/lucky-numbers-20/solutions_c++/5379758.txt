#include <iostream>
#define ll long long int
#define MOD 1000000007
using namespace std;
 
int main()
{
    ll t, n, sum;
    scanf("%lld", &t);
    while(t--)
    {
    	sum = 0;
    	scanf("%lld", &n);
    	for(ll i = 1; i < n; i *= 2)
    	{
    		
    		for(ll j = 1; j < i; j *= 2)
    		{
    			if((i + j) > n)
	    		{	
	    			goto G;
	    		}
    			sum = (sum + i + j) % MOD;
    		}
    	}
    	G:
    	printf("%lld\n", sum);
    }
    return 0;
}