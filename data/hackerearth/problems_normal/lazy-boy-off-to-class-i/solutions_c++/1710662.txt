#include <iostream>
#include <algorithm>
#include <math.h>
using namespace std;

int main()
{
	int T, numClasses,i,j,k,start,end,totalClass,total;
    cin>>T;
    int a[2000];
    while(T--){
    	k = 0;
    	j = 7;
    	totalClass = 0;
    	while(j--){
    		cin>>numClasses;
    		totalClass += numClasses;
    		i = numClasses;
    		while(i--){
    			cin>>start>>end;
    			a[k++] = end-start;
    		}	
    	}
    	
    	sort(a,a+k);
    	
    	int req = ceil(.75 * totalClass);
    	
    	total = 0;
    	while(req--)
    		total += a[req];
    	cout<<24*60*60*7-total<<endl;
    }
}