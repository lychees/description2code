/* adijimmy COMPETITIVE CODING TEMPLATE ADITYA DEEPAK NIT-ROURKELA
apna template khud banao :P */
#include <bits/stdc++.h>
#include <algorithm>
#include <cstdlib>
#include <vector>
#include <bitset>
#include <map>
#include <set>
#include <cmath>
#include <iostream>
#include <cstdio>
using namespace std;

#define pi 2*acos(0)
#define si(n) scanf("%d",&n)
#define sll(n) scanf("%lld",&n)
#define CLR(a,n) memset(a,n,sizeof a)
#define debug(arr,a,b) for(int i=a;i<=b;i++) printf("%d ",arr[i])
#define rep(i,a,n) for(int i=a;i<n;i++)
#define repi(i,a,n) for(int i=a;i<=n;i++)
#define repd(i,a,n) for(int i=a;i>=n;i--)
#define MP make_pair
#define PB push_back
#define F first
#define S second
#define sorta(a) sort(a.begin(),a.end())
#define sortd(a) sort(a.rbegin(),a.rend())

typedef long long int ll;
const int mod = 1e9+7;
const int MAX = 1e5+5;
typedef pair<int,int> PII;
typedef vector<int> VI;
typedef vector< PII > VPII;

int X[] = {1,0,-1,0};
int Y[] = {0,-1,0,1};

ll power(ll a,ll b){
 ll res = 1;
 while(b){
  if(b&1) res = (res*a)%mod;
  a = (a*a)%mod;
  b >>= 1;
 }
 return res;
}

#define MY_LOVE
ll n,m;
int main(){
 #ifndef MY_LOVE
   freopen("qns.txt","r",stdin);
   freopen("ans.txt","w",stdout);
 #endif
 int t;
 ll res;
 scanf("%d",&t);
 while(t--){
	scanf("%lld %lld",&n,&m);
	if(m==1){
		printf("%lld\n",n);
		continue;
	}
	res = 0;
	while(n){
		res += n%m;
		n /= m;
	}
   printf("%lld\n",res);
 }
 return 0;
}
// hope it gets AC :P
