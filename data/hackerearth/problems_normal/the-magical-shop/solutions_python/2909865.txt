N,R = map(int,raw_input().split())
strr = list(raw_input())
ans = 0
for i in range(len(strr)):
    if int(strr[i]) == 1:
        ans =(ans + N) % R
    N = (N * N) % R
print ans

