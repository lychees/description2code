    #include<bits/stdc++.h>
    using namespace std;
    int main()
    {
    int t,r,k;
    cin>>t;
    while(t--)
    {
    cin>>r>>k;
    int bn[100],q,i=0,s,c=0,j,num=0;
    for(s=1;s<=r;s++)
    {
    c=0;
    i=0;
    q=s;
    while(q!=0)
    {
    bn[i++]=q%2;
    q=q/2;
    }
    for(j =i-1 ;j>1;j--)
    {
    if(bn[j]==1&&bn[j-1]==0&&bn[j-2]==1)
    c=c+1;
    }
    if(c>=k)
    num++;
    }
    cout<<num<<endl;
    }
    return 0;
    }


