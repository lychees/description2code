/*
jai shree ram _/\_
A hacker from NITP
*/

#include<bits/stdc++.h>
using namespace std;

#define mod 1000000007
typedef set<string> ss;
typedef vector<int> vs;
typedef map<int,char> msi;
typedef pair<int,int> pa;
typedef long long int ll;

stack<char> st;
ll i,l,ans;
char ch;
int main()
{
	//freopen("i.in", "r", stdin);
  	//freopen("o.out", "w", stdout);
  	int t;
	cin>>t;
	while(t--)
	{
		while(!st.empty())
		st.pop();
		cin>>ch;
		l=0;
		while(ch!='.')
		{
			l++;
			if(!st.empty() && st.top()=='{' && ch=='}')
			st.pop();
			else
			st.push(ch);
			cin>>ch;
		}
		if(l&1)
		{
			cout<<-1<<"\n";
			continue;
		}
		ans=0;
		while(!st.empty())
		{
			while(!st.empty() && st.top()=='}')
			{
				ans++;
				st.pop();
				st.pop();
			}
			while(!st.empty() && st.top()=='{')
				{
					char c=st.top();
					st.pop();
					if(st.top()=='{')
					{
						ans++;
						st.pop();
					}
					else
					{
						ans+=2;
						st.pop();
					}
				}
		}
		cout<<ans<<"\n";
	}
	return 0;
}

