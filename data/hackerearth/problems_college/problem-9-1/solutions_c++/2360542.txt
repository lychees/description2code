#include<bits/stdc++.h>
using namespace std;
int main()
{
	long int N,Q,i,j,k,A,B,c=0;
	vector<long int> v;
	cin>>N;
	cin>>Q;
	for(i=0;i<N;i++)
	v.push_back(0);
	while(Q--)
	{
		cin>>i;
		cin>>A;
		cin>>B;
		if(i==0)
		{
			for(j=A;j<=B;j++)
			{
				if(v[j]==0)
				v[j]=1;
				else
				v[j]=0;
			}
		}
		else
		{
			c=0;
			for(j=A;j<=B;j++)
			{
				if(v[j]==1)
				c++;
			}
			cout<<c<<"\n";
		}
		
	}
}