
#include<bits/stdc++.h>

using namespace std;

#define si(x) scanf("%d",&x)
#define pri(x) printf("%d",x)
#define sll(x) scanf("%lld",&x)
#define pll(x) printf("%lld",x)
#define sstr(s) scanf("%s",s)
#define pstr(s) printf("%s",s)
#define nl printf("\n")
#define ll long long int
#define pb push_back
#define mp make_pair

vector<int> v;

void comp() {
    v.pb(1);
    for(int i=2;i*i*i <= 6000;++i) {
	v.pb(i*i*i);
    }
}

int check(int a[], int s, int j, int n) {
    return (upper_bound(a+j,a+n,s)-lower_bound(a+j,a+n,s));
}
	
int main()
{
    comp();
    int t;
    si(t);
    while(t--) {
	int n;
	si(n);
	int a[n];
	for(int i=0;i<n;++i) {
	    si(a[i]);
	}
	sort(a,a+n);
	int ans = 0;
	for(int i=0;i<n-2;++i) {
	    for(int j=i+1;j<n-1;++j) {
		int s = a[i]+a[j];
		for(int k=0;k<v.size();++k) {
		    if(s<v[k]) {
			int temp = v[k]-s;
			ans += (check(a,temp,j+1,n));
		    }
		}
	    }
	}
	long double p=ans;
	p = p/((long double)n*(n-1)*(n-2)/6);
	printf("%.9Lf\n",p);
    }
    return 0;
}
