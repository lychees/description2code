#include<bits/stdc++.h>
using namespace std;
int main(){
	int t;
	cin>>t;
	while(t--){
		int n;
		cin>>n;
	//	vector<int> odd;
		vector<int> no;
		int x;
		int count=0;
		for(int i=0;i<n;i++){
			scanf("%d",&x);
			if(x%3==0)count++;
			else {
				no.push_back(x);
			}
		}
		long long int total=0;
		total+=(((count)*(count-1))/2);
		for(int i=0;i<no.size();i++){
			for(int j=i+1;j<no.size();j++){
				if((no[i]+no[j])%3==0){
				//	cout<<no[i]<<" "<<no[j]<<endl;
					total++;;
				}
			}
		}
		cout<<total<<endl;
	}
	return 0;
}