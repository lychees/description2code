#include<bits/stdc++.h>
#define ll long long
#define pp(x,y) pair<x,y>
using namespace std;

ll gcd(ll a,ll b){
	if(a==0)
		return b;
	return gcd(b%a,a);
}


int main(){
	ll t;
	cin>>t;
	while(t--){
		map<pair<ll,ll>,ll> m;
		set<pair<pair<ll,ll>,ll> > s;
		ll q,cnt=0;
		cin>>q;
	while(q--){
		ll a,b,c;
		cin>>a>>b>>c;
		if(a<0 || (a==0 && b<0)){
			a*=-1;
			b*=-1;
			c*=-1;
		}
		ll g=gcd(gcd(abs(a),abs(b)),abs(c));
		a/=g;
		b/=g;
		c/=g;
		pair<pair<ll,ll>,ll> ps=make_pair(make_pair(a,b),c);
		if(s.find(ps)==s.end()){
			s.insert(ps);
			g=gcd(abs(a),abs(b));
			a/=g;
			b/=g;
			//map<pair<ll,ll>,ll>::iterator it;
			ll get=(++m[make_pair(a,b)]);
			cnt=max(cnt,get);
		}
		}
		cout<<cnt<<endl;
	}
	return 0;
}