#include <iostream>
#include <vector>
#include <algorithm>
#include <cmath>

using namespace std;

int main()
{
    int t, ni, start, end;
    vector <int> a;
    
    cin >> t;
    
    while (t--)
    {
    	a.clear();
    	
    	for (int i = 0; i < 7; i++)
    	{
    		cin >> ni;
    		
    		for (int i = 0; i < ni; i++)
    		{
    			cin >> start >> end;
    			a.push_back(end-start);
    		}
    	}
    	
    	sort(a.begin(), a.end());
    	
    	int rest = (7*24*60*60);
    	int n = ceil((0.75)*a.size());
    	
    	for (int i = 0; i < n ; i++)
    	{
    		rest -= a[i];
    		// cout << rest << endl;
    	}
    	
    	// cout << endl;
    	
    	cout << rest << endl;
    }
    return 0;
}
