#include <bits/stdc++.h>
using namespace std;
#define int long long
const int MAXN = 2005; 
int fact [MAXN * MAXN + 5]; 
const int mod = 1e9 + 7; 
int powm (int n, int x){
	if (x==0) return 1;
	if (x&1){
		int T = powm(n, x/2); 
		T = (T * T) % mod; 
		return (T * n)%mod; 
	}
	else{
		int T = powm(n, x/2); 
		return (T * T)%mod; 
	}
}
main(){
	ios_base::sync_with_stdio(0); 
	fact[0] = 1; 
	for (int g=1; g<=4000000; g++) fact[g] = (fact[g-1] * g) % mod; 
	int n, k, t; cin >> n >> k >> t; 
	int s = 0; 
	for (int g=1; g<=k; g++){
		int R; cin >> R;
		assert (R>=1 && R<=n);
		s+=R; 
	}
	t-=s; 
	// x + y = k
	// x - y = t
	if ((((k + t)%2)+2)%2){
		cout << 0;
		return 0; 
	}
	int x = (k + t) / 2; 
	int y = k - ((k + t) / 2); 
	if (x>=0 && y>=0){
		if (x > k){
			cout << 0;
			return 0; 
		}
		int f = fact[k]; 
		int s = (fact[x] * fact[k - x])%mod;
		s = powm (s, mod - 2); 
		cout << (s * f) % mod; 
		return 0; 
	}
	else{//
		cout << 0;
		return 0; //
		//
	}
}