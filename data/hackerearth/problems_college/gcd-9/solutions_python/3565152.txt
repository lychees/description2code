from fractions import gcd
n,k=map(int,raw_input().split())
l=map(int,raw_input().split())
m=0
i=1
f=0
last=0
count=1
x=len(l)
while i<n:
	y=gcd(l[i],l[i-1])
#	print y
	if y>=k:
		count+=1
	else:
		if count==1:
			count=0
		if count>m:m=count
		count=1
	i+=1	

print m
	