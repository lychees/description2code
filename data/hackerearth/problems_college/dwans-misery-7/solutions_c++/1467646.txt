#include <iostream>
#include <stdio.h>
using namespace std;
long int FindMaxSum(long int arr[], int n)
{
  long int incl = arr[0];
  long int excl = 0;
  long int excl_new;
  int i;
 
  for (i = 1; i < n; i++)
  {
     excl_new = (incl > excl)? incl: excl;
     incl = excl + arr[i];
     excl = excl_new;
  }
   return ((incl > excl)? incl : excl);
}
int main()
{
int t,n,i,x;
long int ans1=0,ans2=0;
scanf("%d",&t);
while(t--)
{
	scanf("%d",&n);
     long int a[n];
     long int b[n];
	for(i=0;i<n;i++){
	scanf("%ld",&a[i]);
	b[n-i-1]=a[i];
	}
	ans1= FindMaxSum(a,n-1);
	ans2= FindMaxSum(b,n-1);
	ans1=ans1>ans2?ans1:ans2;
	printf("%ld\n",ans1);
}
return 0;
}

