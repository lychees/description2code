#include <bits/stdc++.h>
using namespace std;
 
#define pb push_back
#define sn(n) scanf("%d",&n);
#define pn(n) printf("%d\n",n);
#define sln(n) scanf("%lld",&n);
#define pln(n) printf("%lld\n",n);
#define MOD 1000000007
typedef long long int ll;
 
int gcd(int a, int b) { int temp; while(b!=0){ temp=b; b=a%b; a=temp; } return a;  }
 
ll INIT_MAX=10000000000;
ll INIT_MIN=-1;
ll mul_inverse(long long int a,long long int p,long long int *x,long long int *y)
{
	if(a==0)
	{
		*x=0;
		*y=1;
		return p;
	}
	
	ll x1, y1; 
    ll gcd = mul_inverse(p%a, a, &x1, &y1);
    
    
    *x = y1 - (p/a) * x1;
    *y = x1;
   
	return gcd;
}
 
int main()
{
	long long int t,i,j,k,a,p,x,y,ans,n;
	sln(t);
	while(t--)
	{
		sln(a);
		sln(p);
		sln(n);
		
		
		if(gcd(a,p)!=1)
		{
			printf("-1\n");
		}
		else
		{
			mul_inverse(a,p,&x,&y);
			if(x>p)
			{
					printf("-1\n");
			}
			else
			{
				if(x<0)
				x=x+p;
				
				if(n & 1)
				{
					cout<<a+(a+x)*(n/2)<<endl;
				}
				else
				{
					cout<<(a+x)*(n/2)<<endl;
				}
				
			}
		}
		
	}
   return 0;
}