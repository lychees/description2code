tc=input()
while tc:
    tc-=1
    E=input()
    Roads=[]
    for i in xrange(E):
        X,Y=map(int,raw_input().split())
        Roads.append(X)
        Roads.append(Y)
    print len(set(Roads))
