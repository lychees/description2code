#include<iostream>
#include<cstdio>
#include<vector>
#include<map>
#include<set>
#include<algorithm>
#include<list>
#include<cstring>
using namespace std;
#define ll long long
#define vi vector<int>
#define vii vector<vi >
#define pp pair<int,int>
#define ppl pair<ll,ll>
#define vl vector<ll>
#define vll vector<vl >
#define llu unsigned ll
#define all(c) c.begin(),c.end()
#define mod 1000000007
ll power(ll a,ll b)
{
	if(!b)
		return 1;
	if(b==1)
		return a;
	ll temp=power(a,b/2);
	temp=(temp*temp);
	if(b&1)
		temp=(temp*a);
	return temp;
}
int main()
{
	ll t,i,n,a,b,c,comm,ans;
	scanf("%lld",&t);
	while(t--)
	{
		ans=0;
		map<pair<ppl,ll>,bool> m;
		map<ppl,ll> f;
		ppl ppk;
		map<ppl,ll>::iterator it;
		pair<ppl,ll> p;
		scanf("%lld",&n);
		for(i=0;i<n;i++)
		{
			scanf("%lld%lld%lld",&a,&b,&c);
			if(a<0)
			{
				a*=-1;
				b*=-1;
				c*=-1;
			}
			else if(a==0)
			{
				if(b<0)
				{
					b*=-1;
					c*=-1;
				}
			}
			comm=__gcd(a,__gcd(abs(b),abs(c)));
			a/=comm;
			b/=comm;
			c/=comm;
			p.first.first=a;
			p.first.second=b;
			p.second=c;
			if(!m[p])
			{
				m[p]=true;
				comm=__gcd(a,abs(b));
				a/=comm;
				b/=comm;
				ppk.first=a;
				ppk.second=b;
				f[ppk]++;
			}
		}
		for(it=f.begin();it!=f.end();it++)
		{
			ans=max(ans,it->second);
		}
		printf("%lld\n",ans);
	}
	return 0;
}
