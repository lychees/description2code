#include <bits/stdc++.h>
using namespace std;

typedef long long LL;

#define PII       pair<int,int>
#define all(c)    c.begin(),c.end()
#define sz(c)     (int)c.size()
#define clr(c)    c.clear()
#define pb        push_back
#define mp        make_pair
#define cin(x)    scanf("%d",&x)
#define MOD		1000000007
#define EPS		1E-10

#define MAXN	1000001
bool marker[MAXN + 1] = {0};
void sieve(int limit = MAXN)
{
	for(int i = 2; i <= limit; i++) marker[i] = true;
	for(int i = 2; i <= limit; i++)
	{
		if(!marker[i]) continue;
		if(1LL*i*i > limit) break;
		int j = i*i;
		while(j<=limit)
		{
			marker[j] = 0;
			j += i;
		}
	}
}

int sum[MAXN];
int f[MAXN];

int main()
{
	sieve();
	int s = 0;
	for(int i = 1; i < MAXN; i++)
	{
		sum[i] = sum[i-1];
		f[i] = f[i-1];
		if(marker[i])
		{
			sum[i] = (sum[i] + 1LL * i * s) % MOD;
			s = (s + i) % MOD;
			f[i] = (f[i] + i) % MOD;
		}
	}
	int t;
	cin(t);
	while(t--)
	{
		int l,r;
		cin(l);
		cin(r);
		LL ans = (sum[r] - sum[l-1] - 1LL * f[l-1] * (f[r] - f[l-1])) % MOD;
		if(ans < 0)
			ans += MOD;
		printf("%lld\n",ans);
	}
	return 0;
}