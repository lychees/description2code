#include <bits/stdc++.h>
using namespace std;

int main()
{
    long long t;
    cin >> t;
    while(t--){
    	string s;
    	cin >> s;
    	long long A[10000],B[100000];
    	long long count = 0;
    	
    for(long long i=0;i<s.size();i++)
	A[i]=1; 
	count = s.size();
	for(long long j=1;j<s.size();j++)
	{
		for(long long i=0;i<s.size();i++)
		{
			if( (i-j) < 0 || (i+j) >= s.size()|| A[i] == 0)
			A[i] = 0;
			else
			{
				if(s[i-j] == s[i+j])
				{ A[i]=1; count = count + (2*j+1)*(2*j+1) ;}
				else
				A[i]=0;
			}
		}
	}
	
	
	for(long long i = 0; i < s.size()-1; i++){
		if(s[i] == s[i+1])
		{B[i] = 1;
		count += 4 ;}
	}
	
	
	for(long long j=1; j<s.size(); j++){
		for(long long i=0; i<s.size()-1; i++){
			if( (i-j) < 0 || (i+1+j) >= s.size()|| B[i] == 0)
				B[i] = 0;
			else
			{
				if(s[i-j] == s[i+1+j])
				{ B[i] = 1; count += (2+2*j)*(2+2*j) ;}
				else
				B[i]=0;
			}
		}
	}
	
	cout << count << endl;
    }
    return 0;
}
