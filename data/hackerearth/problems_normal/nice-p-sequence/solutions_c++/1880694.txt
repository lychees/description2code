#include <iostream>
#define LL long long
using namespace std;

LL T,A,N,P;

LL gcd(LL a, LL b){
    if (!b) return a;
    return gcd(b,a%b);
}

void gcd_ext(LL &x, LL &y, LL a, LL b){
    if (!b){
        x=1,y=0;
        return;
    }

    LL x0,y0;
    gcd_ext(x0,y0,b,a%b);
    x=y0;
    y=x0-y0*(a/b);
}

int main(){
    cin >> T;

    LL x,y;
    while (T--){
        cin >> A >> P >> N;
        if (gcd(A,P)!=1){
            cout << -1 << "\n";
            continue;
        }

        gcd_ext(x,y,A,P);
        x%=P;
        if (x<0) x+=P;
        if (N%2==0) cout << (N/2)*A+(N/2)*x << "\n";
        else cout << (N+1)/2*A+(N/2)*x << "\n";
    }

    return 0;
}
