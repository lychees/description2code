/*template created by */
#include <bits/stdc++.h>
#define SI set<int> 
#define VI vector<int> 
#define ull unsigned long long 
#define inint(a) scanf("%d",&a)
#define input(a) cin>>a
#define ll long long 
#define print(a) cout<<a
#define printn(a) cout<<a<<"\n"
#define f first
#define s second
#define len(s) s.length()
#define range(a,b,n) for(int i=a;i<b;i+=n)
using namespace std;
int n;
int BIT[2000000][26];
void update(int x,int val,int idx){
	for(;x<=n;x+=x&-x){
		BIT[x][idx]+=val;
	}
}
int query(int x,int idx){
	int ret=0;
	for(;x>0;x-=x&-x){
		ret+=BIT[x][idx];
	}
	return ret;
}
int main()
{
	int q;
	inint(n);
	inint(q);
	//vector<int>a(n);
	string s;
	cin>>s;
	for(int i=0;i<n;i++){
		update(i+1,1,s[i]-'a');
	}
	for(int i=0;i<q;i++){
		int ch;
		cin>>ch;
		if(ch==0){
			int x;
			char ch;
			inint(x);
			cin>>ch;
			update(x,-1,s[x-1]-'a');
			update(x,1,ch-'a');
			s[x-1]=ch;
		}
		else if (ch==1){
			int l,r,k;
			cin>>l>>r>>k;
			int i;//k--;
			for(i=0;i<26;i++){
				int ans=query(r,i)-query(l-1,i);
				if(ans){
					//cout<<(char)(i+'a')<<" ";
					k-=ans;
					//cout<<ans<<" ";
				}
				if(k<=0)break;
			}
			if(i!=26){
				cout<<(char)(i+'a')<<"\n";
			}
			else cout<<"Out of range\n";
		}
	}
	return 0;
}