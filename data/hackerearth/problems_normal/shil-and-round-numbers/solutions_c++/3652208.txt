#include <bits/stdc++.h>
using namespace std;
#define mod 1000000007
#define N 5000005
#define ll long long
#define p(t) cout<<t;
#define f(i,n) for(i=0;i<n;i++)
#define g(i,n) for(i=1;i<=n;i++)
#define s(x) scanf("%I64d",&x);
#define pb push_back
#define mp make_pair

ll a[N],b[N],r,m,n,d[N];
bool chk(ll x){
	if(x<0)return 0;
    ll j=x%10,k;
    while(x){
        k=x%10;
        x=x/10;
    }
    return j==k;

}
void upd(ll i){
  while(i<=n){a[i]++; i+=i&-i;}
}

void rmv(ll i){
  while(i<=n){a[i]--; i+=i&-i;}
}

ll query(ll x){
ll ans=0;
   while(x){ans+=a[x]; x-=x&-x;}
	return ans;
}

int main()
{
ios_base::sync_with_stdio(0);
ll k=0,t=0,x,sum=0,q=0,z=0,y=0,l=0,i,j;
cin>>n>>m;
g(i,n){cin>>x; b[i]=x; if(chk(x))upd(i);}
g(i,m){
       cin>>x;
       if(x==1){cin>>j>>k;j--; cout<<query(k)-query(j)<<endl;
       }
       else{ cin>>j>>k; if(chk(b[j]))rmv(j);
       b[j]=k;
       if(chk(k))upd(j);
        }
 }
return 0;
}
