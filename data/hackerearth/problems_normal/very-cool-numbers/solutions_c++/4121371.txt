#include <iostream>
using namespace std;

int main()
{
	int t,r,k,a[100005],i,cur,prev1,prev2,ans;
	for(i=0;i<100001;i++)
	{
		k=i;
		cur=prev2=prev1=-1;
		r=0;
		while(k)
		{
			prev2=prev1;
			prev1=cur;
			cur=k%2;
			k/=2;
			if(cur==1&&prev1==0&&prev2==1)
				r++;
		}
		a[i]=r;
	}
//	for(i=0;i<10;i++)
//		cout<<a[i]<<" ";
//	cout<<endl;
	cin>>t;
	while(t--)
	{
		ans=0;
		cin>>r>>k;
		for(i=1;i<=r;i++)
		{
			if(a[i]>=k)
			{
			//	cout<<i<<" ";
				ans++;
			}
		}
		cout<<ans<<endl;
	}
    return 0;
}
