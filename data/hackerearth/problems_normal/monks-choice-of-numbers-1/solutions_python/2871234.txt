def bc(n):
	v = 0
	while n:
		n, v = n & (n - 1), v + 1
	return v
for t in range(int(raw_input())):
	n, k = map(int, raw_input().split())
	print sum(sorted((bc(int(x)) for x in raw_input().split()), reverse=True)[:k])