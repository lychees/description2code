#include <iostream>
#include <cstdio>
#include <vector>

#define FOR0(i,n) for(i=0;i<n;++i)
#define FOR1(i,n) for(i=1;i<=n;++i)
using namespace std;

int vis[300], clr[300] ;
vector < int > e[300] ;

int dc( int color ) {
    if( color == 1 )
        return 2 ;
    return 1 ;
}

bool dfs( int v, int color ) {
    clr[v] = color ; vis[v] = 1 ;
    for( int i = 0 ; i < (int)e[v].size() ; ++i ) {
        int next = e[v][i] ;
        if( vis[next] && clr[next] == clr[v] )
            return false ;
        if( !vis[next] )
            if( !dfs(next, dc(color)) )
                return false ;
    }
    return true ;
}

int main()
{
    int __T, n, m, a, b, i ;
    cin >> __T ; while( __T-- ) {
    	cin >> n >> m ;
    	FOR0(i,n)
            vis[i] = clr[i] = 0,
            e[i].clear() ;
    	FOR0(i,m)
            cin >> a >> b,
            e[a].push_back(b) ;
        bool bad = false ;
        FOR0(i,n)
            if( !vis[i] && !dfs(i,1) ) {
                bad = true ; break ;
            }
        if( bad )
            cout << "NOT BICOLORABLE.\n" ;
        else
            cout << "BICOLORABLE.\n" ;
    }
    return 0;
}
