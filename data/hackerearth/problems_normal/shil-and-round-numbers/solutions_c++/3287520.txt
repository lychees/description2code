#include<bits/stdc++.h>
#define ll long long
using namespace std;

ll bit[200002];

void updatebit(ll v,ll idx,ll n)
{
    while(idx<=n)
    {
        bit[idx]+=v;
        idx+=(idx&-idx);
    }
}


ll totalroundnos(ll idx)
{
    ll s=0;
    while(idx>0)
    {
        s+=bit[idx];
        idx-=(idx&-idx);
    }
    return s;
}

int checkround(ll n)
{
    ll r,l;
    if(n<0)
    	return 0;
    if(n==0)
    	return 1;

    	r=n%10;
    	while(n>0)
    	{
    		l=n%10;
    		n=n/10;
    	}

    		return (l==r);

}
int main()
{
    ios::sync_with_stdio(false);
    cin.tie(0);

    ll n,q,i,r,t,l;
    cin>>n>>q;
    ll a[n+1];

	for(i=1;i<=n;i++)
    {
    	cin>>a[i];
    	updatebit(checkround(a[i]),i,n);
    }
    //for(i=1;i<=n;i++)
      //  cout<<b[i]<<" ";
    //cout<<endl;


    //for(i=0;i<=n;i++)
      //  cout<<bit[i]<<" ";
	//cout<<endl;

    while(q--)
    {
        cin>>t>>l>>r;
        if(t==1)
            cout<<totalroundnos(r)-totalroundnos(l-1)<<endl;
        else
         {

             updatebit(-checkround(a[l]),l,n);
             a[l]=r;
             updatebit(checkround(a[l]),l,n);

         }
        // for(ll j=0;j<=n;j++)
        //cout<<bit[j]<<" ";
	//cout<<endl;
    }
    return 0;
}
