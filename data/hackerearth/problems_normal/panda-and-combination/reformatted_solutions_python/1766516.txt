t = input()
while t:
    t -= 1
    n, m = map(int, raw_input().split())
    x = m
    ans = 0
    if (m == 1):
        ans = n
    else:
        x = m
        while (x < n):
            x *= m
        while n:
            ans += (n/x)
            n = n % x
            x /= m
    print ans
