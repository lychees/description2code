#include <bits/stdc++.h>
using namespace std;

int n,m;
pair<int,int> q[100];
vector<int> et;
int etu=0;
vector<int> c;
vector<int> d;
vector<int> a;
vector<int> b;
int bu=0;

void solve(){
    etu=0;
    et.resize(n);
    for(int i=0;i<n;++i)
    for(int i1=i;i1<n;++i1)
    for(int j=0;j<n-(i1-i);++j){
        if(i==j) continue;
        c.clear();
        d.clear();
        for(int k=0;k<n;++k) if(k<i || k>i1) c.push_back(k), d.push_back(k);
        for(int k=i1;k>=i;--k) c.insert(c.begin()+j,k), d.insert(d.begin()+j,k);
        for(int k=0;k<m;++k)
            sort(c.begin()+q[k].first, c.begin()+q[k].second+1);
        bool s=true;
        for(int k=0;k<n;++k)
            if(c[k]!=k) s=false;
        if(s) continue;
        if(etu){
            int p = 0;
            while(p<n && et[p]==d[p]) p++;
            if(p==n) continue;
            if(d[p]>et[p]) continue;
        }
        etu=1;
        for(int k=0;k<n;++k) et[k]=d[k];
    }
}

void brute(){
    bu=0;
    a.clear();
    for(int i=0;i<n;++i) a.push_back(i);
    next_permutation(a.begin(),a.end());
    int c=1;
    for(int i=2;i<=n;++i) c*=i;
    for(int i=0;i<c-1;++i){
        b.clear();
        for(int i=0;i<n;++i) b.push_back(a[i]);
        for(int k=0;k<m;++k)
            sort(a.begin()+q[k].first, a.begin()+q[k].second+1);
        bool s=true;
        for(int k=0;k<n;++k)
            if(a[k]!=k) s=false;
        a.clear();
        for(int i=0;i<n;++i) a.push_back(b[i]);
        if(!s) {
            bu=1;
            break;
        }
        next_permutation(a.begin(), a.end());
    }
}

int main(){
    ios::sync_with_stdio(0);
    srand(time(0));
    cin >> n >> m;
    //while(1){
        for(int i=0;i<m;++i) cin >> q[i].first >> q[i].second, q[i].first--, q[i].second--;
        solve();
        //brute();
        /*
        if(!etu) cout << "All ok!" << "\n";
        else{
            for(int i=0;i+1<n;++i) cout << et[i]+1 << " ";
            cout << et[n-1]+1 << "\n";
        }*/
        /*if(bu!=etu) {
                cout << "wrong\n";for(int i=0;i<m;++i) cout << q[i].first+1 <<  " " << q[i].second+1 << "\n";
                if(etu){           for(int i=0;i<n;++i) cout << et[i]+1 << " ";
                cout << "\n";} else cout<<"nope1\n";
                if(bu){for(int i=0;i<n;++i) cout << a[i]+1 << " ";
                cout << "\n";} else cout << "nope2\n";
                return 0;

        } else {
            if(bu+etu==0) continue;
            bool s=false;
            for(int i=0;i<n;++i) if (a[i]!=et[i]) s=true;
            if(!s) continue;
            cout << "wrong2\n";
            for(int i=0;i<m;++i) cout << q[i].first+1 <<  " " << q[i].second+1 << "\n";
            for(int i=0;i<n;++i) cout << et[i]+1 << " ";
            cout << "\n";
            for(int i=0;i<n;++i) cout << a[i]+1 << " ";
            cout << "\n";
            return 0;
        }

    }*/
    if(!etu) cout << "All ok!" << "\n";
    else{
        for(int i=0;i<n;++i) cout << et[i]+1 << " ";
            cout << "\n";

    }

}
