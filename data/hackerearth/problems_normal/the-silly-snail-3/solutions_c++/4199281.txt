#include<bits/stdc++.h>
using namespace std;
vector<int> arr[10000001];
void dfs(int r)
{
	cout<<r<< " ";
	for(int i=0;i<arr[r].size();i++)
	dfs(arr[r][i])	;
}
int main()
{
		int t;
		cin>>t;
		memset(arr,0,sizeof arr);
		while(t--)
		{
			int n;
			cin>>n;
			
			for(int i=0;i<n;i++)
			{
				int x,y,z;
				cin>>x>>y>>z;
				if(y)
				arr[x].push_back(y);
				if(z)
				arr[x].push_back(z);
			
				
			}
			dfs(1);
			cout<<endl;
			memset(arr,0,sizeof arr);
		}

}