    #include <iostream>
    #include<algorithm>
    using namespace std;
     
    int main()
    {
        int t;
        cin>>t;
        while(t--)
        {
        	int n,k,r,sum=0;
        	cin>>n>>k;
        	int l=n;
        	int arr[n],i,j,c[1000]={0};
        	for(i=0;i<n;i++)
        	{
        		cin>>arr[i];
        		int k=arr[i];
        		while(k!=0)
        		{
                r= k % 2;
                if(r==1)c[i]++;
                k = k / 2;
                }
        		
        	}
        	sort(c,c+n);
        	for(i=n-1;i>=n-k;i--)
        	sum+=c[i];
        	
        cout<<sum<<endl;
        	
        }
        return 0;
    }