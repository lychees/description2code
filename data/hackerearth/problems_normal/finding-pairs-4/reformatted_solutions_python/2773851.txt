
t = int(raw_input())

while t > 0:
    cmap = {}
    total = 0
    n = raw_input()
    l = map(int, raw_input().split(" "))
    for ele in l:
        if ele in cmap:
            cmap[ele] += 1
        else:
            cmap[ele] = 1

    for val in cmap.values():
        total += (val*(val+1))/2
    t -= 1

    print total
