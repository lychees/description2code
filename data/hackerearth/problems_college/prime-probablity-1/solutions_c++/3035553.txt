#include <bits/stdc++.h>
using namespace std;

map <int,int> M;
int arr[1000002];

void sieve()
{
	int i,j,k=1;
	arr[0]=1;
	arr[1]=1;
	for (i=2;i<=sqrt(1000002);++i)
	{
		if (arr[i]==0)
		{
			j=2;
			while ((i*j)<=1000000)
			{
				arr[i*j]=1;
				j++;
			}
		}
	}
	for (i=2;i<1000001;++i)
		if (arr[i]==0)
		{
			M[i]=k;
			k++;
		}
}
	
int main()
{
    int t,l,r,i,j,a,b;
    float f;
    sieve();
    scanf ("%d",&t);
    while (t--)
    {
    	scanf ("%d %d",&l,&r);
    	for (i=l;i<=r;++i)
    		if (arr[i]==0)
    			break;
    	if (i>r)
    		f=0;
    	else
    	{
    		a=M[i];
    		for (i=r;i>=l;--i)
    			if (arr[i]==0)
    				break;
    		b=M[i];
    		//cout<<a<<" "<<b<<endl;
    		f=((1.0)*(b-a+1))/(r-l+1);
    	}
    	printf ("%f\n",f);
    }
    return 0;
}
