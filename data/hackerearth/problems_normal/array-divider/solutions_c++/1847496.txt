#include <bits/stdc++.h>
#define lli long long

using namespace std;

lli A[502];
lli cum[502];
lli blcksum[502][502];
lli sqsum[502][502];
lli dp[502][502];

int main()
{
	lli n,k;
	cin >> n >> k;
	assert(k<=300);
	for ( lli i = 1; i <= n; i++ ) cin >> A[i], cum[i] = cum[i-1] + A[i];
    memset(dp, -1, sizeof(dp));
    dp[0][0] = 0LL;
	for ( lli i = 1; i <= n; i++ ) {
		for ( lli j = 1; j <= i; j++ ) {
			for ( lli k = 0; k <= i-1; k++ ) {
				if ( k < j-1 || dp[k][j-1] == -1 ) continue;
				lli sk = cum[i]-cum[k];
				if ( dp[i][j] == -1 || dp[i][j] > sqsum[k][j-1] + dp[k][j-1] + (j-1LL)*sk*sk - 2LL*sk*(blcksum[k][j-1]) ) {
					dp[i][j] = sqsum[k][j-1] + dp[k][j-1] + (j-1LL)*sk*sk - 2LL*sk*(blcksum[k][j-1]);
					sqsum[i][j] = sqsum[k][j-1] + sk*sk;
					blcksum[i][j] = blcksum[k][j-1] + sk;
				}
			}
		}
	}

	cout << dp[n][k] << endl;

	return 0;
}
