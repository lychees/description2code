#include <iostream>
#include<bits/stdc++.h>
#include <stdio.h>
using namespace std;
bool isprime[1000005];
long long int sum[1000005];
long long int ssprime[1000005];

void process(){
	memset(isprime,true,sizeof(isprime));
	isprime[1]=false;
	isprime[0]=false;
	for(long long int i=2;i*i<1000005;i++){
		if(!isprime[i]) continue;
		for(long long int j=i*i;j<1000005;j=j+i){
			isprime[j]=false;
		}
	}
	sum[1]=0;
	sum[0]=0;
	sum[2]=1;
	for(long long int i=3;i<1000005;i++){
		sum[i]=sum[i-1]+isprime[i];
	}
	ssprime[0]=0;
	ssprime[1]=0;
	ssprime[2]=0;
	for(long long int i=3;i<1000005;i++){
		ssprime[i]=ssprime[i-1]+isprime[sum[i]];
	}
	
}

int main()
{
	process();
	long int t;
    scanf("%ld",&t);
    
	for(long int i=1;i<=t;i++){
		long long int l,r;
		scanf("%lld%lld",&l,&r);
		printf("%lld\n",ssprime[r]-ssprime[l-1]);
	}
    
}
