#include <iostream>
#include<iomanip>
using namespace std;

int main()
{
    int n,L,D;
    //int n;
    cin>>n>>L>>D;
    float pr[n+2];int dist[n+2];
    dist[0]=0;
    dist[n+1]=D;
    
    pr[0]=1.0;
    pr[n+1]=1.0;
    
    for(int i=1;i<=n;i++) 
    	cin>>pr[i];
    for(int i=1;i<=n;i++) 
    	cin>>dist[i];
    	
    double temp[n+2];
    temp[0]=1.0;
    
    for(int i=1;i<=n+1;i++)
      {
      	double max=0.0;
      	int j;
      	for(j=i-1;j>=0;j--)
      	 {
      	 	  if((dist[i]<=dist[j]+L))
      	 	  {
      	 	  	  if(pr[i]*temp[j]>max) max=pr[i]*temp[j];
      	 	  	
      	 	  }
      	 	  else break;
      	 	
      	 	
      	 }
      	 if(j==-1) max=pr[i];
      	 temp[i]=max;
      	 
      	
      	
      }
     
     
    if(temp[n+1]==0.0) cout<<"IMPOSSIBLE"<<endl;
    else cout<<setprecision(6)<<fixed<<temp[n+1]<<endl;
    
}
