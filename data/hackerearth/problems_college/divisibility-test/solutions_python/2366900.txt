'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
import itertools

t=int(raw_input())

for T in xrange(t):
	n=raw_input()
	div = int(raw_input())
	l,r=map(int,raw_input().split())
	
	num=[]
	for d in n:
		num.append(d)
	num=num[l-1:r]
	count =0
	for i in range(0,len(num)+1):
		for j in range(i+1,len(num)+1):
			a = int(''.join(map(str,num[i:j])))
			if(a%div==0):
				count += 1
				
	print count
	
	