t = input()
for i in range(t):
    e = input()
    n1=[]
    n2=[]
    for i in range(e):
        a,b=map(int,raw_input().split())
        n1.append(a)
        n2.append(b)
    t = zip(n1,n2)
    foo = {}
    for i in t:
        if i[0] not in foo:
                foo[i[0]] = [i[1]]
        else:
                foo[i[0]].append(i[1])
        if i[1] not in foo:
                foo[i[1]] = [i[0]]
        else:
                foo[i[1]].append(i[0])
    print len(foo) 