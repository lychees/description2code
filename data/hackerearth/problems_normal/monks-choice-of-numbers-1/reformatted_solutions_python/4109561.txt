'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
TestCases = int(raw_input())
for _ in range(TestCases):
    Num, Choise = map(int, raw_input().split())
    Array = map(int, raw_input().split())
    List = []
    for Current in Array:
        List.append(bin(Current).count('1'))
    print sum(sorted(List, reverse=True)[:Choise])
