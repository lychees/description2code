#include <bits/stdc++.h>
#define ll long long
#define ull unsigned long long
#define MOD 1000000007
#define INF 999999999
#define MAXN 100005
using namespace std;

int main()
{
	int tc;
	cin >> tc;
	while(tc--)
	{
		int n,q;
		cin >> n >> q;
		int stx[MAXN] = {}, sty[MAXN] = {}, enx[MAXN] = {}, eny[MAXN] = {}, linex[MAXN] = {}, liney[MAXN] = {};
		for(int i=0;i<n;i++)
		{
			int a,b,c,d;
			cin >> a >> b >> c >> d;
			if(a > c) swap(a,c);
			if(b > d) swap(b,d);
			stx[a]++;
			enx[c]++;
			sty[b]++;
			eny[d]++;
		}
		linex[0] = stx[0];
		liney[0] = sty[0];
		for(int i=1;i<MAXN;i++)
		{
			linex[i] = linex[i-1] + stx[i];
			liney[i] = liney[i-1] + sty[i];
			linex[i] -= enx[i-1];
			liney[i] -= eny[i-1];
			// cout << linex[i] << " ";
		}
		while(q--)
		{
			int x, y;
			cin >> x >> y;
			
			if(x == 0)
			{
				cout << liney[y] << "\n";
			}
			else cout << linex[x] << "\n";
		}
	}
}
