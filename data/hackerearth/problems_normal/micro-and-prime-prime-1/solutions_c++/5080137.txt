#include <bits/stdc++.h>

using namespace std;

typedef long long ll;

bitset<1001000> bs;
vector<ll> primes;

void sieve()
{
 	bs.set();
 	bs[0] = bs[1] = 0;
 	
 	for(ll i = 2; i <= 1000000; i++)
 		if(bs[i])
 		{
 			for(ll j = i * i; j <= 1000000; j += i)
 				bs[j] = 0;
			primes.push_back(i);
 			
 		}
 }

bool isPrime(ll n)
{
	if(n <= 1000000)
		return bs[n];
	for(int i = 0; i < (int)primes.size(); i++)
		if(n % primes[i] == 0)
			return false;
	return true;
}


int main()
{
 	
 	sieve();
 	ll dp1[1000010], dp2[1000010];
 	dp1[0] = 0;
 	for(int i = 1; i <= 1000000; i++)
 		dp1[i] = dp1[i - 1] + bs[i];
 		
 	dp2[0] = 0;
 	for(int i = 1; i <= 1000000; i++)
 		dp2[i] = dp2[i - 1] + isPrime(dp1[i]);
 	
 	int t, x, y;
 	scanf("%d", &t);
 	while(t--)
 	{
 		scanf("%d %d", &x, &y);
 		printf("%lld\n", dp2[y] - dp2[x - 1]);
 	}
    return 0;
}
