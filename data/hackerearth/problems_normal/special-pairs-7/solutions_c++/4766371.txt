#include <bits/stdc++.h>

using namespace std;

#define fi first
#define se second
#define mp make_pair
#define pb push_back
#define pf push_front
#define iter(v, i) for (__typeof__((v).begin()) i = (v).begin(); i != (v).end(); i++)
#define all(v) (v).begin(), (v).end()

typedef long long ll;
typedef pair<int, int> ii;
typedef vector<int> vi;
typedef vector<ii> vii;

const double eps = 1e-9;
const double pi = 3.141592653589793238462;

const int SIZE = 20;
const int MAXVAL = (1 << SIZE) - 1;
const int MAXN  = 1e5 + 10;

int A[MAXVAL + 5];
int ar[MAXN];
ll dp[MAXVAL + 5][SIZE + 5];

int main() {
    int T;
    scanf("%d", &T);
    while (T--) {
    	int N;
    	scanf("%d", &N);
    	memset(A, 0, sizeof A);
    	for (int i = 0; i < N; i++) {
    		scanf("%d", &ar[i]);
    		A[ar[i]]++;
    	}
    	for (int mask = 0; mask <= MAXVAL; mask++) {
    		dp[mask][0] = A[mask];
    		if (mask & 1)
    			dp[mask][0] += A[mask ^ 1];
    		for (int i = 1; i <= SIZE; i++) {
    			dp[mask][i] = dp[mask][i-1];
    			if (mask & (1 << i))
    				dp[mask][i] += dp[mask ^ (1 << i)][i-1];
    		}
    	}
    	ll ans = 0;
    	for (int i = 0; i < N; i++) {
    		ans += dp[MAXVAL - ar[i]][SIZE];
    	}
    	printf("%d\n", ans);
    }
    return 0;
}
