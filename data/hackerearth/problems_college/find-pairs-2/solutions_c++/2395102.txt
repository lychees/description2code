#include<cstdio>
#include<map>
#include<algorithm>
#include<iostream>
using namespace std;
int main(){
    int t;
    for(cin>>t;t;t--){
        long n;
        cin>>n;
        map<long,long>mp;
        while(n--){
            long x;
            cin>>x;
            mp[x]++;
        }
        map<long,long>::iterator it=mp.begin();
        long ans=0;
        for(;it!=mp.end();it++){
            long y=it->second;
            ans+=(((y+1)*y)>>1);
        }
        cout<<ans<<"\n";
    }
    return 0;
}
