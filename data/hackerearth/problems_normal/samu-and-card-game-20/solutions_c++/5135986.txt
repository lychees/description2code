#include <iostream>
using namespace std;
 
int main()
{
int t;
cin>>t;
int k,count=0;
long long int n,m,A,B,X,Y,i;
while(t--)
{
for(X=Y=count=1,cin>>n>>m>>k,i=0 ; i<k ; i++)
{
cin>>A>>B;
while((X+A<=n)&&(Y+B<=m)&&(X+A>=1)&&(Y+B>=1))
{
X+=A;
Y+=B;
count++;
}
}
cout<<count-1<<endl;
} 
return 0;
}