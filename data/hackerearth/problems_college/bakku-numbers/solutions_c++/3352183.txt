#include <bits/stdc++.h>

typedef long long int ll;
#define mod 1000000007
#define S(x) scanf("%lld",&x)
using namespace std;

ll powr (ll a, ll b)
{
    if (b == 0)
        return 1;
    ll x = powr(a, b/2);
    if (b % 2 == 0)
        return (x*x)%mod;
    else
        return (((x*x)%mod)*a)%mod;
}

int main()
{
    ll t,n,x,m,i,y,z,l,r;
    S(x);
    S(y);
    S(t);
    z = x*y;
    while(t--) {
        S(l);
        S(r);
        ll cnt1 = r/x - l/x + (l%x == 0);
        ll cnt2 = r/y - l/y + (l%y == 0);
        ll cnt3 = r/z - l/z + (l%z == 0);
        printf("%lf\n",(double)(cnt1+cnt2-cnt3)/(double)(r-l+1));
    }
    return 0;
}
