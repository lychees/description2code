#include <iostream>
#include<algorithm>
#include<array>
using namespace std;

int main()
{
    //cout << "Hello World!" << endl;
    
    int size,noop;
    cin>>size>>noop;
    
    vector<int> arr1;
   vector<int> arr2;
    int no;
    for(int i=0 ; i < size ; i++)
    {
    	cin >> no;
    	arr1.push_back(no);
    }
    
    for(int i=0 ; i < size ; i++)
    {
    	cin >> no;
    	arr2.push_back(no);
    }
    int ldist;
    for(int i=0 ; i < size ; i++)
    {
    	if(arr1[i] == arr2[0])
    	{
	    	ldist = i;
	    	break;
    	}
    }
    char op;
    int norot;
    bool var = true;
    int totrot = 0;
    for(int i=1 ; i <= noop ; i++)
    {
    	cin >> op;
    	cin >> norot;
    	
    	norot = norot % size;
    	// k R rotations is equal to n-k L rotations
    	if( op == 'R')
    	{
    		norot = size - norot;
    	}
    	totrot = (totrot+norot)%size;
    	if(totrot == ldist)
    	{
    		var = false;
    		cout<<i;
    		break;
    	}
    	
    	
    	
    	
    }
    if(var)
    {
    	cout<<"-1";
    }
    return 0;
}
