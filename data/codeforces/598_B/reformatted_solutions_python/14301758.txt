def ints():
    return map(int, raw_input().split())


def rd():
    return raw_input()


s = rd()
for _ in xrange(input()):
    l, r, k = ints()
    k %= (r-l+1)
    s = s[:l-1]+s[r-k:r]+s[l-1:r-k]+s[r:]
print s
