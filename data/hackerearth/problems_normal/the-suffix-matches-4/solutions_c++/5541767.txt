#include "bits/stdc++.h"

using namespace std;

#define TEST(T) int T; sci(T); while(T--)
#define ll long long
#define F first
#define S second
#define mp make_pair
#define pb push_back
#define ins insert
#define pii pair<int,int>
#define all(V) V.begin(),V.end()
#define clr(V,val) memset(V,val,sizeof(V))
#define rep(X,A,N,C) for(X=A;X<=N;X+=C)
#define rept(X,A,N,C) for(X=A;X>=N;X-=C)
#define sci(X) scanf("%d",&X)
#define scl(X) scanf("%lld",&X)
#define scs(X) scanf("%s",&X)
#define pfi(X) printf("%d",X)
#define pfl(X) printf("%lld",X)
#define pfs(X) printf("%s",X)
#define sp printf(" ")
#define nxt printf("\n")

const int MX=1e6 + 5;

const int INF=1e9;

const int M=1000000007;


            /*************************/
/********** I GOTTA DO WHAT I GOTTA DO ********/
           /*************************/


void calc_Z(string);

int z[MX];

void calc_Z(string s)
{
	
	int l,r,x;
	
	l = r = 0;
	
	int n = s.size();
	
	for(x=1;x<n;x++)
	{
		if(x > r)
		{
			
			l = r = x;
			
			while(r<n && s[r]==s[r-l]) r++;
			
			z[x] = r-l;
			
			r--;
			
		}
		
		else
		{
			int k = x-l;
			
			if(z[k] < r-x+1) z[x] = z[k];
			
			else
			{
				l = x;
				
				while(r<n && s[r-l]==s[r]) r++;
				
				z[x] = r-l; 
				
				r--;
			}
		}
	}
	
}


int main()
{
	string s;
	
	cin>>s;
	
	reverse(all(s));
	
	clr(z,0);
	
	calc_Z(s);
	
	int n = s.size();
	
//	z[n-1] = n;
	z[0] = n;
	
	int q;
	
	sci(q);
	
	while(q--)
	{
		
		int p;
		
		sci(p);
		
		p--;
		
		pfi(z[n-p-1]);
		
		nxt;
		
	}
	
}