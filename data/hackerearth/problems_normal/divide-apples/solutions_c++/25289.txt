#include <cstdio>
#include <algorithm>
#include <cstring>
#include <set>
#include <vector>
#include <queue>
#include <map>
#include <iostream>
#include <cmath>

#define S(x) scanf("%d",&x)
#define P(x) printf("%d\n",x)
#define rep(i,a,b) for(int i=a;i<b;i++)
#define pb push_back
using namespace std;

typedef long long int LL;
typedef vector<int > VI;

LL pos(LL x) {
	return x>0?x:-x;
}

int main() {
	int n;
	int A[10005];
	S(n);
	LL sum=0;
	rep(i,0,n) {
		S(A[i]);
		sum+=A[i];
	}
	int avg=sum/n;
	
	rep(i,0,n) {A[i]-=avg;}
	
	LL ans=(1LL<<62);
	for(int i=0;i<min(3000,n);i++) {
		long long int s=0,tmp=0;
		for(int j=0;j<n;j++) {
			tmp+=pos(s);
			s+=A[(i+j)>n-1?i+j-n:i+j];
		}
		if(tmp<ans) ans=tmp;
	}
	for(int i=3000;i<min(5000,n);i+=2) {
		long long int s=0,tmp=0;
		for(int j=0;j<n;j++) {
			tmp+=pos(s);
			s+=A[(i+j)>n-1?i+j-n:i+j];
		}
		if(tmp<ans) ans=tmp;
	}
	for(int i=8500;i<min(9000,n);i++) {
		long long int s=0,tmp=0;
		for(int j=0;j<n;j++) {
			tmp+=pos(s);
			s+=A[(i+j)>n-1?i+j-n:i+j];
		}
		if(tmp<ans) ans=tmp;
	}
	printf("%lld\n",ans);
	return 0;
}