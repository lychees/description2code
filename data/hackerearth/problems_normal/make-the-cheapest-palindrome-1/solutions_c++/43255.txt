#include<iostream>
#include<stdio.h>
#include<string.h>
using namespace std;
int min(int a,int b)
{
    if(a<b){return a;}
    else{return b;}
}
int main()
{
    char s[10050];
    int i,j,a,b,cost[2],t,sum=0;
    cin>>t;
    while(t--){
    scanf("%s",s);
    cin>>a>>b;
    cost[0]=a;
    cost[1]=b;
    j=strlen(s)-1;
    sum=0;
    for(i=0;i<strlen(s);i++)
    {
    if(i>j){break;}
        if(s[i]==s[j]&&s[i]!='/')
        {
            j--;continue;
        }
        if(s[i]!=s[j]&&s[i]!='/'&&s[j]!='/')
        {
            sum=-1;break;
        }
        if(s[i]=='/'&&s[j]=='/')
        {
            sum+=(2*min(a,b));
        }
        else if(s[i]=='/')
        {
            sum+=(cost[s[j]-'a']);
        }
        else if(s[j]=='/')
        {
            sum+=(cost[s[i]-'a']);   
        }
       // cout<<sum<<" ";
        j--;
    }
    cout<<sum<<endl;
    }
    return 0;
}