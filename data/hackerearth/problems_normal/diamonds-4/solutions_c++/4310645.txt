#include <bits/stdc++.h>
using namespace std;

int main() {
	int t, n, m, count;
	char window[2000][2000], space;
	scanf("%d", &t);
	while (t--) {
		count = 0;
		scanf("%d%d\n", &n, &m);
		for (int i = 0; i < n; i++) {
			for (int j = 0; j < m; j++) {
				scanf("%c%c", &window[i][j], &space);
			}
		}
		for (int i = 0; i < n-1; i++) {
			for (int j = 0; j < m-1; j++) {
				if (window[i][j] == '/' && window[i][j+1] == '\\'
				&& window[i+1][j] == '\\' && window[i+1][j+1] == '/')
				count ++;
			}
		}
		printf("%d\n", count);
		/*debug
		for (int i = 0; i < n; i++) {
			for (int j = 0; j < m; j++) {
				printf("%c", window[i][j]);
			}
			printf("\n");
		}
		debug*/
	}
    return 0;
}