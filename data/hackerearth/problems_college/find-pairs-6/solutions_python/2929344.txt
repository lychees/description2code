from collections import defaultdict

def solve(a, n):
	freq=defaultdict(int)
	for s in a:
		freq[s] += 1
	count = 0
	for s in freq:
		count += (freq[s]*(freq[s]+1))/2
	return count

for _ in xrange(input()):
	n = input()
	a = map(int, raw_input().split())
	print solve(a, n)