#include <iostream>
#include <cstdio>
#include <vector>
#include <algorithm>
#include <vector>
#include <list>
#include <queue>
#include <stack>
#include <climits>
#include <set>
#include <map>
#define ll long long
#define ull unsigned long long
#define FOR(i, n) for (int i = 0; i < n; i++)
#define si(x) scanf("%d", &x);
#define M 1000000
using namespace std;
bool arr[1000009];
int ans[1000009];
void preProcess()
{
	arr[0]=true; arr[1]=true;
	for(int i=2; i*i<=M; i++)
	{
		if(!arr[i])
		{
			for(int j=i+i; j<=M; j+=i)
				arr[j]=true;
			//cout<<i<<endl;
		}
	}
	ans[0]=0;
	for(int i=1;i<=M;i++)
	{
		if(!arr[i])
		{
			ans[i]=ans[i-1]+1;
		}
		else
			ans[i]=ans[i-1];
		//cout<<i<<" "<<ans[i]<<endl;
	}
}

int main()
{
	int t;
	si(t);
	preProcess();
	while(t--)
	{
		int l,r;
		si(l);si(r);
		int ans1= ans[r]-ans[l];
		if(!arr[l])
			ans1+=1;
		int fin = ans1/(r-l+1);
		int res = ans1%(r-l+1);
		float val = (float)fin + ((float)res/(r-l+1));
		//long double val = ans1/(long double)(r-l+1);
		printf("%f\n", val);
	}
	return 0;
}