#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<cstring>
using namespace std;
#define lim 15
int cs, i, res, n;
int A[lim],M[lim][1<<lim];
int solve(int i, int j)
{
  int &res = M[i][j], s, k;
  if (res == -1)
  {
    s = 0;
    for (k = 0; k < n; k++)
      if (j & 1 << k)
        s++;
    if (j + 1 == 1 << n)
      res = 0;
    else
      for (k = 0; k < n; k++)
        if (!(j & 1 << k))
          res = max(res, solve(k, j | 1 << k) + (s + 1) * abs(A[k] - A[i]));
  }
  return res;
}
int main()
{
  scanf("%d",&cs);
  while (cs--)
  {
    scanf("%d", &n);
    for (i = 0; i < n; i++)
      scanf("%d", &A[i]);
    memset(M, -1, sizeof M);
    res = 0;
    for (i = 0; i < n; i++)
      res=max(res, solve(i, 1 << i));
    printf("%d\n", res);
  }
  return 0;
}
