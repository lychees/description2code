#include <iostream>
#include <cstdio>
#include <cstdlib>
#include <vector>
using namespace std;

int fights[100002] = {0};

int fightWinner(int a,int b){
	if (a>b){
		return a;
	}
	return b;
}

int main()
{
   int n,q;
   scanf("%d %d",&n,&q);
   
   vector< pair <int,int> > fighters;
   for(int i=0;i<n;i++){
   		int temp;
   		cin>>temp;
   		fighters.push_back( make_pair(i+1,temp));
   }
   
   do{
   	   vector< pair <int,int> > nextRoundFighters;
   	   int fSize = fighters.size();
   	   //cout<<fSize<<endl;
	   for(int i=0;i<fSize;i+=2){
	   		if(i+1>=fSize){
	   			nextRoundFighters.push_back(fighters[i]);
	   			break;
	   		}
	   		int firstFighter = fighters[i].second;
	   		int secFighter = fighters[i+1].second;
	   		fights[fighters[i].first]++;
	   		fights[fighters[i+1].first]++;
	   		// cout<<i<<" "<<i+1<<" fight between "<<fighters[i].first<<" and "<<fighters[i+1].first<<endl;
	   		int winner = fightWinner(firstFighter,secFighter);
	   		
	   		if(winner == firstFighter){
	   			nextRoundFighters.push_back(fighters[i]);
	   		}else{
	   			nextRoundFighters.push_back(fighters[i+1]);
	   		}
	   }
	   
	   fighters = nextRoundFighters;
   }
   while(fighters.size() > 1);
   //taking queries
   for(int i=0;i<q;i++){
   		int val;
   		scanf("%d",&val);
   		printf("%d\n",fights[val]);
   }
   
   return 0;
}
