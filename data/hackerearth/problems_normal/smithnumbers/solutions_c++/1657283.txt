#include<iostream>
#include<cstdio>
using namespace std;
int prime[10000007];
int f(int n)
{
	int ret=0;
	while(n)
	{
		ret=ret+n%10;
		n=n/10;
	}
	return ret;
}
void sieve()
{
	prime[2]=2;
	prime[3]=3;
	for(int i=4;i<=10000000;i+=2)
		prime[i]=2;
	for(int i=9;i<=10000000;i+=6)
		prime[i]=3;
	bool f=1;
	for(int i=5;i<=3163;)
	{
		if(!prime[i])
		{
			prime[i]=i;
			for(int j=i*i;j<=10000000;j+=2*i)
			{
				if(!prime[j])
					prime[j]=i;
			}
		}
		if(f)
			i+=2;
		else
			i+=4;
		f=!f;
	}
}
int ans[10000007];
int sum[10000007];
void precomp()
{
	for(int i=2;i<=10000000;i++)
	{
		if(prime[i]==0)
			prime[i]=i;
		ans[i]=ans[i-1];
		if(prime[i]==i)
		{
			sum[i]=f(i);
			if(sum[i]==f(i))
				ans[i]++;
		}
		else
		{
			sum[i]=f(prime[i])+sum[i/prime[i]];
			if(sum[i]==f(i))
				ans[i]++;
		}
	}
}
int main()
{
	sieve();
	precomp();
	int t;
	scanf("%d",&t);
	int a,b;
	while(t--)
	{
		scanf("%d %d",&a,&b);
		printf("%d\n",ans[b]-ans[a-1]);
	}
	return 0;
}