//When I wrote this, only God and I understood what I was doing
//Now, God only knows

#include<iostream>
#include<cstdio>
#include<cstring>
#include<map>

#define max(a,b) a>b?a:b
#define gc getchar

void scan(int &x);
void scanl(long &x);
long solve(int);

using namespace std;

int n,k;
long a[10003],mp[10003];

int main(void)
{
  int i,t;

  scan(t);

  while(t--)
  {
      scan(n);
      scan(k);

      for(i=0;i<n;i++)
        scanl(a[i]);

      memset(mp,-1,sizeof(mp));

      cout << solve(0) <<endl;
   }
   return 0;
}

long solve(int i)
{
     long sum;

     if(i>n-1)
       return 0;

     if(i==(n-1))
     {
       mp[i]= a[i]>0?a[i]:0;
       return mp[i];
     }

     if(mp[i]!=-1)
       return mp[i];

     if(a[i]>0)
        sum = max(a[i]+solve(i+k+1),solve(i+1));
     else
        sum = max(solve(i+k+1),solve(i+1));

     mp[i]=sum;

     return mp[i];
}

void scan(int &x) // for neg/pos
{
    register int c = gc();
    x = 0;
    int neg = 0;
    for(;((c<48 || c>57) && c != '-');c = gc());
    if(c=='-') {neg=1;c=gc();}
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
    if(neg) x=-x;
}

void scanl(long &x) // for neg/pos
{
    register int c = gc();
    x = 0;
    int neg = 0;
    for(;((c<48 || c>57) && c != '-');c = gc());
    if(c=='-') {neg=1;c=gc();}
    for(;c>47 && c<58;c = gc()) {x = (x<<1) + (x<<3) + c - 48;}
    if(neg) x=-x;
}

