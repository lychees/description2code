#include <iostream>
#include<cmath>
using namespace std;
int gcd(int a,int b)
{
 	 if(b==0)
 	 return a;
 	 return gcd(b,a%b);
}
int main()
{
	 
	int t;
	cin>>t;
	while(t--)
	{
		int a,b,cnt=0;
		cin>>a>>b;
		int x=pow(2,a)-1;
		int y=pow(2,b)-1;
		a=gcd(x,y);
		int check=(int)sqrt(a);
		for(int i=2;i<=check;i++)
		{
			if(a%i==0)
			cnt++;
			while(a%i==0)
			a/=i;
			if(a==1)
			break;
		}
		if(a>1)
		cnt++;
		cout<<cnt<<endl;
	}
}
