lst = [0]*input()
for i in range(input()):
    a = int(raw_input())
    b = int(raw_input())
    c = int(raw_input())
    c = c+1
    if a == 0:
        for i in range(b, c):
            if lst[i] == 0:
                lst[i] = 1
            else:
                lst[i] = 0
    else:
        count = 0
        for i in range(b, c):
            if lst[i] == 1:
                count = count+1
        print count
