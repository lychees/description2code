#include <bits/stdc++.h>
#define max 300000000
using namespace std; 
int scan()
{
    int n = 0, ch = getchar_unlocked();
    while (ch < '0' || ch > '9')
        ch = getchar_unlocked();
    while (ch >= '0' && ch <= '9') {
        n = (n << 3) + (n << 1) + ch - '0';
        ch = getchar_unlocked();
    }
    return n;
}
int main()
{
	long  n,q,i,j;
	n=scan();
	q=scan();
	int l,a,b,ct;
	int arr[n+2];
	for(i=0; i<n; i++)
	arr[i]=1;
	while(q--)
	{
		ct=0;
		l=scan();
		a=scan();
		b=scan();
		if(l==0)
		{
			for(i=a; i<=b; i++)
			{
				arr[i]=(arr[i]>0?0:1);
			}
		}
		if(l==1)
		{
			for(i=a; i<=b; i++)
			{
				ct+=(arr[i]<1?1:0);
			}
			printf("%d\n",ct);
		}
	}	
	return 0;
}