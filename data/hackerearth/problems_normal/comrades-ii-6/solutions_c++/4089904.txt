#include <iostream>
#include <string>
using namespace std;
 
/*******************************************
        Soldier Heirarchy 
******************************************/
 
struct node{
	
	node *ancestor = NULL;
	
	};
int main()
{
    int T;
    cin>>T;
  for(int m=0;m<T;m++){
		    long long int n;
		    cin>>n;
		    
		   	long  long int totalInteractions = (n)*(n-1)/2;
		    node a[n+1];
		    int key;
		    
		    int hash[n+1],commanCaseExist=0;
		    for(int i=1;i<n+1;i++)
					hash[i] = 0;
					
		    for(int i=1;i<n+1;i++)
					{cin>>key;
					a[i].ancestor = &a[key];
					
					/*************For Root Node/Commander***********/
					if(key==0)  
						a[i].ancestor= NULL;
						
					if(hash[key]>0)
					  commanCaseExist = 1;
					 else
					  hash[key]++;
			}
			
			if(commanCaseExist==0){
				cout<<totalInteractions<<" 0"<<endl;
				continue;
				
			}
			
			int sups=0;
			for(int i=1;i<n+1;i++){
			     node *var = &a[i];
			    while(var->ancestor!=NULL){
					sups++;
					var= var->ancestor;
					}
			
			}
			
			
		   cout<<sups<<" "<<totalInteractions-sups<<endl ;}
    return 0;
}