#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define lt 10000000
int main()
{
   int i,j;
   vector<bool> v(lt+1);
   vector<int> ans(lt+1);
   ans[2]=1;
   ans[3]=1;
   v[0]=v[1]=true;
   for(i=4;i<=lt;i=i+2)
   	v[i]=true;
   for(i=9;i<=lt;i=i+6)
   	v[i]=true;
   for(i=6;i<lt;i=i+6)
   {
   		if(!v[i-1])
   		{
   			ans[i-1]=1;
   			if((ll)(i-1)*(ll)(i-1)<=lt)
   			{
   				for(j=(i-1)*(i-1);j<=lt;j=j+2*(i-1))
   					v[j]=true;
   			}
   		}
   		if(!v[i+1])
   		{
   			ans[i+1]=1;
   			if((ll)(i+1)*(ll)(i+1)<=lt)
   			{
   				for(j=(i+1)*(i+1);j<=lt;j=j+2*(i+1))
   					v[j]=true;
   			}
   		}
   }
   for(i=3;i<=lt;i++)
   	ans[i]+=ans[i-1];
   	int t,a,b,f;
   	scanf("%d",&t);
   	while(t--)
   	{
   		scanf("%d%d",&a,&b);
   		f=ans[b]-ans[a];
   		if(!v[a])
   			f++;
   		printf("%d\n",f);
   	}
    return 0;
}
