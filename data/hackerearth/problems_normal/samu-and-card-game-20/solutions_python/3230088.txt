
tcNo = int(raw_input())
while (1 <= tcNo <= 500):
    noOfJump = 0
    toJumpRow = 1
    toJumpColumn = 1
    tcNo = tcNo-1
    rowCloumn = raw_input()
    row =  int(rowCloumn.split()[0])
    column =  int(rowCloumn.split()[1])
    noOfCards = int(raw_input())
    while (1 <= noOfCards <= 10000):
        
        noOfCards = noOfCards - 1
        jumpRowColumn = raw_input()
        jumpRow = int(jumpRowColumn.split()[0])
        jumpColumn = int(jumpRowColumn.split()[1])
        while((0 < toJumpRow <= row) and (0 < toJumpColumn <= column)):
            toJumpRow = toJumpRow + jumpRow
            toJumpColumn = toJumpColumn + jumpColumn
            if (0 < toJumpRow <= row) and (0 < toJumpColumn <= column):
                noOfJump = noOfJump + 1
            else:
                toJumpRow = toJumpRow - jumpRow
                toJumpColumn = toJumpColumn - jumpColumn
                break
    print noOfJump