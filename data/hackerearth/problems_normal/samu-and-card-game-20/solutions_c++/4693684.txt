#include <iostream>
using namespace std;

int validJump(int curX,int curY,int maxX,int maxY,int jumpX,int jumpY)
{
	int xDir = (jumpX<0)?0:1;
	int yDir = (jumpY<0)?0:1;
	int xCount=0,yCount=0;
	if(jumpX != 0)
		if(xDir)
		{
				xCount = (maxX - curX)/jumpX;
		}
		else
		{
			xCount = (curX-1)/abs(jumpX);
		}
	
	if(jumpY != 0)
		if(yDir)
		{
			yCount = (maxY - curY)/jumpY;
		}
		else
		{
			yCount = (curY-1)/abs(jumpY);
		}
	if(jumpX == 0 || jumpY == 0)
		return (xCount>yCount?xCount:yCount);
	return (xCount<yCount?xCount:yCount);
}

int main()
{
	int t,jumps=0,count;
	int jumpX,jumpY,k,validX,validY,posX,posY;
	int curX,curY;
	int maxX,maxY;
	cin>>t;
	while(t--)
	{
		jumps =0;
		curX = curY = 1;
		cin>>maxX>>maxY;
		cin>>k;
		while(k--)
		{
			cin>>jumpX>>jumpY;
			if(count=validJump(curX,curY,maxX,maxY,jumpX,jumpY))
			{
				curX += jumpX*count;
				curY += jumpY*count;
				jumps+=count;
			}
		//	cout<<"curX "<<curX<<"curY "<<curY<<endl;
		}
		
		cout<<jumps<<endl;
	}
    return 0;
}
