#include <bits/stdc++.h>
using namespace std;
int p1,p2,t,l,r,c;
int go()
{
	long long gc = p1*1ll*p2;
	return (r/p1 - (l-1)/p1) + (r/p2 - (l-1)/p2) - (r/gc-(l-1)/gc);
}
int main()
{
    
    cin>>p1>>p2;
    cin>>t;
    while(t--){
    	cin>>l>>r;
    	printf("%.6lf\n",1.*go()/(1.*(r-l+1)));
    }
    return 0;
}
