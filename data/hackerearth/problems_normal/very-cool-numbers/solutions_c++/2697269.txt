#include<iostream>
using namespace std;
int main()
{
	long long int t,i,r,k,a[1000];
	
	cin>>t;
	while(t--)
	{ int j,c,z=0;
		cin>>r>>k;
		for(int x=1;x<=r;x++)
	{c=0,j=0;
	int f=x;
	while(f>0)
		{
		
		a[j]=f%2;
		f=f/2;
		j++;
		}
		for(i=0;i<j-2;i++)
		{ 
			
		if(a[i]==1&&a[i+1]==0&&a[i+2]==1)
		{
		c++;
		}
		}
		
		if(c>=k) z++;
	}
	cout<<z<<endl;
	}
}