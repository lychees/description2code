#include <iostream>
#include<stdio.h>
using namespace std;

int gcd(int a,int b)
{
	if(b==0)
	return a;
	
	else 
	return gcd(b,a%b);
}

int main()
{
    int x,y;
    long long a,b;
    int t,k,g,l;
    
    scanf("%d",&t);
    
    for(k=0;k<t;k++)
    {
    	scanf("%d %d %lld %lld",&x,&y,&a,&b);
    	
    	g=gcd(x,y);
    	l=(x*y)/g;
    	
    	a=(a-1)/l;
    	b=b/l;
    	
    	printf("%lld\n",b-a);
    }
    return 0;
}
