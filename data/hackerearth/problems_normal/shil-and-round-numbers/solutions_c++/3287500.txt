#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define mp make_pair
#define y1 lalalalala
#define index lalalalalala
#define show(a, i) cout << " a[ " << i << " ] = " << a[i] << endl;
#define all(x) x.begin(), x.end()
#define vi vector<int>
#define pii pair<int, int>
#define pli pair<long long, int>
#define ll long long
#define si(x) scanf("%d", &x)
#define out(x) printf("%d\n", x);

const int cs = 0x186A1;
const int inf = 1234567;
const char fixx = 26;
const int me = 200005;
const ll mod = 1.e9 + 7;

int n, q;
ll a[me];
int ft[me], g[me];

int good(ll x){
    if(x < 0)
        return 0;
    ll l = x % 10;
    while(x > 9) x /= 10;
    return l == x ? 1 : 0;
}
void add(int pos, int v){
    while(pos < me){
        ft[pos] += v;
        pos += (pos & -pos);
    }
}
int get(int pos){
    int s = 0;
    while(pos > 0){
        s += ft[pos];
        pos -= (pos & -pos);
    }
    return s;
}
int main()
{
    ios_base:: sync_with_stdio(false);
    cin.tie(false);

    //freopen("boomerang_decoration.txt", "r", stdin);
    //freopen("out.txt", "w", stdout);

    cin >> n >> q;
    for(int i = 1 ; i <= n ; i ++){
        cin >> a[i];
        g[i] = good(a[i]);
        if(g[i]) add(i, 1);
    }
    ll type, l, r;
    for(int tr = 0 ; tr < q ; tr ++){
        cin >> type >> l >> r;
        if(type == 1){
            cout << get(r) - get(l - 1) << endl;
        }
        else{
            int gg = good(r);
            if(gg != g[l])
                add(l, gg - g[l]);
            a[l] = r;
            g[l] = gg;
        }
    }

    ///cout << "Elapsed time is: " << clock() / CLOCKS_PER_SEC << endl;

    return 0;
}
