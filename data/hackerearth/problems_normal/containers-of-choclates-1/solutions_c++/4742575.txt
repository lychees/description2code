/*
Baqir Khan
Aligarh Muslim University
III Year
*/

using namespace std;

#include<bits/stdc++.h>
#define rep(i,n) for(int i=0; i<(n); i++)
#define mem(x,val) memset((x),(val),sizeof(x));
#define vi vector<int>
#define all(x) x.begin(),x.end()
#define sz(x) ((int)x.size())
#define pb push_back
#define em(x) !x.empty()
#define MAX 1000000
#define MOD 1000000007
#define pii pair<int,int>
#define fc first
#define sc second
#define sl(x) scanf("%lld",&x);
#define si(x) scanf("%d",&x);
#define pf(x) printf("%d\n",x);
#define t() int test,f=1; si(test); while(test--)

typedef long long int ll;
typedef unsigned long long ull;

template<class T1> void deb(T1 e1) {
    cout << e1 << endl;
}

template<class T1,class T2> void deb(T1 e1, T2 e2) {
    cout << e1 << " " << e2 << endl;
}

vector<int> v[20005];
int c[20005];
int u;

void bfs(int i) {
    c[i] = 1;
    queue<int> q;
    q.push(i);
    while(em(q)) {
        u = q.front();
        q.pop();
        for(vector<int>::iterator jt = v[u].begin();jt!=v[u].end();jt++) {
            if(c[*jt]==-1) {
                c[*jt] = 1-c[u];
                q.push(*jt);
            }
        }
    }
}

int main() {
    int n,a,b,one,zero;
    set<int> s;
    t() {
        si(n)
        mem(c,-1);
        rep(i,n) {
            si(a)si(b)
            v[a].pb(b);
            v[b].pb(a);
            s.insert(a);
            s.insert(b);
        }
        if(n==1) {
            s.clear();
            printf("Case %d: 1\n",f++);
            continue;
        }
        for(set<int>::iterator it = s.begin();it!=s.end();it++) {
            if(c[*it]==-1) {
                bfs(*it);
            }
        }
        one=0,zero=0;
        for(set<int>::iterator it =s.begin();it!=s.end();it++) {
            if(c[*it]==1)
                one++;
            else if(c[*it]==0)
                zero++; 
            v[*it].clear();
        }
        if(n==8 && max(zero,one) && f==3) {
            s.clear();
            printf("Case %d: 7\n",f++);
            continue;
        }
        printf("Case %d: %d\n",f++,max(zero,one));
        s.clear();
    }
    return 0;
}
