n=input()
l=raw_input().split()
o=l[::]
m=input()-1
p=0
while len(l)>1:
	k=len(l)
	l.pop((p+m)%(k))
	p=p+m
ans=[]
if int(l[0])%2==1:
	for i in o:
		if int(i)%2==1:
			ans.append(int(i))
else:
	for i in o:
		if i%2==o:
			ans.append(int(i))
ans.sort()
print ' '.join(str(i) for i in ans)