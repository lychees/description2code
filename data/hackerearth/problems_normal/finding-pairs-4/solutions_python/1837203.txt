tc = int(raw_input())
for test in range(tc):
	n = int(raw_input())
	nlist = [ int(x) for x in raw_input().split() ]
	dic = {}
	res = len(nlist)
	for mem in nlist:
		if mem in dic:
			dic[mem] = dic[mem]+1
			res =res + dic[mem]
		else:
			dic[mem] = 0
 
	#print "Dic --->",dic.values()
	print res 