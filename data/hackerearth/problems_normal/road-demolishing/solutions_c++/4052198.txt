#include <iostream>
using namespace std;

int main()
{
		long long int ans,n,q,t;
		cin>>t;
		while(t--)
		{
			cin>>n>>q;
			q--;
			ans=n*n-(n%q)*   ((n+q-1)/q)  *   ((n+q-1)/q);
			ans=ans-(q-n%q)*(n/q)*(n/q);
			ans/=2;
			ans=(n*(n-1))/2-ans;
			cout<<ans<<endl;
		}
    return 0;
}
