#include<bits/stdc++.h>
using namespace std;
typedef long long LL;

LL min(LL a,LL b)
{
    if(a<b)
        return a;
    else 
        return b;
}
int main()
{
    
    LL T,R[201],C[201],SC[401],SR[401],j,N,K,i,temp,M,x;
    cin>>T;
    while(T--)
    {
        cin>>N>>K;
        for(i=0;i<N;i++)
        {
            R[i]=C[i]=0;
        }
        for(i=0;i<=K;i++)
            SC[i]=SR[i]=0;
            
        for(i=0;i<N;i++)
        {
            for(j=0;j<N;j++)
            {
                cin>>temp;
                R[i]+=temp;
                C[j]+=temp;
            }
        }
        for(i=1;i<=K;i++)
        {
            x=0;
            for(j=0;j<N;j++)
            if(R[j]<R[x])
            x=j;
            SR[i]=R[x]+SR[i-1];
            R[x]+=N;
            x=0;
            for(j=0;j<N;j++)
            if(C[j]<C[x])
            x=j;
            SC[i]=C[x]+SC[i-1];
            C[x]+=N;
        }
        M=INT_MAX;
        for(i=0;i<=K;i++)
        M=min(M,SR[i]+SC[K-i]+i*(K-i));
        
        cout<<M<<endl;
        
    }
    return 0;
}