#include <iostream>
using namespace std;

int main()
{
    int coins, queries, i, q, start, end, j, cnt;
    cin>> coins >> queries;
    int stack[100005] = {0};
    for(i=0;i < queries;i++)
    {
    	cin>> q >> start >> end;
    	switch(q)
    	{
    		case 0:
    			for(j=start;j <= end;j++)
    				stack[j] = (stack[j] + 1) % 2;
    			break;
    		case 1:
    			for(j=start, cnt=0;j <= end;j++)
    				if(stack[j] == 1)
    					cnt++;
    			cout<< cnt << endl;
    			break;
    	}
    }
    return 0;
}
