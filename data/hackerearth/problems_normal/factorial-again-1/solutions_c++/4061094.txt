    #include <iostream>
    #define ll long long
    using namespace std;
     
    ll pow(ll b,ll e,ll m)
    {
        ll res=1;
        while(e>0)
        {
            if(e&1)
                res=(res*b)%m;
            b=(b*b)%m;
            e/=2;
        }
        return (res%m);
    }
    ll cal(ll n,ll p)
    {
        ll f=1, ans,den;
        for(ll i=3*n+1;i<p;i++)
        {
            f=(f*i)%p;
        }
        ans=pow(f,p-2,p);
        ans=((p-1)*ans)%p;
        den=pow(6,n,p);
        den=pow(den,p-2,p);
        ans=(ans*den)%p;
        return ans;
    }
    int main(){
        ll N,P;
        int t;
        cin>>t;
        while(t--){
            cin>>N>>P;
            if(3*N>=P)
                cout<<"0"<<endl;
            else
                cout<<cal(N,P)<<endl;
        }
     
        return 0;
    }