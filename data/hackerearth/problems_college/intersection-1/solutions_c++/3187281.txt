#include <iostream>
#include<math.h>
using namespace std;

int main()
{
    long int T,p,q,k,x,y;
    long int i,j,temp,sum;
    cin>>T;
    for(i=0;i<T;i++){
    	cin>>p>>q>>k;
    	
    	x=0;temp=0;
    	while(pow(x,p)<=k){
    		
    		sum = k - pow(x , p);
    		sum = sum - x;
    		if(sum < 0) break;
    		y = pow(sum , 1.0/q);
    		if(pow(y,q) == sum) temp++;
    		if(y-1 >=0)if(pow(y-1,q) == sum) temp++;
    		if(y-2 >=0)if(pow(y-2, q) ==sum) temp++;
    		if(pow(y+1,q) == sum) temp++;
    		if(pow(y+2,q) ==sum) temp++;
    		x++;
    	}
    	cout<<"Case #"<<i+1<<": "<<temp<<"\n";
    	//cout<<pow(1024, 1.0/2);
    }
    return 0;
}
