#include<bits/stdc++.h>
using namespace std;
const int MAXN = 1e4+3;
const long long MAXIM = 1e12;
long long dp[5][MAXN];
char str[MAXN];
long long formNum(int a, int b) {
	long long ret=0;
	for(int i=a;i<=b;i++) {
		ret=ret*10+(str[i]-48);
		if(ret>MAXIM)
			return -1;
	}
	if(str[a]=='0' and (a!=b))
		return -1;
	return ret;
}
int main() {
	int t;
	cin>>t;
	while(t--) {
		bool f=false;
		memset(dp,-1,sizeof(dp));
		scanf("%s",str+1);
		int len=strlen(str+1);
		long long cur=0;
		for(int i=1;i<=len;i++) {
			cur=cur*10+(str[i]-48);
			if(!f and !(cur>MAXIM or (cur==0 and i!=1) or (cur!=0 and cur<=MAXIM and str[1]=='0' and i!=1)))
				dp[1][i]=cur;
			else if(cur>MAXIM)
				f=true;
			for(int j=i-1;j>=1;j--) {
				long long x=formNum(j+1,i);
				if(dp[1][j]!=-1 and x!=-1 and x<=MAXIM)
					dp[2][i]=max(dp[2][i],dp[1][j]+x);
				if(dp[2][j]!=-1 and x!=-1 and x<=MAXIM)
					dp[3][i]=max(dp[3][i],dp[2][j]+x);
				if(dp[3][j]!=-1 and x!=-1 and x<=MAXIM)
					dp[4][i]=max(dp[4][i],dp[3][j]+x);
//				cout<<i<<" "<<dp[1][i]<<" "<<dp[2][i]<<" "<<dp[3][i]<<" "<<dp[4][i]<<endl;
			}
		}
		dp[4][len]!=-1?cout<<dp[4][len]:cout<<"unlucky";
		cout<<"\n";
	}
	return 0;
}