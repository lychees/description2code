import collections
out = []

for t in range(int(raw_input())):
    a = []
    b = []
    N = int(raw_input())
    arr = str(raw_input()).split()
    arr = [int(arr[i]) for i in range(N)]
    cnt = 0
    count = collections.Counter(arr)
    for element in count:
        cnt += count[element]
        x = count[element]
        x -= 1
        while x != 0:
            cnt += x
            x -= 1
    out.append(cnt)
for i in xrange(len(out)):

    print str(out[i])
