/*    SHUBHAM SINHA    */
 
 
 
#include <cstdio>
#include <iostream>
#include <algorithm>
#include <string.h>
#include <vector>
#include <set>
#include <map>
#include <queue>
#include <list>
#include <math.h>
 
#define ll unsigned long long
#define maxN 1000000
#define maxVal 100000000
#define minVal -100000000
#define mod 1000000007LL
 
#define gcd(a,b) __gcd(a,b)
 
using namespace std;

int n;
int bit[30][maxN+5];
char a[maxN+5];
int c[30];

void update(int i,int k,int v)
{
	while(i<=n)
	{
		bit[k][i]+=v;
		i=i+(i&(-1*i));
	}
}

int query(int i,int k)
{
	int r=0;
	while(i>0)
	{
		r=r+bit[k][i];
		i=i-(i&(-1*i));
	}
	return r;
}

int main()
{
    #ifndef ONLINE_JUDGE
    	//freopen("in.txt","r",stdin);
    	//freopen("out.txt","w",stdout);
    #endif
	int q,i,o,l,r,k,p;
	char x;
	scanf("%d%d",&n,&q);
	scanf("%s",a);
	memset(bit,0,sizeof(bit));
	for(i=1;i<=n;i++)
		update(i,(a[i-1]-'a'),1);
	while(q--)
	{
		scanf("%d",&o);
		if(o==0)
		{
			scanf("%d%c%c",&i,&x,&x);
			//printf("%d %c\n",i,x);
			//continue;
			if(a[i-1]!=x)
			{
				update(i,(a[i-1]-'a'),-1);
				a[i-1]=x;
				update(i,(a[i-1]-'a'),1);
			}
		}
		else
		{
			scanf("%d%d%d",&l,&r,&k);
			//printf("%d %d %d\n",l,r,k);
			if((r-l+1)<k)
			{
				printf("Out of range\n");
				continue;
			}
			fill(c,c+27,0);
			for(i=0;i<26;i++)
				c[i]=query(r,i)-query(l-1,i);
			p=0;
			for(i=0;i<26;i++)
			{
				if((p+c[i])>=k)
					break;
				p=p+c[i];
			}
			printf("%c\n",(char)('a'+i));
		}
	}
    return 0;
}