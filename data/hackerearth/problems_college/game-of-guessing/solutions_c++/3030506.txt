#include <bits/stdc++.h>
using namespace std;

struct qry
{
	string x,y;
    int q;	
}qry[100001];

int main()
{
	ios::sync_with_stdio(false);
    int t;
    cin>>t;
    
    while(t--) {
    	int n;
    	cin>>n;
    	
    	for(int i=0; i<n; ++i) {
    		cin>>qry[i].x>>qry[i].q>>qry[i].y;
    	}
    	
    	int ans=INT_MAX;
    	for(int answer=1; answer<=109; answer++) {
    		int sum=0;
    		for(int i=0; i<n; ++i) {
    			if(qry[i].y=="Yes") {
    				if(qry[i].x==">") {
    					if( answer<=qry[i].q )
    						sum++;
    				}
    				else if(qry[i].x=="<") {
    					if( answer>=qry[i].q )
    						sum++;
    				}
    				else {
    					if( answer!=qry[i].q )
    						sum++;
    				}
    			}
    			else {
    				if(qry[i].x==">") {
    					if( answer>qry[i].q )
    						sum++;
    				}
    				else if(qry[i].x=="<") {
    					if( answer<qry[i].q )
    						sum++;
    				}
    				else {
    					if( answer==qry[i].q )
    						sum++;
    				}
    			}
    		}
    		ans=min(ans,sum);
    		//if(sum==0) cout<<answer<<endl;
    	}
    	
    	cout<<ans<<"\n";
    	
    }
    return 0;
}
