#include <bits/stdc++.h>
using namespace std;
long int n,a[1005],e[1005];
void init(){
	int i;
	for(i=1;i<=1000;i++)
	a[i]=i;
}
int root(int i){
	while(a[i]!=i){
	i=a[i];
	}
	return i;
}
void uni(int x,int y){
	int rx,ry;
	rx=root(x);
	ry=root(y);
	a[rx]=ry;
}
int find(int x){
	int i,min=1005;
	int c=0;
	
	for(i=1;i<=n;i++){
		if(root(i)==root(x) && min>e[i])
		min=e[i];
     }
    for(i=1;i<=n;i++)
    {
    	if(root(i)==root(x) && min==e[i])
    	c++;
    }
	return c;
}

int main()
{
   
    init();
    int q,i,x,y,ans;
    cin>>n;
    for(i=1;i<=n;i++){
       cin>>e[i];
    }
       cin>>q;
       while(q--){
    	cin>>x>>y;
    	uni(x,y);
        }
    ans=1;
    for(i=1;i<=n;i++)
    {
    	if(a[i]==i)
    	{
    		ans*=find(a[i]);
    		ans%=1000000007;
    	}
    }
    cout<<ans;
    return 0;
}
