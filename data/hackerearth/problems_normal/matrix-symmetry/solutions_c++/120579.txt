// iHaala Madrid - A Gunner
#include<iostream>
#include<vector>
#include<queue>
#include<algorithm>
#include<map>
#include<stack>
#include<stdio.h>
#include<math.h>
#include<string>
#include<assert.h>
#include<stdlib.h>
using namespace std;

int main(){
	int t,i,j,n,k;
	char ch[100][100];
	
	cin>>t;
	
	while(t--){
		cin>>n;
		
		for(i=0;i<n;i++){
			cin>>ch[i];
		}
		
		bool x=true,y=true;
		
		for(i=0,k=n-1;i<k;i++,k--){
			for(j=0;j<n;j++){
				if(ch[i][j]!=ch[k][j]){
					x=false;
					break;
				}
			}
		}
		
		for(i=0,k=n-1;i<k;i++,k--){
			for(j=0;j<n;j++){
				if(ch[j][i]!=ch[j][k]){
					y=false;
					break;
				}
			}
		}
		
		if(x && y){
			cout<<"BOTH";
		}else if(x){
			cout<<"HORIZONTAL";
		}else if(y){
			cout<<"VERTICAL";
		}else{
			cout<<"NO";
		}
		
		cout<<endl;
	}
	
	return 0;
}