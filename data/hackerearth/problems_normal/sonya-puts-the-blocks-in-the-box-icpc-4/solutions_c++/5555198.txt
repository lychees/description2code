#include <iostream>
#include <vector>
using namespace std;

int main()
{
    int n,m;
    cin>>n>>m;
    vector<long long>p[n];
    for(int i=0;i<n;i++)
     {
     	int a;
     	cin>>a;
     	for(int j=0;j<a;j++)
     	 {
     	 	long long b;
     	 	cin>>b;
     	 	p[i].push_back(b);
     	 }
     }

    vector<long long> l[n];

    for(int i=0;i<n;i++)
     {int s = p[i].size();
     for(int j=0;j<=m;j++)
       l[i].push_back(0);}
    //for(int i=0;i<n;i++)for(int j=0;j<=m;j++)cout<<l[i][j]<<' ';
    for(int i=0;i<n;i++)
     {
     	int k = p[i].size();
     	long long c[k+1];
     	c[0]=0;
     	for(int j=0;j<k;j++)
     	 c[j+1]=c[j]+p[i][j];
     	for(int j=0;j<=k;j++)
     	 for(int d=j+1;d<=j+m&&d<=k;d++)
     	   l[i][d-j]=max(l[i][d-j],c[d]-c[j]);
     }
     //for(int i=0;i<n;i++)for(int j=0;j<=m;j++)cout<<l[i][j]<<' ';
    long long ans[1001]={0};
    bool is[1001]={0};
    is[0]=1;
    for(int i=0;i<n;i++)
     {for(int k=m;k>=0;k--)
         for(int j=1;j<=p[i].size()&&j<=k;j++)

       {ans[k] = max(ans[k],(ans[k-j]+l[i][j])*is[k-j]);
        }
      for(int k=1;k<=m;k++)
            {if(ans[k]>0)is[k]=1;
                    //cout<<ans[k]<<'-'<<k<<' ';       cout<<endl;
            }

     }
    long long maxv=0;
    for(int i=1;i<=m;i++)maxv=max(maxv,ans[i]);
    cout<<maxv<<endl;

    return 0;
}
