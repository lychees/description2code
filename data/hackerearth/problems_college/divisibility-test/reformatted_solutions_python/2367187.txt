t = int(raw_input())
for i in range(t):
    s = raw_input()
    d = long(raw_input())
    l = raw_input()
    L = l.split()
    a = long(L[0])
    b = long(L[1])
    count = 0L
    for j in range(a-1, b):
        for k in range(1, b-a+2):
            if k > b-j:
                break
            x = long(s[j:j+k])
            if x % d == 0:
                count += 1
    print count
