#include <iostream>
#include<stdio.h>
#include<bits/stdc++.h>
using namespace std;

 string s;
int main()
{
   int t;
   cin>>t;
 
   while(t--)
   {  
   	    long int n;
   	    cin>>n;
   	   cin>>s;
   	   long long int i,count=0,loop=1,l;
   	  // cout<<s<<"len";
   	   l= s.length();
   	   count=l;
   	   for(i=0;i<l-1;i++)
   	   {
   	   	  if(s[i]<=s[i+1])
   	   	  {
   	   	  	 count+=loop;
   	   	  	 loop++;
   	   	  }
   	   	  else if(s[i]>s[i+1])
   	   	  {
   	   	  	 loop=1;
   	   	  }
   	   }
   	   
   	   cout<<count<<endl;
   	   
   }
    return 0;
}
