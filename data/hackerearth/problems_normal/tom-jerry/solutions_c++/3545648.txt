#include<bits/stdc++.h>
using namespace std;
#define ll long long
int n;
int matrx[103][103];
bool vis[103][103];
int hor[]={-1,0,1,0};
int ver[]={0,1,0,-1};
ll cntroute=0;
bool valid(int x,int y)
{
	if(x>=1 && x<=n && y>=1 && y<=n)
		return true;
	return false;
}
void solve(int i,int j)
{
	if(i==n && j==n)
	{
		cntroute++;
		return ;
	}
	vis[i][j]=1;
	if(i-1>=1 && vis[i-1][j]==0 && matrx[i-1][j]==0 )//sdasdfasdf
		solve(i-1,j);
	if(i+1<=n && vis[i+1][j]==0 && matrx[i+1][j]==0 )
		solve(i+1,j);	
	if(j-1>=1 && vis[i][j-1]==0 && matrx[i][j-1]==0 )
		solve(i,j-1);	
	if(j+1<=n && vis[i][j+1]==0 && matrx[i][j+1]==0 )
		solve(i,j+1);
	vis[i][j]=0;
}
int main()
{
	cin>>n;
	for(int i=1;i<=n;++i)
	{
		for(int j=1;j<=n;++j)
		{
			cin>>matrx[i][j];//as
		}
	}
	memset(vis,0,sizeof vis);
	cntroute=0;
	if(matrx[1][1]==0)
		solve(1,1);
	cout<<cntroute<<endl;
	return 0;
}
