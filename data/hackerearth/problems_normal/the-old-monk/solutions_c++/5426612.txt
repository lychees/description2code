#include<iostream>

using namespace std;

#define LL long long
#define MAXN 100005
#define LOOP(i,a,b) for(int i = a;i < b;i++)
#define LOOPN(i,a,b) for(int i = a;i <= b;i++)
#define REP(i,n) LOOP(i,0,n)
#define REPN(i,n) LOOPN(i,1,n)

int T, N, ans;
LL A[MAXN], B[MAXN], TMP[MAXN];

int LB(int left, int right, LL value) {
	int diff = right - left, mid, tmpLeft;
	while(diff > 0) {
		mid = diff / 2;
		tmpLeft = left + mid;
		if(TMP[tmpLeft] < value) {
			left = tmpLeft + 1;
			diff -= mid + 1;
		} else {
			diff = mid;
		}
	}
	return left;
}

LL max(LL a, LL b) { return (a > b) ? a : b; }

int main() {
	ios::sync_with_stdio(false);

	cin >> T;
	REPN(tc, T) {
		ans = 0;

		cin >> N;
		REP(i, N) cin >> A[i];
		REP(i, N) {
			cin >> B[i];
			TMP[N - 1 - i] = B[i];
		}

		REP(i, N) {
			int j = N - 1 - LB(0, N - 1, A[i]);
			ans = max(ans, j - i);
		}

		cout << ans << endl;
	}

	return 0;
}
