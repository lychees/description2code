#include <bits/stdc++.h>
using namespace std;

int N, M;

double A[1003][1003], dp[1003][1003];

double func(int i, int j)
{
	if(i==N+1)
		return N+j-1;
	
	if(j==M+1)
		return M+i-1;
	
	if(dp[i][j]!=-1)
		return dp[i][j];
	
	dp[i][j] =  A[i][j]*func(i, j+1) + (1-A[i][j])*func(i+1, j);
	
	return dp[i][j];
}

int main()
{
    int T;
    scanf("%d", &T);
    
    while(T--)
    {
    	scanf("%d %d", &N, &M);
    	
    	for(int i=1; i<=N; i++)
    		for(int j=1; j<=M; j++)
    		{
    			scanf("%lf", &A[i][j]);
    			dp[i][j] = -1;
    		}
    	
    	printf("%lf\n", func(1, 1));
    }
    
    return 0;
}
