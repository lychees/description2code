#include<bits/stdc++.h>
using namespace std;
int arr[100050];
map <int,int> mp;
void check(int a[],int size)
{
	if(size==1)
	return;
	int k=0;
	int z[100050];
	for(int i=0;i<=size-2;i+=2)
	{
		z[k++]=max(a[i],a[i+1]);
		mp[a[i]]++;
		mp[a[i+1]]++;
	}
	if(size%2!=0)
	z[k++]=a[size-1];
	check(z,k);
}
int main()
{
	int n,q;
	scanf("%d %d",&n,&q);
	for(int i=0;i<n;i++)
	{
		scanf("%d",&arr[i]);
	}
	check(arr,n);
	
	while(q--)
	{
		int i;
		scanf("%d",&i);
		printf("%d\n",mp[arr[i-1]]);
	}
	return 0;
}