#include<iostream>
#include<stdio.h>

using namespace std;

int t[1000000];
long long int y[1000000];

int main()
{
	int n,q,i,temp,g2,g1,p1,p2;
	long long int sum;
	scanf("%d %d", &n, &q);
	for(i=0;i<n;++i)
	{
		scanf("%d",&t[i]);
		if(i==0)
		y[i]=t[i];
		else
		y[i]=y[i-1]+t[i];	
	}
	while(q--)
	{
		scanf("%d%d%d%d",&g1,&p1,&g2,&p2);
		sum=0;
		if(p1<g1)
		{
			temp=p1;
			p1=g1;
			g1=temp;
			temp=p2;
			p2=g2;
			g2=temp;
		}
		if(g1==0)
		sum=y[g2];
		else
		sum=y[g2]-y[g1-1];
		if(p1>g2)
		{
			sum=sum-y[p1-1]+y[p2];	
		}
		else
		{
			if(p2>g2)
			sum=sum+y[p2]-y[g2];
		}
		printf("%ld\n",sum);
	}
	return 0;
} 
