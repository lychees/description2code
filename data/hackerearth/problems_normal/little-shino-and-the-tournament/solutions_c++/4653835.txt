#include<bits/stdc++.h>
using namespace std;
int ft[100005];
vector<pair<int,int> > s;vector<pair<int,int> >x;
vector<vector<pair<int,int> > > c;
int main()
{
    int n,i,j,k,l,m,q,y,z;
    scanf("%d%d",&n,&q);
    for(i=0;i<n;i++)
    {
    	scanf("%d",&k);
    	s.push_back(make_pair(k,i+1));
    }
    c.push_back(s);j=0;
    while(1)
    {
    	for(i=0;i<c[j].size();i+=2)
    	{
    		if(i!=c[j].size()-1)
    		{
    			if(c[j][i].first>c[j][i+1].first)
    			{
    				y=c[j][i].first;
    				z=c[j][i].second;
    			}
    			else
    			{
    				y=c[j][i+1].first;
    				z=c[j][i+1].second;
    			}
    			ft[c[j][i].second]++,ft[c[j][i+1].second]++;
    			x.push_back(make_pair(y,z));
    		}
    		else
    		x.push_back(make_pair(c[j][i].first,c[j][i].second));
    	}
    	if(x.size()==1)
    		break;
    	c[j].clear();
    	c.push_back(x);
    	x.clear();
    	j++;
    	
    }
    for(i=0;i<q;i++)
   {
   	scanf("%d",&k);
   	printf("%d\n",ft[k]);
   }
    return 0;
}
