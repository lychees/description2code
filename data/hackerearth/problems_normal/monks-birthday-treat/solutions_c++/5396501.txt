#include<iostream>
#include<bits/stdc++.h>
using namespace std;
	bool vis[100001]={false};
	vector<int> v[100001];
     int l2=0, l1=0;


void dfs(int x)
{  
  vis[x]= true;	
	l1++;
	int i;
	for(i=0; i<v[x].size();i++)
	{     // cout<<v[x][i];
		if(vis[v[x][i]]==false)
		 dfs(v[x][i]);
	}
	

}


int main()
{	//	int c=1;	
	int n;
	int m;
cin>>n>>m;

   int x;
	int i, y,a,c=1,f=1,r=1;
	
	for(i=0; i<m; i++)
	{cin>>x>>y;
	 v[x].push_back(y);
	 
	 
		
	}

	
	
 // while(f--)     
	for(i=1; i<n+1; i++)
	{ 
	       	    
		     dfs(i);
		   if(i==1)
		     l2=l1;
			   
		   l2=min(l2,l1);
		    l1=0;	   
	
	  	for(int j=1; j<n+1; j++)
	  vis[j]=false;
}
cout<<l2;
  	return 0;
}