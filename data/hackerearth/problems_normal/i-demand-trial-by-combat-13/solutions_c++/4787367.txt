#include <iostream>
using namespace std;

int main()
{
	int t;
	cin >> t;
    while(t--) {
    	int n,m,a1=1,a0=0;
    	cin >> n >> m;
    	int arr[n][2];
    	for (int i = 0; i < n; i++) {
    		cin >> arr[i][0];
    		a1 = a1&arr[i][0];
    		a0 = a0|arr[i][0];
    	}
    	
    	
	    	int k = 0;	
			for (int i = 1; i <= m; i++){
				k = 1-k;int sarr = 0;
				for (int j = 0; j < n; j++){
					arr[j][k] = ((j==0)?1:arr[j-1][1-k])&((j==(n-1))?1:arr[j+1][1-k]);
				
					if (arr[j][k]==arr[j][1-k])sarr++;
				}
				if (sarr == n)break;
			}	
	    	for (int i = 0; i < n; i++)
	    		cout << arr[i][m&1] << ((i==(n-1))?"\n":" ");
    	
    }
    return 0;
}
