#include <bits/stdc++.h>
using namespace std;

int main()
{
    int n, m, q;
    cin >> n >> m >> q;
    int a[n][m];
    for (int i = 0; i<n; i++)
    	for (int j = 0; j<m; j++)
    		cin >> a[i][j];
    
    bool vis[n][m];
    int dx[4] = {1, -1, 0, 0};
    int dy[4] = {0, 0, 1, -1};
    while(q--){
    	memset(vis, 0, sizeof(vis));
    	int x, y, d;
    	cin >> x >> y >> d;
    	--x;--y;
    	queue<pair<int,int> > q;
    	q.push(make_pair(x, y));
    	while (q.size()){
    		auto t = q.front();
    		q.pop();
    		if (vis[t.first][t.second]) continue;
    		vis[t.first][t.second] = true;
    		for (int i = 0; i < 4; i++){
    			int u = t.first + dx[i];
    			int v = t.second + dy[i];
    			if (u >= 0 && u < n && v >=0 && v < m && abs(a[t.first][t.second] - a[u][v]) <= d){
    				q.push(make_pair(u, v));
    			}
    		}
    	}
    	int res = 0;
    	for (int i = 0; i<n; i++){
    		for (int j = 0; j<m; j++){
    			if (vis[i][j]) ++res;
    		}
    	}
    	cout << res << endl;
    }
    return 0;
}
