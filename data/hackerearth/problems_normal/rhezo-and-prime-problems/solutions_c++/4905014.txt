#include <bits/stdc++.h>

using namespace std;

#define maxN 5000

int n;
int prime[maxN+5];
int a[maxN+5]={0};
int dp[maxN+5];

void pre()
{
	int i,j;
	fill(prime,prime+maxN+2,1);
	prime[0]=prime[1]=0;
	for(i=2;i*i<=maxN;i++)
	{
		if(prime[i])
		{
			for(j=i*i;j<=maxN;j+=i)
				prime[j]=0;
		}
	}
}

int compute(int i)
{
	if(i>=n)
		return 0;
	if(dp[i]!=-1)
		return dp[i];
	int j,ans=compute(i+1),p=a[i];
	for(j=1;(i+j)<n;j++)
	{
		p=p+a[i+j];
		if(prime[j+1])
			ans=max(ans,p+compute(i+j+2));
	}
	return dp[i]=ans;
}

int main()
{
	pre();
	int i;
	scanf("%d",&n);
	fill(dp,dp+n+2,-1);
	for(i=0;i<n;i++)
		scanf("%d",&a[i]);
	printf("%d\n",compute(0));
    return 0;
}
