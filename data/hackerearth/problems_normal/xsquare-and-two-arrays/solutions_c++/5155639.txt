#include <bits/stdc++.h>
using namespace std;
vector<int> A,B;
//vector<vector<vector<long long int>>> dp;
long long int rec(int t, int l, int r){
	//if(dp[t-1][l][r]!=-1){
	//	return dp[t-1][l][r];
	//}
	long long int ans;
	if(l==r){
		if(t==1){
			ans =  1LL*A[l];
			//dp[t-1][l][r]=ans;
			return ans;
		}
		ans =  1LL*B[l];
		//dp[t-1][l][r]=ans;
		return ans;
	}

	if(t==1){
		ans =  1LL*(rec(2,l+1,r) + A[l]);
		//dp[t-1][l][r]=ans;
		return ans;
	}
	ans =  1LL*(rec(1,l+1,r) + B[l]);
	//dp[t-1][l][r]=ans;
	return ans;
}

int main() {
	int n,q;
	cin>>n>>q;
	int temp;
	//dp.resize(2,(vector<vector<long long int>>(n,vector<long long int>(n,-1))));
	for(int i=0;i<n;i++){
		cin>>temp;
		A.push_back(temp);
	}
	for(int i=0;i<n;i++){
		cin>>temp;
		B.push_back(temp);
	}
	int t,l,r;
	for(int i=0;i<q;i++){
		cin>>t>>l>>r;
		cout<<rec(t,l-1,r-1)<<endl;
	}
	return 0;
}