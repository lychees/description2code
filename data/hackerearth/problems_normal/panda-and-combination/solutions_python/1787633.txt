import math
l=math.log

t=input()
while t>0:
	t-=1
	n,m=map(int, raw_input().split())
	c=0
	if m>1:
		p=int(l(n,m))
		while n>0 and p>=0:
			x=m**p
			r=n/x
			c+=r
			n=n-(r*x)
			p-=1
			
	else:
		c=n
	print c