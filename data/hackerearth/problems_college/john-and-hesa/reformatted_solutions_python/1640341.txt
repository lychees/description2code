test = int(raw_input())
while test:
    x, p = raw_input().split()
    x = int(x)
    p = int(p)
    count = 0
    if p == 1:
        print str(x) + " 0"
    elif x == 1:
        print "0 "+str(p)
    else:
        while True:
            if x % p == 0:
                x = x/p
                count = count+1
            else:
                break
        if x == 1:
            x = 0
        print str(count)+" "+str(x)
    test = test-1
