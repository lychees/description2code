//the magical shop.cpp
#include <bits/stdc++.h>
using namespace std;

#define ll long long int
#define sf scanf
#define sf_d(var) scanf("%d",&var)
#define sf_dd(var) scanf("%lld",&var)
#define pf printf
#define pf_d(var) printf("%d",var)
#define pf_dd(var) printf("%lld",var)
#define psp printf(" ")
#define pnlin printf("\n")
#define vi vector<int>
#define pb push_back
#define v_iter vector<int>::iterator
#define v_riter vector<int>::reverse_iterator
#define fr(start,end) for(int z=start;z<end;z++)
#define tr(cont,it) for(typeof(cont.begin()) it=cont.begin();it!=cont.end();it++)
#define mod 1000000007
#define srt(cont) sort(cont.begin(),cont.end())
#define all(m) m.begin(),m.end()

void print_all_prime_factors(int n)
{
    if(n<0)
        n*=(-1);
    for(int i=2;i*i<=n;i++)
    {
        while(n%i==0)
        {
            pf_d(i);psp;
            n/=i;
        }
    }
    if(n>1)
        pf_d(n);
    pnlin;    
}

int main()
{
    ll a,b,cnt=0;
    string s;
    sf_dd(a);sf_dd(b);
    cin>>s;
    for(string::iterator it=s.begin();it!=s.end();it++)
    {
        if(*it-'0')
            cnt=(cnt+a)%b;
        a=(a*a)%b;    
    }
    pf_dd(cnt);
    //print_all_prime_factors(n);
  
    return 0;
}