#include<iostream>
#include<cstring>
#include<cstdio>
using namespace std;
#define mod 1000000007

int a[105];
int sum[100005];
struct node
{
	struct node *lchild,*rchild;
	node()
	{
		lchild = NULL;
		rchild = NULL;
	}
};

void ins(struct node * root, int val)
{
	for(int j=30;j>=0;j--)
	{
		int x=val&(1<<j);
		if(x)
		{
			if(root->rchild==NULL)
				root->rchild=new node();
			root=root->rchild;
		}
		else
		{
			if(root->lchild==NULL)
				root->lchild=new node();
			root=root->lchild;
		}
	}
}

int query(struct node* root, int val)
{
	int ans=0;
	for(int j=30;j>=0;j--)
	{
		int x = val&(1<<j);
		if(x==0)
		{
			if(root->lchild)
				root=root->lchild;
			else
			{
				ans |= (1<<j);
				root=root->rchild;
			}
		}
		else
		{
			if(root->rchild)
			{
				ans |= 1<<j;
				root=root->rchild;
			}
			else
				root=root->lchild;
		}
	}
	return ans;
}

int main()
{
	int n,i,j;
	scanf("%d",&n);
	for(i=0;i<n;i++)
		scanf("%d",&a[i]);
	sum[0]=1;
	for(i=0;i<n;i++)
		for(j=100000;j>=a[i];j--){
			if(sum[j-a[i]])
				sum[j] += sum[j-a[i]];
			if(sum[j]>=mod)
				sum[j]%=mod;
		}
	
	node *root = new node();
	for(j=1;j<=100000;j++)
		if(sum[j])
			ins(root,j);

	int q,u,fin;
	scanf("%d",&q);
	while(q--)
	{
		scanf("%d",&u);
		int ans = query(root,u);
		printf("%d %d\n",ans,sum[ans]);
	}

	return 0;
}
