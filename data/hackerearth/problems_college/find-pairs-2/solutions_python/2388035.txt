def count (n):
	return n * (n+1) / 2

t = input ()
for x in range (0, t):
	n = input ()
	a = map (int, raw_input ().split ())
	b = [0 for y in range (n)]
	t = []
	for y in range (0, n):
		c = 0
		if b[y] == 0:
			for z in range (y, n):
				if a[y] == a[z]:
					b[z] = 1
					c = c+1
			t.append(c)
	no = 0
	for y in range (0, len(t)):
		no = no + count (t[y])
	print no