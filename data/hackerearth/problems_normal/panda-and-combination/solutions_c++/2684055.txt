#include <iostream>
#define ll long long int
#include<bits/stdc++.h>
#include<math.h>
using namespace std;
int t;
int main()
{
    ll n,m;
   
    ll res;
    cin>>t;
    assert(t>0&&t<=100000);
    while(t--)
    {
    	res=0;
    	cin>>n >>m;
    	assert(n>0&&n<=100000000000000ll);
    	assert(m>0&&m<=100000000000000ll);
    	if(n<m||m==1)
    	res=n;
    	else
    	{
    	while(n>0)
    	{
    		res=res+n%m;
    		n=n/m;
    	}
    	}
    	printf("%lld\n",res);
    }
    return 0;
}
