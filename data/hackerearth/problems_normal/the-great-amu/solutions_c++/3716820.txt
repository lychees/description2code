#include <bits/stdc++.h>

using namespace std;

#define X first
#define Y second
#define INPUT freopen("clash.inp","r",stdin)
#define OUTPUT freopen("clash.out","w",stdout)
#define FOR(i,l,r) for(auto i=(l);i<=(r);i++)
#define REP(i,l,r) for(auto i=(l);i<(r);i++)
#define FORD(i,l,r) for(auto i=(l);i>=(r);i--)
#define REPD(i,l,r) for(auto i=(l);i>(r);i--)
#define ENDL printf("\n")
#define debug 1

typedef long long ll;
typedef pair<int,int> ii;

const int inf=1e9;
const int MOD[3]={2,5,719};
const int N=3e2+10;

int n,m,a[N][N],b[N][N],g[2][N],ans[N];
///
int basea[N][N],baseb[N][N];
int rev[3][1000];
void prepare(){
    scanf("%d%d",&n,&m);
    FOR(i,1,n)
        FOR(j,1,n) scanf("%d",basea[i]+j);
    FOR(i,1,m)
        FOR(j,1,n) scanf("%d",baseb[i]+j);
    FOR(type,0,2){
        rev[type][1]=1;
        REP(i,2,MOD[type]) rev[type][i]=MOD[type]-(MOD[type]/i)*rev[type][MOD[type]%i]%MOD[type];
     }
}


void solve(){
    fill(ans+1,ans+m+1,1);
    FOR(type,0,2){
        FOR(i,1,n)
            FOR(j,1,n) a[i][j]=basea[i][j]%MOD[type];
        FOR(i,1,m)
            FOR(j,1,n) b[i][j]=baseb[i][j]%MOD[type];
        int piv=1;
        FOR(pha,1,n){
            int cur=piv;
            while (cur<=n&&!a[cur][pha]) cur++;
            if (cur>n) continue;
            FOR(i,1,n) swap(a[cur][i],a[piv][i]);
            FOR(j,1,m) swap(b[j][cur],b[j][piv]);
            FOR(i,piv,n) if (a[i][pha]){
                int mul=rev[type][a[i][pha]];
                FOR(j,pha,n) a[i][j]=a[i][j]*mul%MOD[type];
                FOR(j,1,m) b[j][i]=b[j][i]*mul%MOD[type];
            }
            FOR(i,piv+1,n) if (a[i][pha]){
                FOR(j,pha,n) a[i][j]=(a[i][j]-a[piv][j]+MOD[type])%MOD[type];
                FOR(j,1,m) b[j][i]=(b[j][i]-b[j][piv]+MOD[type])%MOD[type];
            }
            piv++;
        }
        FORD(pha,n,1) if (count(a[pha]+1,a[pha]+n+1,0)==n)
            FOR(i,1,m) if (b[i][pha]) ans[i]=0;
    }

    FOR(i,1,m) if (ans[i]) printf("Yes\n");
    else printf("No\n");
}
int main(){
//    freopen("input.inp","r",stdin);
//    OUTPUT;
    prepare();
//    check();
    solve();
}
