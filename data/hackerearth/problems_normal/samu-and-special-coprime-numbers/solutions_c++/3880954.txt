
#include<bits/stdc++.h>
using namespace std;
long long DP[20][200][1500];
int digits[20];
long long f2(int pos,int digitSum,int squareSum,bool check)
{
    if(pos==-1)
        return __gcd(digitSum,squareSum)==1;
    if(!check && DP[pos][digitSum][squareSum]!= -1)
        return DP[pos][digitSum][squareSum];
    long long ans = 0;
    int endingDigit;
    if(check){
        endingDigit=digits[pos];
    }
    else{
        endingDigit=9;
    }
    for(int currentDigit=0;currentDigit<=endingDigit;currentDigit++)
    {
        ans+=f2(pos-1,digitSum + currentDigit,squareSum + currentDigit*currentDigit,check && currentDigit==endingDigit);
    }
    if(!check)
        DP[pos][digitSum][squareSum]=ans;
    return ans;
}
long long f1(long long n)
{
    if(n==0)
    	return 0;
	int len=0;
    while(n)
    {
        digits[len++]=n%10;
        n/=10;
    }
    long long ans=f2(len-1,0,0,1);
    return ans;
}
int main()
{
    int t;
    long long l, r;
	memset(DP,-1,sizeof(DP));
    cin>>t;
    for(int inst=0; inst<t; inst++){
        cin>>l>>r;
        cout<<f1(r)-f1(l-1)<<"\n";
    }
    
}