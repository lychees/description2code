//Type     :
//Code name:
//Status   :
typedef unsigned long long ull;
typedef long long ll;
typedef unsigned long ul;
typedef long double ld;
#include<iostream>
#include<cstdlib> //for qsort
#include<cmath>
#include<set>
#include<vector>
#include<string>
#include<cstring>
#include<algorithm>
#include<cctype>
#include<map>
#include<utility>  //for std::pair
#include<limits> //to obtain limits of various data type
#define loop(i,x,n) for(i=x;i<=n;i++)
#define string(x) loop(i,0,strlen(x)-1)
#define newline cout<<"\n";
#define SIZE 1000000
#define MOD
//#define debug
ll Q[SIZE],mp[SIZE];
using namespace std;
int main()
{
   //ios_base::sync_with_stdio(false); //Saves time by disabling synchronization
   //cin.tie(NULL);             //To untie cin from cout
   ll n,q,i,val,tmp;
   vector<pair<ll,ll>> v;

   scanf("%lli %lli",&n,&q);
   for(i=0;i<n;i++)
   {
   	scanf("%lli",&val);
   	v.push_back(make_pair(i,val));
  }
  loop(i,0,q-1)
   scanf("%lli",&Q[i]);
  #ifdef debug
  for(auto item:v)
  cout<<item.first<<"-"<<item.second<<endl;
  #endif
 while(v.size()!=1)
 {
   vector<pair<ll,ll>> v2;
 for(i=0;i<v.size();i+=2)
 {
     if((i+1)==v.size())
     { v2.push_back(v[i]);
       break;
     }
    
     if((v[i].second)>(v[i+1].second))
     v2.push_back(v[i]);
     else v2.push_back(v[i+1]);
     mp[v[i].first]++;mp[v[i+1].first]++;
     //cout<<v[i].first<<"-"<<mp[i]<<"   "<<v[i+1].first<<"-"<<mp[i+1]<<"\n";
 }
 v=v2;
}
 loop(i,0,q-1)
 {
     cout<<mp[Q[i]-1]<<"\n";
 }
 newline;


}