#include <bits/stdc++.h>
using namespace std;
int bin_cool(int n)
{
	int p=0,le;
	string str;
	while(n)
	{
		p=n%2;
		if(p) str+='1';
		else str+='0';
		n/=2;
		//le++;
	}
	//cout<<str<<endl;
	le=str.length();p=0;
	for(int i=0;i<le-2;i++)
	{
		if(str[i]=='1') {if(str[i+1]=='0' && str[i+2]=='1') p++;}
	}
	return p;
}
void solve(int r,int k)
{
	int	num=0;
	for(int i=1;i<=r;i++)
	if(bin_cool(i)>=k) num++;
	printf("%d\n",num);
	}
	
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
    	int r,k;
    	scanf("%d%d",&r,&k);
    	solve(r,k);
    //	cout<<str;
    }
    return 0;
}
