#include<bits/stdc++.h>

using namespace std;
long int p1,p2;
unsigned countOfMultiples(unsigned n)
{
   return (n/p1 + n/p2 - n/(p1*p2));
}
int main()
{
	long int t,n,l,r,i,x,y;
	cin>>p1>>p2;
	cin>>t;
	while(t--)
	{
		cin>>l>>r;
		long int count=0;
		float ans;
		x=countOfMultiples(l-1);
		y=countOfMultiples(r);
		count=y-x;
		ans=((float)count/(float)(r-l+1));
		
		printf("%.6f\n",ans);
		
	}
	return 0;
}