#include<stdio.h>
#include<set>
using namespace std;
int main() {
    int T,i,n,j,max;
    int A[100001],DP[100001],C[100001];
    int lo,mi,hi,sz;
    scanf("%d",&T);
    while(T--) {
        scanf("%d",&n);
        for(i=1;i<=n;i++) {
            scanf("%d",&A[i]);
            A[i]-=i;
        }
        DP[1]=1;C[1]=A[1];sz=1;
        for(i=2;i<=n;i++) {
            if(A[i] < 0) {
            	DP[i]=0;
            	continue;
            }
            if(A[i] < C[1] ) {
                C[1]=A[i];
                DP[i]=1;
            } else if(A[i] >= C[sz]) {
                C[sz+1]=A[i];
                
                
                DP[i]=sz+1;
                sz++;
            } else {
                lo=1;hi=sz;
                while(lo<=hi) {
                    mi=(lo+hi)>>1;
                    if(C[mi-1] <=A[i] && C[mi] > A[i]) break;
                    if(C[mi] <= A[i]) lo=mi+1;
                    else hi=mi-1;
                }
                C[mi]=A[i];
                DP[i]=mi;
            }
        }
//        for(i=1;i<=n;i++) printf("%d %d\n",i,DP[i]);
        max=DP[1];
        for(i=2;i<=n;i++) if(DP[i] > max) max=DP[i];
        printf("%d\n",n-max);
    }
    
    
    return 0;
}