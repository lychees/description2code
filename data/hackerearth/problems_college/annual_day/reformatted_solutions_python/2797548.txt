for _ in xrange(input()):
    n, s = map(int, raw_input().split())
    lst = list(map(int, raw_input().split()))
    i = 0

    def ones(a):
        count = 0
        while (a > 0):
            a = a & (a-1)
            count = count+1
        return count

    olist = []
    while i < n:
        olist.append(ones(lst[i]))
        i = i+1

    oolist = sorted(olist, reverse=True)
    p = 0
    flag = 0
    while p < s:
        flag = flag+oolist[p]
        p = p+1
    print flag
