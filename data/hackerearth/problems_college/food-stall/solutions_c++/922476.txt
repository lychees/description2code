#include <cstdio>
#include <set>
#include <algorithm>
using namespace std;

typedef long long ll;

int main()
{
	ll t,n,d,v;
	multiset<ll> s;
	multiset<ll>::iterator i;
	scanf("%lld",&t);
	while(t--)
	{
		scanf("%lld%lld",&n,&d);
		while(n--)
		{
			scanf("%lld",&v);
			s.insert(v);
		}
		v=0;
		while(s.size()>1)
		{
			i=upper_bound(s.begin(),s.end(),d+*s.begin());
			i--;
			if(i!=s.begin()) {
				s.erase(i); v++; }
			s.erase(s.begin());
		}
		printf("%lld\n",v);
		s.clear();
	}
	return 0;
}