#include<cstdio>
#include<algorithm>
#include<iostream>
#include<vector>
using namespace std;

long long int d[100007]={};
vector< vector<long long> > v(100007);
void dfs(long long int i,int f[],long long int x){
//		cout<<v[i].size()<<" size "<<i<<" "<<x<<" "<<endl;
	f[i]=1;
	d[i]=x;

	for(long long int j=0;j<v[i].size();j++){
		if(f[v[i][j]]==0){
			dfs(v[i][j],f,x+1);
		}
	}
	return;	
}
int main()
{
//	freopen("in.txt","r",stdin);
	int t;
	long long int n;
	scanf("%d",&t);
	while(t--){
		scanf("%lld",&n);
		long long int a[100007];
		long long int dis[100007]={};
		int f[100007]={};
		for(long long int i=0;i<n;i++){
			
			scanf("%lld",&a[i]);
			v[a[i]].push_back(i+1);
		}
	//	printf("dfs starts\n");
	long long sum=0;
		dfs(v[0][0],f,0);
		for(long long int i=0;i<=n;i++){
			sum=sum+d[i];}
		
		long long int t;
		t=n*(n-1);
		t=t/2;
		long long int ans = t - sum;
		cout<<sum<<" "<<ans<<endl;
		for(long long int i=0;i<=n;i++){
			v[i].clear();
		}
		
	}
}