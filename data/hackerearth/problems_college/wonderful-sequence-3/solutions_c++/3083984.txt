#include <cstdio>
#include <algorithm>
 
int a[100010], b[100010], dp[100010];
 
int main() {
	int T;
	scanf("%d", &T);
	for (int cas = 1; cas <= T; cas++) {
		int n, ans = 0;
		scanf("%d", &n);
		int len = 0;
		for (int i = 0; i < n; i++) {
			scanf("%d", &a[i]);
			if (a[i] <= i) {
				ans++;
				continue;
			}
			a[i] -= i;
			int pos = std::upper_bound(b, b + len, a[i]) - b;
			b[pos] = a[i];
			dp[i] = pos + 1;
			len = std::max(len, dp[i]);
		}
		printf("%d\n", n - len);
	}
	return 0;
}