#include <iostream>
#include <map>
using namespace std;

int main()
{
	map<string, int> classmate;
    int T,N,Q;
    cin >> T;
    for(int z=0;z<T;z++)
    {
    	cin >> N;
    	cin >> Q;
    	string order[N];
    	for(int i=0;i<N;i++)
    	{
    		string name;
    		cin>>name;
    		order[i]=name;
    		classmate[name]=0;
    	}
    	
    	for(int i=0;i<Q;i++)
    	{
    		string name;
    		int amount,total;
    		cin >> name;
    		cin >> amount;
    		cin >> total;
    		total++;
    		int share=amount/total;
    		classmate[name]+=share*(total-1);
    		for(int j=0;j<(total-1);j++)
    		{
    			cin>>name;
    			classmate[name]+=(-1*share);
    		}
    	}
    	
    	for(int i=0;i<N;i++)
    	{
    		if(classmate[order[i]]<0)
    			cout << order[i] << " owes " << (-1*classmate[order[i]]) << "\n";
    		else if(classmate[order[i]]>0)
    			cout << order[i] << " is owed " << classmate[order[i]] << "\n";
    		else
    			cout << order[i] << " neither owes nor is owed" << "\n";
    	}
    	
    	/*for (map<string,int>::iterator i=classmate.begin(); i!=classmate.end(); ++i)
    	{
    		if(i->second<0)
    			cout << i->first << " owes " << (-1*i->second) << "\n";
    		else if(i->second>0)
    			cout << i->first << " is owed " << i->second << "\n";
    		else
    			cout << i->first << " neither owes nor is owed" << "\n";
    	}*/
    }
    return 0;
}
