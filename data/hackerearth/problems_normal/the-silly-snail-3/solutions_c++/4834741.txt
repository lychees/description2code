#include <bits/stdc++.h>
#include <array>
#include <cmath>
using namespace std;
typedef long long ll;
typedef double ld;
constexpr int MOD = 1000 * 1000 * 1000 + 7;
#define PI 3.141592653589793238462643383279502884L
constexpr ll inf = 1e15;

map<int, pair<int, int>> T;
int t, n;
vector<int> ans;

void dfs(int v = 1)
{
	ans.push_back(v);
	auto ch = T[v];
	if (ch.first) dfs(ch.first);
	if (ch.second) dfs(ch.second);
}

int main()
{
	ios::sync_with_stdio(false); cin.tie(0);
	cin >> t;
	while (t--)
	{
		cin >> n;
		ans.clear();
		T.clear();
		while (n--)
		{
			int x, y, z;
			cin >> x >> y >> z;
			T[x] = make_pair(y, z);
		}
		dfs();
		for (int i = 0; i < ans.size(); ++i)
			if (i == ans.size() - 1)
				cout << ans[i] << endl;
			else
				cout << ans[i] << ' ';
	}
}