#include<bits/stdc++.h>
using namespace std;
map<int,int> m,m1;
int main(){
  int n;
  scanf("%d",&n);
  int a[n+1];
  int sum=0,ma=0,ma1=0;
  int c=0;
  for(int i=0;i<n;i++){
  	scanf("%d",&a[i]);
  	if(i>0&&a[i]==a[i-1]){
  	sum++;
  	m1[a[i]]++;
  	c=max(c,m1[a[i]]);
  	}
  	m[a[i]]++;
  	ma1=max(ma1,m[a[i]]);
  	ma=max(sum,ma);
  }
//  cout<<ma1;
  if(ma1-1<=n-ma1)
  cout<<max((sum+1)/2,c)<<endl;
  else
  cout<<"-1"<<endl;
  return 0;	
}