#include<iostream>
using namespace std;
bool isSubsetSum(int set[], int n, int sum)
{
   if (sum == 0)
     return true;
   if (n == 0 && sum != 0)
     return false;

   if (set[n-1] > sum)
     return isSubsetSum(set, n-1, sum);

   return isSubsetSum(set, n-1, sum) || isSubsetSum(set, n-1, sum-set[n-1]);
}
int main()
{
    int T;
    cin >> T;
    int answer[T];
    for( int i = 0 ; i < T ; i++ )
    {
        answer[i] = 0;
    }
    for( int i = 0 ; i < T ; i++ )
    {
        int P;
        int M;
        cin >> P >> M;
        int a[P];
        int b[M];
        int counting[1000];
        for( int j = 0 ; j < 1000 ; j++ )
        {
            counting[j] = 0;
        }
        for( int j = 0 ; j < M ; j++ )
        {
            cin >> b[j];
        }
        for( int j = 0 ; j < P ; j++ )
        {
            cin >> a[j];
            counting[a[j]]++;
        }
        for( int j = 0 ; j < 1000 ; j++ )
        {
            if( counting[j] != 0 )
            {
                if( isSubsetSum( b , M , counting[j] ) )
                {
                    answer[i]++;
                }
            }
        }
    }
    for( int i = 0 ; i < T ; i++ )
    {
        cout << answer[i] << "\n";
    }
}
