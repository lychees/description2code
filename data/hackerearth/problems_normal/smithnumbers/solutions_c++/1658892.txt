#include<cstdio>
#include<fstream>
using namespace std;
#include<iostream>
int arr[10000001];
int main()
{
   
for(int i=1;i<=1000000;i++)
{
    int sum_of_digit=0,sum_of_prime=0,i1;
    int k=i;
    while(k)
        sum_of_digit=sum_of_digit+k%10,k/=10;
    k=i;

    while(k%2==0)
      sum_of_prime+=2,k/=2;
       for(i1=3;i1*i1<=k;i1+=2)
        if(k%i1==0)
      {
          int j=i1,n=0;
          while(j)
          {
             n+=j%10;
             j/=10;
          }
       while(k%i1==0)
       sum_of_prime+=n,k/=i1;
      }
      int x=0;
      if(k>2)
      {
        while(k)
            x=x+k%10,k/=10;
      }
      sum_of_prime+=x;
//cout<<sum_of_digit<<" "<<sum_of_prime<<endl;
      if(sum_of_prime==sum_of_digit)
        arr[i]=arr[i-1]+1;
        else
            arr[i]=arr[i-1];
}
int task;
scanf("%d",&task);
while(task--)
{
  int l,r;
  scanf("%d%d",&l,&r);
  printf("%d\n",arr[r]-arr[l-1]);
}
}
