#include "bits/stdc++.h"
using namespace std;

string s;
long long dp[1001][1001];

long long filldp()
{
  int l = s.length();
  long long ans = 0;
  memset(dp,0,sizeof(dp));
  for (int i = l-1; i >= 0; i--)
  {
  	for (int j = 0; j < l; j += 1)
  	{
  		if(i<0 or j<0 or i>j) { dp[i][j] = 0; continue;}
  		if(i == j) { dp[i][j] = 1; ans++; continue;}
  		if(s[i] == s[j])
  		  { 
  		    if(dp[i+1][j-1] and j-i>1) dp[i][j] = (j-i+1) * (j-i+1);
  		    else if(j-i == 1) dp[i][j] = 4;
  		    else             dp[i][j] = 0;
  		  }
  		ans+=dp[i][j];
  	}
  }
  return ans;
}

int main (int argc, char const* argv[])
{
    ios_base :: sync_with_stdio(false);
    int t; cin >> t;
    while(t--)
    {
      cin >> s;
      printf("%lld\n",filldp());
     // int l = s.length();
     /* for(int i = 0; i<l; i++)
       {
         for(int j=0;j<l;j++)
           {
             cout << dp[i][j] << " ";
           }
         cout << endl;
       }*/
    }
	return 0;
}