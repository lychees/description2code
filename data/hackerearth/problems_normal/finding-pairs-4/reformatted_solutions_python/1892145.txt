import collections
for i in range(input()):
    n = input()
    a = map(int, raw_input().split())
    counter = collections.Counter(a)
    c = 0
    for i in counter:
        c += (counter[i]*(counter[i]+1))/2
    print c
