//https://www.hackerearth.com/problem/algorithm/cricket-match/activity/
    #include<bits/stdc++.h>
    #define ll long long
    #define S(n) scanf("%d",&(n))
    #define P(n) printf("%d",(n))
    #define SL(n) scanf("%lld",&(n))
    #define PL(n) printf("%lld",(n))
    #define NL printf("\n")
    #define Debug cout<<"Hello"

    using namespace std;

    vector<int>g[100006];
    int c[100006];
    int visited[1000006];

    void dfs(int u, int color)
    {
    visited[u]=1;
    c[u] = color;
    int l = g[u].size();
    for(int i=0;i<l;i++)
    {
    int v = g[u][i];
    if(!visited[v])
    {
    visited[v]=1;
    if(color==1)dfs(v,2);
    else dfs(v,1);
    }
    }
    }

    int main()
    {
    //freopen("input.txt","r",stdin);

    int t;
    S(t);
    while(t--)
    {
    int n , m;
    S(n);S(m);
    for(int i=1;i<=n;i++) g[i].clear();
    while(m--)
    {
    int u,v;
    S(u);S(v);
    g[u].push_back(v);
    g[v].push_back(u);
    }
    int flag=1;
    memset(visited,0,sizeof(visited));
    memset(c,0,sizeof(c));
    for(int i=1;i<=n;i++)
    if(!visited[i])
    dfs(i, 1);
    //for(int i=1;i<=n;i++) for(int j=1;j<=n;j++) cout<<g[i][j]<<" "; cout<<"\n";

    // cout<<"sats\n";
    for(int i=1;i<=n;i++)
    {
    int l = g[i].size();
    for(int j=0;j<l;j++)
    {
    //cout<<g[i][j]<<" ";
    //cout<<"color "<<c[i]<<" ";
    if(c[g[i][j]]==c[i])
    {
    flag=0;
    }
    }
   // cout<<"\n";
    }
    if(flag==1)
    {
    printf("YES\n");
    }
    else
    {
    printf("NO\n");
    }
    }
    return 0;
    }
