#include <iostream>
#include <string>
#include <vector>
#include <iterator>
#include <algorithm>
using namespace std;

inline int getint()
{
int num=0;
char c=getchar_unlocked();
while(!(c>='0' && c<='9'))
c=getchar_unlocked();
while(c>='0' && c<='9')
{
num=(num<<3)+(num<<1)+c-'0';
c=getchar_unlocked();
}
return num;
}

using namespace std;
int main()
{
    int p,q,r;
    int tests;
    int i,j,k,l;
    unsigned long long int b[101][101][101]={0};
    tests = getint();
    for(l=0;l<tests;l++)
    {
    p = getint();
    q = r = p;
    for(i=1;i<=p;i++)
        for(j=1;j<=q;j++)
            for(k=1;k<=r;k++)
                b[i][j][k]=getint();
    for(i=p;i>0;i--)
        for(j=q;j>0;j--)
            for(k=r;k>0;k--)
                b[i][j][k]=b[i][j][k]-b[i-1][j-1][k-1]+b[i-1][j-1][k]
                           +b[i-1][j][k-1]+b[i][j-1][k-1]-b[i-1][j][k]
                           -b[i][j-1][k]-b[i][j][k-1];

    for(i=1;i<=p;i++)
        {for(j=1;j<=q;j++)
        {   printf("\n");
            for(k=1;k<=r;k++)
                printf("%lld ",b[i][j][k]);
        }

        }
   }
}
