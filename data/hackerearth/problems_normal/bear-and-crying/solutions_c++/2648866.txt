#include <bits/stdc++.h>
using namespace std;

const int N = 1e5 + 5, MOD = 1e9 + 7;

char A[N];
long long prefix[N];

int main(){
    cin>>A;
    long long ans = 0, tot = 0, temp;
	int len = strlen(A);
    for(int i = 0; i < len; i++)
    	prefix[i] = (i > 0 ? prefix[i - 1] : 0) + (A[i] == ';');
    for(int i = len - 1; i >= 0; i--){
    	if(A[i] == '_'){
    		temp = (tot + (prefix[len - 1] - prefix[i]))%MOD;
    		tot += temp;
    		tot %= MOD;
    		ans += (temp * prefix[i])%MOD;
    		ans %= MOD;
    		//cout<<tot<<endl;
    	}
    }
    cout<<ans<<endl;
    return 0;
}
