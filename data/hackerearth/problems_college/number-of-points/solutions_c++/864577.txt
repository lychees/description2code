#include <iostream>
using namespace std;
#define ll long long

ll gcd(ll a,ll b)
{
	if(!a)
	{
		return b;
	}
	else if(!b)
	{
		return a;
	}
	else if(b>a)
	{
		return gcd(a,b%a);
	}
	else
	{
		return gcd(a%b,b);
	}
}

int main()
{
    long t;
    cin>>t;
    ll x1,x2,y1,y2,xdiff,ydiff,g,v;
    while(t--)
    {
    	cin>>x1>>y1>>x2>>y2;
    	if(x1==x2 && y1==y2)
    	{
    		cout<<0<<"\n";
    	}
    	else if(x1==x2)
    	{
    		cout<<max(y1,y2)-min(y1,y2)-1<<"\n";
    	}
    	else if(y1==y2)
    	{
    		cout<<max(x1,x2)-min(x1,x2)-1<<"\n";
    	}
    	else
    	{
    		xdiff = max(x1,x2)-min(x1,x2);
    		ydiff = max(y1,y2)-min(y1,y2);
    		g = gcd(xdiff,ydiff);
    		cout<<g - 1<<"\n";
    	}
    }
    
    return 0;
}
