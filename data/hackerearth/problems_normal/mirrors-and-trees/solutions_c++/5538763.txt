#include <iostream>
#define ull unsigned long long int
#define ll long long int
using namespace std;

int main()
{
    int t;
    scanf("%d", &t);
    while(t--)
    {
    	ull n;
    	scanf("%llu", &n);
    	ll a[n+1];
    	for(ull i = 1; i <= n; i++)
    		scanf("%lld", &a[i]);
    	ll level = 0;
    	int val[20] = {0};
    	ull l = 1, r = 1;
    	//right relection
    	do{
    		for(ull i = r; i >= l; i--)
    		{
    			if(a[i] != 0)
    			{
    				val[level]++;
    				if(val[level] == 1)
    					printf("%lld\n", a[i]);
    				else 
    					break;
    			}
    		}
    		l = 2 * l;
    		r = 2 * r + 1;
    		level++;
    	}while(r <= n);
    	
    	//left reflection
    	l = 1; r =1;
    	level = 0;
    	do{
    		for(ll i = l; i <= r; i++)
    		{
    			if(val[level] < 2)
    				break;
    			if(a[i] != 0)
    			{
    				printf("%lld\n", a[i]);
    				break;
    			}
    		}
    		l = 2 * l;
    		r = 2 * r + 1;
    		level++;
    	}while(r <= n);
    	printf("\n");
    }
    return 0;
}
