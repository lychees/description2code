#include<iostream>
#include<vector>
#include<algorithm>
#include<utility>

using namespace std;

typedef struct
{
 int h,f,v;
 }girl;

bool operator <(girl a,girl b)
{
 return a.v>b.v;
}

int main()
{
 int t;
 cin>>t;
 while(t--)
 {
  int n;
  cin>>n;
  vector<girl>g(n);
  for(int i=0;i<n;i++)
  {
   cin>>g[i].h>>g[i].f;
   g[i].v=g[i].h+g[i].f;
   }
   sort(g.begin(),g.end());
   long long ans=g[0].h+g[1].h;
   for(int i=2;i<n;i++)
   ans-=g[i].f;
   cout<<ans<<endl;
   }
return 0;
}