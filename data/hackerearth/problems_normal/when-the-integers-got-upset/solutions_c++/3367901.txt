#include <bits/stdc++.h>
#define inf 10e9
#define ll long long int
using namespace std;

ll dp[15][15][1<<13],n,arr[15],p[15];
ll val ;

ll solve(ll a, ll b,ll mask){
	int digits=__builtin_popcountll(mask);
	if(mask==val)	return 0;
	if(dp[a][b][mask]!=-1)	return dp[a][b][mask];
	ll ans = inf;
	ll temp = arr[a]^arr[b];
	for(int i=0;i<n;i++){
		if((mask & (1<<i))==0)
			ans = min(ans, solve(b,i,mask|(1<<i))+(temp^arr[i])*p[digits]);
	}
	return dp[a][b][mask]=ans;
}

int main()
{
    int t;
    cin>>t;
    while(t--){
    	memset(dp,-1,sizeof(dp));
    	cin>>n;
    	val = (1<<n)-1;
    	ll ans = inf;
    	for(int i=0;i<n;i++)	cin>>arr[i];
    	for(int i=0;i<n;i++)	cin>>p[i];
    	if(n<=2){
    		cout<<"0\n";
    		continue;
    	}
    	for(int i=0;i<n;i++){
    		for(int j=0;j<n;j++){
    			if(i!=j)
    				ans = min(ans ,solve(i,j,(1<<i)|(1<<j)));
    		}
    	}
    	cout<<ans<<"\n";
    }
    return 0;
}
