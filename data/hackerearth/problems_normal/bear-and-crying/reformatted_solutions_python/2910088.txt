def main():
    s = raw_input()
    c = 0
    rc = 0
    i = s.find(';')
    if i == -1:
        return 0
    semcols_seen = 0

    while i < len(s):
        if s[i] == '_':
            rc = rc * 2 + semcols_seen
        else:
            semcols_seen += 1
            c += rc
        i += 1

    return c % (10**9+7)


print main()
