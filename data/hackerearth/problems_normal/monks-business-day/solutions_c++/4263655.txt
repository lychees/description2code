#include <bits/stdc++.h>
using namespace std;

long long dist[100][100];
const long long INF=100005;

int fm(long long u){
	for(long long k=1;k<=u;k++)
		for(long long i=1;i<=u;i++)
			for(long long j=1;j<=u;j++){
				if(dist[i][k]==INF || dist[k][j]==INF) continue;
				if(dist[i][j]>(dist[i][k]+dist[k][j]))
					dist[i][j]=dist[i][k]+dist[k][j];
			}
	return 0;
}

int main(){
    long long t,u,v,x,y,w;
    cin>>t;
    while(t--){
    	cin>>u>>v;
    	
    	for(long long i=1;i<=u;i++)
    		for(long long j=1;j<=u;j++)
    			dist[i][j]=INF;
    			
    	for(long long i=0;i<v;i++){
    		cin>>x>>y>>w;
    		w=-w;
    		if(dist[x][y]>w){
				dist[x][y]=w;
			}
    	}
    	
    	fm(u);
    	int flag=0;
    	
    	/*for(int i=0;i<u;i++){
    		for(int j=0;j<u;j++)
    			cout<<dist[i][j]<<"\t";
    		cout<<endl;
    	}
    	cout<<endl;*/
    	
    	for(long long i=1;i<=u;i++){
    		if(dist[i][i]<0 && dist[1][i]!=INF){
    			flag=1;
    			break;
    		}
    	}
    	if(flag==0) cout<<"No"<<endl;
    	else cout<<"Yes"<<endl;
    }
    return 0;
}
