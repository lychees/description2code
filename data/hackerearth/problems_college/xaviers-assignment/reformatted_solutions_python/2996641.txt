n = int(raw_input())
A = raw_input().split()
for i in range(0, n):
    A[i] = int(A[i])
B = A
m = int(raw_input())
count = 0
first = 0
while count < n-1:
    first += m
    first %= n-count
    count += 1
if (A[first] % 2 == 0):
    A.sort()
    for i in range(0, n):
        if (A[i] % 2 == 0):
            print A[i],
if (A[first] % 2 == 1):
    A.sort()
    for i in range(0, n):
        if (A[i] % 2 == 1):
            print A[i],
