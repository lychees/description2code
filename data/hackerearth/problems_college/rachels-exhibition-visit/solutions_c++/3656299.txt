#include <bits/stdc++.h>
using namespace std;

int main()
{
   	int t;
   	cin>>t;
   	while(t--) {
   		int n,k,l,j,r,i;
   		int ans[108];
   		cin>>n>>k>>l>>r;
   		getchar();
   		char org[108],sp[64];
   		cin>>org>>sp;
   		memset(ans,0,sizeof(ans));
   		for(i=0;org[i]!='\0';i++) {
   			ans[i+1]=ans[i];
   			for(j=0;sp[j]!='\0';j++) {
   				if(org[i]==sp[j]) {
   					ans[i+1]++;
   					break;
   				}
   			}
   		//	cout<<ans[i]<<" ";
   		}
   		//cout<<ans[i]<<endl;
   		int sol=0,le,rt;
   		for(i=0;i<=n;i++) {
   			le=lower_bound(ans+i,ans+n+1,ans[i]+l)-(ans);
   			rt=upper_bound(ans+i,ans+n+1,ans[i]+r)-(ans);
   			if(ans[le]==ans[i]+l) {
   				if(i==le) le++;
   				sol=sol+(rt-le);
   				//if(rt==le) sol++;
   			}
   		//	cout<<le<<" "<<rt<<" "<<sol<<endl;
   		}
   		cout<<sol<<endl;
   	}
    return 0;
}
