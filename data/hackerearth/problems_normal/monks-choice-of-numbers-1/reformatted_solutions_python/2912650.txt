def count(x):
    c = 0
    while x != 0:
        c = c + (x & 1)
        x = x >> 1
    return c


t = int(raw_input())
for i in range(t):
    n, k = map(int, raw_input().split(" "))
    x, y = map(int, raw_input().split(" ")), [0]*17
    for w in x:
        q = count(w)
        y[q] = y[q] + 1
    p, w, out = 16, k, 0
    while w > 0:
        out = out + p * y[p]
        w = w - y[p]
        p = p - 1
    # print y
    out = out + (w * (p+1))
    print out
