#include<bits/stdc++.h>
using namespace std;
int main()
{
    long long a,b,ans=0;
    cin>>a>>b;
    string s;
    cin>>s;

    for(long long i=0;i<s.length();i++)
    {
        if(s[i]=='1')
        {
            ans+=a;
            ans=ans%b;
        }
        a=(a*a)%b;
    }
    ans=ans%b;
    cout<<ans<<endl;

}
