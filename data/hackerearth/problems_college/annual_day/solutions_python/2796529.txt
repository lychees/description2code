t=int(raw_input())
for i in range(0,t):
	p=raw_input().split()
	k=[]
	sum1=0
	n=int(p[0])
	s=int(p[1])
	l=raw_input().split()
	l=[int(x) for x in l]
	for i in range(len(l)):
		q=bin(l[i]).count('1')
		k.append(q)
	for j in range(0,s):
		maxx=max(k)
		sum1=sum1+maxx
		k.remove(maxx)
	print sum1