#include <bits/stdc++.h>
using namespace std;

int main()
{
    int test;
    cin>>test;
    while(test--){
    	int n;
    	cin>>n;
    	vector<pair<long long int,long long int> > disks;
    	for(int i=0;i<n;i++){
    		long long int r,h;
    		cin>>r>>h;
    		disks.push_back(make_pair(r,h));
    	}
    	sort(disks.begin(),disks.end());
    	long long int dp[n];
    	for(int i=0;i<n;i++){
    		dp[i] = disks[i].second;
    		//dp[i] = jamat[i];
    	}
    	long long int maxn = -1;
    	int i=1;
    	int j = 0;
    	while(i<n){
    		while(j<i){
    			if(disks[j].first<disks[i].first && disks[j].second<disks[i].second){
    				dp[i] = max(disks[i].second + dp[j], dp[i]);
    			}
    			maxn = dp[i]>maxn?dp[i]:maxn;
    			j++;
    		}
    		i++;
    		j = 0;
    	}
    	cout<<maxn<<endl;
    }
    return 0;
}
