#include <bits/stdc++.h>
using namespace std;

int main()
{
 //   cout << "Hello World!" << endl;
 int t,n;
 scanf("%d",&t);
 while(t--)
 {
 	int i,x,k;
 	scanf("%d%d",&n,&k);
 	vector<int> sol;
 	for(i=0;i<n;i++)
 	{
 		scanf("%d",&x);
 		sol.push_back(__builtin_popcount(x));
 	}
 	sort(sol.begin(),sol.end());
 	reverse(sol.begin(),sol.end());
 	int ans =0;
 	for(i=0;i<k;i++)ans+=sol[i];
 	printf("%d\n",ans);
 }
    return 0;
}
