#include <bits/stdc++.h>
#define M 1000000007
using namespace std;

/*
long long int one(long long int n)
{
	long long int t = n;
	long long cnt = 0;
	while(n) 
	{
		n = n & (n - 1);
		cnt++;
	}
	long long s = 0;
	if(cnt == 2) {
		return t;
	}
	else {
		return 0;
	}
	
}
*/
int t;

void init()
{
	scanf("%d", &t);
	while(t--) 
		{
			long long n;
			scanf("%lld", &n);
			long long res = 0;
			for (long long int i = 2; i < n; i = i * 2)
			{
				for (long long int j = 1; j < i; j= j * 2)
				{
					if((i + j) <= n) res += (i % M + j % M);
				}
			} 
			//printf("%lld\n", res);
			printf("%lld\n", res % M);
			res = 0;
		}	
}

int main()
{

	#ifndef ONLINE_JUDGE
		freopen("input.txt","r",stdin);
		freopen("output.txt","w",stdout);
	#endif

	init();

	return 0;
}