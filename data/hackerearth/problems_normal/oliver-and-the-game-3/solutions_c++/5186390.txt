#include<bits/stdc++.h>
using namespace std;
int n,i,a,b,c,q,in[1000000],out[1000000],visit[1000000],tc=0;
vector<int> adj[1000000];
void dfs(int x){
	visit[x]=true;
	in[x]=tc++;
	for(int i=0;i<adj[x].size();i++){
		if(visit[adj[x][i]]==false)
		dfs(adj[x][i]);
	}
	out[x]=tc++;
}
int subtree(int x,int y){
	if(in[x]<=in[y]&&out[x]>=out[y])
	return 1;
	else return 0;
}
int main(){
scanf("%d",&n);
	for(i=0;i<n-1;i++){
	scanf("%d %d",&a,&b);
		adj[a].push_back(b);
		adj[b].push_back(a);
	}
	dfs(1);
scanf("%d",&q);
	while(q--){
		scanf("%d %d %d",&a,&b,&c);
			if((a&&subtree(c,b))||(!a&&subtree(b,c)))
		printf("YES\n");
		else printf("NO\n");
	}
}