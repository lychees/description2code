#include<bits/stdc++.h>
#define max1 1000007
using namespace std;
 
vector<int>vec ;
int prime[max1] = {0}  ;
int arr[max1] ;
void sieve()
{
	
	for( int i =2; i <= max1 ; i++ )
	{
		for( int j = 2*i ; j <= max1 ; j += i )
		{
			if(prime[i] == 0 )
			{
				prime[j] = 1 ;
			}
		}
	}
	
	for( int i = 2 ; i <= max1 ;i++ )
	{
		if( prime[i] == 0 )
		{
			vec.push_back(i) ;
		}
	}
}
int main()
{
	sieve() ;
	
		int n ;
		cin>>n;
		int a[n] ;
		for( int i = 1 ; i <= n ; i++ )
		{
			cin>>a[i] ;
			arr[i] = arr[i-1] + a[i] ;
		}
		
		int dp[n+5] ;
		
		dp[0] = 0 ;
		dp[1] = 0 ;
		
		for( int i = 2 ; i <= n ;i++ )
		{
			dp[i] = dp[i-1] ;
			
			for( int j = 0 ; j < vec.size() && vec[j] <= i ; j++ )
			{
				int x = i - vec[j] - 1 ;
				
				if( x == -1 )
				{
					dp[i] = max(dp[i] , arr[i]);
				}
				else
				{
					dp[i] = max(dp[i],dp[x]+arr[i]-arr[x+1]);
				}
			
			}
		}
		
	cout<<dp[n]<<"\n";
}