#include <bits/stdc++.h>
using namespace std;
const int MAX = 1000 + 7;
int dist[MAX];
vector < int > graph[MAX];
int N;
void update( int v)
{
	
 for(int i  = 0; i < (int)graph[v].size() ; i++)
 {
 	int to = graph[v][i];
   
 	if(dist[to] > dist[v] + 1)
 	{
 		dist[to] = dist[v] + 1;
 		update(to);
 	}
 }
	
	return;
}
int main()
{
 int Q;
 cin >> N >> Q;
 for(int i = 2; i <= N; i++)
 dist[i] = 1e9;
 for(int i = 0; i < Q ; i++)
 {
 	int a , b , c;
 	
 	cin >> a;
 	
 	 if( a == 2)
 	 {
 	 	cin >> b >> c;
 	 	graph[b].push_back(c);
 	 	if(dist[c] > dist[b] + 1)
 	 	{
 	 		dist[c] = dist[b] + 1;
 	 		update(c);
 	 	}
 	 	
 	 	
 	 }
 	 if( a == 1)
 	 {
 	 	cin >> b;
 	 	
 	 	if(dist[b] != 1e9)
 	 	cout << dist[b] << endl;
 	 	else
 	 	cout << "-1"<<endl;
 	 }
 	
 	
 }
	
	
	
	
	
	return 0;
}