#include <iostream>
using namespace std;

int main()
{
    int distance[1000]={0};
    float probability[1000]={0};
    int totalDist=0;
    int stepLen=0;
    int nosStones;
    cin>>nosStones>>stepLen>>totalDist;
    int i=1;
    int ispossible=1;
    while(i<=nosStones)
    {
    	cin>>probability[i++];
    }
    
	probability[i]=1;
	i=1;
    int pre=0;
    while(i<=nosStones)
    {
    	int cur=0;
    	cin>>cur;
    	distance[i++]=cur;
    	if(cur-pre>stepLen)
    	ispossible=0;
    	pre=cur;
    }
	distance[i]=totalDist;
	distance[i+1]=99999;
    float DP[1000]={0};
    DP[0]=1;

    if(ispossible)
    {
    	for( int i=0;i<=nosStones;i++)
    	{
			int j=i+1;
    		while(distance[j]-distance[i]<=stepLen)
    		{
				if((DP[i]*probability[j])>DP[j])
				DP[j]=(DP[i]*probability[j]);
				j++;
    		}
    	}
    	std::cout.precision(6);
		std::cout.setf( std::ios::fixed, std:: ios::floatfield );
    	if(DP[nosStones+1]!=0)
    	cout<<DP[nosStones+1]<<endl;
    	else cout<<"IMPOSSIBLE"<<endl;
    	
    }
    else cout<<"IMPOSSIBLE"<<endl;

}