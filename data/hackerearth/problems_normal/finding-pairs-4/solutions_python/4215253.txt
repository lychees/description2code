for _ in range(input()):
    n=input()
    arr=map(int,raw_input().split())
    arr=sorted(arr)
    i=0
    c=0
    temp=arr[i]
    count=0
    j=0
    #print arr
    #print n
    while i<n:
        j=i
        #print "j outside loop",j
        while (j<=n-1 and arr[i]==arr[j]):
            #print "j",j
            j=j+1
            c=c+1
            
        count=count+c
        c=0
        i=i+1
        
    print count
    
    
#In inner while loop, writing arr[i]==arr[j] is necessary bcoz otherwise compiler will give error that list index is out range.First we will check that index is in range only then we have to check for condition.Great question for debugging competition.
