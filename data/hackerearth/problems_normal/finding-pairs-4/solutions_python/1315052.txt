'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
if __name__ == '__main__':
	cases = int(raw_input())
	start = 1
	while start <= cases:
		number = int(raw_input())
		string = raw_input()
		string = string.split(' ')
		store_string = {}
		for each_char in string:
			if each_char not in store_string:
				store_string[each_char] = 1
			else:
				store_string[each_char] = store_string[each_char] + 1
		count = 0
		for key in store_string:
			n = store_string[key]
			if n > 1:
				count = count + (n*(n-1)/2)
		print count + number
		start = start + 1
