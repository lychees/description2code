#include <stdio.h>
#include <stdlib.h>
#include<math.h>

long long int a[10000000],b[10000000],counta=0,countb=0;
long long int  aa[1000000],bb[1000000],countaa,countbb, flag;
int counter;
void remDupb()
{if(flag==1)
   {
    countbb=0;
    flag=0;
    return;
   }

   countbb=1;
    int i=0,j;
bb[0]=b[0];
    while(i<countb)
    {
        for(j=i+1;j<countb;j++)
     {

     if(bb[i]!=b[j]){
            bb[++i]=b[j];
            countbb++;
            if(j==countb)break;

            }
            else if (j==countb) break;
            }
            break;
    }
}
void remDupa()
{if(flag==1)
   {
    countaa=0;
    flag=0;
    return;
   }
    countaa=1;
    int i=0,j;
aa[0]=a[0];
    while(i<counta)
    {
        for(j=i+1;j<counta;j++)
     {

     if(aa[i]!=a[j]){
            aa[++i]=a[j];
            countaa++;
            if(j==counta)break;

            }
            else if (j==counta) break;
            }
            break;
    }
}
void primefactor(long long int n, int choice)
{counta=0; countb=0;
    if(n<=1)
        flag=1;
    if(choice==0)
{

   if(n%2==0)
        a[counta++]=2;

    while (n%2 == 0)
    n=n/2;

int i;
    for ( i = 3; i <= sqrt(n); i = i+2)
    {
        // While i divides n, print i and divide n
        while (n%i == 0)
        {
           // printf("%d ", i);
           a[counta++]=i;
            n = n/i;
        }
    }
    if (n > 2)
       a[counta++]=n;
    remDupa();}



    else if(choice==1)
    {

   if(n%2==0)
        b[countb++]=2;

    while (n%2 == 0)
    n=n/2;

int i;
    for ( i = 3; i <= sqrt(n); i = i+2)
    {
        // While i divides n, print i and divide n
        while (n%i == 0)
        {
           // printf("%d ", i);
           b[countb++]=i;
            n = n/i;
        }
    }
    if (n > 2)
       b[countb++]=n;
    remDupb();
    }


}
    int calculate_number()
    {counter=0;
        if(countbb==0||countaa==0)
  return 0;
  
        int i,j, minm, maxm;

       
        minm=(countbb<countaa)?countbb:countaa;
        maxm=(countbb>countaa)?countbb:countaa;
       
        if(minm==countbb)
        {
            for(i=0;i<countbb;i++)
            {
                for(j=0;j<countaa;j++)
                {

                        if(bb[i]==aa[j])
                        counter+=1;
                        }
                }
            }
            else if(minm==countaa)
            {
                for(i=0;i<countaa;i++)
            {
                for(j=0;j<countbb;j++)
                {

                        if(aa[i]==bb[j])
                        counter+=1;
                        }
                }
            }
         
            return counter;
}

int main()
{int n,i,j,a,b;
long long int  da[100000][2];

scanf("%d",&n);
for(i=0;i<n;i++)
{
    scanf("%d %d", &a,&b);
    da[i][0]=pow(2,a)-1;
    da[i][1]=pow(2,b)-1;
    
}

for(i=0;i<n;i++)
{
   primefactor(da[i][0],0);

    primefactor(da[i][1],1);
   
   printf("\n%d",calculate_number());
}




    return 0;
}
