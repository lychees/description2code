#include <iostream>
#include <cstdio>

using namespace std;

char c[1005][1005];

int binary_search(int array[],int first,int last, int search_key)
{
 int index;
 
 if (first > last)
 index = -1;
 
 else
 {
 int mid = (first + last)/2;
 
 if (search_key == array[mid])
 index = mid;
 else
 
 if (search_key < array[mid])
 index = binary_search(array,first, mid-1, search_key);
 else
 index = binary_search(array, mid+1, last, search_key);
 
 } // end if
 return index;
 }

int main()
{
    int t,n;
    scanf("%d",&t);
    
    while(t--){
        scanf("%d",&n);
        int arr[n];
        int arr1[n];
        for(int i=0;i<n;i++){
            scanf("%s",&c[i]);
            arr[i] = 0;
            arr1[i] = 0;
        }
        int temp = 0;
        for(int i=0;i<n;i++){
            for(int j=0;j<n;j++){
                
                if(c[i][j]=='#'){
                    arr[j]++;
                    arr1[i]++;
                }
            }
        }
        int sArr=0,sArr1=0;
        for(int i=0;i<n;i++){
        	sArr += arr[i];
        	arr[i] = sArr;
        	sArr1 += arr1[i];
        	arr1[i] = sArr1;
        }
        int a1 = -1,a2=-1;
        bool g = false;
       // cout << sArr<<sArr1<<endl;
        if(sArr%2==0){
            a1 =  binary_search(arr,0,n-1,sArr/2);
        }
        //cout << arr1[0]<<"fffff"<<endl;
        if(sArr1%2==0){
            a2 =  binary_search(arr1,0,n-1,sArr1/2);
           
        }
         //cout<<a1 << a2 << endl;
        if(a1==-1 && a2==-1)
            cout << "NO"<<endl;
        else
            cout << "YES" << endl;
    }
    return 0;
}
