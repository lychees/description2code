#include <iostream>
#include<cstdio>
#include <stack>
#include <cstdlib>
#include <queue>
#include <vector>

using namespace std;

int main(){

    int n;


    priority_queue <int> less;
    priority_queue <int, vector<int>, greater<int> > more;

    int t;

    long long sum = 0;
    cin>>n;

    cin>>t;
    less.push(t);

    sum = ( sum + less.top() ) % 100000;

    for(int i = 2; i <= n; i++){

        cin>>t;

        if(t < less.top() )
             less.push(t);
        else
             more.push(t);

        if(less.size() - 1 >= more.size() + 1){
            int p = less.top();
            less.pop();

            more.push(p);
        }
        else if(more.size() >= less.size() - 1 + 2){
            int p = more.top();
            more.pop();

            less.push(p);
        }

        sum = ( sum + less.top() ) % 100000;

    }

    cout<<sum<<"\n";

}

