for i in range(input()):
	l=[int(x) for x in raw_input().split()]
	l1=[int(y) for y in raw_input().split()]
	l2=[]
	c=0
	for j in range(0,len(l1)):
		l2.append(bin(l1[j]).count('1'))
	l2.sort()
	l2.reverse()
	for k in range(0,l[1]):
		c+=l2[k]
	print(c)