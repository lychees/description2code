#include <iostream>
#include<bits/stdc++.h>
using namespace std;
#define mod 1000000007
int arr[1001],pa[1001],rnk[1001],val[1001],cnt[1001];

void make_set(int x)
{
	pa[x]=x;
	rnk[x]=0;
	val[x]=arr[x];
	cnt[x]=1;
}
int find(int x)
{
	if(pa[x]==x) return x;

	return pa[x]=find(pa[x]);
}
void merge(int x,int y)
{
	if(val[x]>val[y]){
		val[x]=val[y];
		cnt[x]=cnt[y];
	}
    else if(val[y]>val[x]){
        val[y]=val[x];
        cnt[y]=cnt[x];
    }
	else{
		cnt[x]+=cnt[y];
	}
}

void Union(int x,int y)
{
	int u=find(x);
	int v=find(y);
	if(u==v) return;
	if(rnk[u]>rnk[v]){
		pa[v]=u;
		merge(u,v);
	}
	else if(rnk[v]>rnk[u]){
		pa[u]=v;
		merge(v,u);
	}
	else{
		pa[u]=v;
		rnk[v]++;
		merge(v,u);
	}
}

int main()
{
    int n,k,x,y;
    scanf("%d",&n);
    for(int i=1;i<=n;i++) scanf("%d",&arr[i]);
    for(int i=1;i<=n;i++) make_set(i);
    scanf("%d",&k);
    while(k--){
    	scanf("%d %d",&x,&y);
    	Union(x,y);
    }
    long long ans=1;
    for(int i=1;i<=n;i++){
    	if(find(i)==i){
    		ans=(ans*cnt[i])%mod;
    	}
    }
    printf("%lld\n",ans);

    return 0;
}
