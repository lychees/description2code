#include<bits/stdc++.h>
using namespace std;

int BITe[100009], BITo[100009],arr[100009], n,e,q,a,b,c;
void update(int BIT[],int x, int val)
{
      for(; x <= n; x += x&-x)
        BIT[x] += val;
}
int query(int BIT[],int x)
{
     int sum = 0;
     for(; x > 0; x -= x&-x)
        sum += BIT[x];
     return sum;
}

int main()
{
    //freopen("file1.txt","r",stdin);
     cin>>n;
     int i;

     for(i = 1; i <= n; i++)
     {
           cin>>e;
           arr[i] = e;
           if(e%2==0)
           {
           		update(BITe,i, 1);
           		update(BITo,i, 0);
                
           }
           else
           {
           		update(BITo,i, 1);
           		update(BITe,i, 0);
                
           }
     }
     cin>>q;
     for(i=1;i<=q;i++)
     {
     	cin>>c>>a>>b;
     	if(c==0)
     	{
     		if(b%2==0 && arr[a]%2==1)
     		{
     		    arr[a] = b;
     			update(BITe,a,1);
     			update(BITo,a,-1);
     		}
     		else if(b%2==1 && arr[a]%2==0)
     		{
     		    arr[a] = b;
     			update(BITo,a,1);
     			update(BITe,a,-1);
     		}
     	}
     	else if(c==1)
     	{
     		cout<<query(BITe,b)-query(BITe,a-1)<<endl;
     	}
     	else cout<<query(BITo,b)-query(BITo,a-1)<<endl;
     }

}
