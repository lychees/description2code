#include <iostream>
#include <unordered_map>
#include <vector>
using namespace std;

int main()
{
    long long int p1,p2,t,result,previous,n,p;
    string city;
    
    	cin>>n;
    	unordered_map<string,long long int> mp1;
    	for(p1=0;p1<n;p1++)
    	{
    		cin>>city;
    		mp1[city]=p1;
    	}
    	vector<vector<long long int> > cost(n,vector<long long int> (n));
    	for(p1=0;p1<n;p1++)
    		for(p2=0;p2<n;p2++)
    			cin>>cost[p1][p2];
    	cin>>p;
    	previous=0;
    	result=0;
    	while(p--)
    	{
    		cin>>city;
    		result+=cost[previous][mp1[city]];
    		previous=mp1[city];
    	}
    	cout<<result<<endl;
    
    return 0;
}
