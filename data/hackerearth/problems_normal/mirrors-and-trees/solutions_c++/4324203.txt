#include <bits/stdc++.h>
using namespace std;
// Macros
#define Max 100005
#define Mod 1000000007
#define Mp make_pair
#define Pb push_back
#define F first
#define S second
#define SortV(v) sort(v.begin(),v.end())
#define For(i,st,ed) for(i=st;i<=ed;i++)
#define ForR(i,st,ed) for(i=st;i>=ed;i--)
#define PrintCase(x)   cout << "Case #" <<x<<": ";
// redirect std ip/op to files
#define FileInOut freopen("input.txt","r",stdin); freopen("output.txt","w",stdout);
//Array operation with starting index 1
#define SetA(a,value) memset(a,value,sizeof(a))
#define Print2A(a,row,col) for(int icnt=1;icnt<=row;icnt++){for(int jcnt=1;jcnt<=col;jcnt++) cout<<a[icnt][jcnt]<<" ";cout<<endl;}
#define PrintA(a,col) for(int jcnt=1;jcnt<=col;jcnt++)  cout<<a[jcnt]<<" "; cout<<endl
#define ScanA(a,col) for(int jcnt=1;jcnt<=col;jcnt++)  cin>>a[jcnt]
#define Scan2A(a,row,col) for(int icnt=1;icnt<=row;icnt++) for(int jcnt=1;jcnt<=col;jcnt++) cin>>a[icnt][jcnt]
//data type
typedef  pair<int,int> Pii;
typedef  long long ll;

int main()
{
    ios_base::sync_with_stdio(false);cin.tie(0);
	//FileInOut;
    int test=1,i,j,n,tt,l,x,cnt;
    int left[20],right[20];
   	cin>>test;

    For(tt,1,test){
		cin>>n;
		SetA(left,0);
		SetA(right,0);
		cin>>right[0];
		l=0;
		j=2;
		i=1;
		while(i<n){
			l++;
			i=j;
			j=j*2;
			cnt=0;
			while(i<j){
				cin>>x;
				if(x){
					if(!cnt)
						left[l]=x;
					right[l]=x;
					cnt++;			
				}
				i++;
			}
			if(cnt==1)
				left[l]=0;
		}
		For(i,0,l)
		{
			if(right[i])
			cout<<right[i]<<endl;
		}
		
		For(i,0,l)
		{
			if(left[i])
			cout<<left[i]<<endl;
		}
		cout<<endl;
    }
    //end of test

    return 0;
}
