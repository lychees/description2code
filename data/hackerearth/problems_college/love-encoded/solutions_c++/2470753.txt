#include <cmath>
#include <cstdio>
#include <vector>
#include <iostream>
#include <algorithm>
using namespace std;


int main() 
{
    int n,m,b;
    string a;
    cin>>n;
    for(int i=0;i<n;i++)
       {
    	
	    	cin>>m;
	    	cin>>a;
    		for(int i=0;i<a.size();i++)
        	{
            	if(a[i]>96&&a[i]<123)
                	{
                    	a[i]=a[i]-m;
                    	if(!(a[i]>96&&a[i]<123))
                        {
                            int b=97-a[i];
                            a[i]=123-b;
                        }
                    }
            	if(a[i]>64&&a[i]<91)
                {
                    	a[i]=a[i]-m;
                    	if(!(a[i]>64&&a[i]<91))
                        {
                            int b=65-a[i];
                            a[i]=91-b;
                        }
                }
            }
        	
        	cout<<a<<endl;
       }
    return 0;
}