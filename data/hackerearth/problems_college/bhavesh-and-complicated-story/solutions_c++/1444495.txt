#include <bits/stdc++.h>
using namespace std;

int bits[100005];

int query(int idx)
{
	int sum=0;
	while(idx>0)
	{
		sum+=bits[idx];
		idx-=idx&-idx;
	}
	return sum;
}

void update(int idx,int val)
{
	while(idx<=100002)
	{
		bits[idx]+=val;
		idx+=idx&-idx;
	}
}

int main()
{
    int n;
    cin>>n;
    
    int x;
    for(int i=0; i<n; i++)
    {
    	scanf("%d",&x);
    	update(x+1,1);
    }
    
    int q;
    cin>>q;
    
    while(q--)
    {
    	int a,b,c;
    	scanf("%d",&a);
    	
    	if(a==0)
    	{
    	  scanf("%d%d",&b,&c);
    	  printf("%d\n",query(c+1)-query(b));
    	}
    	else if(a==1)
    	{
    		scanf("%d",&b);
    		update(b+1,-1);
    	}
    	else
    	{
    		scanf("%d",&b);
    		update(b+1,1);
    	}
    }
    
    return 0;
}
