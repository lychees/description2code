#include<bits/stdc++.h>
using namespace std;

int main()
{
    long long int a,b,ans=0;
    cin>>a>>b;
    a%=b;
    string s;
    cin>>s;
    if(s[0]=='1')
    {
    	ans+=a;
    }
    for(unsigned long int i=1;i<s.length();++i)
    {
    	a=((a%b)*(a%b))%b;
    	if(s[i]=='1')
    	{
    		ans=(ans+a)%b;
    	}
    	
    }
    cout<<ans<<endl;
    return 0;
}
