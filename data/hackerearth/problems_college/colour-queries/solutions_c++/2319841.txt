#include <bits/stdc++.h>
using namespace std;

int d,n,m,cnt=0;
long long int marked[101][101],visited[101][101],arr[101][101];
bool isinarr(int x,int y)
{
return (x>=0&&x<n&&y>=0&&y<m);	
}
void recurse(int x,int y)
{	
	
	if(visited[x][y])
	return ;
	visited[x][y]=1;
	
	cnt++;
	int dx[4]={-1,1,0,0};
	int dy[4]={0,0,-1,1};
	for(int i=0;i<4;i++)
	if(isinarr(x+dx[i],y+dy[i])&&(abs(arr[x+dx[i]][y+dy[i]]-arr[x][y]))<=d)
    recurse(x+dx[i],y+dy[i])	;
	
}



int main()
{int q;
	cin>>n>>m>>q;

for(int i=0;i<n;i++)
 for(int j=0;j<m;j++)
 cin>>arr[i][j];
 int old_cnt=0;
 while(q--)
 {
 	int x,y;
 	cin>>x>>y>>d;
 	
 	recurse(x-1,y-1);
 //	old_cnt+=cnt;
 	cout<<cnt<<endl;
 	;
 	cnt=0;
 for(int i=0;i<n;i++)
   for(int j=0;j<m;j++)
   visited[i][j]=0;
 }
 return 0;
}
