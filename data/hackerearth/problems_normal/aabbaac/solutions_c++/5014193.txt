/*#include <iostream>
using namespace std;

int main()
{
    cout << "Hello World!" << endl;
    return 0;
}*/
    #include <bits/stdc++.h>
    using namespace std;
     
    const int N = 100 + 10;
     
    string s[N];
    long long sz[N];
     
     
    char go(long long x, int p) {
    	while (x <= sz[p-1]-1) --p;
    	if (2*sz[p-1] - 1 < x) {
    		x -= 2*sz[p-1];
    		return s[p][x];
    	}
    	x -= sz[p-1];
    	return go(sz[p-1]-1 - x, p-1);
    }
     
    int main()
    {
    	ios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);
    	int t;
    	cin >> t;
    	while (t--) {
    		int n, m;
    		cin >> n >> m;
    		for (int i = 1; i <= n; ++i) {
    			cin >> s[i];
    		}
    		sz[0] = 0;
    		for (int i = 1; i <= n; ++i) {
    			sz[i] = sz[i-1] + sz[i-1] + s[i].size();
    		}
    		while (m--) {
    			long long x;
    			cin >> x;
    			cout << go(x, n);
    		}
    		cout << '\n';
    	}
        return 0;
    }
