#include<bits/stdc++.h>
#define scan(n) scanf("%d",&n);
using namespace std;

struct node{
	int pos;
	int val;
	int ind;
};
bool compare(struct node p ,struct node q)
{
	if(p.val>q.val)
	return 1;
	else
	return 0;
}
bool compare1(struct node p ,struct node q)
{
	if(p.pos<q.pos)
	return 1;
	else
	return 0;
}
int main()
{
	int t ;
	scan(t);
	while(t--)
	{
	int n;
	scan(n);
    struct node str[n];
    int x;
    int i,j;
    for(i=0;i<n;i++)
    {
    	scan(x);
    	str[i].val = x;
    	str[i].pos = i+1;
	}
	sort(str,str+n,compare);
	str[0].ind=1;
	for(i=1;i<n;i++)
	{
		if(str[i].val == str[i-1].val)
		str[i].ind = str[i-1].ind;
		else
		{
		str[i].ind = i+1;
		
	}
	}
	sort(str,str+n,compare1);
	for(i=0;i<n;i++)
	{
		cout<<str[i].ind<<" ";
	}
	cout<<"\n";
}
}