#include<bits/stdc++.h>
using namespace std;
typedef long long int uli;
const int mx=55;
int main(){
   int t,n;
   cin>>t;
   while(t--){
      cin>>n;
      uli ans[]={1,1};
      for(int i=0;i<n;i++){
         string op;
         uli x;
         cin>>op;
         if(op[0]=='N'){
            ans[0]=max(ans[0],max(-ans[0],-ans[1]));
            ans[1]=min(ans[1],min(-ans[0],-ans[1]));
            continue;
         }
         cin>>x;

         if(op[0]=='-')op[0]='+',x*=-1;
         if(op[0]=='+'){
            uli a0=max(ans[0],max(ans[0]+x,ans[1]+x));
            uli a1=min(ans[1],min(ans[0]+x,ans[1]+x));
            ans[0]=a0;
            ans[1]=a1;
         }
         else if(op[0]=='*'){
            uli a0=max(ans[0],max(ans[0]*x,ans[1]*x));
            uli a1=min(ans[1],min(ans[0]*x,ans[1]*x));
            ans[0]=a0;
            ans[1]=a1;
         }
         else if(op[0]=='/'){
            uli a0=max(ans[0],max(ans[0]/x,ans[1]/x));
            uli a1=min(ans[1],min(ans[0]/x,ans[1]/x));
            ans[0]=a0;
            ans[1]=a1;
         }         
      }
      cout<<ans[0]<<endl;
   }
   return 0;
}

