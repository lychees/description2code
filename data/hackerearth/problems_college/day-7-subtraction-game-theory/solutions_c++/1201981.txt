#include <bits/stdc++.h>
using namespace std;
long long int dp[1000005];

int main()
{
	int x,y,n,q,i;
	scanf("%d",&x);
	scanf("%d",&y);
	dp[0]=1;
	for(i=1;i<1000002;i++){
		dp[i]=(dp[i-1]*x-y)%1000000007;
	}
	scanf("%d",&q);
	for(i=0;i<q;i++){
		scanf("%d",&n);
		cout<<dp[n]<<"\n";
	}
    return 0;
}
