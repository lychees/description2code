
#include <iostream>
#include <algorithm>
#include <vector>
#define ll long long
using namespace std;
bool myfunction (ll i,ll j) { return (i<j); }

int main () {
    ll t ,x,p,c;
   cin >> t;
    while(t--){
           c=0;
   cin >> x >> p;
    while(x%p==0){
        x=x/p;
        c++;
    }
    /*while(1){
        if(x%p==0)
           {c++;
            ll u=x/p;
            x=x-u;
            if(x==0 || x==1)
                break;
            }
        else
            break;
    }*/
    if(x==1)
  cout << c <<" "<<0<<endl;
   else
    cout << c <<" "<<x<<endl;
    }
  return 0;
}
