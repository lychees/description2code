#include <bits/stdc++.h>
using namespace std;
float dp[1005];
int vis[1005],dis[1005];
float p[1005];
int n,D,l;
float recur(int idx) {
	if(idx == n-1) return 1.0;
	if(vis[idx]) return dp[idx];
	vis[idx] = 1;
	float ret = dp[idx];
	ret = (1e6)*(-1.0);
	for(int i = idx+1;dis[idx]+l>=dis[i] && i<n;i++) ret = max(ret,recur(i)*p[idx]);
	return dp[idx] = ret;
}
int main()
{
    scanf("%d%d%d",&n,&l,&D);
    int d=0,pp=0;
    dis[d++]=0;
    p[pp++]=0.0;
    int temp;
    float tmp;
    for(int i = 0; i < n;i++) {
    	scanf("%f",&tmp);
    	p[pp++]=tmp;
    }
    p[pp++]=1.0;
    for(int i = 0; i < n;i++) {
    	scanf("%d",&temp);
    	dis[d++]=temp;
    } dis[d++]=D;
    n+=2;
    //init();
    float ret=(1e6)*(-1.0);
    for(int i=1;dis[0]+l>=dis[i] && i<n;i++)
    ret = max(ret,recur(i));
    printf("%.6lf",ret);
    return 0;
}
