#include <cstdio>
#include <iostream>
#include <string>
using namespace std;
const int mnum = 1e5 + 1;
int dp[mnum];

int GetBits(int k)
{
    string tmp;
    int ans = 0;
    while(k > 0)
    {
        if(k & 1 == 1)
            tmp.push_back('1');
        else
            tmp.push_back('0');
        k = k >> 1;
    }
    
    size_t pos = 0;
    while(pos != string::npos)
    {
        pos = tmp.find("101",pos);
        if(pos != string::npos)
            ++ans;
        else  break;
        pos = pos+1;
    }
    return ans;
}

void init()
{

    for(int i = 1; i < mnum; ++i )
        dp[i] = GetBits(i);
}

int Process(int R,int K)
{
    int ans = 0;
    for(int i = 1; i <= R;++i)
    {
        if(dp[i] >= K)
            ++ans;
    }
    return ans;
}

int main()
{
    int T,R,K;
    init();
    
    cin >> T;
    while(T--)
    {
        cin >> R >> K;
        cout << Process(R,K) << endl;
    }

    return 0;
}
