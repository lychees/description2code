#include<bits/stdc++.h>
using namespace std;
const int maxn=1e4+7;
#define ll long long int 
ll dp[maxn];
vector<int> g[maxn];
void fn(int pa,int ch){
	int si=g[pa].size();
	if(dp[pa]!=-1){
		return;
	}
	else if(si==0){
		dp[pa]=(pa==1)?1:0;
	}
	else{
		dp[pa]=0;
		for(int i=0;i<si;i++){
			if(g[pa][i]!=ch){
				fn(g[pa][i],ch);
				dp[pa]+=dp[g[pa][i]];
			}
		}
	}
}
int main(){
	int n;
	cin>>n;
	memset(dp,-1,sizeof(dp));
	while(1){
		int a,b;
		cin>>a>>b;
		if(a==0)	break;
		g[b].push_back(a);
	}
	fn(n,-1);
	cout<<dp[n]<<"\n";
}