
A, B = map(int, raw_input().split())
days = map(int, list(raw_input()))

total = 0

amount = A

for ele in days:

    if ele == 1:
        total = (total + amount) % B
    amount = (amount * amount) % B


print total
