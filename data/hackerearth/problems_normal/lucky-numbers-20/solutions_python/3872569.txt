import bisect;
A=[];
for i in xrange(60):
	a=1<<i;
	for j in xrange(i+1,61):
		A.append((a|1<<j));

A.sort();		l,M=len(A),1000000007;	B=[0]*l;	B[0]=3;
for i in xrange(1,l):	B[i]=(B[i-1]+A[i]%M)%M;

for i in xrange(int(raw_input())):
	n=int(raw_input());
	if n<3:	print 0
	else:	q=bisect.bisect_right(A,n);	print B[q-1];