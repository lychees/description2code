#include <bits/stdc++.h>
using namespace std;
#define li long long int
const int N=5e5+6;
const long int M=1e9+7;
long long int coun[N]={0};
li pw[N]={0};
int main()
{
	pw[0]=1;
 	li n,k,m,temp;
 	cin>>n>>k>>m;
 	for(int i=0;i<n;i++){
 		cin>>temp;
 		coun[temp]++;
 	}
 	long long int dp[12]={0};
 	dp[0]=1;
 	for(int i=1;i<=n;i++){
 		pw[i]=(2*pw[i-1])%M;
 	}
 	for(int i=1;i<=k;i++){
 		if(coun[i]){
 			for(int j=m-1;j>=0;j--){
 				dp[j+1]=(dp[j+1]+(dp[j]*(pw[coun[i]]-1)))%M;
 			}
 		}
 	}
 	long long int ans=0;
 	for(int i=0;i<=m;i++){
 		ans=(ans+dp[i])%M;
 	}
 	cout<<ans%M<<endl;
    return 0;
}