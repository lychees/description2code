#include <iostream>
#include <bits/stdc++.h>
using namespace std;
int arr[100005];
int arr2[100005];
int main()
{
    memset(arr,0,sizeof(arr));
    memset(arr2,0,sizeof(arr2));
    int n,f=0;
    cin>>n;
    int a,prev;
    cin>>prev;
    arr2[prev]+=1;
    for(int i=1;i<n;i++)
    {
    	cin>>a;
    	arr2[a]+=1;
    	if(a==prev)
    	arr[a]++;
    	else
    	prev=a;
    }
    multiset<int> s;
    for(int i=0;i<100005;i++)
    {
    	if((arr2[i]>(n/2 + 1)&& n%2==1) || (arr2[i]>n/2 && n%2==0))
    	{
    		f=1;
    		break;
    	}
    	if(arr[i]>=(n-n/2))
    	{
    		f=1;
    		break;
    	}
    	if(arr[i]>0)
    	s.insert(arr[i]);
    }
    if(f==1)
    cout<<-1<<endl;
    else
    {
    	int c=0;
    
    	while(s.size()>1)
    	{
    		multiset<int>::iterator i=s.end();
    		i--;
    		int x=*i;
    		s.erase(i);
    		i--;
    		int y=*i;
    		s.erase(i);
    		
    		x--;
    		y--;
    		if(x>0)
    		s.insert(x);
    		if(y>0)
    		s.insert(y);
    		c++;
    	}
    	if(s.size()==1)
    	c+=*s.begin();
    	cout<<c<<endl;
    }
    return 0;
}
