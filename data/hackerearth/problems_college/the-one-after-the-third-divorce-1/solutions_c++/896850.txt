#include<iostream>
using namespace std;
int gcd(int x,int y){
int i;
    for(i=x;i>=1;i--){
         if(x%i==0&&y%i==0){
             break;
         }
    }
    return i;
}
int main(){
int t;
cin>>t;
while(t--)
	{ int x,y,a,b;
	cin>>x;cin>>y;cin>>a;cin>>b;
	//cout<<x;
	int gcd_x_y=gcd(x,y);
	//cout<<gcd_x_y;
	int lcm=(x*y) /gcd_x_y;
	cout<<(b/lcm - (a-1)/lcm) << endl;
	}
}