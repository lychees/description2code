#include <iostream>
#include <vector>
#include <cstdio>
using namespace std;
int a[502];
int dp[502][2002];
vector <int> v;
void calc(){
for(int i=1;i<=20;i++){
    int x=i*i*i;
    if(x<=6000)
    v.push_back(x);

}
}

int main()
{
    calc();
   int t;
   cin>>t;
   while(t--){
    int n;
    cin>>n;
    for(int i=1;i<=n;i++)
        cin>>a[i];
        // dp[i][j] gives occurence  of j up to index i
        for(int i=1;i<=n;i++)
        {
            for(int j=1;j<=2000;j++){
               if(a[i]==j)
                dp[i][j]=dp[i-1][j]+1;
               else
                dp[i][j]=dp[i-1][j];
            }
        }
        int num=0;
        int den=((n)*(n-1)*(n-2))/6;// Nc3

        //X=(C1 OR C2 OR...C18)-(A[i]+a[j)
    for(int i=1;i<=n;i++){
        for(int j=i+1;j<=n;j++){
               for(int k=0;k<v.size();k++){
                    int cube=v[k];
                int rem=v[k]-(a[i]+a[j]);
               if(a[i]+a[j]>cube)
               continue;
               if(rem>2000)
                continue;
               num+=(dp[n][rem]-dp[j][rem]);

               }
           }
		}
	double ans=(num*1.0)/(den*1.0);
	printf("%.9lf\n",ans);
   }
return 0;
}