#include<iostream>
#include<vector>
using namespace std;
int dfs(int,vector<int> *);
int c=0;
int main()
{ int m,x,y,i,t,maxm=0;
cin>>t;
while(t--)
	{
	maxm=0;
	c=0;
	cin>>m;
		vector<int> v[100001];
	for(i=0;i<m;i++)
	{   
		cin>>x>>y;
		v[x].push_back(y);
		v[y].push_back(x);

if(maxm<x||maxm<y)
	     {
	     	if(x>y)
	     	maxm=x;
	     	else
	     	maxm=y;
	     }
	}
	for(i=0;i<=maxm;i++)
	{if(v[i].size()>0)
		c++;
	}
cout<<c<<endl;}
return 0;
}
