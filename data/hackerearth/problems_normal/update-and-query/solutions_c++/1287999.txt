#include <bits/stdc++.h>
#define MAXN 200000
using namespace std;

int arr[MAXN+1];
int main()
{
    int n,m,x,c;
    scanf("%d %d",&n,&m);
    for(int i=1;i<=n;++i) scanf("%d",&arr[i]);
    char q[4];
    while(m--)
    {
    	scanf("%s %d %d",q,&x,&c);
    	if(q[0]=='U') arr[x]=c;
    	else
    	{
    		if(c<0){ printf("-1 -1\n"); continue; }
    		int l=arr[x]-c,u=arr[x]+c,mi=arr[x],ma=arr[x],ans=1;
    		for(int i=x+1;i<=n;++i)
    		{
    			if(arr[i]<l || arr[i]>u) break;
    			mi=min(mi,arr[i]);
    			ma=max(ma,arr[i]);
    			ans++;
    		}
    		int d=max(ma-arr[x],arr[x]-mi);
    		printf("%d %d\n",ans,d);
    	}
    }
    return 0;
}
