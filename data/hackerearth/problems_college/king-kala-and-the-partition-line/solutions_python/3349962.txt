t=input()
count=0
count1=0
while (t):
    n=input()
    d=map(int,raw_input().strip().split(' '))
    a=d[0]
    b=d[1]
    c=d[2]
    for i in range (n):
        x,y=raw_input().strip().split(' ')
        x,y=[int(x),int(y)]
	    
        w=a*x+b*y+c
        if(w>0):
            count=count+1
        elif(w==0):
            count1=count1+1
    if(n-count1-count>count):
        print n-count1-count
    else:
        print count
    count=0
    count1=0
    t=t-1
