#include<iostream>
using namespace std;
#include<stdio.h>
int dist[1005]={0};
float prob[1005]={0};
float val[1005]={0};
int main()
 {int n,l,d,i,j;
 cin>>n>>l>>d;
 for(i=0;i<n;i++)
  {
  cin>>prob[i];
  val[i]=0;
  }
  prob[n]=1;
   for(i=0;i<n;i++)
  cin>>dist[i];
  dist[n]=d;
  if(dist[0]<=l)
   {for(i=0;i<=n && dist[i]<=l;i++)
      val[i]=prob[i];
   for(i=0;i<n;i++)
    {for(j=i+1;j<=n && dist[j]-dist[i]<=l;j++)
       {if(prob[j]*val[i]>val[j] && prob[j]>0)
           val[j]=prob[j]*val[i];
       }
    }
    
   }/*
   float max=0;
   for(j=n-1;j>=0 && d-dist[j]<=l;j--)
     {if(val[j]>max && prob[j]>0)
       max=val[j];
     }*/
  //  if(max!=0)
    printf("%.6f",val[n]);
    //else
      //printf("IMPOSSIBLE");
 }