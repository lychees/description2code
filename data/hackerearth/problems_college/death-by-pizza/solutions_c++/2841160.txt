#include <iostream>
#include<math.h>
using namespace std;
/*class Rational
{
public:
    int numerator, denominator;

    Rational(int num, int den=1){
        numerator = num;
        denominator=den;
    }
    Rational(Rational other){
        numerator = other.numerator;
        denominator = other.denominator;
    }
    double operator / (int divisor){
            denominator *= divisor;
            simplificate();
            return getrealformat();
    }
    Rational& operator / (int divisor){
            denominator *= divisor;
            simplificate();
            return this;
    }
    Rational& operator / (Rational &divisor){
            numerator *= divisor.numerator;
            denominator *= divisor.denominator;
            simplificate();
            return this;
    }
    double operator / (int divisor){
            denominator *= divisor;
            simplificate();
        return getrealformat();
    }
    double getrealformat(){
        return numerator/denominator;
    }
    simplificate(){
        int commondivisor = 1;
        for(int i=2;i<=min(abs(numerator), abs(denominator));i++)
            if( numerator%i == 0 && denominator%i == 0 )
                commondivisor = i;
        numerator /= commondivisor;
        denominator /= commondivisor;
    }
};*/
int main()
{
    int n,q,sum,j;
    cin>>n>>q;
    int i,a[n],b[q][3];
    for(i=0;i<n;i++)
    	cin>>a[i];
    for(i=0;i<q;i++)
    	cin>>b[i][0]>>b[i][1]>>b[i][2];
    for(i=0;i<q;i++)
    {
    	sum=0;
    	if(b[i][0]==1)
    	{
    		for(j=b[i][1]-1;j<b[i][2];j++)
    			sum+=a[j];
    	//	Rational r1(sum), r2(b[i][2]-b[i][1]+1), r3=r1/r2;
    	//	cout<<r3.numerator<<'/'<<r3.denominator;
    	//	cout<<sum/(b[i][2]-b[i][1]+1)<<endl;
    	    cout<<sum<<"/"<<b[i][2]-b[i][1]+1<<endl;
    	}
    	else
    	{
    		int count=0,c[5]={16,9,26,26,1};
    		for(j=b[i][1]-1;j<b[i][2];j++)
    		{
    			a[j]+=c[count];
    			if(count==4)
    				count=0;
    			else
    				count++;
    		}
    	//	for(j=0;j<n;j++)
    	//		cout<<a[j]<<" ";
    	//	cout<<endl;
    	}
    }
    return 0;
}
