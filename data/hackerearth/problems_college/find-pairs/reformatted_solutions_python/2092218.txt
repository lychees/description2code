T = int(raw_input())
while T > 0:
    N = int(raw_input())
    arr = map(int, raw_input().split())
    d = dict()
    for i in range(0, N):
        if d.has_key(arr[i]):
            d[arr[i]] = d[arr[i]]+1
        else:
            d[arr[i]] = 1
    s = N
    for x in d:
        # print d[x]
        n = (d[x]-1)*d[x]
        n = n/2
        s = s+n

    print s
    T = T-1
