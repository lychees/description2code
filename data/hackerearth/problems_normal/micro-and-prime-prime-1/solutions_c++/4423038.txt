#include<iostream>
#include<vector>
#include<algorithm>
#include <cstdio>

using namespace std;
vector<int> prime_no;
vector<int> primes (1000005, 0);
vector<int> primescounts (1000005, 0);
vector<int> primeprimescounts (1000005, 0);

void fetch_all_prime(){
    //primes.push_back(1);
    int count = 1, ppcount = 0;
    primes[2] = 1;
    prime_no.push_back(2);
    for(int i=3; i <= 1000000; i+=2){
        primescounts[i-1] = count;
        bool prime=true, flag = false;
        for(int j = 0; j < prime_no.size() && prime_no[j]*prime_no[j] <= i; j++){
            if(i % prime_no[j] == 0){
                prime=false;
                primescounts[i] = count;
                primeprimescounts[i] = ppcount;
                break;
            }
        }
        if(prime){
            prime_no.push_back(i);
            primes[i] = 1;
            count++;
            //cout << i << " ";
        }
        primescounts[i] = count;
        if(primes[primescounts[i]]){
            ppcount++;
            flag = true;
        }
        primeprimescounts[i] = ppcount;
        if(flag)
            primeprimescounts[i+1] = ++ppcount;
        else
            primeprimescounts[i+1] = ppcount;
    }
    //for(int i = 1; i <=10; ++i){
    //    cout<<i<<" = "<<primeprimescounts[i]<<endl;
    //}
}

int main(){
    //freopen("Prime.txt", "w", stdout);
    fetch_all_prime();
    int t, l, r, count, no_of_prime, found;
    cin>>t;
    while(t--){
        count = 0;
        cin>>l>>r;
        //cout<<primeprimescounts[l-1]<<" "<<primeprimescounts[r]<<endl;
        cout<<primeprimescounts[r] - primeprimescounts[l-1]<<endl;
        //for(int i = l; i <= r; ++i){

            //no_of_prime = primescounts[i];
            //cout<<"No of Prime for : "<<i<<" = "<<no_of_prime<<endl;
            //found = primes[no_of_prime];
            //cout<<"Count is prime?"<<found<<endl;
            //if(found){
            //    count++;
            //}
        //}
        //cout<<count<<endl;
    }
    return 0;
}
