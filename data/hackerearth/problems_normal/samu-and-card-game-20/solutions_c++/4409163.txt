#include <iostream>
using namespace std;

int main()
{
	int count=0,i,j,k,m,n,l,cura,curb,a,b,jump;
	cin>>i;
	for(int j=0;j<i;j++)
	{jump=0;
		cura=1;
		curb=1;
		cin>>m>>n;
		cin>>k;
		for(l=0;l<k;l++)
		{
			cin>>a>>b;
		    while((cura+a)<=m && (curb+b)<=n && (cura+a)>=1 && (curb+b)>=1 )
		    {
		    	cura=cura+a;
		    	curb=curb+b;
		        jump++;
		    }
	       	
		}
		cout <<jump<< endl;
	}
    
    return 0;
}
