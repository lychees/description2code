#include<iostream>
#include<stdlib.h>
using namespace std;
#define MAX 100100
long long tree[MAX];
void update(int idx ,int val){
	while (idx <= MAX){
		tree[idx] += val;
		idx += (idx & -idx);
	}
}
int read(int idx){
	int sum = 0;
	while (idx > 0){
		sum += tree[idx];
		idx -= (idx & -idx);
	}
	return sum;
}

int count[100100];
int var;
int main()
{
	int n=0;
	cin>>n;
	for(int i=0;i<=100100;i++)
		count[i]=0;
	
	for(int i=0;i<n;i++)
	{
		cin>>var;
		count[var+1]++;
	}
	
	for(int i=1;i<=100001;i++){
		update(i,count[i]);		
	}
	
	int q=0;
	//cout<<"hello"<<endl;
	cin>>q;
	while(q-->0)
	{
		int qn=0;
		cin>>qn;
		int x=0,y=0,sum=0,z=0;
		if(qn==0)
		{
			cin>>x>>y;
			x += 1;y+= 1;
			cout<<read(y) - read(x-1)<<endl;
		}
		else if(qn==1)
		{
			cin>>z;
			z++;
			//count[z]--;
			update(z,-1);
			//count[z]--;
		}
		else
		{
			cin>>z;
			z++;
			update(z,1);
			//count[z]++;
		}
	}
	return 0;
}
