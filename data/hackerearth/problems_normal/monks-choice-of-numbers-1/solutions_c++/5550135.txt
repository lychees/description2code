#include <bits/stdc++.h>
using namespace std;
int count(int x)
{
	int i ; 
	while(x)
	{
		if(x&1)
		i++ ; 
		x/=2; 
	}
	return i ; 
}
int main()
{
    int t  ; 
    int i ; 
    scanf("%d",&t) ; 
    while(t--)
    {
    	int n,k ; 
    	scanf("%d %d",&n,&k) ; 
    	int temp ; 
    	int a[10005] ; 
    	for(i = 0 ; i < n ;i++ )
    	{
    		scanf("%d",&temp) ; 
    		a[i] = count(temp) ; 
    	}
    	sort(a,a+n) ; 
    	int ans =  0 ;
    	for(i=n-1;i>=n-k;i--)
    	{
    		ans  = ans + a[i] ; 
    	}
    	printf("%d\n",ans) ; 
    } 
    return 0;
}
