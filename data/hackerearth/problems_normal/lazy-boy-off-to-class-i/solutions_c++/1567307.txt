#include<iostream>
#include<math.h>

using namespace std;

int main()
{
    int t,n,a[7][2000],i,j,k,l=0,sum=0,times[1000],classes=0;
    cin>>t;
    for (i=0;i<t;i++)
    {
    	sum=0;
        l=0;
        for (j=0;j<7;j++)
        {
            cin>>n;
            for (k=0;k<2*n;k++)
            {
                cin>>a[j][k++];
                cin>>a[j][k];
                times[l++]=a[j][k]-a[j][k-1];
            }
        }
        for (j=0;j<l;j++)
        {
            for (k=0;k<l-j-1;k++)
            {
                if (times[k]>times[k+1])
                {
                    int temp=times[k];
                    times[k]=times[k+1];
                    times[k+1]=temp;
                }
            }
        }
        classes = ceil((75.00*(double)l)/100.00);
        for (j=0;j<classes;j++)
            sum+=times[j];
        cout<<604800-sum<<endl;
    }
}
