#include<cstdio>
#include<iostream>
using namespace std;
int X[8]={1,1,0,-1,-1,-1,0,1};
int Y[8]={0,1,1,1,0,-1,-1,-1};
int A[101][101],R;
int ONE(int x,int y,int c)
{
int i,res=0,tx,ty;
if(x<0 || y<0 || y>=R || x>=R)
return 0;
if(A[x][y]!=c)
return 0;
A[x][y]=0;
if((x==0&& c==1)||(y==0&&c==2))
return 1;
for(i=0;i<8;i++){
tx=x+X[i],ty=y+Y[i];
res+=ONE(tx,ty,c);
if(res)
return res;
}
return res;
}
int main()
{
int i,j,R1=0,R2=0;
scanf("%d",&R);
for(i=0;i<R;i++)
for(j=0;j<R;j++)
scanf("%d",A[i]+j);
for(i=0;i<R;i++)
{
if(!R1 && A[R-1][i]==1)
R1=ONE(R-1,i,1);
if(!R2 && A[i][R-1]==2)
R2=ONE(i,R-1,2);
if(R1 && R2)
{
printf("AMBIGUOUS\n");
return 0;
}
}

if(R1){
printf("1\n");
return 0;
}
if(R2){
printf("2\n");
return 0;
}
printf("0\n");
return 0;
}