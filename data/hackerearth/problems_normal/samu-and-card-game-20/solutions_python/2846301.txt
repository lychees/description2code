t           = input()
for testCase in xrange(t):
 lastRow, lastCol    = map(int,raw_input().split())
 query       = input()
 jumps       = 0

 firstRow,firstCol = 1,1
 currentRow, currentCol = 1,1

 for _ in xrange(query):
    a,b     = map(int,raw_input().split())
    x,y     = 0,0
    curJumpX,curJumpY = 0,0
    if a!=0:
     if a>0:
        curJumpX = (lastRow-currentRow)/a
     else:
        curJumpX = (firstRow-currentRow)/a
    if b!=0:
     if b>0:
        curJumpY = (lastCol-currentCol)/b
     else:
        curJumpY = (firstCol-currentCol)/b

    p = min(curJumpX,curJumpY)

    jumps+=p
    #print 'to jump',p
    currentRow += (p*a)
    currentCol += (p*b)

    if a==0:
        p = curJumpY
        #print 'to jump y',p
        jumps+=p
        currentCol += (p*b)
    if b==0:
        p = curJumpX
        #print 'to jump x',p
        jumps+=p
        currentRow += (p*a)

    #print currentRow,currentCol

 print jumps
