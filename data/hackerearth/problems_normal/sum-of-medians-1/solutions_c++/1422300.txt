#include<bits/stdc++.h>
using namespace std;

typedef long long ll;
const int md=1e5;

int m;

int main() {
	int n;
	scanf("%d",&n);
	ll sum=0;
	priority_queue<int>left;
	priority_queue <int,vector<int>,greater<int> >right;
	int ls=left.size();
	int rs=right.size();
	for(int i=1;i<=n;i++) {
		int r;
		scanf("%d",&r);
		if(m>r) {
			left.push(r);
			ls++;
		} else {
			right.push(r);
			rs++;
		}
		while(ls>rs+1) {
			right.push(left.top());
			left.pop();
			ls--,rs++;
		}
		while(rs>ls) {
			left.push(right.top());
			right.pop();
			rs--,ls++;
		}
		m=left.top();
		sum+=m;
		if(sum>=md) {
			sum-=md;
		}
	}
	printf("%d\012",sum);
	return 0;
}