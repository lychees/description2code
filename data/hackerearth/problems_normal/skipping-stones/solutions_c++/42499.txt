#include<iostream>
#include<vector>
#include<algorithm>
#include<iterator>
#include<queue>
#include<unordered_map>
#include<list>
#include<string>
#include<fstream>
#include<set>
using namespace std;

 int main()
{
	int n,L,D;
	cin>>n>>L>>D;

	vector<double> p;
	vector<int> d;
	vector<double> final_probs(n+2,0.0);
	double num;

	p.push_back(1);
	for(int i=0;i<n;i++)
	{
		cin>>num;
		p.push_back(num);
	}
	p.push_back(1);

	d.push_back(0);
	for(int i=0;i<n;i++)
	{
		cin>>num;
		d.push_back(num);
	}
	d.push_back(D);
	final_probs[0]=1;
	for(int i=0;i<d.size();i++)
	{
		double tmp_probs;
		tmp_probs=final_probs[i];

		for(int j=1;j<=L;j++)
		{
			if((i+j<=n+1) && (d[i+j]-d[i]<=L))
			{
				if(final_probs[i+j]<(tmp_probs*p[i+j]))
				{
					final_probs[i+j]=tmp_probs*p[i+j];
				}
			}
			else
			{
				break;
			}
		}
	}

	std::cout.setf(std::ios::fixed);
    std::cout.precision(6);
	if(final_probs[n+1]>0)
		cout<<final_probs[n+1]<<endl;
	else
		cout<<"IMPOSSIBLE\n";
 }