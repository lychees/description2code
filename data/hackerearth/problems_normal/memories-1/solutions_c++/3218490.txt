#include <iostream>
using namespace std;

bool hash1[33000];

int main(){
	long t,n,p,a,b;
	cin>>t;
	while(t--){
		cin>>n>>p;
		n=1<<n;
		for(long i=1;i<n;i++)
			hash1[i]=true;
		
		while(p--){
			cin>>a>>b;
			a=(1<<(a-1))|(1<<(b-1));
			for(long i=1;i<n;i++)
				if((i&a)==a)
					hash1[i]=false;
		}
		long ans=0;
		for(long i=1;i<n;i++)
			if(hash1[i])
				ans++;
		cout<<ans<<"\n";
	}
    return 0;
}
