// ConsoleApplication1.cpp : Defines the entry poll for the console application.
//

#include <bits/stdc++.h> 
using namespace std;
#define ll long long
ll cmp(pair<ll, ll>x, pair<ll, ll>y) {
	return x.first > y.first;
}

int main()
{
	ios_base::sync_with_stdio(0);
	ll t,n, r,h;
	
	cin >> t;
	while (t--)
	{
		//memset(dp, -1, sizeof(dp));
		cin >> n;
		vector<ll>dp(n);
		vector<pair<ll, ll> > v;
		while (n--)
		{
			cin >> r >>h;
			v.push_back(make_pair(r,h));
		}
		
		sort(begin(v), end(v),cmp);

		for (ll k = 0; k < v.size(); k++) {
			dp[k] = v[k].second;
		}
		
		for (ll i = 0; i < v.size(); i++)
		{
			for (ll j = 0; j < i; j++) {
				if (v[i].first < v[j].first && v[i].second < v[j].second)
				{
					dp[i] = max(dp[i], dp[j] + v[i].second);
				}
			}
		}
		cout << *max_element(begin(dp),end(dp)) << endl;
	}

    return 0;
}

