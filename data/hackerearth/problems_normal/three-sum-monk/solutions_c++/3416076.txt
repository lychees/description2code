#include <bits/stdc++.h>
using namespace std;
int occur[501][2001];
vector<int>cubes;
void prec()
{
    int i = 1;
    while(i*i*i <= 6000)
    {
        cubes.push_back(i*i*i);
        i++;
    }
}
int main()
{
    int t,n,i,j,k;
    long long int tot,ctr,rem;
    prec();
    int sz=cubes.size();
    cin>>t;
    while(t--)
    {
    	memset(occur,0,sizeof(occur));
    	cin>>n;
    	int arr[n+1];
    	for(i=1;i<=n;i++)
    	cin>>arr[i];
    	for(i=1;i<=n;i++)
    	{
    		for(j=1;j<=2000;j++)
    		{
    			occur[i][j]=occur[i-1][j]+(arr[i]==j);
    		}
    	}
    	tot=(n*(n-1)*(n-2))/6;
    	ctr=0;
    	for(i=1;i<=n;i++)
    	{
    		for(j=i+1;j<=n;j++)
    		{
    			for(k=0;k<sz;k++)
    			{
    				rem=cubes[k]-arr[i]-arr[j];
    				if(rem<0||rem>2000)
    				continue;
    				ctr+=occur[n][rem]-occur[j][rem];
    			}
    		}
    	}
    	cout<<fixed;
    	cout<<setprecision(9)<<double(ctr)/double(tot)<<"\n";
    }
    return 0;
}
