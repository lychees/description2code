#include <iostream>
#include<vector>
#include<cstdlib>
using namespace std;

int main()
{
    int n,k,d,i,clr_length=0,sum=0,count=0,length=0,add=0;
    cin>>n>>k>>d;
    //cout<<n<<" "<<k<<" "<<d<<"\n";
    int x[n+1],j;
    for(i=0;i<k;i++)
    {
    	cin>>x[i];
    	//cout<<x[i]<<"'";
    	sum+=x[i];
    	if(x[i]!=0)
    	{
    		length=1;
    	}
    	else if(x[i]==0)
    	{
    		length++;
    	}
    }
    if(sum<d)
    {
    	if(sum==0) {cout<<"-1\n"; exit(0);}
    	count++;
    	clr_length=k-length;
    	add=length;
    }
    for(i=k;i<n;i++)
    {   
    	cin>>x[i];
    	//cout<<x[i]<<"'";
    	sum=sum-x[i-k]+x[i];
    	if(sum==0) {cout<<"-1\n"; exit(0);}
    	if(sum<d)
    	{
    		if(clr_length)
    		{   
    			
    		    clr_length--;
    			if(x[i]!=0&& length<k) 
    			{   
    				clr_length+=add;
    				add=0;
    			}
    			if(length<k)
    			 {  length++;
    			    add++;}
    		}
    		else if(clr_length==0)
    		{  
    			if(x[i]!=0)
    			{
	    			length=1;
	    			clr_length=k-length;
	    			add=1;
	    			count++;
	             }
	            else
	            {
	            	for(j=i-k+1;j<i+1;j++) //now you have the length of zeroes and pos of                         last x[i]!=0
	            	{
	            	    if(x[j]!=0)
				    	{
				    		length=1;
				    	}
				    	else if(x[j]==0)
				    	{
				    		length++;
				    	}
	               }
	               count++;
    	           clr_length=k-length;	
    	           add=length;
	            }
    		}
    	}
    	else
    	{
    		if(clr_length)
    		{   
    		    clr_length--;
    			if(x[i]!=0&& length<k) 
    			{
    				clr_length+=add;
    				add=0;
    			}
    			if(length<k)
    			   {length++;
    			   add++;}
    		}
    	}
    }
    cout<<count<<"\n";
    return 0;
}
