#include <bits/stdc++.h>
using namespace std;
#define mod 1000000007
long int dp[1001][1001];
long int arr[1001][1001];
int main(){
	long int n,i,j,index_i,index_j,sum,temp;
	cin>>n;
	vector<vector<pair<long int,long int> > > vec(101);
	for(i=0;i<n;i++){
		for(j=0;j<n;j++){
			cin>>arr[i][j];	
			vec[arr[i][j]].push_back(make_pair(i,j));
		}
	}
	//int len=sizeof(vec);
	vector<pair<long int,long int> >::iterator it;
	for(i=100;i>=1;i--){
		for(it=vec[i].begin();it!=vec[i].end();it++){
			index_i=it->first;
			index_j=it->second;
			//cout<<index_i<<" "<<index_j<<"\n\n";
			temp=0;
			if(index_j-1>=0){
				if(arr[index_i][index_j]<arr[index_i][index_j-1]){
					temp=(temp+((dp[index_i][index_j-1])%mod+1)%mod)%mod;
				}
			}
			if(index_i-1>=0){
				if(arr[index_i][index_j]<arr[index_i-1][index_j]){
					temp=(temp+((dp[index_i-1][index_j])%mod+1)%mod)%mod;
				}
			}
			if(index_j+1>=0){
				if(arr[index_i][index_j]<arr[index_i][index_j+1]){
					temp=(temp+((dp[index_i][index_j+1])%mod+1)%mod)%mod;
				}
			}
			if(index_j+1>=0){
				if(arr[index_i][index_j]<arr[index_i+1][index_j]){
					temp=(temp+((dp[index_i+1][index_j])%mod+1)%mod)%mod;
				}
			}
			dp[index_i][index_j]=dp[index_i][index_j]+temp;
			/*for(int l=0;l<n;l++){
				for(int m=0;m<n;m++){
					cout<<dp[l][m]<<" ";
				}
				cout<<"\n";
			}
			cout<<"\n";*/
		}
	}
	sum=0;
	for(i=0;i<n;i++){
		for(j=0;j<n;j++){
			sum=(sum+(dp[i][j]%mod))%mod;
		}
	}
	cout<<(sum%mod+((n%mod)*(n%mod)%mod))%mod;
}