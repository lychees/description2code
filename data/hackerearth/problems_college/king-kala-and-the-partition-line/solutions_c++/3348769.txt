#include <bits/stdc++.h>
using namespace std;

int main()
{
   long long int i,j,k,t,n,a,b,c,count1,count2;
   
   cin >> t;
   
   while(t--)
   {
   		cin >> n;
   		count1 =0;
   		count2 =0;
   		cin >> a >> b >> c;
   		
   		int x[n];
   		int y[n];
   		
   		for(i=0;i<n;i++)
   			cin >> x[i] >> y[i];
   			
   			
   		for(i=0;i<n;i++)
   		{
   			if(a*x[i] + b*y[i]+c > 0)
   				count1 ++;
   			
   			else if(a*x[i] + b*y[i]+c < 0)
   				count2 ++;
   		}
   		
   		cout << max(count1,count2) << endl;
   }
}
