a, b = map(int, raw_input().split())
arr = raw_input()
res = 0
for i in range(len(arr)):
    if arr[i] == '1':
        res = (res % b + a % b) % b
    a = (a*a) % b
print res
