A = [0]*100005


def fun():
    for i in xrange(1, 100005):
        q = bin(i)
        l1 = [n for n in xrange(len(q)) if q.find('101', n) == n]
        A[i] += len(l1)


fun()
for i in range(input()):
    r, k = map(int, raw_input().split())
    ct = 0
    for j in xrange(1, r+1):
        if A[j] >= k:
            ct += 1
    print ct
