#include<bits/stdc++.h>
using namespace std;
int d[1001],inf=1e8;
vector<int>g[1002];
int main()
{
    int n,m;
    scanf("%d%d",&n,&m);
    for(int i=0;i<=n;i++)d[i]=inf;
    d[1]=0;
    while(m--)
    {
        int t,x;
        scanf("%d",&t);
        if(t==1)
        {
            scanf("%d",&x);
            int ans=d[x];
            if(ans>=inf)ans=-1;
            cout<<ans<<"\n";
        }
        else
        {
            int y;
            scanf("%d%d",&x,&y);
            g[x].push_back(y);
            if(d[y]>d[x]+1)
            {
                d[y]=d[x]+1;
                queue<int>q;
                q.push(y);
                while(!q.empty())
                {
                    int p=q.front();
                    q.pop();
                    for(auto v:g[p])
                        if(d[v]>d[p]+1)
                        {
                            d[v]=d[p]+1;
                            q.push(v);
                        }
                }
            }
        }
    }
}
