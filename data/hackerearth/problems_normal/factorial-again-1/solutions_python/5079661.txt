from sys import stdin
import math
t = int(stdin.readline())
fa = [1]
for i in xrange(1,100):
	fa.append(i*fa[i-1])
for _ in xrange(t):
	n,p = map(int,stdin.readline().split())
	if p==2:
		num = fa[3*n]
		den = pow(6,n,p)
		print (num*den)%2
	else:
		den = pow(6,n,p)
		den = pow(den,p-2,p)
		num = 0
		if 3*n <p:
			num = 1
			for i in xrange(3*n+1,p):
				num = (num * i)%p
			num = pow(num, p-2,p)
		print (num * (p-1) * den)%p
		