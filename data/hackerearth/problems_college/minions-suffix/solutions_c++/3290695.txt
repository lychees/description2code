#include <bits/stdc++.h>
 using namespace std;
 int arr[200005];
 
int main()
{
	string s;
	int n,m,x, l = 0, r = 0;
	cin >> s;
	n = (int)s.size();
	reverse(s.begin(),s.end());
	arr[0] = 0;
	for ( int i = 1; i < n; i++ ) {
		if (i <= r ) arr[i] = min (r - i + 1, arr[i - l]);
	    while (i + arr[i] < n && s[arr[i]] == s[i + arr[i]] ) ++arr[i];
	    if (i + arr[i] - 1 > r) l = i, r = i + arr[i] - 1;
	}
	arr[0] = n;
	cin >> m;
	while ( m-- ) {
		cin >> x;
		x--;
		cout << arr[n-x-1] << endl;
	}
	
	return 0;
}