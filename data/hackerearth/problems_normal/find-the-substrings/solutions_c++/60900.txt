#include <iostream>
#include<stdio.h>
#include<cstring>
using namespace std;
#define ll long long
char s[1000010];
int main()
{
	int t;
	cin>>t;
	char x;
	scanf("%c",&x);
	while(t--)
	{
		scanf("%s",s);
		ll l=-1;
		ll len=strlen(&s[0]);
		ll ans=0;
		for(int i=0;s[i]!='\0';i++)
		{
			if(s[i]=='a')
			{
				ans+=(((i-l-1)*(i-l))/2);
				l=i;
			}
		}
		ans+=(((len-l-1)*(len-l))/2);
		l=-1;
		for(int i=0;s[i]!='\0';i++)
		{
			if(s[i]=='b')
			{
				ans+=(((i-l-1)*(i-l))/2);
				l=i;
			}
		}
		ans+=(((len-l-1)*(len-l))/2);
		l=-1;
		for(int i=0;s[i]!='\0';i++)
		{
			if(s[i]=='c')
			{
				ans+=(((i-l-1)*(i-l))/2);
				l=i;
			}
		}
		ans+=(((len-l-1)*(len-l))/2);
		l=-1;
		for(int i=0;s[i]!='\0';i++)
		{
			if(s[i]=='a' || s[i]=='b')
			{
				ans-=(((i-l-1)*(i-l))/2);
				l=i;
			}
		}
		ans-=(((len-l-1)*(len-l))/2);
		l=-1;
		for(int i=0;s[i]!='\0';i++)
		{
			if(s[i]=='b' || s[i]=='c')
			{
				ans-=(((i-l-1)*(i-l))/2);
				l=i;
			}
		}
		ans-=(((len-l-1)*(len-l))/2);
		l=-1;
		for(int i=0;s[i]!='\0';i++)
		{
			if(s[i]=='c' || s[i]=='a')
			{
				ans-=(((i-l-1)*(i-l))/2);
				l=i;
			}
		}
		ans-=(((len-l-1)*(len-l))/2);
		cout<<(ans)<<endl;
	}
}
