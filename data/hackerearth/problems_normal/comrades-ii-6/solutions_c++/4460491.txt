#include <bits/stdc++.h>
typedef long long int ll;
using namespace std;
map <ll,ll> m;

ll dfs(ll root,vector<ll>v[])
{
	ll sum=0,i,c;stack <ll> s;
	m[root]=0;
	s.push(root);
	while(!s.empty())
	{
		c = s.top();s.pop();
		sum=sum+m[c];
		for(i=0;i<v[c].size();i++)
		{
			s.push(v[c][i]);m[v[c][i]]=m[c]+1;
		}
	}
	return sum;
}

int main()
{
    //cout << "Hello World!" << endl;
    int t; cin>>t;
    while(t--)
    {
    	ll n,x,i,hand,fist,root;
    	cin>>n;
    	vector <ll> v[n+1];
    	for(i=1;i<=n;i++)
    	{
    		cin>>x;m[i]=0;
    		if(x==0) root = i;
    		else v[x].push_back(i);
    	}
    	hand=dfs(root,v);
        fist=n*(n-1)/2;
        fist=fist-hand;
        cout<<hand<<" "<<fist<<endl;
    }
    return 0;
}
