#include<iostream>
#include<cstdio>
using namespace std;

int main()
{
          int n,i,j,tick,a[102][102],ch;
          char res[3],track[102][102];
          scanf("%d",&n);
          for(i=0;i<=n+1;++i)
          {
                    a[i][0]='0';
                    a[i][n+1]='0';
                    a[0][i]='0';
                    a[n+1][i]='0';
          }
          for(i=1;i<=n;++i)
                for(j=1;j<=n;++j)
                    scanf("%d",&a[i][j]);
          for(i=0;i<=n+1;++i)
                 for(j=0;j<=n+1;++j)
                          track[i][j]='n';            
          ch=1;
          for(i=1;i<=n;++i)        
                if(a[1][i]==ch)
                         track[1][i]='y';
         for(i=2;i<=n;++i)
         {
                for(j=1;j<=n;++j)
                {
                            if(a[i][j]==ch)
                            {
                                          if(track[i-1][j-1]=='y'||
                                             track[i-1][j]=='y'  ||
                                             track[i-1][j+1]=='y')
                                             track[i][j]='y';
                            }     
                }
         }
         res[1]='n';
         for(i=1;i<=n;++i) if(track[n][i]=='y') {res[1]='y';break;}
         ch=2;
          for(i=0;i<=n+1;++i)
                 for(j=0;j<=n+1;++j)
                          track[i][j]='n';            
         for(i=1;i<=n;++i)        
                if(a[i][1]==ch)
                         track[i][1]='y';
         for(i=2;i<=n;++i)
         {
                for(j=1;j<=n;++j)
                {
                            if(a[j][i]==ch)
                            {
                                          if(track[j-1][i-1]=='y'||
                                             track[j][i-1]=='y'  ||
                                             track[j+1][i-1]=='y')
                                             track[j][i]='y';
                            }     
                }
         }
         res[2]='n';
         for(i=1;i<=n;++i) if(track[i][n]=='y') {res[2]='y';break;}
         if(res[1]=='y'&&res[2]=='y') printf("AMBIGUOUS\n");
         else if(res[1]=='y')         printf("1\n");
         else if(res[2]=='y')         printf("2\n");
         else                         printf("0\n");
}
