#include <bits/stdc++.h>
using namespace std;
// Macros
#define mp make_pair
#define pb push_back
#define Pii pair<int,int>
#define ll long long
#define setA(a,value) memset(a,value,sizeof(a))
#define For(i,st,ed) for(i=st;i<=ed;i++)
#define ForR(i,st,ed) for(i=st;i>=ed;i--)
#define Max 1000006
#define mod 1000000007
vector<int> adlist[100005];
int test=1,visited[100005]={0},st[100005],ed[100005];
ll cnt=0,n;
void dfs(int src){
  cnt++;int i;
  st[src]=cnt;
  visited[src]=1;
  For(i,0,adlist[src].size()-1)
    if(!visited[adlist[src][i]])
    dfs(adlist[src][i]);
  cnt++;
  ed[src]=cnt;
}
int main()
{
    ios_base::sync_with_stdio(false);cin.tie(0);
    // redirect std ip/op to files
    //freopen("output.txt","w",stdout);
    //freopen("in.txt","r",stdin);
    int i,a,b,q,dir,x,y;
    //cin>>test;
    while(test--){
        cin>>n;
        For(i,2,n){
            cin>>a>>b;
            adlist[a].pb(b);
            adlist[b].pb(a);

        }
        dfs(1);
        cin>>q;
        while(q--){
            cin>>dir>>x>>y;
            if(st[x]<st[y] && ed[x]>ed[y]){//x is parent
                if(dir)
                    cout<<"NO\n";
                else
                    cout<<"YES\n";
            }
            else
            if(st[x]>st[y] && ed[x]<ed[y]){//y is parent
                if(dir)
                    cout<<"YES\n";
                else
                    cout<<"NO\n";
            }
            else
                cout<<"NO\n";

        }
        cout<<endl;
    }

//
    return 0;
}
