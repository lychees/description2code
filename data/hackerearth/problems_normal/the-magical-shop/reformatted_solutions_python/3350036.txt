arr = map(int, raw_input().split())
n = arr[0]
k = arr[1]
days = raw_input()
result = 0
potions = list()
potions.append(n)
for i in range(1, len(days)):
    potions.append((potions[i-1] % k * potions[i-1] % k) % k)

for i in range(0, len(days)):
    if (days[i] == '1'):
        result += potions[i]

print result % k
