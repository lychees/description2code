#include <iostream>
#include <math.h>
using namespace std;
int b[100000];
int main()
{
    //cout << "Hello World!" << endl;
    double count=0;
    int t,n;
    cin>>t;
    for(int i=1;i<=25;i++)
    {
    	int temp=i*i*i;
    	b[temp]=1;
    }
    while(t--)
    {
    	cin>>n;
    	int a[n];
    	count=0;
    	double total=1;
    	for(int i=0;i<n;i++)
    	{
    		cin>>a[i];
 		
 			if((i+1)>n-3)
 				total*=(i+1);
 			
 			
    	}
    	total=total/6;
    	for(int i=0;i<n-2;i++)
    	{
    		int sum=a[i];
    		for(int j=i+1;j<n-1;j++)
    		{
    			sum=a[i]+a[j];
    			for(int k=j+1;k<n;k++)
	    		{
	    			sum=a[i]+a[j]+a[k];
	    			if(b[sum]==1)
	    			count++;
	    		//	cout<<sum<<endl;
	    		}
    		}
    	}
    //	cout<<<<endl;
    	printf("%.9f\n",count/total);
    }
    return 0;
}
