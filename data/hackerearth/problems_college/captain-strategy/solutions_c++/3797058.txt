#include <iostream>
using namespace std;
struct t
{
	int s;
	int l;
}h[10000];
unsigned int n,m,i,q,e,a[10000];
unsigned int energy(unsigned int x)
{
	unsigned int sum=0,u=0;
	if(x==1)
	{
		int k=0;
		while(k<n)
		{
			sum+=a[k];
			k++;
		}
	}
	else
	{
		sum+=a[x-1];
		while(u<n-1)
		{
			if(h[u].s==x)
				sum+=energy(h[u].l);
			u++;
		}
	}
	return sum;
}
int main()
{
    char c;
    i=0;
   	cin>>n;
    cin>>m;
    while(i<n)
    {
    	cin>>a[i];
    	i++;
    }
    i=0;
    while(i<n-1)
    {
    	cin>>h[i].s;
    	cin>>h[i].l;
    	i++;
    }
    i=0;
    while(i<m)
    {
    	cin>>c;
    	if(c=='Q')
    	{
    		cin>>q;
    		cout<<energy(q)<<endl;
    	}
    	else if(c=='U')
    	{
    		cin>>q;
    		cin>>e;
    		a[q-1]=e;
    	}
    	i++;
    }
    return 0;
}
