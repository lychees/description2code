#include<iostream>
#include<cmath>
#include<vector>
#include<queue>
#include<algorithm>
#include<list>
#include<stack>
using namespace std;
#define m 1000000007
#define MAX 10000000
typedef long long int ull;
ull* x=new ull[MAX];

ull func(ull n)
{
	if (n==0) return 0;
	if (n==1) return 1;
	if (n==2) return 2;
	if (n==3) return 4;
	if (n< MAX && x[n]!=-1) return x[n];
	ull y=floor(log2(n));
	ull z=func(pow(2,y)-1)+func(n-pow(2,y))+(n-pow(2,y)+1);
	if (n<MAX) x[n]=z;
	return z;
}

int main()
{
	int t,i;
	ull a,b,ans;	
	cin>>t;
	x[0]=0;x[1]=1;x[2]=2;x[3]=4;
	for (i=0;i<MAX;i++) x[i]=-1;
	while(t--)
	{
		cin>>a>>b;
		ans=func(b)-func(a-1);
		cout<<ans<<endl;
	}
}