#include <bits/stdc++.h>

#define ll long long
#define pb push_back
#define mp make_pair
#define ld double

using namespace std;

const int nm = 1010;
const ll mod = 1000000007;
const int x[] = {-1, 0, 0, 1};
const int y[] = {0, -1, 1, 0};

int n, a[nm][nm];
ll f[nm][nm];

bool hople(int i, int j) {
	return i > 0 && i <= n && j > 0 && j <= n;
}

ll dp(int i, int j) {
	ll &res = f[i][j];
	if (res != -1)
		return res;
	res = 1;
	for (int k = 0; k < 4; ++k) {
		if (hople(i + x[k], j + y[k]) && a[i + x[k]][j + y[k]] < a[i][j])
			res = (res + dp(i + x[k], j + y[k])) % mod;
	}
	return res;
}

int main() {
#ifdef LOCAL
	freopen("input.txt", "r", stdin);
#endif
	scanf("%d", &n);
	for (int i = 1; i <= n; ++i)
		for (int j = 1; j <= n; ++j)
			scanf("%d", &a[i][j]);
	memset(f, -1, sizeof(f));
	ll res = 0;
	for (int i = 1; i <= n; ++i)
		for (int j = 1; j <= n; ++j)
			res = (res + dp(i, j)) % mod;
	printf("%lld\n", res);
#ifdef LOCAL
	printf("%.3lf s\n", (double) clock() / (double) CLOCKS_PER_SEC);
#endif
}
