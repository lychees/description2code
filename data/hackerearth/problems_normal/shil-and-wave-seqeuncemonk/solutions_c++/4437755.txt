#include<cstdio>

using namespace std;

#define mod 1000000007

long fwtree1[100001]; // -
long fwtree2[100001]; // +

void update(int a, int pn, int val){
    for(int i=a;i<=100000;i+=(i&-i)){
        if(pn) fwtree1[i] += val;
        else fwtree2[i] += val;
    }
}

int query(int a, int pn){
    long sum = 0;
    for(int i=a;i>0;i-=(i&-i)){
        if(pn) sum += fwtree1[i];
        else sum += fwtree2[i];
        sum %= mod;
    }
    return sum;
}

int main(){
    int n;
    scanf("%d", &n);
    long ans = 0;
    for(int i=0;i<n;i++){
        // +
        int val;
        scanf("%d", &val);
        long sum1 = query(val-1, 1);
        sum1 += mod;
        sum1 %= mod;
        ans += sum1;
        ans %= mod;
        update(val, 0, sum1+1);

        // -
        long sum2 = query(100000, 0) - query(val, 0);
        sum2 += mod;
        sum2 %= mod;
        ans += sum2;
        ans %= mod;
        update(val, 1, sum2+1);
    }
    printf("%ld\n", ans);
}
