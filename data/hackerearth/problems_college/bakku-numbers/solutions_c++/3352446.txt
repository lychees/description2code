#include<bits/stdc++.h>
#define ll long long 
using namespace std;
int main()
{
//	freopen("in.txt","r",stdin);
     ll t,n;
      ll p1,p2;
      cin>>p1>>p2;
	 cin>>t;ll l,r,res,a,b,c,lcm;
     while(t--)
     {
        cin>>l>>r;
        a=r/p1 -(l-1)/p1;
        b=r/p2-(l-1)/p2;
        lcm=(p1*1LL*p2);
        c=r/lcm-(l-1)/lcm;
        res=a+b-c;
//       cout<<a<<" "<<b<<" "<<c<<"\n";
  //      cout<<res<<" \n";
        double x=res*1.0/(r-l+1);
        printf("%.6lf\n",x);


     }

   		return 0;
}