#include <iostream>
#include <fstream>
#include <cstdio>
#include <climits>
#include <vector>
#include <map>
#include <list>
#include <deque>
#include <stack>
#include <set>
#include <string>
#include <cstring>
#include <algorithm>
#include <bitset>
#include <cmath>

using namespace std;

#define ll long long
#define vt vector

ll mod(ll a,ll b)
{
	ll r=a%b;
	if(r<0)
		return b+r;
	else
		return r;
}

int main()
{
	int n;
	cin>>n;
	vector<ll> values(n),neg(n);
	ll s=0;
	for(int i=0;i<n;i++)
	{
		cin>>values[i];
		s+=values[i];
	}
	s/=n;
	ll ans=0;
	for(int i=0;i<n;i++)
		neg[i]=values[i]-s;
	vector<ll> med(n);
	ll p=0;
	for(int i=0;i<n;i++)
		med[i]=p,p+=neg[i];
	sort(med.begin(),med.end());
	ll medi=0;
	if(n%2==0)
		medi=((med[n/2-1]+med[n/2])/2);
	else
		medi=(med[n/2]);
	if(medi<0)
	{
		for(int i=0;i<n;i++)
		{
			ans+=abs(med[i]-medi);
		}
	}
	else
	{
		for(int i=0;i<n;i++)
		{
			ans+=abs(med[i]-medi);
		}
	}
	cout << ans << endl;
	return 0;
}