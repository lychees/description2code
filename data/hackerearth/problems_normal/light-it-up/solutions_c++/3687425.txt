#include<bits/stdc++.h>

using namespace std;

int l[1005],r[1005],h[1005],dp1[1005],dp2[1005],dp3[1005],dp4[1005];

int find_area(int x1,int y1,int x2,int y2,int x3,int y3)
{
	return (x2-x1)*(y3-y1)-(x3-x1)*(y2-y1);
}

int main()
{
	int t,n;
	
	cin >> t;
	
	while(t--)
	{
		int ans=2;
		
		cin >> n;
		
		for(int i=0;i<n;i++)
		{
			dp1[i]=0;
			dp2[i]=0;
			dp3[i]=0;
			dp4[i]=0;
		}
		
		for(int i=0;i<n;i++)
			cin >> l[i] >> r[i] >> h[i];
		
		for(int i=0;i<n;i++)
			for(int j=i+1;j<n;j++)
				if(l[i]>l[j])
				{
					swap(l[i], l[j]);
					swap(r[i], r[j]);
					swap(h[i], h[j]);
				}
		
		for(int i=1;i<n;i++)
		{
			int pos=i-1;
			
			for(int j=i-2;j>=0;j--)
				if (find_area(r[j],h[j],r[pos],h[pos],l[i],0) >= 0)
					pos=j;
			
			if (pos!=i-1)
			{
				dp3[i]=1;
				dp2[pos]=1;
			}
		}
		
		for(int i=0;i<n-1;i++)
		{
			int pos=i+1;
			
			for(int j=i+2;j<n;j++)
				if (find_area(l[j],h[j],l[pos],h[pos],r[i],0) <= 0)
					pos=j;
			
			if (pos!=i+1)
			{
				dp4[i]=1;
				dp1[pos]=1;
			}
		}
		
		for(int i=0;i<n-1;i++)
		{
			if (dp4[i] && dp3[i+1])
				continue;
				
			if (!dp2[i] && !dp1[i+1])
				dp2[i]=1;
		}
		
		for(int i=0;i<n;i++)
			ans+=dp1[i]+dp2[i];
		
		cout << ans << endl;
	}
	return 0;
}