#include <iostream>
using namespace std;

using ull = unsigned long long;

int sums[6001];
int fails[6001];
int cubes[6001];
int nums[500];

int main() {
	ios_base::sync_with_stdio(0);
    cin.tie(0);
    
    int T;
    cin >> T;
    while (T--) {
    	int n;
    	cin >> n;
    	for (int i = 0; i < n; ++i)
    		cin >> nums[i];
    		
    	for (int i = 0; i < 6001; ++i)
    		sums[i] = 0;
    		
    	for (int i = 0; i < 6001; ++i)
    		cubes[i] = 0;
    	
    	for (int i = 0; i < 6001; ++i)
    		fails[i] = 0;
    		
    	for (int i = 0; i < n - 1; ++i)
    		for (int j = i + 1; j < n; ++j) {
    			int a = nums[i];
    			int b = nums[j];
    			++sums[a + b];
    			++fails[a + 2 * b];
    			++fails[2 * a + b];
    		}
    	
    	for (int j = 0; j < n; ++j)	
    		for (int i = 18; i * i * i >= nums[j]; --i) 
    			++cubes[i * i * i - nums[j]];
    	
    	ull fail = 0;
    	for (int i = 0; i <= 18; ++i) 
    		fail += fails[i * i * i];
    		
    	ull res = 0;
    	for (int i = 0; i <= 6000; ++i) {
    		res += (ull)sums[i] * cubes[i];
    	}
    	
    	res = (res - fail) * 2;
    	
    	double ans = (double)res / (n * (n - 1) * (n - 2));
    	cout.setf(ios::fixed);
    	cout.precision(9);
    	cout << ans << '\n';
    }
    return 0;
}
