#include <iostream>
#include <map>
using namespace std;
long a[100007]={0};
string binary_number(long n)
{
	string y="";
	while(n>0)
	{
		y+=to_string(n%2);
		n/=2;
	}
	return y;
}
int main()
{
	long t,sum,i,p=0;
	string l = "101",x;
	cin>>t;
	while(t--)
	{
		long n,k;
		cin>>n>>k;
		while(p<=n)
		{
			x = binary_number(p);
			sum = 0;
			for(i=0;i<long(x.length()-2);i++)
			{
				string m = "";
				int j = i;
				while(j<i+3)
				{
					m+=x[j];
					j++;
				}
				if(m==l)
				{
					sum++;
				}
			}
			a[p]=sum;
			p++;
		}
		i = 1;
		sum = 0;
		while(i<=n)
		{
			if(a[i]>=k)
				sum++;
			i++;
		}
		cout<<sum<<endl;
	}
	return 0;
}