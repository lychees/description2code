A, B = raw_input().split()
A = int(A)
B = int(B)
data = raw_input()
ans = 0
value = 0
for i in data:
    d = int(i)
    if d == 1:
        value += A
        value %= B
    A *= A
    A %= B
print value
