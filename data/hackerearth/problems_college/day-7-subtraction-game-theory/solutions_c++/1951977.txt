#include<iostream>
#include<cstdio>
#include<string>
#define ull long long int 
using namespace std;
#define max 1000001
#define mod 1000000007 
ull conc[max];
void pre(int x,int y)
{
	conc[0]=1;
	for(int i=1;i<max;i++)
    {
    		conc[i]=(conc[i-1]*x)%mod-y;
    }
}
int main()
{
    int x,y;
    int Q,N;
    scanf("%d",&x);
    scanf("%d",&y);
    scanf("%d",&Q);
    pre(x,y);
    for(int j=0;j<Q;j++)
    {
    	scanf("%d",&N);
    	printf("%d\n",conc[N]%mod);
    }
}