#include <bits/stdc++.h>
using namespace std;
 
int main()
{
   int M,N,i,j,k,l;
   cin>>M>>N;
   int arr[M][N];
   for(i=0;i<M;i++)
    for(j=0;j<N;j++)
    cin>>arr[i][j];
   int max=1,count=1;
	for( i=0; i< M; i++)
		for( j=0; j<N; j++)
	{

			for( k=i; k<M-1; k++)
			{

				if(arr[k][j]==arr[k+1][j])count++;
				else break;
			}
			for( l=j; l<N-1; l++)
			{

				if(arr[k][l]==arr[k][l+1])count++;
				else break;
			}
			if(count>max)max=count;
			count=1;
	}
	cout<<max;
	return 0;
    }