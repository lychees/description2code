#include<iostream>
#include<cstdio>
#include<cstdlib>
#include<vector>

#include<math.h>
using namespace std;
typedef unsigned long long int des;
int main()
{	des p,q;
	scanf("%llu%llu",&p,&q);
	int t;
	scanf("%d",&t);
	while(t--)
	{	des a,b;
		scanf("%llu%llu",&a,&b);
			des x=0;
			x=(b/p-(a-1)/p);
			x+=(b/q-(a-1)/q);
			x-=(b/(p*q)-(a-1)/(p*q));
			//cout<<x;
			float ans=(float)x/(b-a+1);
			printf("%f\n",ans);
	}
	return 0;
}