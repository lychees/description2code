#include<iostream>
#include<cstdio>
using namespace std;
int X[8]={1,1,0,-1,-1,-1,0,1};
int Y[8]={0,1,1,1,0,-1,-1,-1};
int A[101][101],R;
int ONE(int x,int y,int c)
{
if(A[x][y]!=c)
return 0;
A[x][y]=0;
if((x==R-1&& c==1)||(y==R-1&&c==2))
return 1;
int res=0;
for(int i=0;i<8;i++){
int tx=x+X[i],ty=y+Y[i];
if(tx>=0 && ty>=0 && tx<R && ty<R)
res+=ONE(tx,ty,c);
}
return res;
}
int main()
{
scanf("%d",&R);
for(int i=0;i<R;i++)
for(int j=0;j<R;j++)
scanf("%d",A[i]+j);
int R1=0,R2=0;
for(int i=0;i<R;i++)
{
if(A[0][i]==1)
R1=ONE(0,i,1);
if(R1!=0)
break;
}
for(int i=0;i<R;i++)
{
if(A[i][0]==2)
R2=ONE(i,0,2);
if(R2!=0)
break;
}
if(R1 && R2)
printf("AMBIGUOUS\n");
else if(R1)
printf("1\n");
else if(R2)
printf("2\n");
else 
printf("0\n");
return 0;
}