#include <bits/stdc++.h>
using namespace std;
int i,j,n,t,k,h,a[501],l,f,kaps[6002],s;
double  q,m,r;
int main(){
 cin>>t;
 
 
 for(i=1;i*i*i<=6001;i++)
kaps[i*i*i]=1;
 
 while(t--){
     cin>>n;
     
     for(i=0;i<n;i++)
     cin>>a[i];
   
     m=0;
   
       for(j=0;j<n-2;j++)
       for(l=j+1;l<n-1;l++)
       for(k=l+1;k<n;k++)
    if(kaps[a[j]+a[l]+a[k]])
    m++;

       
       r=(n*(n-1)*(n-2))/6;
    
       q=m/r;
       printf("%0.9f\n",q);
 }
}
 
 