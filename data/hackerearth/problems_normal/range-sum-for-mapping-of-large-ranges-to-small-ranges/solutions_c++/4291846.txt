#include <bits/stdc++.h>
#define ll long long int
#define mod (ll)(1e9+7)
#define pb push_back
using namespace std;

ll power(ll x,ll y) {
	if (y == 0) {
		return 1;
	}
	ll t = power(x,y/2);
	if (y & 1) {
		return (((t*t) % mod) * x) % mod;
	} else {
		return (t*t) % mod;
	}
}

ll fermat(ll x) {
	return power(x,mod - 2);
}

ll sum(ll x) {
	if (x == 1) {
		return 1;
	}
	ll ret = ((x * (x-1)) % mod * fermat(2))%mod; 
	return ret;
}

ll dfs(int x,bool vis[], vector<int> v[]) {
	int ret = 1;
	vis[x] = true;
	for (int i = 0; i < v[x].size(); i++) {
		if (!vis[v[x][i]]) {
			ret += dfs(v[x][i],vis,v);
		}
	}

	return ret;
}

int main()
{
	int t,n,k;
	cin >> t;

	while (t--) {
		cin >> n >> k;
		vector<int> v[n+1];
		while (k--) {
			int x,y;
			cin >> x >> y;
			v[x].pb(y);
			v[y].pb(x);
		}
		bool vis[n+1];
		memset(vis,false,sizeof(vis));
		ll ans  = 1;
		for (int i = 1; i <= n; i++) {
			if (vis[i]) {
				continue;
			}
			int cnt = dfs(i,vis,v);
			ans = ans * sum(cnt);
			ans %= mod;
		}

		cout << ans << endl;
	}

	return 0;
}
