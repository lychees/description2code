#include <bits/stdc++.h>
using namespace std;
 
int main() {
	int n, k, d;
	cin>>n>>k>>d;
	int a[n +  2];
	for(int i = 1; i <= n; i++) cin>>a[i];
	int cnt = 0;
	for(int i = 1; i <= n; i++) {
		if(!a[i]) cnt++;
		else cnt = 0;
		if(cnt == k) {
			cout<<"-1\n";
			return 0;
		}
	}
	int ans = 0;
	int last = 1;
	long long sum[n+1];
	sum[0] = 0;
	int vis[n+1];
	memset(vis, 0, sizeof(vis));
	for(int i = 1; i <= n;) {
		sum[i] =  sum[i - 1] + a[i];
		if(a[i]) last = i;
 		if(i >= k) {
 			//cout<<"c\n";
			int new_sum = sum[i] - sum[i - k];
			if(new_sum < d) {
				for(int j = last ; j < (last + k) & j <= n ; j++) {
				
					a[j] = (a[j] == 0) ? 0 : d + 1;
				}
				
				i = last;
				//vis[i] = 1;
				ans++;
			} else i++;
		} else i++;
	}
	//for(int i = 1; i <= n; i++) cout<<a[i] <<" ";
	
	cout<<ans<<"\n";
	return 0;
}