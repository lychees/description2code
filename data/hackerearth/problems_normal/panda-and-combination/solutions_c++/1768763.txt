#include<iostream>
#include<cstdio>
#include<cmath>

using namespace std;

int main()
{
    int t;
    cin>>t;
    while(t--)
    {
        long long n,m;
        scanf("%lld %lld",&n,&m);
        if(n<m)
        {
            cout<<n<<endl;
        }
        else if(m==1)
        {
            cout<<n<<endl;
        }
        else
        {
            long long ans=0;
            while(n!=0)
            {
                long long w=(long long)((log(n))/log(m));
                if(w>=1){
                ans++;
                n-=pow(m,w);}
                else
                {
                    ans+=n;
                    break;
                }
            }
            cout<<ans<<endl;
        }
    }
}
