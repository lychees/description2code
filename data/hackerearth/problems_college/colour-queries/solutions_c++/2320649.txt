#include <bits/stdc++.h>
using namespace std;
int vis[105][105];
int a[105][105];
int n,m;
void call(int x,int y,int d)
{
	vis[x][y]=1;
	if(x-1>=0 && vis[x-1][y]==0 && abs(a[x][y]-a[x-1][y])<=d)
	{
		call(x-1,y,d);
	}
	if(y-1>=0 && vis[x][y-1]==0 && abs(a[x][y]-a[x][y-1])<=d)
	{
		call(x,y-1,d);
	}
	if(x+1<n && vis[x+1][y]==0 && abs(a[x][y]-a[x+1][y])<=d)
	{
		call(x+1,y,d);
	}
	if(y+1<m && vis[x][y+1]==0 && abs(a[x][y]-a[x][y+1])<=d)
	{
		call(x,y+1,d);
	}
}


int main()
{
   int q,x;
   cin>>n>>m>>q;
   for(int i=0;i<n;i++)
   {
   	for(int j=0;j<m;j++)
   	{
   	cin>>x;
   	a[i][j]=x;
   	}
   }
   int a,b,d;
   for(int i=0;i<q;i++)
   {
   	memset(vis,0,sizeof(vis));
   	cin>>a>>b>>d;
   	a--;
   	b--;
   	call(a,b,d);
   	int ans=0;
   	for(int i=0;i<n;i++)
   {
   	for(int j=0;j<m;j++)
   	{
   	if(vis[i][j]==1)
   	ans++;
   	}
   }
   	cout<<ans<<"\n";
   }
   return 0;
}
