#include <bits/stdc++.h>
using namespace std;
typedef double dl;
#define eps 1e-9
int n;
dl a[111],b[111],sv[111][3],h;
dl dist(dl x1,dl y1,dl x2,dl y2){
	return sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2));
}
bool ison(int l,int r,dl Y){
	for(int i=l;i<=r;i++){
		if(Y<b[i]-eps||Y>b[i]+h+eps) return false;
	}
	return true;
}
bool ok(dl x1,dl y1,dl x2,dl y2, int l,int r){
	for(int i=l;i<=r;i++){
		dl x=a[i];
		double y=(x-x1)*(y2-y1)/(x2-x1)+y1;
        //~ if(y1>y2)
        //~ {
            //~ y=y2+1.0*abs(y1-y2)*abs(x2-x)/abs(x1-x2);
        //~ }
        //~ else
        //~ {
            //~ y=y1+1.0*abs(y2-y1)*abs(x-x1)/abs(x1-x2);
        //~ }
        if(y<b[i]-eps||y>b[i]+h+eps) return false;
	}
	return true;
}
int main()
{
	cin>>n;
	for(int i=0;i<=n;i++){
		cin>>a[i]>>b[i];
	}
	cin>>h;
	for(int i=0;i<=n;i++) sv[i][0]=sv[i][1]=1e9;
	sv[0][0]=sv[0][1]=0;
	for(int i=1;i<=n;i++){
		if(ison(0,i-1,b[i])){
			sv[i][0]=min(sv[i][0],a[i]-a[0]);
		}
		if(ison(0,i-1,b[i]+h)){
			sv[i][1]=min(sv[i][1],a[i]-a[0]);
		}
	}
	for(int i=0;i<n;i++){
		for(int p=0;p<=1;p++){
			for(int j=i+1;j<=n;j++){
				for(int q=0;q<=1;q++){
					dl x1,x2,y1,y2;
					x1=a[i];
					y1=b[i]+h*p;
					x2=a[j];
					y2=b[j]+h*q;
					if(ok(x1,y1,x2,y2,i+1,j-1)){
						sv[j][q]=min(sv[j][q],sv[i][p]+dist(x1,y1,x2,y2));
					}
				}
			}
		}
	}
	dl Ans=1e9;
	for(int i=0;i<=n;i++){
		if(ison(i+1,n,b[i])){
			Ans=min(Ans,sv[i][0]+a[n]-a[i]);
		}
		if(ison(i+1,n,b[i]+h)){
			Ans=min(Ans,sv[i][1]+a[n]-a[i]);
		}
	}
	cout<<fixed<<setprecision(10)<<Ans<<endl;
	return 0;
}
