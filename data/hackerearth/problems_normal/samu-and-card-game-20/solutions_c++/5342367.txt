#include<iostream>
using namespace std;
int main()
{
    long long int k,t;
    long long int i,n,m,a,b,x,y,c;
    cin>>t;
    while(t--)
    {
        x=1;y=1;c=0;
        cin>>n>>m>>k;
        for(i=0;i<k;i++)
        {
            cin>>a>>b;
            if((a>=0)&&(b>=0))
            {
                while((a+x<=n)&&(b+y<=m))
            {
                x+=a;
                y+=b;
                c++;
            }
            }
            else if((a>=0)&&(b<0))
            {
                while((a+x<=n)&&(y+b>=1))
            {
                x+=a;
                y+=b;
                c++;
            }
            }
            else if((a<0)&&(b>=0))
            {
                while((x+a>=1)&&(b+y<=m))
            {
                x+=a;
                y+=b;
                c++;
            }
            }
            else
            {
                while((x+a>=1)&&(y+b>=1))
            {
                x=x+a;
                y=y+b;
                c++;
            }
            }
        }
        cout<<c<<endl;
    }
}
