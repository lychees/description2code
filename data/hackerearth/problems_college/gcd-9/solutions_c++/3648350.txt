#include <iostream>
#include <algorithm>

using namespace std;

int gcd(int x, int y)
{
	if (y == 0)
		return x;

	return gcd(y, x % y);
}

int main()
{
	int N, K, A[1000001];

	cin >> N >> K;

	for (int i = 0; i < N; i++)
		cin >> A[i];

	int G = A[0];
	int curr = 0;
	int ans = 0;

	for (int i = 1; i < N; i++)
	{
		G = gcd(G, A[i]);

		if (G >= K)
			curr++;
		else
		{
			if (A[i] >= K)
				curr = 1;
			else
				curr = 0;

			G = A[i];
		}
		ans = max(ans, curr);
	}

	cout << ans << endl;

	return 0;
}