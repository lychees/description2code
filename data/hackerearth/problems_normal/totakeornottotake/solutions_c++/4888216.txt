#include <bits/stdc++.h>
using namespace std;

int main()
{
	ios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);
	int t;
	cin >> t;
	while (t--) {
		int b;
		cin >> b;
		long long mn = 1, mx = 1;
		while (b--) {
			char c; int v;
			long long nowmn, nowmx;
			cin >> c;
			if (c == 'N') {
				nowmn = min(mn, -mx);
				nowmx = max(-mn, mx);
			} else {
				cin >> v;
				if (c == '+') {
					nowmn = min(mn + v, mx + v);
					nowmx = max(mn + v, mx + v);
				} else if (c == '-') {
					nowmn = min(mn - v, mx - v);
					nowmx = max(mn - v, mx - v);
				} else if (c == '*') {
					nowmn = min(mn * v, mx * v);
					nowmx = max(mn * v, mx * v);
				} else { // c == '/'
					nowmn = min(mn / v, mx / v);
					nowmx = max(mn / v, mx / v);
				}
			}
			mn = min(mn, nowmn);
			mx = max(mx, nowmx);
		}
		cout << max(mn, mx) << '\n';
	}
    return 0;
}
