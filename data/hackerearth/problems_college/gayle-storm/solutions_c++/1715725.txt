#include <iostream>
#include <bits/stdc++.h>
using namespace std;

#define MAXN 111111
#define MOD 1000000007

int dp[2][MAXN] ;

int main()
{
	int s , t , a , b ;
    cin >> t ;
    cin >> s ;
    for(int i=1;i<=s;i++){
    	dp[0][i] = 1 ;
    	dp[1][i] = 0 ;
    	if(i == s)
    		dp[1][i] = 1 ; 
    }
    for(int i=s+1;i<MAXN;i++){
    	dp[0][i] = dp[0][i-1] + dp[1][i-1] ;
    	if(dp[0][i] >= MOD) 
    		dp[0][i] -= MOD ;
    	dp[1][i] = dp[0][i-s] + dp[1][i-s] ;
    	if(dp[1][i] >= MOD )
    		dp[1][i] -= MOD ;
    }
    
    for(int i=1;i<MAXN;i++){
    	dp[0][i] += dp[0][i-1] ;
    	dp[1][i] += dp[1][i-1] ;
    	if(dp[0][i] >= MOD) 
    		dp[0][i] -= MOD ;
    	if(dp[1][i] >= MOD) 
    		dp[1][i] -= MOD ;
    }
    while(t --){
    	
    	scanf("%d%d",&a,&b) ;
    	int ans = (dp[1][b] - dp[1][a-1] + MOD) % MOD + (dp[0][b] - dp[0][a-1] + MOD) % MOD ;
    	if(ans >= MOD)
    		ans -= MOD ;
    	printf("%d\n",ans) ;
    }
    return 0;
}
