#include<iostream>
using namespace std;
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int a[10001],i;
		for(i=1;i<10001;i++)
		a[i]=0;
		int x,y;
		int n,count=0;
		cin>>n;
		for(i=0;i<n;i++)
		{
			cin>>x>>y;
			if(x==y && a[x]==0)
			{
				a[x]=1;
				count++;
			}
			else if(a[x]==1 && a[y]==0 && x!=y)
			{
				a[y]++;
				count++;
			}
			else if(a[x]==0 && a[y]==1 && x!=y)
			{
				a[x]++;
				count++;
			}
			else if(a[x]==0 && a[y]==0 && x!=y)
			{
				a[x]++;a[y]++;
				count+=2;
			}
		}
		cout<<count<<endl;
	}
}