#include<stdio.h>
#include<iostream>
#include<string>
#include<math.h>
#include<vector>
#include<string.h>
#include<algorithm>
using namespace std;

long long int max(long long int a,long long int b)
 {
     return a>b?a:b;
 }

long long int min(long long int a,long long int b)
 {
     return a>b?b:a;
 }

long long int gcd(long long int a,long long int b)
  {
      if(b==0)
        return a;
      else
       return gcd(b,a%b);
  }
long long int arr[1000000];
int check(long long mid,long long m,long long n)
{
	long long int sum=0,coun=0,i;
  for(i=0;i<n;i++)
    {
    	sum=sum+arr[i];
    	if(sum>=mid)
    	  {
    	  	coun++;
    	  	sum=0;
    	  }
    }
    if(coun>=m)
      return 1;
      else 
      return 0;
}
int main()
{
	long long int test,n,m,i;
	cin>>test;
	while(test--)
     {
     	cin>>n>>m;
     	for(i=0;i<n;i++)
     	  cin>>arr[i];
     	 long long int high=10000000000000000,low=0,mid,ans;
     	 while(high>=low)
     	  {
     	  	mid=(high+low)/2;
     	  	if(check(mid,m,n))
     	  	  {
     	  	  	ans=mid;
     	  	  	low=mid+1;
     	  	  }
     	    else
     	     high=mid-1;
     	  }
     	 cout<<ans<<endl;
     }
    return 0;
}
