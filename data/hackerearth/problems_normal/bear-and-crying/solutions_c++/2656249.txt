#include <iostream>
using namespace std;
typedef long long ll;
ll MOD = 1000000007;


int main() {
	string s; cin >> s;
	int N = s.length();
	ll x = 0, y = 0, ans = 0;
	for (int i = 0; i < N; i++) {
		if (s[i] == ';') {
			x++;
			ans = (ans + y)%MOD;
		}
		if (s[i] == '_')
			y = (x + y * 2)%MOD;
	}
	cout << ans << endl;
}

