#include <iostream>
using namespace std;
struct arrostr{
	string str;}A[50];
void fun(arrostr S[50], long long X,int N,long long size[50])
{if(N==0)
{cout<<S[0].str[X];
return;}
if(X>=2*size[N-1])
{cout<<S[N].str[X-2*size[N-1]];
return;}
if(X<size[N-1])
{return fun(S,X,N-1,size);}
if(X>=size[N-1]&&X<2*size[N-1])
{return fun(S,2*size[N-1]-X-1,N-1,size);}}

int main()
{string ans;
int T,N,M;
cin>>T;
while(T--)
{cin>>N>>M;
for(int i = 0;i<N;i++)
{cin>>A[i].str;}
long long size[50];
size[0] = A[0].str.length();
for(int i = 1;i<N;i++)
{size[i]=2*size[i-1]+A[i].str.length();}
long long X;
for(int k = 0;k<M;k++)
{cin>>X;
fun(A,X,N-1,size);}
cout<<endl;
}
    return 0;
}
