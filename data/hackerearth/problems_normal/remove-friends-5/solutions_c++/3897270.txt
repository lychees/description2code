#include<iostream>
#include<malloc.h>
using namespace std;

struct node
{
int data;
struct node* next;
};
struct node* head=NULL;

void push(int data)
{
struct node* temp=(struct node*)malloc(sizeof(struct node));
temp->data=data;
temp->next=NULL;
if(head==NULL)
{head=temp; return;}
temp->next=head;
head=temp;
}

void pop()
{
    if(head->next!=NULL)
{head=head->next; return;}
head=NULL;
}



void display()
{  int ar[100002];
    struct node* temp=head;
    int i=0;
    while(temp!=NULL)
    {
        ar[i]=temp->data;
        temp=temp->next;
        i++;
    }
    for(int k=i-1 ;k>=0;k--)
    cout<<ar[k]<<" ";
    cout<<endl;

}

main()
{ int t;
cin>>t;

for(int z=0;z<t;z++)
{ head=NULL; int n,k; int g=0;
cin>>n>>k;
int a; int count =0;
for(int i=0;i<n;i++)
{
cin>>a;
if(head==NULL||count==k)
{push(a); continue;}
if(head->data<a&&count!=k)
while(head!=NULL&&head->data<a&&count<k)
    { g=1; count++; pop(); }

push(a);
}
if(g==0)
    pop();
display();

}

}

