#include <iostream>
#include <bits/stdc++.h>
using namespace std;

#define pb push_back
#define mp make_pair
#define sz(_v) (int)(_v).size()

//const int INF = numeric_limits<int> :: max();

const int MAXN = 100010;

int main()
{
    ios_base::sync_with_stdio(false);

    long long t; cin >> t;
    while (t --) {
        long long n,m; 
       	cin >> n >> m;
       	
        if(m == 1ll || m > n) {
            cout << n << '\n';
            continue;
        }
        
        long long ans = 0;
        while (n) {
        	ans += n % m;
        	n /= m;
        }

        cout << ans << '\n';
    }
}
