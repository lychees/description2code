#include <bits/stdc++.h>
 
using namespace std;
 
int z[200005];
 
int main()
{
	string s;
	int n,m,x, l = 0, r = 0;
	
	cin >> s;
	n = (int)s.size();
	
	reverse(s.begin(),s.end());
	
	z[0] = 0;
	
	for ( int i = 1; i < n; i++ ) {
		if (i <= r ) z[i] = min (r - i + 1, z[i - l]);
	    while (i + z[i] < n && s[z[i]] == s[i + z[i]] ) ++z[i];
	    if (i + z[i] - 1 > r) l = i, r = i + z[i] - 1;
	}
	
	z[0] = n;
	
	cin >> m;
	
	while ( m-- ) {
		cin >> x;
		x--;
		cout << z[n-x-1] << endl;
	}
	
	return 0;
}