#include<iostream>
#include<map>
#include<cstdlib>

using namespace std;

int main(){
	
	map<int,int> count;
	int t;
	cin>>t;
	int temp;
	while(t--)
	{
		int N;
		int result=0;
		cin>>N;
		count.clear();
		for(int i=0;i<N;i++)
		{
			cin>>temp;
			count[temp]++;
		}
		for(map<int,int>::iterator it=count.begin();it!=count.end();++it)
		{
			result=result+ it->second*(it->second+1)/2;

		}
		cout<<result<<endl;

	}
	return 0;
}