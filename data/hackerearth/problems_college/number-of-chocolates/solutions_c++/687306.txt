#include <iostream>
#include <cstdio>
using namespace std;
typedef long long LL;
#define gc getchar()
inline void get(LL &x){register LL c=gc;x=0;LL neg=0;for(;((c<48||c>57)&&c!='-');c=gc);if(c=='-'){neg = 1;c=gc;}for(;c>47&&c<58;c=gc){x=(x<<1)+(x<<3)+c-48;}if(neg)x=-x;}

int main()
{
   LL n,q;
   get(n);get(q);
   LL arr[n];
   get(arr[0]);
   for(int i=1;i<n;i++)
   {
   	get(arr[i]);arr[i]+=arr[i-1];
   	
   }
   
   
   while(q--)
   {
   	LL a,b,c,d,sum=0;
   	get(a);get(b);get(c);get(d);
   	LL w,x,y,z;
   	if(b<a){w=b;x=a;y=d;z=c;}
   	else{w=a;x=b;y=c;z=d;}
   	
   	if(y>=x&&z>y) {x=y+1;}
   	if(w==0) sum+=arr[y];
   	else
   	sum+=arr[y]-arr[w-1];
   	
   	
   	if(z>y){
   		if(x==0) sum+=arr[z];
   		else sum+=arr[z]-arr[x-1];
   	}
   	
   	cout<<sum<<endl;
   	
   	}
   	
   	
   	
    return 0;
}
