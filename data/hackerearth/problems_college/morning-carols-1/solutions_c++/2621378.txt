        #include <bits/stdc++.h>
        #define f(i,a,b) for(int i=a;i<b;i++)
        using namespace std;
        int main()
        {
        	int n,t,m,c,ans;
        	scanf("%d",&t);
        	long long int ar[21],s=1;
        	f(i,0,20)
        	{
        		ar[i]=s;
        		s*=2;
        	}
        	while(t--)
        	{
        		ans=1<<18;
        		vector <string> v;
        		string temp;
        		scanf("%d",&n);
        		f(i,0,n)
        		{
        			cin>>temp;
        			v.push_back(temp);
        		}
        		m=v.back().size();
        		//cout<<minTime(v)<<endl;
        		long long int N=1<<m;
        		bool vis[n];
        		f(i,0,N)
        		{
        			c=0;
        			f(j,0,n)
        				vis[j]=0;
        			f(j,0,m)
        				if(i&ar[j])
        					f(k,0,n)
        						if(v[k][j]=='Y' and !vis[k])
        						{
        							c++;
        							vis[k]=1;
        						}	
        			/*cout<<i<<" "<<c<<endl;
        			f(j,0,n)
        				cout<<vis[j]<<" ";
        			cout<<endl;*/
        			if(c==n)
        			{
        				int temp=__builtin_popcount(i);
        				ans=min(ans,temp);
        				
        				
        			}
        		}
        		printf("%d\n",ans);
        	}
        	return 0;
        }