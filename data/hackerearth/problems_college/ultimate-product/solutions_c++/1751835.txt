#include <stdio.h>
#define s(t) scanf("%d", &t)
#define sl(t) scanf("%lld", &t)
#define mod 1000000007
#define LL long long
LL parent[100005];
LL rank[100005];
LL ans[100005];
LL fact[100005];
LL find(LL x)
{
	if(x != parent[x]) {
		parent[x] = find(parent[x]);
	}
	return parent[x];
}
 
void join(LL x, LL y)
{
	LL px;
	LL py;
	px = find(x);
	py = find(y);
	if(rank[px] > rank[py]) {
		parent[py] = px;
	}
	else {
		parent[px] = py;
	}
	if(rank[px] == rank[py]) {
		rank[py] = rank[py] + 1;
	}
}

void pre()
{
	fact[0] = 1LL;
	for(LL i = 1; i <= 100003; i++) {
		fact[i] = ((fact[i - 1] % mod) * (i % mod)) % mod;
	}		
}

int main()
{
	pre();
	LL t = 1;
	//s(t);
	while(t--) {
		LL n, m, i;
		LL x, y;
		sl(n);
		sl(m);
		for(LL i = 0; i < n; i++) {
			parent[i] = i;
			rank[i] = 0;
			ans[i] = 0;
		}
		
		for(LL i = 0; i < m; i++) {
			sl(x);
			sl(y);
			join(x,y);
		}
		for(LL i = 0; i < n; i++) {
			 ans[find(i)]++;
		}
		
		long long sol = 1;
		for(LL i = 0; i < n; i++) {
			sol = ((sol % mod) * (fact[ans[i]] % mod)) % mod;	
		}
		printf("%lld\n", sol);
	}
	return 0;
} 