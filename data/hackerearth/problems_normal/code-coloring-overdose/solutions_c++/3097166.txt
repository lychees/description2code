#include<cstdio>
using namespace std;
long long int inp[500005];
long long int a[11],b[11];
typedef long long int ll;
ll mod = 1000000007;
ll pow(ll a,ll p)
{
    if (p==0)
	return 1;
    ll temp = pow(a,p/2);
    if (p%2)
	return (a*temp*temp)%mod;
    else
	return (temp*temp)%mod;
}
int main()
{
    int N,K,M;
    scanf("%d %d %d",&N,&K,&M);
    for (int i=0;i<N;i++) {
	int x;
	scanf("%d",&x);
	inp[x]++;
    }
    a[0]=1;
    for (int i=1;i<500005;i++)
    {
	if (inp[i]) {
	    ll temp = pow(2,inp[i])-1;
	    for (int j=1;j<11;j++)
		b[j]=(a[j-1]*temp+a[j])%(1000000007);
	    for (int j=1;j<11;j++) {
		a[j]=b[j];
	    }
	    
	}
    }
    ll temp=0;
    for (int i=0;i<=M;i++)
	temp=(temp+a[i])%mod;
    printf("%lld",temp);
    
    return 0;
}
