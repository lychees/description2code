#include<bits/stdc++.h>
#define ll long long
using namespace std;

string arr[60];
ll len[60], len2[60];

char func(ll level, ll x) {

    if (x > len2[level]) {
        return arr[level][x - len2[level] - 1];
    }

    if (len2[level]/2 < x) x = len2[level] - x + 1;

    return func(level-1, x);
}

main() {

    ll t;
    cin>>t;

    while (t--) {

        ll n, m;
        cin>>n>>m;
        for (ll i=1; i<=n; i++) cin>>arr[i];

        len[1] = arr[1].length();
        for (ll i=2; i<=n; i++) {
            len[i] = 2*len[i-1] + arr[i].length();
            len2[i] = len[i] - arr[i].length();
        }

        for (ll i=1; i<=m; i++) {
            ll x;
            cin>>x;
            cout<<func(n, x+1);
        }
        cout<<endl;
    }
}
