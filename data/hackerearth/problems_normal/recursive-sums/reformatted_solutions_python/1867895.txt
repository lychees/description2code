def sum_digit(n):
    if n < 10:
        return n
    else:
        ans = 0
        while n > 0:
            ans += n % 10
            n /= 10

    return sum_digit(ans)


t = input()
while t > 0:
    m = input()
    num = 0
    while m > 0:
        li, di = map(int, raw_input().split())
        num += (li*di)
        m -= 1

    print sum_digit(num)
    t -= 1
