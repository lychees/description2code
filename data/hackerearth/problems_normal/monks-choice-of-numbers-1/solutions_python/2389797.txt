import sys
if sys.version_info[0]==2:
	input=raw_input

t=int(input())
while t>0:
    n,k=map(int,input().split(' '))
    l=[int(p) for p in input().split(' ')]
    d=[]
    for i in range(0,n,1):
         num=l[i]
         count=0
         while num>0:
             num=num & (num-1)
             count+=1
         d.append(count)
    d.sort()
    c=0
    i=n-1
    while i>=n-k:
        c+=d[i]
        i-=1
    print(c)
    t-=1
