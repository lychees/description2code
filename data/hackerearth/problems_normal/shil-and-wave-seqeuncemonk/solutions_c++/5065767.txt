#include <iostream>
using namespace std;
int mod = 1000000007;
int decr[100005], incr[100005],a[100005];
int N = 100001;
void update(int type, int pos, int val)
{
	while(pos <= N)
	{
		if(type==0)
		{
			decr[pos] = decr[pos] + val;
			if(decr[pos] >=mod){
				decr[pos] -=mod;
			}
		}
		else 
		{
			incr[pos] = incr[pos] + val;
			if(incr[pos] >=mod){
				incr[pos] -=mod;
			}
		}
		pos += pos & (-pos);
	}
}
int query(int type, int pos)
{
	int res = 0;
	while( pos > 0)
	{
		if(type == 0)
		{
			res += decr[pos];
		}
		else 
		{
			res += incr[pos];
		}
		if(res >=mod)
		{
			res -=mod;
		}
		pos -= pos & (-pos);
	}
	return res;
}
int main()
{
    //cout << "Hello World!" << endl;
    int n;
    scanf("%d",&n);
    int i;
    int ans = 0;
    for(i=1;i<=n;i++)
    scanf("%d",&a[i]);
    //type 0 matlab pos par ending aur decreasing 1 matlab increasing
    for(i=1;i<=n;i++)
    {
    	int less,high;
    	less = query(0,a[i]-1);
    	high = query(1,N) - query(1,a[i]);
    	if(high<0)high+=mod;
    	update(0,a[i],high+1);
    	update(1,a[i],less+1);
    	ans = (ans + less);
    	if(ans >=mod)ans -=mod;
    	ans += high;
    	if(ans >=mod)ans -= mod;
    }
    printf("%d\n",ans);
    return 0;
}
