#include <bits/stdc++.h>
using namespace std;
char arr[1005][1005];
vector<int>lol[1005];
bool vis[1005];
int main()
{
	int T;
	cin >> T;
	while(T--){
	    int n;
	    cin >> n;
	    int k ;
	    cin >> k;
	    for(int i=0;i<k;i++)lol[i].clear();
	    for(int i=0;i<n;i++){
	    	cin >> arr[i];
	    	for(int j=0;j<k;j++)if(arr[i][j] == '1')lol[j].push_back(i);
	    }
	    int ans = 1e9;
	    for(int i=1;i<(1<<k);i++){
	    	int temp = 0;
	    	int tn = 0;
	    	memset(vis,0,sizeof vis);
	    	for(int j=0;j<k;j++){
	    		if( i&(1<<j) ){
	    			//cout <<i <<" "<< j << " " << lol[j].size() << endl;
	    			temp++;
	    			for(int k=0;k<lol[j].size();k++){
	    				if( !vis[lol[j][k]] )vis[lol[j][k]] = 1 , tn++;
	    			}
	    		}
	    	}
	    	if(tn == n)ans = min(ans,temp);
	    }
	    cout << ans<<endl;
	}
    return 0;
}
