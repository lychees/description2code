#include <iostream>
#include<string>
using namespace std;

int bit[200005],a[200005],n;


int ro(string str)
{
	if(str[0]==str[str.length()-1])
	return 1;
	else return 0;
}
void update(int ind ,int val)
{

	for(;ind<=n;ind+=(ind&-ind))
	bit[ind]+=val;
	
}


int query(int x)
{
	int sum=0;
	for(;x>0;x-=(x&-x))
	sum+=bit[x];
	return sum;
}



int main()
{
	int q,p;
	string str;
	cin>>n>>q;

	for(int i=1;i<=n;i++)
	{
		int k=a[i],b;
		cin>>str;
		if(ro(str)==1)
		a[i]=1;
		else
		a[i]=0;
		b=a[i]-k;
		update(i,b);
	}
//for(int i=0;i<=n;i++)
//cout<<bit[i]<<" ";
//cout<<"\n";
	while(q--)
	{
		cin>>p;
		if(p==2)
		{
			int ind,val=0;
			cin>>ind>>str;
			if(ro(str)==1)
			val=1;
			
			update(ind,val-a[ind]);
			a[ind]=val;
			//for(int i=0;i<=n;i++)
//cout<<bit[i]<<" ";
//cout<<"\n";
		}
		else
		{
			int l,r;
			cin>>l>>r;
			cout<<query(r)-query(l-1)<<"\n";
		}
		
	}
}




