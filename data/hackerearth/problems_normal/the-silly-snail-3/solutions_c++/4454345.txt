#include<iostream>
using namespace std;
int a[100009],b[100009];
void fun(int i)
{if(i==0)return ;
 cout<<i<<" ";
 fun(a[i]);
fun(b[i]);
}
int main()
{int t,n,i,j,l,r;
cin>>t;
while(t--)
{cin>>n;
for(i=0;i<=100007;i++){a[i]=b[i]=0;}
for(i=0;i<n;i++)
{cin>>j>>l>>r;a[j]=l;b[j]=r;//cout<<"i= a[i]= b[i]="<<j<<a[j]<<b[j]<<"    ";
}//cout<<"arr is"<<endl;
//for(i=0;i<=20;i++)cout<<i<<" "<<a[i]<<" "<<b[i]<<"     " ;
fun(1);
cout<<endl;
}
return 0;
}