#include <iostream>
#define inf 1000000000000000000LL
using namespace std;

int main()
{
	long long dp[509][309];
	long long sum[509]={0};
	int a[509];
    int n,k;
    cin>>n>>k;
    long long s=0;
    for(int i=0;i<n;i++)
    {
    cin>>a[i];
    s=s+(long long)a[i];
    if(i==0)
    sum[i]=(long long)a[i];
    else
    sum[i]=sum[i-1]+(long long)a[i];
    }
    for(int i=0;i<n;i++)
    for(int j=1;j<=k;j++)
    dp[i][j]=inf;
    for(int i=0;i<n;i++)
    {
    dp[i][1]=sum[i]*sum[i];
    for(int j=2;j<=k;j++)
    {
    for(int l=0;l<i;l++)
    {
    dp[i][j]=min(dp[l][j-1]+(sum[i]-sum[l])*(sum[i]-sum[l]),dp[i][j]);	
    }
    }
    }
    long long val=dp[n-1][k];
    long long res=(long long)k*val-(s*s);
    cout<<res<<"\n";
    return 0;
}
