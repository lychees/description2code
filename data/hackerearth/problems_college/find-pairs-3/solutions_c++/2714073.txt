#include <bits/stdc++.h>
using namespace std;
long long int t,a[1000001],i,n,ctr,sum;
int main()
{
   cin>>t;
   while(t--){
   	ctr=0;
   	sum=0;
   	cin>>n;
   	for(i=0;i<n;i++)
   	cin>>a[i];
   	sort(a,a+n);
   	for(i=0;i<n;i++)
   	{
   		if(a[i]==a[i+1])
   		ctr++;
   		else
   		{
   			sum+=(ctr*(ctr+1))/2;
   			ctr=0;
   		}
   	}
   	
   cout<<sum+n<<endl;
   }
   
   return 0;
}
