#include<bits/stdc++.h>
#define MOD 1000000007
#define len(a) strlen(a)
#define ll unsigned long long
#define nl printf("\n")
#define F first
#define S second
#define db printf("debug")
#define yes printf("YES\n")
#define no printf("NO\n")
#define pb(a) push_back(a)
#define po(a) pop_back()
#define mp(a,b) make_pair(a,b)
#define set(a,v) memset(a,v,sizeof(a))
#define sz(v) v.size()
#define gc getchar//_unlocked
#define pcase(i) printf("Case %d:\n",i)
#define max 1000005
#define pnt(v) for(int i=0;i<6;i++) cout<<v[i]<<" ";
using namespace std;

inline void ip( int &x) {
	    register  int c = gc();
	    x = 0;
	    for(; ((c<48 || c>57) ); c = gc());
	    for(; c>47 && c<58 ; c = gc()) {
	        x = (x<<1) + (x<<3) + c - 48;
	    }

	}
ll dig_sum(ll n)
{
    ll sm=0;
    while(n>0)
    {
        ll x= n%10;
        sm+= x*x;
        n/=10;
    }
    return sm;
}

int main()
{

    ll t;
    cin>>t;
    while(t--)
    {
        ll idxofval[1000], valofidx[1000],b=0;
        ll n,m,i;
        cin>>n>>m;
        fill(idxofval,idxofval+1000,-1);
        for(i=1;i<=m;i++)
        {
             n= dig_sum(n);
            // printf("sm=%lld\n",n);
             if(idxofval[n]!=-1)
               {
                 b=1;
                 break;
               }
             else
             {
                idxofval[n]=i;
                valofidx[i]=n;
             }
        }
        if(i<m)
        {
           // printf("%lld cycle\n",i);
            ll dif,prev_pos,rem;
            prev_pos= idxofval[n];
            dif=i-prev_pos;
            rem= m-prev_pos;
            rem= rem%dif;
            //cout<<valofidx[rem+ prev_pos];nl;
            printf("%lld\n",valofidx[rem+prev_pos]);

        }
        else
            printf("%lld\n",n);

    }
}
