#include <iostream>
using namespace std;
int profith(int s[],int e[],int V[],int av[],int n,int m,int i)
{ int profit =0;
int f=0;
  if(i>=n)
   return 0;
  for(int j=s[i];j<e[i];j++)
  {
  	if(av[j]==0)
  	 f=1;
  }
 int p1=(profith(s,e,V,av,n,m,i+1));
  for(int j=s[i];j<e[i];j++)
  {
  	
  	 av[i]-=1;
  }
 
  if(f==0)
  {
   int p2=profith(s,e,V,av,n,m,i+1)+V[i];
   return max(p1,p2);
  }
  else
  return p1;
  
}
	
int main()
{
   int t;
   cin>>t;
   
   while(t--)
   {
   	int n,m;
   	cin>>n>>m;
   	int s[n],e[n],V[n];
   	int av[m+1];
   	int a,b,v;
   	
   	for(int i=0;i<n;i++)
   	 {
   	   cin>>a>>b>>v;
   	   s[i]=a;
   	   e[i]=b;
   	   V[i]=v;
   	 }
   for(int i=0;i<m;i++)	 
    cin>>av[i];
    
    cout<<profith(s,e,V,av,n,m,0)<<endl;
   }
    return 0;
}
