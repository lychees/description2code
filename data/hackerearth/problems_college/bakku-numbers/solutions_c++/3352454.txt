#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define ff first
#define ss second
#define mp make_pair
#define pb push_back
#define si(a)     scanf("%d", &a)
#define sl(a)     scanf("%lld", &a)
#define pi(a)     printf("%d\n", a)
#define pl(a)     printf("%lld\n", a)


int main()
{
    int p1,p2;
    si(p1),si(p2);

    int t;
    si(t);

    while(t--)
    {
        int a,b;
        si(a),si(b);
        int c = p1*p2;

        int sum1=0,sum2=0,sum3=0;
        int x1,x2;

        if(a%p1==0)
            sum1++;

        x1 = a + (p1 - a%p1);
        x2 = b - (b%p1);

      //  cout<<"x1 "<<x1<<" "<<x2<<endl;
        int temp = x2-x1;

        if(temp>=0)
        {
          //  cout<<"sum "<<sum1<<" "<<temp<<endl;
            sum1 = sum1 + temp/p1 + 1;
        }

     //   cout<<sum1<<endl;

        if(a%p2==0)
            sum2++;


        x1 = a + (p2 - a%p2);
        x2 = b - (b%p2);

        temp = x2-x1;

        if(temp>=0)
        {
            sum2 = sum2 + temp/p2 + 1;
        }

        if(a%c==0)
            sum3++;


        x1 = a + (c - a%c);
        x2 = b - (b%c);

        temp = x2-x1;

        if(temp>=0)
        {
            sum3 = sum3 + temp/c + 1;
        }

        long double pls;

        if(p1!=p2)
        pls = sum1 + sum2 - sum3;
        else
            pls = sum1;
       // cout<<"sum1 "<<sum1<<endl;
        long double shit = b-a+1;

        long double ans = pls/shit;

        cout<<fixed;
        cout<<setprecision(6);
        cout<<ans<<endl;

    }   
}