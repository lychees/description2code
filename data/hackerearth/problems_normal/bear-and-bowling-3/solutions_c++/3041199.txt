#include<bits/stdc++.h>
#define LL long long int
#define M 1000000007
using namespace std;
LL a[1000001];
LL pow(LL a, LL b,LL m=M)
	{
		LL x=1,y=a;
		while(b > 0)
			{
				if(b%2 == 1)
					{
						x=(x*y);
						if(x>m) x%=m;
					}
						y = (y*y);
						if(y>m) y%=m;
						b /= 2;
				}
		return x%m;
	}

int main()
	{
		ios_base::sync_with_stdio(0);
		LL n,i,start,ans=0,temp;
		cin>>n;
		for(i=1;i<=n;++i)
			cin>>a[i];
		start = pow(2,n-1,M);
		temp=pow(2,n-2,M);
		for(i=1;i<=n;++i)
			{
				ans = ans + start*a[i];
				start = start+temp;
				if(start>=M)
					start%=M;
				if(ans>=M)
					{
						ans%=M;	
					}				
			}
		cout<<ans;
		
	}