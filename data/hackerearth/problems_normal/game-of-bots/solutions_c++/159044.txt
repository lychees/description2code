#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cmath>
#include <vector>
#include <string.h>
#include <math.h>
using namespace std;
char s1[1000006],s2[1000006],r1[1000006],r2[1000006];
int a[10000006],b[10000006];
int main()
{
 	int t;
 	cin>>t;
 	while(t--)
  	{
  		long long i,l,l2,k,z;
  		cin>>s1>>s2;
  		k=0;z=0;
  		l=strlen(s1);
  		l2=strlen(s2);
    	for(i=0;i<l;i++)
      	{
      		if(s1[i]!='#')
         	{
         		a[k]=i;
         		r1[k++]=s1[i];
        	}

      	}
    	r1[k++]='\0';
    	for(i=0;i<l2;i++)
      	{
      		if(s2[i]!='#')
         	{
         		b[z]=i;
        	 r2[z++]=s2[i];
        	}
        }
    	r2[z++]='\0';
    	if(strcmp(r1,r2))
        cout<<"No"<<endl;
   		else
      	{
      		l=strlen(r1);
	  		for(i=0;i<l;i++)
	     	{
	     		if(r1[i]=='A' && a[i]<b[i])
	        	break;
	      		if(r1[i]=='B' && a[i]>b[i])
	        	break;
	        }
	 		if(i<l)
	   		cout<<"No"<<endl;
			else
      		cout<<"Yes"<<endl;
     	}
    }
    return 0;
}
