a,b = map(int, raw_input().split())
n = raw_input()
val = a
sumVal = 0
for x in xrange(0, len(n)):
	if n[x] == '1':
		sumVal = (sumVal + val) %b
		
	val = (val*val)%b
print(sumVal)
