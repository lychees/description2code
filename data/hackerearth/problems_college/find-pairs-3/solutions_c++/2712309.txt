   #include<bits/stdc++.h>
    using namespace std;
    # define ll long long 
    
    int main() 
    {
    	ll int t,n;
    	cin>>t;
    	while(t--)
    	{
    		cin>>n;
    		ll int arr[n],temp=1,count=0,sum=0;
    		for(ll int i=0;i<n;i++)
    			cin>>arr[i];
    			sort(arr,arr+n);
    			temp=arr[0];
    		for(ll int i=1;i<n;i++)
    		{
    			if(temp==arr[i])
    			{
    				sum+=++count;
    				//cout<<"sum=="<<sum<<endl;
    				temp=arr[i];
    				
    			}
    			else
    			{
    			    
    				count=0;
    				temp=arr[i];
    			}
    		}
    			
    		cout<<sum+n<<endl;
    	}
        return 0;
    }   