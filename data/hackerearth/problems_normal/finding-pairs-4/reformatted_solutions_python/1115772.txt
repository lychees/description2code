from itertools import groupby

for i in xrange(int(raw_input())):
    raw_input()
    lst = [len(list(group))
           for key, group in groupby(sorted(map(int, raw_input().split())))]
    count = 0
    for j in lst:
        count += j * (j + 1) // 2
    print count
