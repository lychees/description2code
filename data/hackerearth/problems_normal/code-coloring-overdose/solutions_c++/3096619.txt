#include<bits/stdc++.h>
#define pb push_back
//#define mp make_pair
#define f first
#define maxn 510000
#define s second
#define ll long long int
#define inf 1000000014
#define infl (ll)(1e18)
#define mod 1000000007
using namespace  std;
map< int, int > mp;
map< int, int > :: iterator it;
ll init[maxn];
ll sec[maxn];
ll modex(ll a ,ll b)
{
 if(b==0)
    return 1ll;
 else if(b==1)
    return a;
 else if(b%2==1)
    return (a*modex(a,b-1))%mod;
 else
    return modex((a*a)%mod,b/2);
}
int main(int argc, char const *argv[])
{
int n,m,k,val;
cin>>n>>k>>m;
for (int i = 0; i < n; ++i)
{
  scanf("%d",&val);
  mp[val]++;
}
int dist = mp.size();
ll fans=1;
it = mp.begin();
int ctr=0;
while(it!=mp.end())
{
  init[ctr++]=it->s;
  it++;
}
  for(int i=0;i<dist;i++)
  { init[i]=(modex(2,init[i])-1+mod)%mod;
    fans=fans+init[i];
    sec[i] = init[i];
    if(fans>mod)
      fans-=mod;
  }
for(int j=1;j<m;j++){
  for(int i=dist;i>1;i--)
  {
     sec[i-1]+=sec[i];
     if(sec[i-1]>mod)
      sec[i-1]-=mod;
  }
  ll lol;
  for(int i=0;i<dist;i++)
  {
    lol=init[i]*sec[i+1];
    sec[i]=lol%mod;
    fans+=lol;
    fans%=mod;
  }
}
cout<<fans;
return 0;
}
