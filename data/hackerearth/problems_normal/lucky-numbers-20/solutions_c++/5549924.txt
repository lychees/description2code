// //
// //  lucky_num.cpp
// //  qasdasdad
// //
// //  Created by Avik Sarkar on 02/10/16.
// //  Copyright © 2016 Avik Sarkar. All rights reserved.
// //

// #include <iostream>
// #include <cmath>
// #include <vector>
// #define MOD 10000000007;
// using namespace std;
// int main()
// {
//     unsigned long long int i,s=0,l=0,t,n,j;
// 	cin>>t;
// 	while(l<t)
// 	{
// 		cin>>n;
// 		s=0;
// 		for(i=2;i<n;i=i*2)
// 		{
// 			for(j=1;j<i;j=j*2)
// 			{
// 				if(i+j<=n)
// 				s=(s+i+j)%1000000007;
// 			}
// 		}
// 		cout<<s<<"\n";
// 		l++;
//     }
//     return 0;
// }
//
//  lucky_num.cpp
//  qasdasdad
//
//  Created by Avik Sarkar on 02/10/16.
//  Copyright © 2016 Avik Sarkar. All rights reserved.
//

#include <iostream>
#include <cmath>
#include <vector>
#define MOD 1000000007;
using namespace std;
int main()
{
    long int t, n;
    cin >> t;
    std::vector<long int> my_vector;
    while(t--){
        cin >> n;
        long long int left_bit = 2, number_created = 0, sum = 0;
        while(number_created < n){
            long long int right_bit = 1;
            while(right_bit < left_bit){
                number_created = left_bit + right_bit;
                if(number_created <= n)
                    sum = (sum + number_created)%MOD;
                right_bit*=2;
            }
            left_bit*=2;
        }
        cout << sum << endl;
    }
    return 0;
}
