def count(N):
    cnt=0
    while N!=0:
        N=N&(N-1)
        cnt+=1
    return cnt
t=int(raw_input())
for i in range(t):
    s=raw_input().split(' ')
    n=int(s[0])
    k=int(s[1])
    s1=raw_input().split(' ')
    lst=[]
    c=[]
    for j in range(n):
        c.append(count(int(s1[j])))
    s1=0
    for j in range(k):
        p=max(c)
        s1+=p
        c.remove(p)
        
    print s1