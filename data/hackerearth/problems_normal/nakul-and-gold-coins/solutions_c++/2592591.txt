#include <bits/stdc++.h>

#define ll long long

using namespace std;

const int nm = 1000002;

bool nt[nm];
int nnt, snt[nm];
int l, r;
int dem[nm];

void sang() {
	nnt = 1;
	snt[1] = 2;
	nt[2] = 0;
	int i;
	for (i = 4; i < nm; i += 2)
		nt[i] = 1;
	for (i = 3; i * i < nm; i += 2) {
		if (!nt[i]) {
			snt[++nnt] = i;
			for (int j = i * i; j < nm; j += i + i)
				nt[j] = 1;
		}
	}
	for (; i < nm; i += 2)
		if (!nt[i])
			snt[++nnt] = i;
	for (int i = 1; i < nm; ++i)
		dem[i] = dem[i - 1] + 1 - nt[i];
}

int main() {
#ifdef LOCAL
	freopen("input.txt", "r", stdin);
#endif
	sang();
	int t;
	scanf("%d", &t);
	while (t--) {
		scanf("%d%d", &l, &r);
		int res = 0;
		for (int i = 1; i <= nnt && snt[i] * snt[i] < r; ++i) {
			int u = max(snt[i] + 1, (l + snt[i] - 1) / snt[i]);
			int v = min(1000000, r / snt[i]);
			if (u <= v)
				res += (dem[v] - dem[u - 1]);
		}
		printf("%d\n", res);
	}
#ifdef LOCAL
	printf("\n%.3lf s\n", (double) clock() / CLOCKS_PER_SEC);
#endif
}
