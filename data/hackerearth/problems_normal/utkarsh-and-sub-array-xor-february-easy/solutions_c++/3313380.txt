#include <bits/stdc++.h>
using namespace std;
#define pb push_back
#define mk make_pair
typedef long long ll;
typedef unsigned long long ull;
map<ll,ll>m;
#define M 1000000007
ll powd(ll a, ll b, ll c)
{
	if (b==0)
		return 1;
	ll ret=powd(a,b/2,c);
	if (b&1)
		return (((a*ret)%c)*ret)%c;
	else
		return (ret*ret)%c;
}
ll find1(ll x)
{
        if(m.find(x)==m.end())
        {
                m[x]=x;
                return x;
        }
        if(m[x]==x)
        return x;
        return m[x]=find1(m[x]);
}
ll par(ll x,ll y)
{
        ll p1=find1(x);
        ll p2=find1(y);
        if(p1!=p2)
        {
                m[p1]=p2;
                return 1;
        }
        return 0;
}
int main()
{
        ll n,k,u,v;
        cin>>n>>k;
        ll inv=powd(2,M-2,M);
	ll ans=powd(2,n,M);
        while(k--)
        {
                cin>>u>>v;
                if(par(u-1,v)==1)
                {
                        ans=(ans*inv)%M;
                }
                cout<<ans<<endl;
        }
}
