#include <bits/stdc++.h>
using namespace std;
#define ll long long int
#define MOD 1000000007
#define fo(i,c,n) for(i=c;i<n;i++)
#define f(i,n) for(i=0;i<n;i++)
#define rev(i,n,c) for(i=n;i>c;i--)
#define print(n) printf("%lld\n",n)
#define tc(t) while(t--)
#define print2(a,b) printf("%lld %lld\n",a,b)
#define print3(a,b,c) printf("%lld %lld %lld\n",a,b,c)
#define prints(n) printf("%s\n",n)
#define inputs(n) scanf("%s",n)
#define input(n) scanf("%lld",&n)
#define input2(a,b) scanf("%lld %lld",&a,&b)
#define input3(a,b,c) scanf("%lld %lld %lld",&a,&b,&c)
#define br putchar('\n')
//Dear future me. Please forgive me.
//I can't even begin to express how sorry I am.
int main()
{
    ll t,c,d,n,y,z,q,l,r,i,j;
    map <string, set<ll> > m,k;
    //map <string, vector<ll> >::iterator it;
	set <ll> x;
	set <ll>::iterator it;
    string v,b,s;
    char a[100];
    input(t);
    f(y,t)
    {

            //scanf("%s",(s));
            inputs(a);
            s=a;
            n=s.size();
            for(i=0;i<n;i++)
            {
            	for(j=0;j<n-i;j++)
            	{
            		v=s.substr(i,j+1);
            		m[v].insert(y+1);
            	}
            }
            
            //prints(s);
    }
    input(q);
    while(q--)
    {
    	c=0;
    	input2(l,r);
    	//scanf("%s",(b));
    	inputs(a);
    	b=a;
    	x=m[b];
    	for(it=x.begin();it!=x.end();it++)
    	{
    		j=*it;
    		if(j>=l&&j<=r)c++;
    	}
    	print(c);
    }
    
    return 0;
}






