#include <iostream>
using namespace std;

int main() 
    {

        int t;cin>>t;
        for(int i=1;i<=t;i++)
        {
        	 int x=1, y=1, c=0;
        	 int n,m,k; 
        	 cin>>n>>m>>k;
        	 for(int j=1; j<=k; j++)
        	 {
	        	 int a,b;
	        	 cin>>a>>b;
	        	 
	        	 	while(x<=n && y<=m && x>0 && y>0)
	        	 	{
	        	 		c++; x=x+a; y=y+b;
	        	 	
	        	 	}
	        	 	
	        	x=x-a; y=y-b; c--;
        	 }
        	 cout<<c<<"\n";
        }
       return 0;
    }
