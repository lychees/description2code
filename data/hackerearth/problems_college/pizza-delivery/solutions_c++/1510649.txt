    #include <iostream>
    #include <cstdio>
    #include <limits.h>
    #define getcx getchar_unlocked
    using namespace std;
    inline void input(int &n)
    {
	    n = 0;
	    int ch = getcx();
	    int sign = 1;
	    while(ch < '0' || ch > '9')
	    {
		    if(ch == '-')
		    sign = -1;
		    ch = getcx();
	    }
	    while(ch >= '0' && ch <= '9')
	    n = (n << 3) + (n << 1) + ch - '0', ch = getcx();
	    n = n * sign;
    }
    int a[251][251];
    int N;
    int main( )
    {
	    input(N);
	    for(int i = 0; i < N; i++)
	    for(int j = 0; j < N; j++)
	    input(a[i][j]);
	    int test;
	    input(test);
	    for(int k = 0; k < N; k++)
	    for(int i = 0; i < N; i++)
	    for(int j = 0; j < N; j++)
	    if(a[i][j] > a[i][k] + a[k][j])
	    a[i][j] = a[i][k] + a[k][j];
	    while(test--)
	    {
		    int S, G, D;
		    input(S);
		    input(G);
		    input(D);
		    int res = a[S][D];
		    int dis = a[S][G] + a[G][D];
		    printf("%d %d\n", dis, dis - res);
	    }
    	return 0;
    } 