#include <iostream>
#include <vector>
#include <stack>
using namespace std;

void bdayMain()
{
    int N, D;
    cin >> N >> D;

    vector<int> adj_list[N];
    for(int i = 0; i < D; i++)
    {
        int fa, fb;
        cin >> fa >> fb;
        adj_list[fa-1].push_back(fb-1);
    }


    int minFriends = 1001;
    for(int i = 0; i < N; i++)
    {
        bool visited[N];
        for(int i = 0; i < N; i++)
            visited[i] = false;

        int conFriends = 0;
        stack<int> S;
        S.push(i);
        while(!S.empty())
        {
            vector<int> &curlist = adj_list[S.top()];
            visited[S.top()] = true;
            conFriends++;
            S.pop();

            for(unsigned long j = 0; j < curlist.size(); j++)
            {
                int curnode = curlist[j];
                if(!visited[curnode])
                {
                    S.push(curnode);
                    visited[curnode] = true;
                }
            }
        }

        if(conFriends < minFriends)
            minFriends = conFriends;
    }

    cout << minFriends << "\n";
}


int main()
{
    bdayMain();
    return 0;
}