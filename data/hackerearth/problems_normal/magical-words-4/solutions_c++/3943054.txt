#include <iostream>
#include<string.h>
using namespace std;

int main()
{
    int t;
    cin>>t;
    while(t>0)
    {
    	string s;
    	cin>>s;
    	int length=s.size();
    	long long int sum=0;
    	for(int i=0;i<length;i++)
    	{
    		int lower=i-1;
    		int upper=i+1;
    		int cnt=1;
    		sum=sum+1;
    		while(lower>=0 && upper<length && s.at(lower)==s.at(upper) )
    		{
    			cnt+=2;
    			lower--;
    			upper++;
    			sum=sum+(long long int )cnt*(long long int )cnt;
    			
    		}
    	}
    	
    	for(int i=0;i<length-1;i++)
    	{
    		int lower=i;
    		int upper=i+1;
    		int cnt=0;
    		while(lower>=0 && upper<length && s.at(lower)==s.at(upper))
    		{
    			cnt+=2;
    			sum=sum+(long long int )cnt*(long long int )cnt;
    			lower--;
    			upper++;
    		}
    	}
    	cout<<sum<<endl;
    	t--;
    }
}
