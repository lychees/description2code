#include<bits/stdc++.h>
using namespace std;

int main(){
    int t;
    cin>>t;
    while(t--){

        int n;
    cin>>n;
    int a,b,c;
    cin>>a>>b>>c;
    int x[100000];
    int y[100000];
    for(int i=0;i<n;i++){
        cin>>x[i];
        cin>>y[i];
    }
    int pos=0;
    int neg=0;
    for(int i=0;i<n;i++){
        int p = x[i]*a + y[i]*b + c;
        if(p>0) pos++;
        else if(p<0) neg++;

    }
    int ans = max(pos,neg);
    cout<<ans<<endl;
  }
}
