#include<bits/stdc++.h>

using namespace std;


    int main () {

    	int N,Q;

    	cin >> N >> Q;

    	vector<long long int> A(N+1),B(N+1);

    	for(int i=1;i<=N;i++)
    		cin >> A[i];
    	for(int i=1;i<=N;i++)
    		cin >> B[i];

      for(int i=2;i<=N;i+=2)
    		swap(A[i],B[i]);

    	for(int i=1;i<=N;i++){ A[i]+=A[i-1]; B[i]+=B[i-1]; }

    	while (Q--) {

    		int C,L,R;
    		cin >> C >> L >> R;

    		if (C==1) {
    			if (L%2)
    				cout << A[R]-A[L-1] << endl;
    			else
    				cout << B[R]-B[L-1] << endl;
    		} else {
    			if (L%2 == 0)
    				cout << A[R]-A[L-1] << endl;
    			else
    				cout << B[R]-B[L-1] << endl;
    		}
    	}
      
    	return 0;
    }
