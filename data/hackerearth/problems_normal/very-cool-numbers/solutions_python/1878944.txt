t = input()

tmp = "101"
li = []
for i in range(1,100010):
	a = "{0:b}".format(i)
	l = len(a)
	count = 0
	for j in range(l):
		if a[j]==tmp[0]:
			if j+1 >= l:
				break
			if a[j+1]==tmp[1]:
				if j+2 >= l:
					break
				if a[j+2]==tmp[2]:
					count = count+1
					j = j+1
	li.append(count)

while(t>0):
	r,k = raw_input().split()

	r = long(r)
	k = long(k)

	count = 0
	for i in range(1,r+1):
		if li[i-1] >= k:
			count = count+1
	print count


	t = t-1
