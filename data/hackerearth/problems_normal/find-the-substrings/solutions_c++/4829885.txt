#include <bits/stdc++.h>
using namespace std;

int main()
{
    //cout << "Hello World!" << endl;
    ios::sync_with_stdio(false);
    cin.tie(NULL);
    int t, l;
    cin >> t;
    string s;
    while (t--) {
    	cin >> s;
    	long long ans = ((long long)(s.length())*(s.length()+ 1))/2;
    	int a, b, c;
    	a = b = c = 0;
    	for (int i = 0, n = s.length(); i < n; ++i) {
    		if (s[i] == 'a') {
    	         a = i + 1;
    	         ans -= min(b,c);
    		}
    	    else if (s[i] == 'b') {
    	         b = i + 1;
    	         ans -= min(a,c);
    		}
    	    else  {
    	         c = i + 1;
    	         ans -= min(b,a);
    		}
    	}
    	cout << ans << endl;
    }
    return 0;
}
