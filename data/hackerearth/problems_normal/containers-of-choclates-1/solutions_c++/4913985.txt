#include<bits/stdc++.h>
#define ll long int
using namespace std;
vector<ll> adj[20005];
bool visited[20005];
ll frst,scnd;
void initialize()
{
	for(ll i=0;i<20005;i++)
	{
		adj[i].clear();
	}
	memset(visited,true,sizeof(visited));
	return;
}
void dfs(ll node,ll armynum)
{
	visited[node]=true;
	if(armynum==0)
	{
		scnd++;
	}
	else
	{
		frst++;
	}
	for(ll i=0;i<adj[node].size();i++)
	{
		if(!visited[adj[node][i]])
		{
			dfs(adj[node][i],(armynum+1)%2);
		}
	}
	return;
}
int main()
{
	ll t,n,a,b,i,j;
	scanf("%ld",&t);
	ll cnt=0;
	while(t--)
	{
		initialize();
		ll ans=0,maxi=-1;
		scanf("%ld",&n);
		for(i=0;i<n;i++)
		{
			scanf("%ld%ld",&a,&b);
			adj[a].push_back(b);
			adj[b].push_back(a);
			visited[a]=false;
			visited[b]=false;
			maxi=max(maxi,max(a,b));
		}
		for(i=1;i<=maxi;i++)
		{
			if(!visited[i])
			{
				frst=0;
				scnd=0;
				dfs(i,0);
				ans+=max(frst,scnd);
			}
		}
		cnt++;
		printf("Case %ld: %ld\n",cnt,ans);
	}
	return 0;
}











