t = int(raw_input())
for x in xrange(t):
    memlist = []
    members = {}
    N, M = map(int, raw_input().split())
    for n in xrange(N):
        member = raw_input()
        memlist.append(member)
        members[member] = 0
    for m in xrange(M):
        donar = raw_input()
        expenditure = int(raw_input())
        dividedAmoung = int(raw_input())
        eqExp = expenditure / (dividedAmoung+1)
        members[donar] += dividedAmoung*(expenditure / (dividedAmoung+1))
        for da in xrange(dividedAmoung):
            recever = raw_input()
            members[recever] -= eqExp

    for mem in memlist:
        if (members[mem] < 0):
            print mem+' owes '+str(abs(members[mem]))
        elif (members[mem] > 0):
            print mem+' is owed '+str(members[mem])
        else:
            print mem+' neither owes nor is owed'
