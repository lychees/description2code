#include <bits/stdc++.h>
using namespace std;
struct _ { ios_base::Init i; _() { cin.sync_with_stdio(0); cin.tie(0);cout.tie(0); } } _;
#define ict int t;cin>>t;while(t--)
#define lct long long int t;cin>>t;while(t--)
#define in(a) int a; cin>>a;
#define llin(a) ll a; cin>>a;
#define srep(i,a,b) for(ll i=a;i<b;i++)
#define rep(i,n) for(ll i=0;i<n;i++)
#define W(a) while(a--)
#define pb push_back
typedef long long int ll;

vector<int>ar;
vector<int>c;
int n;
int dp[5100][15][15];

int coun(int num)
{
	return __builtin_popcountll(num);
}

int foo(int done,int fir, int sec)
{
	if(dp[done][fir][sec]!=-1)
		return dp[done][fir][sec];
		
	int i,tmp=INT_MAX;
	int pos=coun(done);
	int val= (ar[fir]^ar[sec]);
	
	if(pos==n)
		return 0;
	
	for(int i=0 ; i<n ; i++)
		if(  ((1<<i) & (done)) == 0)
			tmp=min(tmp,  (val^ar[i])*c[pos] + foo((done|(1<<i)),i,fir));

	dp[done][fir][sec]=tmp;
	return tmp;
}

int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		ar.clear();
		c.clear();
		cin>>n;
        rep(i,n)
        {
        	in(x);
        	ar.pb(x);
        }
        rep(i,n)
        {
        	in(x);
        	c.pb(x);
        }
		
        int ans=INT_MAX;
        memset(dp,-1,sizeof(dp));
		
        for(int i=0;i<n;i++)
        {
        	for(int j=0;j<n;j++)
        	{
        		if(i==j)
					continue;
					
        		int don= ((1<<i)|(1<<j));   //ith,jth bit set
				
        		ans=min(ans, foo(don,i,j));
        	}
        }
        cout<<ans<<"\n";
	}
}