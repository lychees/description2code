#include <iostream>
using namespace std;
#include<vector>
int vis[100001];
vector<vector<long long> >a(100001);
int fac[100001];
int ct;
void fact(void)
{
	long long k=1000000007;
	fac[0]=1;
	fac[1]=1;
	fac[2]=2;
	
	long long i;
	for(i=3;i<100001;i++)
	{
		fac[i]=(fac[i-1]*i)%k;
	}
	return;
}
void dfs(long long i)
{
	vis[i]=1;
	ct++;
	
	long long k,tmp;
	for(k=0;k<a[i].size();k++)
	{
		tmp=a[i][k];
		if(vis[tmp]!=1)
		dfs(tmp);
	}
	return ;
}
int main()
{
	long long n,k,i,n1,n2;
	long long res=1,mo=1000000007;
	fact();
	scanf("%lld%lld",&n,&k);
	
	for(i=0;i<100001;i++)
	vis[i]=0;
	
	for(i=0;i<k;i++)
	{
		scanf("%lld%lld",&n1,&n2);
		a[n1].push_back(n2);
		a[n2].push_back(n1);
	}
	
	for(i=0;i<n;i++)
	{
		ct=0;
		if(vis[i]!=1)
		{
			dfs(i);
		
		res=(res*fac[ct])%mo;
			
		}
		
	}
	printf("%lld\n",res);
    return 0;
}
