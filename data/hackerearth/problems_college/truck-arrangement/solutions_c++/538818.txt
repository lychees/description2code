#include <bits/stdc++.h>
using namespace std;
#define int long long
main()
{
    int a; scanf("%lld", &a);
    for (int g=0; g<a; g++)
    {
        int b;scanf("%lld", &b); vector <int> arr[10001]; vector <int> num; 
        for (int g=0; g<10001; g++) arr[g].clear(); 
        for (int g=0; g<b; g++)
        {
            int d;scanf("%lld", &d);
            num.push_back(d);  
            arr[d].push_back(g); 
        }sort(num.begin(), num.end()); int ans=0; 
        for (int g=0; g<num.size(); g++)
        {
            int k=num[g]; int z=g; 
            int pointer=0;
            while (num[z]==num[g])
            {
                ans=max(ans, abs(arr[k][pointer]-g));
                g++; pointer++; 
            }
            g--; 
        }cout << ans << '\n'; 
    }
}