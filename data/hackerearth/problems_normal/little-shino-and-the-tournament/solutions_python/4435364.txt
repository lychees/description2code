n, q = map(int, raw_input().split())
f = (n) * [0]
st = map(int, raw_input().split())
st = list(enumerate(st))
while len(st) > 1:
    so = []
    for i, j in zip(st[0::2], st[1::2]):
        f[i[0]] += 1
        f[j[0]] += 1
        if i[1] > j[1]:
            so.append(i)
        else:
            so.append(j)
    if len(st) % 2:
        so.append(st[-1])
    st = so
for _ in range(q):
    print f[int(raw_input())-1]

			