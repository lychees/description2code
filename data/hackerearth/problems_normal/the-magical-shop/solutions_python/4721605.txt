A, B = map(int, raw_input().strip().split(' '))
S = raw_input().strip().rstrip('0')

count  = 0
for ch in S:
    if ch == '1':
         count = (count +A)%B
    A = (A * A) % B

print count
         