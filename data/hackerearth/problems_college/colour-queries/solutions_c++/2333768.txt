#include<bits/stdc++.h>
#include<iostream>
#include<algorithm>
#define MAX 105
using namespace std;
int n,m,q;
int M[MAX][MAX];
int Hash[MAX][MAX];
int xd[]={-1,0,1, 0};
int yd[]={ 0,1,0,-1};
int check(int x,int y)
{
    if( (y>=0 && y<=m-1) && (x>=0 && x<=n-1 && Hash[x][y]==0))
        return 1;
    return 0;
}
void color(int x,int y,int d)
{
    
    if(Hash[x][y]==1)
        return ;
    Hash[x][y]=1;
    for(int i=0;i<4;i++){
        int x1,y1;
        x1=x+xd[i];
        y1=y+yd[i];
        if(check(x1,y1) && abs(M[x1][y1]-M[x][y])<=d && (Hash[x][y]==1))
        {
            color(x1,y1,d);
        }
    }
}
int main()
{   
   
    int x,y,d,ans;
    cin>>n>>m>>q;
    for(int i=0;i<n;i++)
        for(int j=0;j<m;j++)
            cin>>M[i][j];
    while(q--)
    {
        ans=0;
        cin>>x>>y>>d;
        color(x-1,y-1,d);
        for(int i=0;i<n;i++)
            for(int j=0;j<m;j++)
                if(Hash[i][j]==1)
                    ans++;
        cout<<ans<<endl;
        memset(Hash,0,sizeof Hash);
    }
}