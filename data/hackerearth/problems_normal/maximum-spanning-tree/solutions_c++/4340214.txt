#include <bits/stdc++.h> 
using namespace std; 
#define mp make_pair 
#define ll long long int 
pair <ll , int > p ;
int n,e;
int marked[5500] = {0} ;

vector <pair < ll , int > > vp[5500] ; 
priority_queue < pair< ll , int > ,  vector <pair < ll , int > > , less < pair < ll , int > > >  pq;



int prims(int n)
{

	int mst=0;

	memset(marked,0,(n+5)*sizeof(int ));
	int  i ;
	pq.push(mp(0,1));
	int x=0;
	int z=0;

	while(!pq.empty())
	{
		p=pq.top();
		x=p.second;
		z=p.first;
		pq.pop();
		

	if(marked[x]==1)
			continue ;

		mst= mst + z;
		marked[x]=1;
		


		for(i=0;i<vp[x].size();i++)
		{
			if(marked[vp[x][i].second]==0)
			{

				pq.push(vp[x][i]);
			}


		}
	}
	


	return mst ;

}



int main ()
{
	
	int t;
	cin >> t;
	while(t--)
	{
	cin >> n >> e ;

	int  i;

	int p,x,y;

	for(i=0;i<e;i++)
	{
		cin  >> x >> y >> p; 
		vp[x].push_back(mp(p,y));
		vp[y].push_back(mp(p,x));
	}



	int sum = prims(n);
	cout << sum << endl;

	for(i=0;i<=n;i++)
		vp[i].clear();

	pq = priority_queue< pair< ll , int > ,  vector <pair < ll , int > > , less < pair < ll , int > > > ();
	
	}

	return 0; 


}