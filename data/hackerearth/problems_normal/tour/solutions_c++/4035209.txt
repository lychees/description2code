#include <iostream>
#include <string>
#include <unordered_map>
#include <cstdio>
#include <vector>
using namespace std;
int costs[1000][1000];
int main()
{
    int n;
    while(cin>>n)
    {
    	unordered_map<string,int> mp;
    	vector<string> names(n);
    	for(int i=0;i<n;++i)
    	{
    		cin>>names[i];
    		mp[names[i]] = i;
    	}
    	for(int i=0;i<n;++i)
    	{
    		for(int j=0;j<n;++j)
    		{
    			cin>>costs[i][j];
    		}
    	}
    	long long ans=0;
    	int cur=0;
    	int N;
    	cin>>N;
    	while(N--)
    	{
    		string name;
    		cin>>name;
    		int dest = mp[name];
    		ans+=costs[cur][dest];
    		cur  = dest;
    	}
    	cout<<ans<<endl;
    }
    return 0;
}
