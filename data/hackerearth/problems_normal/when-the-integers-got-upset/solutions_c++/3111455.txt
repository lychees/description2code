#include <iostream>
#include <bits/stdc++.h>
#define mx 100000000	
using namespace std;
long int dp[5000][14][14],n;
long int a[15],p[15],t,i,j,ans,done,x;
	
long mn(long a,long b){
	if(a<b)
	return a;
	return b;
}	
	
	
	
	int coun(int num)
{
	return __builtin_popcountll(num);
}
	

long func(int done,int fi,int se){
	
	
	if(dp[done][fi][se]!=-1)
		return dp[done][fi][se];
	


	int temp = mx,j,val = a[fi]^a[se];
	int x = coun(done);
	temp =mx;
	
	
	if(x==n)
		return 0;
	
	
	for(j=0;j<n;j++){
		
		if((done&(1<<j)) ==0){
			
			
			temp = mn (
				temp, 
			(val^a[j])*p[x] + func( (done|(1<<j)) ,j,fi)
			
			);
		}
	}
	dp[done][fi][se] = temp;
	return temp;
	
}



int main()
{
	scanf("%d",&t);
	while(t--)
	{
		ans = mx;
		
		scanf("%d",&n);
		for(i=0;i<n;i++)
			scanf("%d",&a[i]);
		for(i=0;i<n;i++)
			scanf("%d",&p[i]);
			
        memset(dp,-1,sizeof(dp));
		
		
		for(i=0;i<n;i++){
			
			for(j=0;j<n;j++){
				
				if(i==j)
					continue;
				done = (1<<i)|(1<<j);
				ans = mn(ans,func(done,i,j));
				
			}
		}
		printf("%lld\n",ans);
	}
	
    return 0;
}
