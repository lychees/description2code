#include <bits/stdc++.h>
using namespace std;
  int  binary(int x)
       {
           char s[20];
           int i,t,j;
           t=x;
           i=0;
           while(t>0)
           {
               s[i]=t%2;
               t=t/2;
               i++;
           }
           s[i]='\0';
           int k=i;

          /* printf("Binary Equivalent of %d = ",x);
           for(i=k-1;i>=0;i--)
               printf("%d",s[i]);
               cout<<endl;*/







            int count=0;
           for(int i=k-2;;i--)
           {
           	    if(i-1<0)
           	     break;
           	   if(s[i]==0 && s[i-1]==1 && s[i+1]==1)
           	   count++;
           }


           return count;
       }

int main()
{
   int t,r,k;
   cin>>t;
   while(t--)
   {
       int sum=0;
   	cin>>r>>k;
  	for(int i=1;i<=r;i++)
   	 if(binary(i)>=k)
   	 {
   	 sum++;
   	 }
cout<<sum<<endl;
   }

   return 0;
}
