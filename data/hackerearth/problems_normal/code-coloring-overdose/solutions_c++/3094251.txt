#include <bits/stdc++.h>
using namespace std;
const int MAXN = 5e5 + 5 ;
const int MOD = 1e9 + 7; 
int dp [MAXN][11]; 
int cnt [MAXN]; 
int pow2 [MAXN]; 
int n, k, m; 
int main()
{
	pow2[0] = 1; 
	for (int g=1; g<MAXN; g++) pow2[g] = (2 * pow2[g-1]) % MOD; 
    ios_base::sync_with_stdio(0); 
    cin >> n >> k >> m; 
    for (int g=1; g<=n; g++){
    	int t; cin >> t; cnt[t]++; 
    }
    dp[k+1][0] = 1; 
    int ans = 0; 
    for (int g=k; g>=1; g--){
    	for (int y=m; y>=0; y--){
    		dp[g][y] = dp[g+1][y]; 
    		if (y>0) {dp[g][y] = (dp[g][y] + (1LL * dp[g+1][y-1] * (pow2[cnt[g]] - 1)%MOD) % MOD); dp[g][y]%=MOD;}
    	}
    }
    for (int y=0; y<=m; y++) ans = (ans + dp[1][y]) % MOD; 
    cout << ans << '\n'; 
    return 0;
}
