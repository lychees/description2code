#include <cstdio>
#include <iostream>
#include <algorithm>
#include <string.h>
#include <vector>
#include <set>
#include <map>
#include <queue>
#include <list>
#include <math.h>

#define ll long long int
#define maxN 200
#define maxVal 1e8
#define minVal -1e8
#define mod1e9+7

#define gcd(a,b) __gcd(a,b)

using namespace std;
int arr[1000006][2];
void compute(int in)
{
    if(in!=0)
        cout << in << " ";
    if(arr[in][0]!=0)
        compute(arr[in][0]);
    if(arr[in][1]!=0)
        compute(arr[in][1]);
}
int main()
{
    int t,n,a,b,c,i;
    ios::sync_with_stdio(false);
    cin >> t;
    while(t--)
    {
        memset(arr,0,sizeof(arr));
        cin >> n;
        for(i=1;i<=n;i++)
        {
            cin >> a >> b >> c;
            arr[a][0] = b;
            arr[a][1] = c;
        }
        compute(1);
        cout << endl;
    }
}
