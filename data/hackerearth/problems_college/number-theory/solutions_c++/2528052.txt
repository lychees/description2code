#include <iostream>
#include <cstdio>
#include <algorithm>
#include <cstring>
#include <cmath>
using namespace std;
int main(){
	int t;
	scanf("%d",&t);
	while(t--){
		long long x;
		scanf("%lld",&x);
		char buffer[30];
		snprintf(buffer,sizeof(buffer),"%lld",x);
		sort(buffer,buffer+strlen(buffer));
		//cout << buffer << endl;
		long count=0;
		long long i=1;
		long l=0;
		long long arr[100000] ={0};
		while(i<=sqrt(x)){
			char buffer2[30];
			char buffer3[30];
			if(x%i==0){

				arr[l] = i;
				l++;
				if(x/i != i){
					arr[l] = x/i;
					l++;
				}
				/*snprintf(buffer2,sizeof(buffer2),"%lld",i);
				snprintf(buffer3,sizeof(buffer3),"%lld",x/i);
				sort(buffer3,buffer3+strlen(buffer3));
				sort(buffer2,buffer2+strlen(buffer));
				int k=0;
				int flag=0;
				while(buffer[k]){
					if(buffer[k] == buffer2[k]){
						flag=1;
						break;
					}
					k++;
				}
				int l=0;
				int flag2=0;
				while(buffer[l]){
					if(buffer[l]==buffer3[l]){
						flag2=1;
						break;
					}
				l++;
				}
				if(flag2==1)	
					count++;
				if(flag==1)
					count++;*/
			
			}
		i++;
		}
		for(int i=0;i<l;i++){
			char buffer2[30];
			snprintf(buffer2,sizeof(buffer2),"%lld",arr[i]);
			sort(buffer2,buffer2+strlen(buffer2));
		//	cout << "num = "<<buffer2<<endl;
			int g=0;
			int flag=0;
			int bflag=0;
			for(int z=0;z<strlen(buffer2);z++){
				for(int m=0;m<strlen(buffer);m++){
					if(buffer[m] == buffer2[z]){
						bflag=1;
						break;
					}
				}
			if(bflag==1)
				break;
			}
			if(bflag==1)
				count++;
			//cout << arr[i] << endl;	
		}
		printf("%ld\n",count);
		//cout << count << endl;
	}
}