#include<bits/stdc++.h>
using namespace std;
int main()
{
	long long int t,n,total=0,i,j,k,ans=0,p;
	scanf("%lld%lld",&n,&t);
	vector<long long >a;
	for(i=1;i<sqrt(n);i++)
	{
		if(n%i==0)
		{
		   if(i==n/i)
		   {
		   	 a.push_back(i);
		   	 total++;
		   }
		   else
		   {
		   	 a.push_back(i);
		   	 total++;
		   	 a.push_back(n/i);
		   	 total++;
		   }
		}
		
	}
	while(t--)
	{
		
		scanf("%lld%lld",&p,&k);
		if(p==1)
		{
		    long long cnt=0;
				for(i=0;i<a.size();i++)
				{
					if(k%a[i]==0)
					  cnt++;
				}
				ans=cnt;
			
		}
		else if(p==2)
		{
			if(k>n)
			ans=0;
			else
			{
				long long cnt=0;
				for(i=0;i<a.size();i++)
				{
					if(a[i]%k==0)
					  cnt++;
				}
				ans=cnt;
			}
		}
		else
		{
			if(k>n)
			{
				ans=total;
			}
			else
			{
				long long cnt=0;
				for(i=0;i<a.size();i++)
				{
					if(a[i]%k)
					{
						cnt++;
					}
				}
				ans=cnt;
			}
		}
	
printf("%lld\n",ans);
	}
	return 0;
}