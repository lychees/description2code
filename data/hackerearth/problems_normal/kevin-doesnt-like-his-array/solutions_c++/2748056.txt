#include <bits/stdc++.h>
using namespace std;
#define ll long long
set<ll>s;
map<ll,ll>mymap;
map<ll,ll>mymap1;
vector<ll>v;
int main() 
{
	ll t,i,j,k,l,n,m,prev,cnt=0;
	cin>>n;
	cin>>l;
	prev=l;
	mymap1[l]++;
	for(i=1;i<n;i++)
	{
		cin>>l;
		mymap1[l]++;
		s.insert(l);
		if(l==prev)
			cnt++;
		else
		{
			mymap[prev]+=cnt;
			cnt=0;
			prev=l;
		}
	}
	mymap[prev]+=cnt;
	ll fg=0,lk,ele;
	if(n%2==0)
		lk=n/2;
	else
		lk=(n+1)/2;
	set<ll>::iterator it;
	for(it=s.begin();it!=s.end();it++)
	{
		v.push_back(mymap[(*it)]);
		if(mymap1[(*it)]>lk)
			fg=1;
	}
	sort(v.begin(),v.end());
	cnt=0;
	ele=v[v.size()-1];
	for(i=v.size()-2;i>=0;i--)
	{
		cnt+=min(v[i],v[i+1]);
		v[i]=abs(v[i+1]-v[i]);
	}
	cnt+=v[0];
	if(fg==1)
		cout<<"-1";
	else
		cout<<cnt;
	return 0;
}