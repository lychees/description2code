#include <bits/stdc++.h>
using namespace std;
int comp[5000001] = {0};
int main()
{
    for(int i =2 ; i*i<=5000001; i ++ ) {
    	if(!comp[i]) {
    		for (int j = i; i*j <= 5000001; j++) {
                    comp[i*j] = 1;
            }
    	}
    }
    comp[1]=1;
    int t,a,b;
    cin>>t;
    while(t--) {
    	cin>>a>>b;
    	int x = a, y = b;
    	vector<int> v1;
    	while(x) {
    		v1.push_back(x);
    		x/=2;
    	}
    	vector<int> v2;
    	int fl=0;
    	int lca =1;
    	while(y) {
    		for(int i = 0 ; i <v1.size() ; i ++) {
    			if(y==v1[i]) {
    				fl=1;
    				lca = y;
    				break;
    			}
    		}
    		if(fl)
    			break;
    		v2.push_back(y);
    		y/=2;
    	}
    	long long ans=0LL;
    	for(int i = 0 ; i < v1.size() ; i ++ ) {
    //		cout<<v1[i]<<" ";
    		if(comp[v1[i]])
    			ans+=(long long)v1[i];
    		else 
    			ans-=(long long)v1[i];
    		if(v1[i]==lca)
    			break;
    	}
    //	cout<<endl;
    	int i = 0;
    	for(i=0;i<v2.size();i++) {
    	//	cout<<v2[i]<<" ";
    		if(comp[v2[i]])
    			ans+=(long long)v2[i];
    		else
    			ans-=(long long)v2[i];
    	}
    	cout<<ans<<endl;
    }
    return 0;
}
