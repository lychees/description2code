#include<bits/stdc++.h>
#define opt ios_base::sync_with_stdio(false);cin.tie(NULL);
#define li long int
#define lli long long int
#define rep(i,a,b) for(i=a;i<b;i++)
#define repi(i,v) for(i=v.begin();i!=v.end();i++)
#define vi vector<int>
#define vli vector<li>
#define vlli vector<lli>
#define pb push_back
#define pob pop_back
#define all(v) v.begin(),v.end()
#define sz size()
#define lb lower_bound
#define ub upper_bound
#define elif else if
#define mp make_pair
#define vpp vector<pair<int,int> >
#define F first
#define S second
#define mod 1000000007
#define itr iterator
using namespace std;
li cnt=1L;
vli adj[100001];
bool visited[100001];
void initialize(){
    li i;
    rep(i,0,100001)
        visited[i]=false;
}
void dfs(li s){
    visited[s]=true;
    li i;
    rep(i,0,adj[s].sz){
        if(!visited[adj[s][i]]){
            cnt++;
            dfs(adj[s][i]);
        }
    }
}
int main(){
    opt
    int t;
    cin>>t;
    while(t--){
        li i,n,m,ways=1L;
        cin>>n>>m;
        initialize();
        rep(i,0,m){
            li x,y;
            cin>>x>>y;
            x--,y--;
            adj[x].pb(y);
            adj[y].pb(x);
        }
        rep(i,0,n){
            if(!visited[i]){
                cnt=1L;
                dfs(i);
                if(cnt!=1)
                    ways*=(cnt*(cnt-1)/2);
                ways%=mod;
            }
        }
        cout<<ways<<"\n";
        rep(i,0,100001)
            adj[i].clear();
    }
    return 0;
}

