#include <iostream>
#include<string>
#include<algorithm>

using namespace std;

int main()
{
   // cout << "Hello World!" << endl;
   int t;
   cin>>t;
   while(t--)
   {
   		string s;
   		cin>>s;
   		long int n=s.length();
   		long int a=0,b=0,c=0;
   		long long int sum=((n)*(n+1))/2;
   		for(long int i=0;i<n;i++)
   		{
   			if(s[i]=='a')
   			{
   				a=i+1;
   				sum-=min(b,c);
   			}
   			else if(s[i]=='b')
   			{
   				b=i+1;
   				sum-=min(a,c);
   			}
   			else
   			{
   				c=i+1;
   				sum-=min(a,b);
   			}
   		}
   		cout<<sum<<endl;
   }
    return 0;
}
