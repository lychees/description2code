#include <bits/stdc++.h>
using namespace std;

int main()
{
	int n,t,i,q,p,m;
   cin>>n;
   bool a[n];
   memset(a,0,n);   
   //for(i=0;i<n;i++) cout<<a[i]<<endl;
   cin>>t;
   while(t--)
   {
   	cin>>q>>m>>p;
   	switch(q)
   	{
   		case 0:for(i=m;i<=p;i++) a[i]=!a[i];break;
   		case 1:int k=0;for(i=m;i<=p;i++) if(a[i]) k++;cout<<k<<endl;break;
   	}
   }
   
    return 0;
}
