#include<iostream>
#include<map>
#include<vector>
using namespace std;
int main()
{
int t,m1,total,x;
cin>>t;
string s,s1;
vector<string> v;
map<string,int> m;
int n[t],q[t];
for(int i=0;i<t;i++)
{
cin>>n[i]>>q[i];
for(int j=0;j<n[i];j++)
{
cin>>s;
v.push_back(s);
m.insert({s,0});
}
for(int k=0;k<q[i];k++)
{
cin>>s;
cin>>total;
cin>>m1;
x=total/(m1+1);
for(int j=0;j<m1;j++)
{
cin>>s1;
m[s1]-=x;
}
m[s]+=m1*x;
}
for(int l=0;l<v.size();l++)
{
if(m[v[l]]<0)
cout<<v[l]<<" owes "<<abs(m[v[l]])<<endl;
else if(m[v[l]]==0)
cout<<v[l]<<" neither owes nor is owed"<<endl;
else 
cout<<v[l]<<" is owed "<<abs(m[v[l]])<<endl;
}
m.clear();
v.clear();
}
return 0;
}