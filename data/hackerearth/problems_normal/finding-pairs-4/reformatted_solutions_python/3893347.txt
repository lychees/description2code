'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
t = int(raw_input())
while (t > 0):
    dic = {}
    t -= 1
    ans = 0
    n = int(raw_input())
    arr = map(int, raw_input().split(' '))
    for i in xrange(len(arr)):
        temp = arr[i]
        if (str(temp) in dic):
            ans += dic[str(temp)]
            dic[str(temp)] += 1
        else:
            dic[str(temp)] = 1
    ans += n
    print ans
