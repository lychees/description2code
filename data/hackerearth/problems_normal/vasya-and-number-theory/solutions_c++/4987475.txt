#include<bits/stdc++.h>
using namespace std;
#define MAX 100005
#define INF 1000000000000000007
#define mod 1000000007
long long n,a[1005],dp[1005][1005];
long long call(long long i,long long last)
{
	if(i==n)
		return 0;
	if(dp[i][last]!=-1)
		return dp[i][last];
	long long c,b;
	c=b=0;
	if(a[i]%a[last]==0)
		c+=1+call(i+1,i);
		b+=call(i+1,last);	
		return dp[i][last]=max(c,b);

}
int main()
{
//	freopen("input.txt","r",stdin);
	cin>>n;
	memset(dp,-1,sizeof(dp));
	for(long long i=0;i<n;i++)
		cin>>a[i];
	sort(a,a+n);
	a[1004]=1;
	long long ans=call(0,1004);
	if(ans<2)
		ans=-1;
	cout<<ans<<"\n";
}