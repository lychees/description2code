#include<iostream>
#include<stdio.h>
#include<limits.h>
int main()
{
	int n,k,i,j,min,num,it1,it2,it3,a[1001][21],b[21][1001],ar[1001],ne[1001],x,t,q,me[1001];
	scanf("%d %d",&n,&k);
	for(i=1;i<=n;i++)
	{
		for(j=1;j<=k;j++)
		{
			scanf("%d",&a[i][j]);
		}
	}
	for(j=1;j<=k;j++)
	{
		min=a[1][j];
		for(i=1;i<=n;i++)
		{
			if(a[i][j]<min)
			min=a[i][j];
		}
		num=0;
		for(i=1;i<=n;i++)
		{
			if(a[i][j]==min)
			{
				b[j][num+1]=i;
				num++;
			}
		}
		b[j][0]=num;
	}
	scanf("%d",&q);
	while(q--)
	{
		scanf("%d",&t);
		for(i=1;i<=n;i++)
		{
			ar[i]=i;
		}
		t--;
		it1=1;
		it2=1;
		it3=0;
		scanf("%d",&x);
		while(it1<=n&&it2<=b[x][0])
		{
			if(ar[it1]==b[x][it2])
			{
				ne[it3]=ar[it1];
				it3++;
				it2++;
				it1++;
			}
			else if(ar[it1]<b[x][it2])
			{
				it1++;
			}
			else
			{
				it2++;
			}
		}
		num=it3;
		while(t--)
		{
			scanf("%d",&x);
			min=INT_MAX;
			for(i=0;i<num;i++)
			{
				ar[i]=a[ne[i]][x];
				if(ar[i]<min)
				{
					min=ar[i];
				}
			}
			it1=0;
			for(i=0;i<num;i++)
			{
				if(ar[i]==min)
				{
					ne[it1]=ne[i];
					it1++;
				}
			}
			num=it1;
		}
		printf("%d\n",ne[0]);
	}
	return 0;
}