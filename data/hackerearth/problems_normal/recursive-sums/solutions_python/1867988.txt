def calc(x):
	while (x > 9):
		y = x
		ret = 0
		while (y > 0):
			ret += y % 10
			y /= 10
		x = ret
	return x

ntest = int(input())
for i in range(ntest):
	m = int(input())
	tot = 0
	for j in range(m):
		a, b = (int(x) for x in raw_input().split())
		tot += a * b
	print calc(tot)