#include <vector>
#include <list>
#include <map>
#include <set>
#include <deque>
#include <stack>
#include <bitset>
#include <algorithm>
#include <functional>
#include <numeric>
#include <utility>
#include <sstream>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <ctime>
#include<string.h>
#define tr(c,it) for(typeof(c.begin()) it=c.begin();it!=c.end();++it)
#define all(c) c.begin(),c.end()
#define mod 1000000007
#define itor(c) typeof(c.begin())
using namespace std;
 
int main(){
int i,j,n,l,d,dist[1002],flag=1;
double p[1002];
vector<double> v;
scanf("%d %d %d",&n,&l,&d);
for(i=1;i<=n;++i)
cin>>p[i];
for(i=1;i<=n;++i)
scanf("%d",&dist[i]);
p[0]=1.0;
dist[0]=0;
p[n+1]=1.0;
dist[n+1]=d;
for(i=n;i>=0;--i){
v.clear();
for(j=i+1;j<=n+1 && dist[j]-dist[i]<=l;++j)
v.push_back(p[j]);
if(v.empty()){
flag=0;
break;
}
p[i]*=(*max_element(all(v)));
}
if(flag)
printf("%0.6lf",p[0]);
else
cout<<"IMPOSSIBLE";
return 0;
}