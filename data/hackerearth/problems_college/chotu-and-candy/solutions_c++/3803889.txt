#include <iostream>
#include <map>
#include <utility>
#include <algorithm>
using namespace std;
typedef long long int ll;
int main()
{
    ll n, q, i, id, s, c;
    map<ll, map<ll, map<ll, ll> > >  m;
    cin >> n >> q;
    for(i = 1; i <= n; i++) {
    	cin >> id >> s >> c;
    	m[s][c][id]++;
    }
    ll a[n + 1];
    c = 1;
    map<ll, ll> :: iterator it3;
    map<ll, map<ll, ll> > :: iterator it2;
    map<ll, map<ll, map<ll, ll> > > :: iterator it;
    it = m.end();
    it--;
   	for(;it != m.begin(); it--) {
    	for(it2 = it->second.begin(); it2 != it->second.end(); it2++) {
    		for(it3 = it2->second.begin(); it3 != it2->second.end(); it3++){
    			a[c++] = it3->first;
    		}
    	}
    }
    for(it2 = it->second.begin(); it2 != it->second.end(); it2++) {
    	for(it3 = it2->second.begin(); it3 != it2->second.end(); it3++){
    		a[c++] = it3->first;
    	}
    }
    ll k, p;
    for(i = 1; i <= q; i++) {
    	cin >> k;
    	cout << a[k] << endl;
    }
    return 0;
}
