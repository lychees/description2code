#include <iostream>
using namespace std;
#include <utility>
#include <algorithm>

#define ull unsigned long long int 

/*
ull answer(int a[], int n)
{
	ull sum1=0, sum2=0, sum3 = 0, sum4=0;
	if(n%2)
	{
		for(int i=1; i<n; i+=2)
			sum3 += a[i];
		for(int i=2; i<n-1; i+=2)
			sum4 += a[i];
		sum4 += max(a[0], a[n-1]);
		sum4 = max(sum3, sum4);
	}
	else
	{
		for(int i=0; i<n; i+=2)
		{			
			sum1 += a[i];
			sum2 += a[i+1];
		}
		sum2 = max(sum1, sum2);
	}
	return max(sum2, sum4);
}*/



ull f(int a[], int n, ull answers[], int index)
{
	if(index >= n)
		return 0;
		
	if(answers[index] != -1)
		return answers[index];

	answers[index] = a[index] + max(f(a, n, answers, index+2), f(a, n, answers, index+3));
	return answers[index];
}

ull answer(int a[], int n, ull answers[])
{
	
	return max( f(a, n, answers, 1), f(a, n, answers, 2));
}


int main()
{
    int t;
    cin>>t;
    while(t--)
    {
    	int n;
    	cin>>n;
    	int a[n], b[n];
    	for(int  i=0; i<n; i++)
    	{
    		cin>>a[i];
    		b[i] = a[i];
    	}
    	
	    ull answers[n], banswers[n];
		for(int i=0; i<n; i++)
		{
			answers[i] = -1;
			banswers[i] = -1;
		}
    	
    	if(n==1)
    		cout<<a[0]<<endl;
    	else if(n==2)
    		cout<<max(a[0], a[1])<<endl;
    	else	    	
    		cout<<max(answer(a, n, answers), f(b, n-1, banswers, 0))<<endl;
    	//for(int i=0; i<n; i++)
    		//cout<<answers[i]<<" ";
    	
    }
    return 0;
}
