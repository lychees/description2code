#include<bits/stdc++.h>
using namespace std;
vector<string>vec;
map<string,int>mp;
int main()
{
    int test;
     scanf("%d",&test);
     while(test--)
      {
          int n,q,i;
          scanf("%d%d",&n,&q);
          mp.clear();
          vec.clear();
          for(i=0;i<n;i++)
          {
              string str;
              cin>>str;
             mp.insert(make_pair(str,0));
             vec.push_back(str);
          }
          while(q--)
          {
              string str;
              cin>>str;
              int money;
              scanf("%d",&money);
              int num;
              scanf("%d",&num);

              num=num+1;
              mp[str]+=money;
              int extra=money%num;
              mp[str]-=(money/num+extra);

              for(i=0;i<num-1;i++)
              {
                  string peo;
                  cin>>peo;
                  mp[peo]-=(money/num);
              }

          }

          vector<string>::iterator it;
          for(it=vec.begin();it!=vec.end();it++)
          {
              map<string,int>::iterator itr=mp.find(*it);
              if((*itr).second<0)
                 cout<<(*itr).first<<" owes "<<abs((*itr).second)<<endl;
              else if((*itr).second==0)
                 cout<<(*itr).first<<" neither owes nor is owed"<<endl;
              else
                cout<<(*itr).first<<" is owed "<<(*itr).second<<endl;
          }
      }

    return 0;
}
