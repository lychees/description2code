#include <iostream>
#include <cstdio>
#include <climits>

using namespace std;

#define pb push_back
#define mp make_pair
#define ll long long int

int fun(int v, int l, int r)
{
    int x = (r / v) - (l / v);
    if(!(l % v))
        x++;
    return x;
}

int main()
{
    int t, n, p, q, l, r;
    double a;
    cin >> p >> q;
    cin >> t;
    while (t--) {
        cin >> l >> r;
        a = fun(p, l, r);
        a += fun(q, l, r);
        a -= fun(p * q, l, r);
        //cout << a << endl;
        printf("%0.6lf\n", a / (r-l+1));
    }

    return 0;
}
