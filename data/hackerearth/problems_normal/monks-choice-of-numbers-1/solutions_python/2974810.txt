'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
t = int(raw_input())
cnt = 0

while t:
	n,k = map(int,raw_input().split())
	arr = map(int,raw_input().split())
	for i in range(0,n):
		v = arr[i]
		cnt = 0
		while v:
			v &= (v-1)
			cnt += 1
		arr[i] = cnt
	arr.sort(reverse = True)
	total = 0
	for i in range(0,k):
		total += arr[i]
	print total
	t -= 1