#include <bits/stdc++.h>

typedef long long int li;

#define Fi(i, st, ft) for(i = st;i <= ft; ++i)
#define Fd(i, st, ft) for(i = st;i >= ft; --i)
#define pb(a, b) a.push_back(b)
#define mod 1000000007
#define MAXN 1500000
#define MX 1450000
#define inf 1000000000000000000ll
const int maxBufSize = (10000000);

using namespace std;

li t;
vector<li> v[25] , num;

void pre()
{
	long int x , idx , i;
	for(i = 1; i <= 25; i++) {
		x = num[i-1];
		idx = 2;
		while(idx*idx <= x) {
			if(x%idx == 0) {
				v[i].push_back(idx);
				while(x%idx == 0) {
					x /= idx;
				}
			}
			idx++;
		}
		if(x > 1) v[i].push_back(x);
	}
}

li power(li a , li b)
{
	li c , result;
	if(b == 0) {
		return 1;
	}
	c = power(a , b/2);
	if(b%2 == 0) {
		result = c*c;
	} else {
		result = c*c*a;
	}
	return result;
}

int main()
{
	li i , j , a , b , c , d , l1 , l2 , ans;
	Fi(i , 1 , 30) {
		a = power(2 , i)-1;
		pb(num , a);
	}
	pre();
	scanf("%lld" , &t);
	while(t--) {
		scanf("%lld %lld" , &a , &b);
		l1 = v[a].size();
		l2 = v[b].size();
		ans = 0;
		Fi(i , 0 , l1-1) {
			Fi(j , 0 , l2-1) {
				if(v[a][i] == v[b][j]) {
					ans++;
				}
			}
		}
		printf("%lld\n" , ans);
	}
	return 0;
}