
#include<bits/stdc++.h>
using namespace std;
#define forn(i, n)  for(int i =0;i<n;i++)
#define for1(i, n)  for(int i = 1;i<=n;i++)
const int N = 1005;
map<string,int> id;
int cost[N][N];

int main()
{
   // freopen("z.inp","r",stdin);
    ios_base:: sync_with_stdio(false);cin.tie();
    int n;
    cin >> n;
    string past;
    for1(i, n)
    {
        string x;
        cin >> x;
        id[x] = i;
        if(i == 1) past = x;
    }
    for1(i, n) for1(j, n) cin >> cost[i][j];

    int m;
    cin >> m;
    long long ans = 0;

    for1(i, m)
    {
        string to;
        cin >> to;
            int u = id[past];
            int v = id[to];
            ans += cost[u][v];
        past = to;
    }
    cout<< ans << endl;
}
