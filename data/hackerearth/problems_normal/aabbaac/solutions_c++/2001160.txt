#include <bits/stdc++.h>

using namespace std;

string s[52];
long long x;

char f(int idx, long long now)
{
	if ( x - now*2LL > 0 && x - now*2LL - (long long)s[idx].length() <= 0 ) return s[idx][x-now*2LL-1];
	if ( now*2LL + (long long)s[idx].length() < x ) return f(idx+1,now*2LL+(long long)s[idx].length());
	if ( now*2LL >= x ) {
		x = x - now;
		x = now - x + 1;
		return f(0, 0);
	}
}

//Code for FAST INPUT :)
template <typename T>
inline void fi(T *a)
{
    register char c=0;
    while (c<33) c=getchar_unlocked();
    *a=0;
    int tmp = 0;
    while (c>33)
    {
        if ( c == 45 ) tmp = 1;
        else *a=*a*10+c-'0';
        c=getchar_unlocked();
    }
    if ( tmp == 1 ) *a = 0-(*a);
}

int main()
{
	int t,n,m;

	fi(&t);

	while ( t-- ) {
		fi(&n), fi(&m);
		for ( int i = 1; i <= n; i++ ) cin >> s[i];
		while ( m-- ) {
			fi(&x);
			x++;
			putchar(f(0,0));
		}
		puts("");
	}
	return 0;
}
