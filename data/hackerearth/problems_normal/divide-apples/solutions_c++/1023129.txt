#include <bits/stdc++.h>
using namespace std;
     
int main(){
    int n;
    scanf("%d",&n);
    vector<long long> values(n),neg(n);
    long long s=0;
    for(int i=0;i<n;i++){
    	scanf("%lld",&values[i]);
    	s+=values[i];
    }
    s/=n;
    long long ans=0;
    for(int i=0;i<n;i++)
    neg[i]=values[i]-s;
    vector<long long> med(n);
    long long p=0;
    for(int i=0;i<n;i++)
    med[i]=p,p+=neg[i];
    sort(med.begin(),med.end());
    long long medi=0;
    if(n%2==0) 
    medi=((med[n/2-1]+med[n/2])/2);
    else
    medi=(med[n/2]);
    for(int i=0;i<n;i++) ans+=abs(med[i]-medi);
    printf("%lld\n",ans);
    return 0;
}