#include<stdio.h>
int main(){
	int n, i, q, f, a, b, c; scanf("%d", &n); int ar[n];
	for(i = 0; i < n; ar[i++] = 1); scanf("%d", &q);
	while(q-- && scanf("%d%d%d", &f, &a, &b)){
		c = 0;
		if(f == 0)	for(i = a; i <= b; i++)	ar[i] ? (ar[i] = 0) : (ar[i] = 1);
			else{
				for(i = a; i <= b; i++)	if(!ar[i])	c++;
				printf("%d\n", c);
			}
	}		
	return 0;
}