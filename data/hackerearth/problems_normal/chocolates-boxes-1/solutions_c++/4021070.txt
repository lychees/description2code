#include <iostream>
#include <vector>

using namespace std;
long long ways(vector<int> & ,int);

int main()

{
    int test;                   //TEST CASE
	cin>>test;
	for(int i=0 ; i<test ; i++)
    
    {	
    	int n,k,x;                 // 'n' INPUT TOTAL NUMBER OF BOXES.
    	                                // EACH HAVING SOME NUMBER IN IT.
    	cin>>n;
    	vector<int> A;
    	
    	                                
    	for(int j=0 ; j<n ; j++)        // inputs numbers inside all the boxes.
    	{
	    cin>>x;
    	A.push_back(x);
    	}
    	
        cin>>k;                         // input k                                 
    	
    	long long ans = ways(A,k);            // find total ways to pick BOXES.  
    	cout<<endl<<ans;                // such that sum in 2 boxes equals k.
    }
    
return 0;
}


long long ways(vector<int> &A , int k)        // function , passing vector and k .

{
	int n = A.size();
	long long count=0;
	vector<int> temp(n,0);
	
	for(int i=0 ; i<n ; i++)
		
		{
			if(A[i]<k)
			temp[A[i]]++;
		}
	
	


	for(int i=0 ; i<=k/2 ; i++)
		
		
		{
			if((2*i==k)&&(temp[i]>1))
			count+=(temp[i])*(temp[i]-1)/2;
			else 
			count+=temp[i]*temp[k-i];
			 
			
			
		}
return count;		
}
    
    
    
    

