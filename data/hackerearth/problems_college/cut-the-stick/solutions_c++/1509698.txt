#include<bits/stdc++.h>
using namespace std;

const int N=1e4+10;

int a[N];
int dp[5*N];
bool cut[5*N];

int main() {
  int tt;
  scanf("%d",&tt);
  while(tt--) {
    memset(cut,0,sizeof(cut));
    int s,n,l;
    scanf("%d%d%d",&s,&n,&l);
    for(int i=0;i<n;i++) {
      scanf("%d",a+i);
      cut[a[i]]=true;
    }
    sort(a,a+n);
    dp[0]=0;
    for(int i=1;i<=s;i++) {
      dp[i]=dp[i-1];
      if(cut[i]==true) {
        dp[i]+=1;
      }
    }
    int totalWays=0;
    for(int i=1;i<=s;i++) {
      if(cut[i]==true) {
        totalWays+=dp[s]-dp[i];
      }
    }
    int ans=0;
    for(int i=1;i<=l;i++) {
      if(cut[i]==true) {
        int ub=max(i+1,s-l);
        int lb=min(s-1,i+l);
        if(ub<=lb) {
          ans+=dp[lb]-dp[ub-1];
        }
      }
    }
    printf("%d\012",totalWays-ans);
  }
  return 0;
}
