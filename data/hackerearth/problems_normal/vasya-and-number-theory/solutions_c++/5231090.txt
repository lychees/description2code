#include <bits/stdc++.h>
#define ull unsigned long long
#define ll long long
#define ff first
#define ss second
#define pb push_back
#define ins insert
#define mp make_pair
#define all(x) x.begin(),x.end()
#define iOS ios::sync_with_stdio(false)
using namespace std;
int n;
int main()
{
    iOS;
    cin>>n;
    vector<int> v(n);
    int i,j;
    for(i=0;i<n;i++) cin>>v[i];
    sort(v.begin(),v.end());
    vector<int> dp1(n),dp2(n);
    dp1[0]=1;
    dp2[0]=1;
    //cout << "1 ";
    for(i=1;i<n;i++)
    {
    	int mx=1;
    	for(j=i-1;j>=0;j--)
    	{
    		if(v[i]%v[j]==0) mx=max(mx,1+dp1[j]);
    	}
    	dp1[i]=mx;
    	//cout << dp1[i] << " ";
    	dp2[i]=max(dp1[i],dp2[i-1]);
    }
    //cout << "\n";
    if(dp2[n-1]<2) cout << "-1\n";
    else cout << dp2[n-1] << "\n";
}