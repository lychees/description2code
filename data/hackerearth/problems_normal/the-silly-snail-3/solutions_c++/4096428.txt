#include<iostream>
#include<map>
using namespace std;
map<int,pair<int,int>> m;

void output(int node)
{
    if(node==0)
        return ;
    cout<<node<<" ";
    output(m[node].first);
    output(m[node].second);
    
}
int main()
{
    int n;
    cin>>n;
    while(n--)
    {
        m.clear();
        int a;
        cin>>a;
        while(a--)
        {
            int x,y,z;
            cin>>x>>y>>z;
            m[x].first=y;
            m[x].second=z;
    
        }
        output(1);
        cout<<endl;
            
    }
}