#include <iostream>
#include<stdio.h>
#include<math.h>
using namespace std;
 
int main()
{
	   int s, aone,atwo,bone,btwo; 
	   cin>>s;
    double percent = (1 + sqrt(5)) / 2;
    for (int c = 1; c <= s; c++) {
        cin>>aone>>atwo>>bone>>btwo;
        long count = 0;
        for (int i = aone; i <= atwo; i++) {
            double top = i * percent, low = i / percent;
            if (bone >= top || btwo <= low)
                count += btwo - bone + 1;
            else {
                
                if (btwo >= top)
                    count += max(0, btwo - (int) ceil(top) + 1);
                if (bone <= low)
                    count += max(0, (int) floor(low) - bone + 1);
            }
        }
       printf("Case #%d: %d\n", c, count);
}
}