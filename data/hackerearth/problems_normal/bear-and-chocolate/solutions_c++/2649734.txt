#include<stdio.h>
#include<iostream>
#include<string.h>
//#include<conio.h>
using namespace std;

int main()
 {   int t;
 cin>>t;
 while(t--)
 {
           int n;
           cin>>n;
           //cout<<n<<endl;
           int row[n],col[n];
           char s[n][n];
           for(int i=0;i<n;i++)
           {    
                   cin>>s[i];
             //      printf("%s",s);
                   int count=0;
                  for(int j=0;j<n;j++)
                  {
                  	if(s[i][j]=='#')
                  	count++;
                  }
                  row[i]=count;
               //   cout<<row[i]<<" ";
           }
           //cout<<endl;
           for(int j=0;j<n;j++)
           {   int count=0;
           	for(int i=0;i<n;i++)
           	{
           		if(s[i][j]=='#')
           		count++;
           		
           	}
           	col[j]=count;
           }
           
           int sum=0;
           for(int i=0;i<n;i++)
           {sum+=row[i];
           //cout<<row[i];
           }
           if(sum%2==1)
           cout<<"NO"<<endl;
           else
           {int flag=0;
           sum=sum/2;
           	for(int i=1;i<n;i++)
           {row[i]+=row[i-1];
           col[i]+=col[i-1];
           }
           for(int i=0;i<n-1;i++)
           {
           	if(row[i]==sum)
           	{flag=1;
           	break;
           }
           }
           if(flag==0)
           {
           	for(int i=0;i<n-1;i++)
           	{
           		if(col[i]==sum)
                 {           	flag=1;
                   break;
                  }
           	}
           }
           	if(flag==1)
           	cout<<"YES"<<endl;
           	else
           	cout<<"NO"<<endl;
        
           
           }}
   // getch();
    return 0;
}
