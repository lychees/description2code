#include<bits/stdc++.h>
using namespace std;
#define sp ' '
#define endl '\n'
/* input
1 4
3 6 7 9
1
*/
#define N 100005
int n,m;
int cur[N];
int ans = 0;
int c[N],l[N];
int main() {
//#ifdef UncleGrandpa
//    freopen("1test.txt","r",stdin);
//#endif
    cin >> n >> m;
    for(int i=1; i<=m; i++) cin >> c[i];
    for(int i=1; i<=n; i++) cin >> l[i];
    for(int i=1; i<=n; i++) {
        for(int j=cur[l[i]];; j++) {
            if ((c[l[i]]*j)<=ans) continue;
            bool ok=true;
            for(int k=l[i]+1; k<=m; k++) {
                if (k==l[i]) continue;
                if ((c[l[i]]*j)%c[k]==0) {
                    ok = false;
                    break;
                }
            }
            if (ok) {
                cur[l[i]]=j+1;
                ans = max(ans,c[l[i]]*j);
                break;
            }
        }
    }
    cout << ans << endl;
}
