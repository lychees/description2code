#include<bits/stdc++.h>

using namespace std;

vector<int> v[100005];
int tin[100005],tout[100005];
bool visited[100005];
int cnt=0;

int dfs(int src)
{
 cnt++;
 tin[src]=cnt;
 visited[src]=true;
 for(int i:v[src])
 {

     if(!visited[i])
        dfs(i);
 }
 tout[src]=cnt;
}
int main()
{
   int n,a,b,q,type,x,y;
   cin>>n;
   for(int i=1;i<=n;i++)
    visited[i]=false;
   for(int i=0;i<n-1;i++)
   {
       cin>>a>>b;
       v[a].push_back(b);
       v[b].push_back(a);
   }

   dfs(1);
   cin>>q;
   while(q--)
   {
       cin>>type>>x>>y;
       if(type==0)
       {
           if(tin[x]<=tin[y] && tout[x]>=tout[y])
            cout<<"YES\n";
           else
            cout<<"NO\n";

       }
       else
       {
           if(tin[y]<=tin[x] && tout[y]>=tout[x])
            cout<<"YES\n";
           else
            cout<<"NO\n";

       }
   }


}
