#include<cstdio>
#include<cstring>
#define MAXN 10000000
int ans[MAXN+11],factor[MAXN+11][2]={0};
bool flag[MAXN+11];

int digit(int n){
    int ans=0;
    while(n){
        ans+=n%10;
        n/=10;
    }
    return ans;
}
void init(){
    memset(flag,true,sizeof(flag));
    factor[1][0]=1;
    for(int i=2;i<=MAXN;i++){
        if(flag[i]){
            factor[i][0]=i;
            for(int j=i+i;j<=MAXN;j+=i){
                flag[j]=false;
                factor[j][0]=i;
            }
        }
    }
    ans[1]=1;
    for(int i=2;i<=MAXN;i++){
        ans[i]=ans[i-1];
        if(i%2==0)
            factor[i][0]=2;
        factor[i][1]=factor[i/factor[i][0]][1]+digit(factor[i][0]);
        if(digit(i)==factor[i][1])
             ans[i]++;
    }
}
int main(){
    init();
    int cs;
    scanf("%d",&cs);
    while(cs--){
        int l,r;
        scanf("%d%d",&l,&r);
        printf("%d\n",ans[r]-ans[l-1]);
    }
    return 0;
}
