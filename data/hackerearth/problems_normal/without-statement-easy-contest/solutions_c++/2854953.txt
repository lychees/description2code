#include<bits/stdc++.h>
#define pb push_back
#define mp make_pair
#define f first
#define maxn 101000
#define s second
#define ll long long int
#define inf 1000000014
#define infl (ll)(1e18)
#define mod 1000000007
using namespace  std;
std::vector< int > v;
set< int > sett;
int func(int a)
{
        int s=0;
        while(a!=0)
        {
                int d = a%10;
                s+=d*d;
                a/=10;
        }
return s;
}
int main(int argc, char const *argv[])
{//repeats at max after 729
        int t;   int modd;
        cin>>t;int a,b;
        while(t--)
        {   v.clear();
            sett.clear();
            cin>>a>>b;
            int ctr=0;
            int cur=a;
            while(ctr!=b&&sett.find(func(cur))==sett.end())
            {
                ctr++;
                a = cur;
                cur = func(a);
                v.pb(cur);
                sett.insert(cur);
            }
            if(ctr==b){cout<<v[v.size()-1]<<"\n";continue;}
            int rep = func(v[(v.size()-1)]);
            int i;//for(int x=0;x<v.size();x++)cout<<v[x]<<" ";
            i=0;
            for(i=0;v[i]!=rep;i++);
             modd = v.size()-i;b-=v.size();
            cout<<v[i+(b-1)%(modd)]<<"\n";

        }

        return 0;
}
