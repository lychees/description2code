times = input()
for _ in range(times):
    leng = input()
    st = raw_input()
    lst = [1]*leng
    for i in range(1, leng):
        if st[i] >= st[i-1]:
            lst[i] = lst[i-1]+1
    else:
        total = 0
        for i in lst:
            total += i
        print total
