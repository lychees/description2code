#include<bits/stdc++.h>
using namespace std ;
long long expo ( long long a , long long b , long long mod ) {
    if ( b == 0 )
        return 1 ;
    long long ans = 1 ;
    while ( b ) {
        if ( b&1 )
            ans = ((ans%mod)*(a%mod))%mod ;
        a = ((a%mod)*(a%mod))%mod ;
        b /= 2 ;
    }
    return ans ;
}
int main () {
    long long a , d ;
    long long n ;
    int t ;
    scanf ( "%d" , &t ) ;
    while ( t-- ) {
        scanf ( "%lld %lld" , &a , &d );
        scanf ( "%lld" , &n ) ;
        long long x = 0 ;
            a%=n ;
            d%=n ;
            if ( a == 0 )
                x = 0 ;
            else if ( d == 0 )
                x = -1 ;
            else {
                long long ans = expo ( d , n-2 , n ) ;
                x = (ans * (n-a) )%n ;
            }
            cout << x << endl ;
    }
    return 0 ;
}
