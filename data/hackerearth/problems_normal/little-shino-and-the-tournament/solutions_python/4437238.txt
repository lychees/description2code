kk=raw_input()
n,b=kk.split()
n=int(n)
b=int(b)
a = [0]*n
ar=[]
string_input = raw_input()
arr = string_input.split()
arr = [int(k) for k in arr]

for i in range(0,n):
    ar.append(i)
while(len(ar)>1):
    m=int(len(ar)/2)
    for i in range(0,m):
        a[ar[i]]=a[ar[i]]+1
        a[ar[i+1]]=a[ar[i+1]]+1
        if arr[ar[i]]>arr[ar[i+1]]:
            del(ar[i+1])
        else:
            del(ar[i])
for x in range(0,b):
	print(a[int(input())-1])

	