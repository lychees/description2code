#include <bits/stdc++.h>
using namespace std;

long int a[3001][3];

long int sq(long int x)
{
	return x*x;
}

long double dist(long int x,long int y)
{
	return abs(sqrt(sq(a[x][0]-a[y][0]) + sq(a[x][1]-a[y][1])));
}

int main()
{
	ios::sync_with_stdio(false);
	
    long int n,i,j;
    long double m,dp[3001];
    cin>>n;
    
    for(i=0;i<n;i++)
    {
    	for(j=0;j<3;j++)
    	{
    		cin>>a[i][j];
    	}
    }
    dp[0]=(long double)a[0][2];
    dp[1]=(long double)a[0][2]+(long double)a[1][2]-dist(0,1);
    for(i=2;i<n;i++)
    {
        m=(long double)a[i][2]+a[0][2]-dist(i,0);
        for(j=1;j<i;j++)
        {
            m=max(m,dp[i-j]+(long double)a[i][2]-dist(i,i-j));
        }
        dp[i]=m;
    	
    }
    
    //for(i=0;i<n;i++)
        //cout<<fixed<<setprecision(6)<<dp[i]<<endl;
        //cout<<endl;
    
    cout<<fixed<<setprecision(6)<<dp[n-1];
    
    return 0;
}
