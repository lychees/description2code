#include<iostream>
#include<stdio.h>
#include<string>
#include<string.h>
#include<set>
#include<stack>
#include<vector>
#include<map>
#include<algorithm>
#include<stdlib.h>
using namespace std;
#define MOD 1000000007
#define MAX 3000
int a[MAX][MAX],n;
int mark1[MAX][MAX]={0};
int mark2[MAX][MAX]={0};
int check1(int i,int j){
    if(i<0 or j <0 or i > n or j > n) return 0;	 
    if(mark1[i][j]==1) return 0;
    mark1[i][j]=1;
    if(i==n-1) return 1;
    if( ( i+1<n and j-1>=0 and a[i+1][j-1]== 1 and check1(i+1,j-1) ) or ( i+1<n and j+1<n and a[i+1][j+1]==1 and check1(i+1,j+1) )
        or ( i+1<n  and a[i+1][j]== 1 and check1(i+1,j) ) or  
	(  j-1>=0 and a[i][j-1]== 1 and check1(i,j-1) ) or (  j+1<n and a[i][j+1]==1 and check1(i,j+1) ) ){
          return 1;
    }
    return 0; 
}
int check2(int i,int j){
    if(i<0 or j <0 or i > n or j > n) return 0;	 
    if(mark2[i][j]==1) return 0;
    mark2[i][j]=1;
    if(j==n-1) return 1;
    if( ( i-1 >=0 and j+1 < n and a[i-1][j+1]==2 and  check2(i-1,j+1)) or ( i+1<n and j+1< n and a[i+1][j+1]==2 and check2(i+1,j+1))
        or ( j+1 < n and a[i][j+1]==2 and  check2(i,j+1)) or
        ( i-1 >=0 and a[i-1][j]==2 and  check2(i-1,j)) or ( i+1<n  and a[i+1][j]==2 and check2(i+1,j)) ){
          return 1;
    }
    return 0; 
}
int main(){
    int i,j;
    cin >> n;
    for(i=0;i<n;i++){
        for(j=0;j<n;j++){
	    cin >> a[i][j];
	} 
    }
    int res1=0,res2=0;
    for(i=0;i<n;i++){
          if( a[0][i]==1 and check1(0,i)){
	       res1=1;	  
	       break;
	  }
    }
    for(i=0;i<n;i++){
          if( a[i][0]==2 and check2(i,0)){
	       res2=1;	  
	       break;
	  }
    }
    if(res1==1 and res2==0){
        cout << 1 << endl;
    }else if(res1==0 and res2==1){
         cout << 2 << endl;
    }else if(res1==1 and res2==1){
         cout << "AMBIGUOUS" << endl;
    }else{
          cout << 0 << endl;
    }
    return 0;
}

