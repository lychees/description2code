#include <bits/stdc++.h>

using namespace std;

void compute(){

    int people, transactions, i , j, paid, p, payable_amount, amount_to_bear;
	vector<string> names;
	vector<string>::iterator it;
    cin >> people;
    cin >> transactions;
    map<string, int> store;
    string string_input;
    for(i = 0; i < people; ++i){
        cin >> string_input;
        names.push_back(string_input);
        store[string_input] = 0;
    }

    for(i = 0;i < transactions; ++i){
        cin >> string_input;
        cin >> paid;
        store[string_input] += paid;
        cin >> p;
        payable_amount = floor(paid / (p + 1));
        amount_to_bear = paid - (payable_amount * (p + 1));
        store[string_input] -= payable_amount;
        store[string_input] -= amount_to_bear;

        for(j = 0; j < p; ++j){
            cin >> string_input;
            store[string_input] -= payable_amount;
        }
    }


    for(it = names.begin(); it != names.end(); ++it){
    	cout << *it;
        if(store[*it] > 0){
            cout << " is owed " << store[*it] << endl;
        }else if(store[*it] < 0){
            cout << " owes " << store[*it] * -1 << endl;
        }else{
            cout << " neither owes nor is owed\n";
        }
    }


}

int main(){
    int times;
    cin >> times;
    while(times--){
        compute();
    }
}
