#include <iostream>
using namespace std;

int count(int n) {
	if (n < 3)
		return n;
	else if (n < 10)
		return n-1;
	int msd, po = 1;
	while (n/po > 9) {
		po = po * 10;
	}
	msd = n/po;
	if (msd != 3)
		return count(msd)*count(po - 1) + count(msd) + count(n%po);
	else
		return count(msd * po - 1);
}

int main() {
	int t, n;
	cin >> t;
	while (t > 0) {
		cin >> n;
		cout << count(n) << endl;
		t--;
	}
}