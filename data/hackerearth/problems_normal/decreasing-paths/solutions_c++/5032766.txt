#include <bits/stdc++.h>
using namespace std;
#define ll long long int
#define mod 1000000007
ll dp[1001][1001],a[1001][1001],n;
ll recur(int i,int j)
{
	if(a[i][j]==1)
	return dp[i][j]=1;
	else if(dp[i][j]!=-1)
	return dp[i][j];
	else
	{
		dp[i][j]=1;
		if(a[i+1][j]<a[i][j]&&i+1<=n)
		{dp[i][j]=(dp[i][j]%mod +recur(i+1,j)%mod)%mod;
		}
		
		if(a[i-1][j]<a[i][j]&&i-1>0)
		{dp[i][j]=(dp[i][j]%mod +recur(i-1,j)%mod)%mod;
		}
		
		if(a[i][j-1]<a[i][j]&&j-1>0)
		{dp[i][j]=(dp[i][j]%mod +recur(i,j-1)%mod)%mod;
		}
		
		if(a[i][j+1]<a[i][j]&&j+1<=n)
		{
	    dp[i][j]=(dp[i][j]%mod +recur(i,j+1)%mod)%mod;
		}
	}
	return dp[i][j]%mod;
}
int main()
{
	ll i,j;
    cin>>n;
    memset(dp,-1,sizeof(dp));
    for(i=1;i<=n;i++)
    {
    	for(j=1;j<=n;j++)
    	{
    		cin>>a[i][j];
    		//cout<<a[i][j]<<endl;
    	}
    }
    ll sum=0;
    for(i=1;i<=n;i++)
    {
     for(j=1;j<=n;j++)
   { sum=(sum%mod+recur(i,j)%mod)%mod;
    
   // cout<<a[i][j]<<"sum"<<dp[i][j]<<endl;
   }
    }
    cout<<sum<<endl;
    return 0;
}
