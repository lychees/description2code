#include <iostream>
#include <map>
#include <stdio.h>
#include <vector>
#include <string.h>
using namespace std;
#define ll long long int
#define pb push_back



int main()
{
    //cout << "Hello World!" << endl;
    vector<ll> cub;
    
    int z=1;
    while(z*z*z<=6000){
    	cub.pb(z*z*z);
    	z++;
    }
    
    int t,n;
    
    cin >> t;
    
    while(t--){
    	
    	cin >> n;
    	
    	double den=n*(n-1)*(n-2);
    	den/=6.0;
    	int a[n];
    	
    	for(int i=0;i<n;i++)
    		cin >> a[i];
    		
    	int freqRange[2003][501];
    	memset(freqRange,0,sizeof(freqRange));
    	
    	freqRange[a[0]][0]=1;
    	
    	for(int i=1;i<n;i++){
    		for(int j=1;j<2001;j++)
    			freqRange[j][i]=freqRange[j][i-1]+(a[i]==j);
    	}
    	
    	int count=0;
    	for(int i=0;i<n-1;i++){
    		for(int j=i+1;j<n;j++){
    			if(j==n-1)
    				continue;
    			int S=a[i]+a[j];
    			for(int k=0;k<cub.size();k++){
    				if(cub[k]-S<0||cub[k]-S>2000)
    					continue;
					int X=cub[k]-S;
					count+=freqRange[X][n-1]-freqRange[X][j];
    			}
    		}
    	}
    	double ans=(double)count/(double)den;
    	printf("%.9f\n",ans);
    	
    	// for(int i=0;i<cub.size();i++)
    	// 	cout << cub[i] << endl;
	    	
    }
    return 0;
}
