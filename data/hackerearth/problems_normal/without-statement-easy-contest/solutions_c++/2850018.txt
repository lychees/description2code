#include <bits/stdc++.h>

using namespace std;

int main()
{
    int t;

    cin >> t;

    while (t--) {
        int n, lp, t1, t2, t3, i, id;

        int vis[1005];

        memset(vis, 0, sizeof(vis));

        cin >> n >> lp;

        id = 1;
        while (1) {
            t1 = n;
            t3 = 0;
            while (t1 != 0) {
                t2 = t1 % 10;
                t3 += (t2 * t2);
                t1 /= 10;
            }
            n = t3;

            if (vis[n])
                break ;

            vis[n] = id++;
            //cout << n << " " << vis[n] << endl;
        }

        if(lp < id) {
            for (i = 0; i < 730; i++) {
                if (vis[i] == lp)
                    break ;
            }

            cout << i << endl;

            continue ;
        }

        int segsize = id - vis[n];
        lp -= (id - segsize - 1);
        lp %= segsize;
        if (lp == 0)
            lp = segsize;

        //cout << lp << " " << segsize << "    " << (id - segsize - 1) << endl;
        for (i = 0; i < 730; i++) {
            if (vis[i] == (lp + id - segsize - 1))
                break ;
        }

        cout << i << endl;
    }

    return 0;
}
