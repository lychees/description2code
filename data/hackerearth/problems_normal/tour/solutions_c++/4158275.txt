#include<bits/stdc++.h>
using namespace std;
int cost[1003][1003];
map<string,int> mp;
int main()
{
		int n;
		int i;
		string str;
		cin>>n;
		for(i=1;i<=n;++i)
		{
				cin>>str;
				mp[str] = i;
		}
		int j;
		for(i=1;i<=n;++i)
		{
				for(j=1;j<=n;++j)
						cin>>cost[i][j];
		}
		int p;
		cin>>p;
		long long int sum = 0;
		int pre = 1;
		int cur;
		for(i=0;i<p;++i)
		{
				cin>>str;
				cur = mp[str];
				sum+=cost[pre][cur];
				pre = cur;
		}
		cout<<sum<<endl;
}
