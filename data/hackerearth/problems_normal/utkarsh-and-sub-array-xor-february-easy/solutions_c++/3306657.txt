/*
._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
	ABHINANDAN AGARWAL
	MNNIT ALLAHABAD
	CSE
._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._._
*/
#include<bits/stdc++.h>
using namespace std;
#define pc putchar_unlocked
#define gc getchar_unlocked
typedef long long ll;
typedef unsigned long long llu;
#define mp make_pair
#define pb push_back
#define sc(x) scanf("%d",&x)
#define sc2(x,y) scanf("%d%d",&x,&y)
#define scstr(x) scanf("%s",x)
#define pd(x) printf("%d",x)
#define pstr(x) printf("%s",x)
#define newl() printf("\n")
#define fl(i,n) for (i=0;i<n;i++)
#define fle(i,n) for (i=1;i<=n;i++)
#define fla(i,a,n) for (i=a;i<n;i++)
#define mem(a,i) memset(a,i,sizeof(a))
#define fi first
#define se second
typedef pair<int,int> pii;
typedef pair<int,pair<int,int> > piii ;
#define wl(n) while (n--)
#define MOD 1000000007
//-------------
ll powd(ll a, ll b, ll c)
{
	if (b==0)
		return 1;
	ll ret=powd(a,b/2,c);
	if (b&1)
		return (((a*ret)%c)*ret)%c;
	else
		return (ret*ret)%c;
}// a^b mod c is calculated by this.. 
map<ll,ll>m;
ll fin(ll x)
{
	//printf("find visited\n");
	if (m.find(x)==m.end())
		return m[x]=x;
	if (m[x]!=x)
		m[x]=fin(m[x]);
	return m[x];
}
int un(ll x,ll y)
{
	ll xr=fin(x);
	ll yr=fin(y);
	if (xr!=yr)
	{
		m[xr]=yr;
		return 1;
	}
	return 0;
}
int main()
{
	ll n,k;
	scanf("%lld%lld",&n,&k);
	ll u,v;
	int i;
	ll inv=powd(2,MOD-2,MOD);
	ll ans=powd(2,n,MOD);
	for (i=0;i<k;i++)
	{
		scanf("%lld%lld",&u,&v);
		if (un(u-1,v))
		{
			ans=(ans*inv)%MOD;
		}
		printf("%lld\n",ans);
	}
	return 0;

}