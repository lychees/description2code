#include <bits/stdc++.h>
#define ll long long int
using namespace std;

int main()
{
    ll test;
    cin >> test;
    while(test--)
    {
    	ll n;
    	cin >> n;
    	ll arr[n];
    	for(ll i=0;i<n;++i)
    		cin >> arr[i];
    	sort(arr,arr+n);
    	ll tot=0;
    	ll cnt=1;
    	ll prev=arr[0];
    	for(ll i=1;i<n;++i)
    	{
    		//cout << prev << " " << arr[i] << "\n";
    		if(arr[i]==prev)
    		{
    			++cnt;
    			prev=arr[i];
    		}
    		else
    		{
    			tot+=((cnt)*(cnt-1))/2;
    			//cout << tot << "\n";
    			cnt=1;
    			prev=arr[i];
    		}
    	}
    	tot+=((cnt)*(cnt-1))/2;
    	cout << tot+n << "\n";
    }
    return 0;
}
