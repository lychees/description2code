#include<iostream>
#include<cstdio>
#include<algorithm>
#include<vector>
#include<string>
#include<utility>
#include<set>
#define ll long long
using namespace std;
ll arr[100005],sze[100005],f[100005];
ll root(ll );
set<ll> s;
set<ll> :: iterator it;
ll dsu(ll a,ll b)
{
    ll r_a,r_b;
    r_a=root(a);
    r_b=root(b);
    if(r_a==r_b)
        return 0;
    f[sze[r_a]]--;
    if(f[sze[r_a]]==0)
        s.erase(sze[r_a]);
    f[sze[r_b]]--;
    if(f[sze[r_b]]==0)
        s.erase(sze[r_b]);
    if(sze[r_a]>sze[r_b])
    {
        arr[r_b]=arr[r_a];
        sze[r_a]+=sze[r_b];
        sze[r_b]=sze[r_a];
        f[sze[r_a]]++;
        s.insert(sze[r_a]);
    }
    else
    {
        arr[r_a]=arr[r_b];
        sze[r_b]+=sze[r_a];
        sze[r_a]=sze[r_b];
        f[sze[r_b]]++;
        s.insert(sze[r_b]);
    }
    return 0;
}
int main()
{
    ios_base::sync_with_stdio(false);
    ll n,q,i,j,x,y,x1,x2;
    cin>>n>>q;
    s.insert(1);
    for(i=0;i<=n;i++)
    {
        arr[i]=i;
        sze[i]=1;
        f[i]=0;
    }
    f[1]=n;
    ll ans=0;
    for(i=0;i<q;i++)
    {
        cin>>x>>y;
        if(x==y)
        {
            cout<<ans<<endl;
            continue;
        }
        dsu(x,y);
        it=s.begin();
        x1=*it;
        it=s.end();
        it--;
        x2=*it;
        //cout<<x1<<" "<<x2<<endl;
        ans=x2-x1;
        cout<<ans<<endl;
    }
    return 0;
}
ll root(ll i)
{
    while(arr[i]!=i)
        i=arr[i];
    return i;
}
