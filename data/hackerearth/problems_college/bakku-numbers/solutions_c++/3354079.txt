#include<iostream>
#include<bits/stdc++.h>
#include<iomanip>
using namespace std;

int main()
{
    int p1,p2;
    scanf("%d %d",&p1,&p2);
    long t;
    scanf("%ld",&t);
    while(t--)
    {
        double yes=0;
        long long l,r,i,j;
        scanf("%lld %lld",&l,&r);

        /*
        for(i=l;;i++) if(i%p1==0) break;
        for(j=r;;j--) if(j%p1==0){ yes+=(int)(j-i)/p1+1; break;}

        //printf("\n i : %lld, j : %lld ... ",i,j);
        //printf("\n %f ",yes);

        for(i=l;;i++) if(i%p2==0) break;
        for(j=r;;j--) if(j%p2==0){ yes+=(int)(j-i)/p2+1; break;}
        //printf(" i : %ld, j : %ld ... ",i,j);
        //printf(" %ld ",yes);

        for(i=l;r>=(p1*p2);i++) if(i%(p1*p2)==0) break;
        for(j=r;r>=(p1*p2);j--) if(j%(p1*p2)==0){ yes-=(int)(j-i)/(p1*p2)+1; break;}
        //printf(" i : %ld, j : %ld ... ",i,j);
        //printf(" %ld ",yes);*/

        if(l%p1==0) i=l;
        else i=l+(p1-l%p1);
        j=r-r%p1;
        yes+=(j-i)/p1+1;

        if(l%p2==0) i=l;
        else i=l+(p2-l%p2);
        j=r-r%p2;
        yes+=(j-i)/p2+1;

        if(l%(p1*p2)==0) i=l;
        else i=l+(p1*p2-l%(p1*p2));
        j=r-r%(p1*p2);
        yes-=(j-i)/(p1*p2)+1;

        yes=((double)yes)/(r-l+1);
        printf("%.6f\n",yes);
    }
}
