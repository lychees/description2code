#include <bits/stdc++.h>
using namespace std;

int main()
{
	int n,i,j,x,y;
	cin >> n;
	string s;
	long long int ans;
	while (n--)
	{
		cin >> s;
	//	cout << s << "\n";
		ans = 0;
		int a[s.size()][s.size()];
		for (i=0;i<s.size();i++) {
			a[i][i] = 1;
			ans++;
		}
		for (i=2;i<=s.size();i++) {
		//	ans=0;
			for (j=0;j<=s.size()-i;j++) {
				x = j+1;
				y = j+i-2;
		//		cout << "x = "<< x << "y = " << y << "\n";
				if (i == 2 && s[j] == s[j+i-1]) {
					a[j][j+i-1] = 1;
			//		cout << "ansi1 = " << ans << "\n";
					ans = ans + i*i;
			//		cout << s.substr(j,2) << "\n";
			//		cout << "i1 = " << i << "\n";
			//		cout << "ans1 = " << ans << "\n";
				}
				else if (i == 2 && s[j] != s[j+i-1])
					a[j][j+i-1] = 0;
				else if (a[x][y] == 1 && s[j] == s[j+i-1]) {
					a[j][j+i-1] = 1;
					ans = ans + i*i;
			//		cout << s.substr(j,i) << "\n";
			//		cout << "i2 = " << i << "\n";
			//		cout << "ans2 = " << ans << "\n";
				}
				else if(a[x][y] != 1 || s[j] != s[j+i-1])
                    a[j][j+i-1] = 0;

			}

		//	cout << "ans1 = " << ans << "\n";
		}
		cout << ans << "\n";
	}
	return 0;
}
