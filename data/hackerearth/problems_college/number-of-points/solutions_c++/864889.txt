#include<iostream>
#include<math.h>
using namespace std;
long long gcd(int a, int b)
{
	if (b == 0)
		return a;
	gcd(b, a%b);
}
int main()
{
	long long x1, x2, y1, y2, res, a, b;
	int t;
	cin >> t;
	while (t--)
	{
		cin >> x1 >> y1 >> x2 >> y2;
		a = abs(x1 - x2);
		b = abs(y1 - y2);
		if (a > b)
			res = gcd(a, b) + 1 ;
		else
			res = gcd(b, a) +1;
		if (res == 1)
			res++;
		cout << res-2<< endl;
	}

	return 0;
}