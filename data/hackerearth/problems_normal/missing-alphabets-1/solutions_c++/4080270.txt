#include <iostream>
#include <string.h>
#include <vector>
#include <map>;
#include <algorithm>
 
using namespace std;
 
map<char, int> m;
 
bool comp(string x, string y)
{
	int i;
	for(i=0;x[i]&&y[i];i++)
	{
	if(m[x[i]]<m[y[i]])
	return true;
	else
	if(m[x[i]]>m[y[i]])
	return false;
	}
	if(i==x.length()) return true;
	return false;
}
 
int main()
 
{
 
int t;
cin>>t;
while(t--)
 
{
	string s;
	cin>>s;
	
	for(int i=0; i<=s.length(); ++i)		
	m[s[i]]=i;
	
	int cases;
	cin>>cases;
	
	
	vector<string> temp;
		
		for(int i=0 ; i<cases; i++)
		{
		string test;
		cin>>test;
		temp.push_back(test);
		}
		sort(temp.begin(), temp.end(), comp);
		
		for(int i=0 ; i<cases; i++)
		cout<<temp[i]<<endl;
			
		temp.clear();
		m.clear();
	
	
		
}
    
    
return 0;    
    
}