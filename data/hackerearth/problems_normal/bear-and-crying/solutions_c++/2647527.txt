#include <bits/stdc++.h>
using namespace std;
int main(){
	string s;
	cin >> s;
	long long *dp=new long long[s.length()+2];
	int n=s.length();
	for(int i=0;i<=n+1;i++)
		dp[i]=0;
	long long k=1;
	long long mod=1000000007;
	int prev = n+1;
	long long ans=0;
	long long temp=0;
	for(int i=n;i>0;i--){
		if(s[i-1]=='_')
			k = (k<<1)%mod;
		else{
				dp[i]=(dp[prev]*k)%mod;
				if(k!=1){
					dp[i]=(dp[i]+(k-1)*temp)%mod;
					++temp;
				}
				else
					++temp;
				ans += dp[i];
				ans = ans%mod;
			k = 1;
			prev = i;
		}
	}
	cout << ans << endl;
}
