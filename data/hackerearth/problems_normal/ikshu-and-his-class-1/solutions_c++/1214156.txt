/*
*
*	FileName: 
*	Created By: r3gz3n
*	Description: 
*
*/
#include <bits/stdc++.h>

#define ll long long
#define ull unsigned long long

using namespace std;

const ll MOD = 1000000007;
const int MAX = 100005;
int a;
ll fac[MAX];
vector <int> v[MAX];
bool visited[MAX];

void dfs(int s)
{
    visited[s] = true;
    a++;
    for(int i = 0;i < v[s].size();++i)
    {
        if(visited[v[s][i]] == false)
        {
            dfs(v[s][i]);
        }
    }
}

void s()
{
    fac[0] = 1;
    for(int i = 1;i < MAX;++i)
    {
        fac[i] = fac[i-1]*i;
        fac[i] %= MOD;
    }
}

int main()
{
    //freopen("input.txt", "r", stdin);
    int n, k, x, y;
    cin >> n >> k;
    s();
    for(int i = 0;i < k;++i)
    {
        cin >> x >> y;
        v[x].push_back(y);
        v[y].push_back(x);
    }
    ll ans = 1;
    for(int i = 0;i < n;++i)
    {
        if(visited[i] == false)
        {
            a = 0;
            dfs(i);
            ans *= fac[a];
            //cout << a << endl;
            ans %= MOD;
        }
    }
    if(ans < 0) ans += MOD;
    cout << ans << endl;
    return 0;
}
