for _ in xrange(input()):
    q = ['a', 'b', 'c', 'A', 'B', 'C']
    x = raw_input()
    n = len(x)
    res = 0
    i = 0
    while i < n:
        c = 0
        while i < n and (x[i] in q):
            # print x[i]
            # print "in"+str(i)
            c += 1
            i += 1
        res += (c*(c+1))/2
        i += 1
    print res
