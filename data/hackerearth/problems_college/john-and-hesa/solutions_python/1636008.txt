t = input()
while(t):
    t -= 1
    x,p = map(int,raw_input().split())
    count = 0
    if(p != 1):
        while(x%p == 0):
            x = x/p
            count += 1
    if(x == 1):
        print count,0
    else:
        print count,x
