#include<iostream>
#include<vector>

using namespace std;

int main()
{
	vector <int>a;	
	int t,i,max_count,n,j,arr1[1001],arr2[1001],cond[1001],temp_count,k;
	int hash1[1001],hash2[1001],dp[1001],blabla[1001];
	cin>>t;
	for(i=0;i<t;i++)
	{
		max_count=0;
		cin>>n;
		for(j=0;j<n;j++)
		{
			cin>>arr1[j];
			hash1[arr1[j]]=j;
			cin>>arr2[j];
			hash2[arr2[j]]=j;
			cond[j]=0;
		}
		for(j=0;j<n;j++)
		{
			dp[j]=arr2[hash1[j+1]];
			blabla[j]=0;
		}
	/*	for(j=0;j<n;j++)
		{
			cout<<dp[j]<<" ";
		}
		cout<<endl;*/
		for(j=n-1;j>-1;j--)
		{
			for(k=j;k>-1;k--)
			{
				if(dp[j]>dp[k])
				{
					blabla[k]=max(blabla[k],blabla[j]+1);
					max_count=max(max_count,blabla[k]);
				}
			}
		}
	/*	for(j=0;j<n;j++)
		{
			if(cond[j]==0)
			{
				cond[j]=1;
				temp_count=1;
				for(k=0;k<n;k++)
				{
					if(cond[k]!=1){
						if(arr1[j]<arr1[k] && arr2[j]<arr2[k])
						{
							temp_count++;
							cond[k]=1;
							a.push_back(k);
						}}
				}
				max_count=max(temp_count,max_count);
			}
		}*/
		cout<<max_count+1<<endl;
	}
	return 0;
}

