#include <bits/stdc++.h>
using namespace std;

#define D(c) (c-'0')
#define C(n) (n+'0')

typedef long long int ll;
typedef vector<int> vi;
typedef vector<string> vs;

const int MOD = 1e9+7;

int main()
{
	ios_base::sync_with_stdio(false);
	int t;
	set<int> st;
	cin>>t;
	while(t--) {
		int e,u,v;
		cin>>e;
		while(e--) {
			cin>>u>>v;
			st.insert(u);
			st.insert(v);
		}
		cout<<st.size()<<"\n";
		st.clear();
	}
	return 0;
}
