#include<bits/stdc++.h>
#define ll long long
#define pb push_back
#define f first
#define s second
#define mk make_pair
#define ms(a,v) memset(a,v,sizeof(a))
using namespace std;
 
const int lim=1e5+5;
const int M=1e9+7;
 
ll dp[101][101][1002];
  
int main()
{
  ios_base::sync_with_stdio(false);cin.tie(NULL);
 // freopen("input.txt", "r", stdin);
  ll t,i,j,k;
  
  cin>>t;
  while(t--)
  {
  	int n,m,l,k,a[101][101];
  	cin>>n>>m>>k;
  
  for(i=1;i<=n;i++)
  {
  	for(j=1;j<=m;j++)
  	cin>>a[i][j];
  }
  
  for(i=0;i<=100;i++) 
  {
  	for(j=0;j<=100;j++)
  	{
  		for(l=0;l<=500;l++)
  		{
  		  dp[i][j][l]=0;	
		}
	}
   } 
   dp[0][0][0]=1;
  for(i=1;i<=n;i++)
  {
  	for(j=1;j<=m;j++)
  	{
  		for(l=0;l<=500;l++)
  		{
  			if((dp[i][j-1][l]==1))
  	        dp[i][j][l+a[i][j]]=1;
  	       
			if((dp[i-1][j][l]==1))
  	        dp[i][j][l+a[i][j]]=1;
  	       	
			if((dp[i-1][j-1][l]==1))
  	        dp[i][j][l+a[i][j]]=1;
        }
	}
  }
  
  ll ans=-1;
  for(i=1;i<=k;i++)
  {
  	
	if(dp[n][m][i]==1)
  	{
	  ans=i;
    }
  	
  }
  
  
  cout<<ans<<endl;
  }
  return 0;
}