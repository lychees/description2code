#include<bits/stdc++.h>
#define sd(x) scanf("%d",&x)
#define sl(x) scanf("%lld",&x)
#define For(n) for(int i=0;i<n;i++)
#define ll long long
#define pii pair<int,int>
#define F first
#define S second
#define MP make_pair
#define PB push_back
#define CLR(x) memset(x,0,sizeof(x));
using namespace std;
bool prim[10000001]={0};
ll Ans(vector<int> tmp){
    ll t=0;
    for(int i=tmp.size()-1;i>=0;i--){
        if(prim[tmp[i]])
           t+=tmp[i];
           else
                t-=tmp[i];
    }
    return t;
}
int main(){
    prim[0]=true;prim[1]=true;
    for(int i=2;i<=3000;i+=2){
        for(int j=i*i;j<=9000000;j+=i){
            prim[j]=true;
        }
        if(i==2)
            i--;
    }
    int t,x,y;
    ios::sync_with_stdio(false);
    cin>>t;
    while(t--){
        vector<int> X,Y,ans;
        cin>>x>>y;
        int tmp=x;//cout<<"gere";
        while(tmp>0){
            X.PB(tmp);//cout<<tmp;
            tmp=tmp>>1;
        }
        tmp=y;
        while(tmp>0){
            Y.PB(tmp);
            tmp=tmp>>1;
        }
        int i=X.size()-1,j=Y.size()-1;
        ans.PB(0);
        while(X[i]==Y[j]&&(i>=0)&&(j>=0)){
            ans[0]=X[i];
            i--;j--;
        }//cout<<ans[0]<<" ";
        while(i>=0){
            ans.PB(X[i]);
            //cout<<X[i]<<" ";
            i--;
        }//cout<<endl;
        while(j>=0){
            ans.PB(Y[j]);
            //cout<<Y[j]<<" ";
            j--;
        }cout<<Ans(ans)<<endl;
    }
}

