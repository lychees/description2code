#include<iostream>
#include<map>
#include <string>
using namespace std;
int main()
{
    int t;
    cin>>t;
    while(t--){
    string s;
    map<pair<int,int>,long long int >ma;
    cin>>s;
    pair<int,int>k1;
    int ca=0,cb=0,cc=0,i;
    ma.clear();
    ma[make_pair(0,0)]++;
    for(i=0;i<s.length();i++)
    {
                if(s[i]=='a')
                    ca++;
                else if(s[i]=='b')
                    cb++;
                else if(s[i]=='c')
                    cc++;
                k1=make_pair(ca-cb,ca-cc);
                ma[k1]++;
        //        cout<<ma[k1];
    }
    long long int ans=0;
  //  iterator it;
 //   cout<<endl;
   map<pair<int,int>,long long int >::iterator it;
    for(it=ma.begin();it!=ma.end();it++)
    {
         //   cout<<it->second;
                if(it->second > 1)
                    ans+=(it->second)*(it->second-1)/2;
    }
    // if(it->second > 1)
      //              ans+=(it->second)*(it->second-1)/2;
      //        cout<<endl;

    cout<<ans<<endl;
    }
    return 0;
}

