#include<bits/stdc++.h>
int main() {
	int t;
	scanf("%d",&t);
	long long s,n,d,a[100001],i,j,c;
	while(t--) {
		std::map<long long ,long long> M;
		c=0;
		scanf("%lld%lld",&n,&d);
		for(i=0;i<n;i++) {scanf("%lld",&a[i]);M[a[i]]++;}
		std::sort(a,a+n);
		for(i=0;i<n;i++) {
			if(M[a[i]]>1) {
				if(M[a[i]]%2==0) {
					c+=(M[a[i]]/2);
					M[a[i]]=0;
				}
				else {
					c+=((M[a[i]]/2));
				     i=M[a[i]]-1;
				}
			} 
			if(M[a[i]]) {
			for(j=i+1;j<n;j++) {
				if(M[a[j]]) {
				s=abs(a[i]-a[j]);
				if(s<=d){c++;M[a[i]]=0;M[a[j]]--;break;}
				}
			}
			}
		}
		printf("%lld\n",c);
	}
	return 0;
}