#include<iostream>
#include<cstdio>
#include<cstring>
#include<string>
#include<map>
#include<vector>
#include<algorithm>
#include<cmath>
#include<cstdlib>
#include<set>
#include<stack>
#include<deque>
#include<queue>
#include <limits.h>
#define pb(x) push_back(x)
#define getcx getchar_unlocked
using namespace std;

int main()
{
    int t;
    int n,p;
    
    long long ans=0;
    int extra;
    scanf("%d",&t);
    while(t--)
    {ans=0;
     int maxi=0;
      map<int,int> counto;
      scanf("%d",&n);scanf("%d",&p);
      priority_queue< pair<int,int> > mypq;
      
       
        
      for(int i=0;i<n;i++)   
        {scanf("%d",&extra);
         counto[extra]=counto[extra]+1;
         maxi=max(extra,maxi);
       }
        
      for(int i=0;i<=maxi;i++)
        if(counto[i])
       mypq.push(make_pair(counto[i],i));
       
       pair<int,int> x[p];
       pair<int,int> y;
      while(mypq.size()>=p)
        { for(int i=0;i<p;i++) 
                  {x[i]=mypq.top();
                  mypq.pop();}
                
          //extra= x[p-1].first;
          ans+=1;  
          for(int i=0;i<p;i++) 
                  {if(x[i].first==1)
                     break;
                 x[i]=make_pair(x[i].first-1,x[i].second);mypq.push(x[i]);}     
        }
       
     cout<<ans<<endl; 
    }
   return 0;
}
