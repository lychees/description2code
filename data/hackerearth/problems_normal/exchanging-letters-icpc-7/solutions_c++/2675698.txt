#include<bits/stdc++.h>
#define ll long long 
#define mod 1000000007
using namespace std;
ll fact[20005];
ll power(ll a,ll b)
{
    ll ret=1;

    while(b)
    {
        if(b%2==1)
            ret=(ret*a)%mod;
        b/=2;
        a=(a*a)%mod;
    }
    return ret;
}
ll ie(ll a)
{
	 return power(a,mod-2) ;
}

ll com(ll a,ll b)
{
	 if(b>=a) 
	  return 1;
	 return   ( (((fact[a])*ie(fact[a-b])) % mod )*(ie(fact[b]))  ) % mod ;
}
int main()
{
	ll i,j,k,l,n,t,temp,sum,ans;
	vector <ll> v;
	fact[0]=1;
	
	for(i=1;i<20005;i++)
        fact[i]=(i*fact[i-1]) % mod;
        
    ll hash[100006];
	cin>>n>>k>>t;
	sum=0;
	ll dif=0;
	
	for(i=0;i<k;i++)
	{
		scanf("%lld",&temp);
		if(temp==0)
		{
			t=t-1;
			continue;
		}
		if(temp==n+1)
		{
			t=t-(n-1);
			continue;
		}
		v.push_back(temp);
		sum+=temp;
	}
	
	if(sum>t)
	dif=sum-t;
	else
	dif=t-sum;
	
	ll size=v.size();
	//cout << size << " " << dif << endl;
	if(dif>size)
	{
		printf("0");
		return 0;
	}
	
	temp=size-dif;
	
	if(temp%2==1)
	{
		printf("0");
		return 0;
	}
	else if(dif==size)
	{
		printf("1");
		return 0;
	}
	else
	{
		temp=temp/2;
		ans=com(size,temp);
		cout << ans ;
	}
	
	return 0;
}