#include<bits/stdc++.h>
#define mod 1000000007
using namespace std;
static bool v[1000001];
static unsigned long long sum[1000001],sum2[1000001];
long long po(long long a,long long b){
	long long x=1,y=a;
	while(b>0){
		if(b%2)
		x=x*y,x%=mod;
		y=y*y;
		y%=mod;
		b/=2;
	}
	return x;
}
int main(){
	memset(v,false,sizeof(v));
	sum[0]=sum[1]=sum2[1]=sum2[0]=0;
	for(unsigned long long int i=2;i<=1000000;i++){
		sum[i]=sum[i-1];
		sum2[i]=sum2[i-1];
		if(v[i]){
			continue;
		}
		sum[i]+=i;
		sum[i]%=mod;
		sum2[i]+=(i*i)%mod;
		sum2[i]%=mod;
		for(int j=2*i;j<=1000000;j+=i)
	      	v[j]=true;
	}
	int t;
	scanf("%d",&t);
	while(t--){
		int l,r;
		scanf("%d %d",&l,&r);
		unsigned long long ans=(sum[r]-sum[l-1]+mod)%mod;
		//printf("%lld\n",ans);
		ans=(ans*ans)%mod-((sum2[r]-sum2[l-1]+mod)%mod)+mod;
		ans%=mod;
		ans*=po(2,mod-2);
		ans%=mod;
		printf("%llu\n",ans);
	}
	return 0;
}