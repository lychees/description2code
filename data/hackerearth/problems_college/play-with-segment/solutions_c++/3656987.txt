#include<bits/stdc++.h>
#include<stdio.h>
using namespace std;
#define MAX 500007
long a[MAX];
long maxim(long a,long b)
{
	if(a>b)
	return a;
	return b;
}
long mini(long a,long b)
{
	if(a<b)
	return a;
	return b;
}
int main()
{
	int t,n,i,j,l,r,ans,temp;
	cin >> t;
	long max,min;
	while(t--){
		scanf("%ld",&n);
		for(i=0;i<n;i++)
		scanf("%ld",&a[i]);
		l=0;
		r=0;
		min=a[l];
		max=a[r];
		ans=0;
		while(l!=n && l<=n-ans){
			if(max-min<=1){
				r++;
			max=maxim(max,a[r]);
			min=mini(min,a[r]);
			}
			
			temp=r-l+1;
				if(temp>=ans && max-min<=1)
				{
					ans=temp;
				}
			if(r==n || max-min>1){
				l++;
				r=l;
				max=a[l];
				min=a[l];
			}
		}
		printf("%d\n",ans);
	}
	return 0;
}