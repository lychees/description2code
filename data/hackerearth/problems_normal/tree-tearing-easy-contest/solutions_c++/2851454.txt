#include<bits/stdc++.h>
using namespace std;
int ans=0;
int dfs(vector<int>v[],int arr[],bool visit[],int n,int k)
{
    visit[n]=true;
    int count=0;
    for(int i=0;i<v[n].size();i++)
    {
        if(visit[v[n][i]]==false)
        {
            count+=dfs(v,arr,visit,v[n][i],k);
        }
    }
    count++;
    if(count>=k)
    {
        ans++;
        count=0;
    }
    return count;
}
int main()
{
     int n,k;

    cin>>k>>n;
    vector<int>a[n+1];
    int arr[n+1];
    bool visit[n+1];
    fill(visit,visit+n+1,false);
    for(int i=2;i<=n;i++)
    {
        int x;
        cin>>x;
        a[x].push_back(i);
        a[i].push_back(x);
    }
    dfs(a,arr,visit,1,k);
    cout<<ans<<endl;

}
