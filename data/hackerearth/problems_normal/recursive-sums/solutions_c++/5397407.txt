#include <iostream>
using namespace std;
 int sumofdigit(long long unsigned int n)
     {
     	 long long unsigned int sum=0,d;
     	 while(n!=0)
     	   {
     	   	 d=n%10;
     	   	 sum=sum+d;
     	   	 n=n/10;
     	   }
     	  return sum; 
     }
int main()
{
    int t;
    cin>>t;
    while(t--)
      {
      	 int m,d;
      	 long long unsigned int sum=0;
      	 cin>>m;
      	 long long unsigned int len,num=0;
      	 for(int i=0;i<m;i++)
      	   {
      	   	 cin>>len;
      	   	 cin>>d;
      	   	
      	   	 num+=len*d; 
      	   	 num=sumofdigit(num);
      	   }
      	   do{
      	       sum=sumofdigit(num);
      	       num=sum;
      	      }while(sum>9);
      	  cout<<sum<<endl; 
      }
      
    return 0;
}
