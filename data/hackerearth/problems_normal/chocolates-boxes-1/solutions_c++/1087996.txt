#include<bits/stdc++.h>
using namespace std;
#define ll long long int
#define pi pair<ll,ll>
#define f first
//#define mp make_pair
#define s second
#define pb push_back
#define mod 1000000007
#define get(t) scanf("%d",&t)
int main(){
	ll t;
	cin>>t;
	ll a[100001];
	ll f[101];
	while(t--){
		ll n,k;
		cin>>n;
		vector<ll>v;
		for(int i=0;i<=100;i++) f[i]=0;
		for(int i=0;i<n;i++) {
		cin>>a[i];
		f[a[i]]++;
		if(f[a[i]]==1) v.pb(a[i]);
	    }
		sort(v.begin(),v.end());
		cin>>k;
		ll ans=0;
		ll i=0;
		ll j=v.size()-1;
		while(i<j){
			if(v[i]+v[j]==k) ans=ans+f[v[i]]*f[v[j]],i++,j--;
			else if(v[i]+v[j]>k) j--;
			else i++;
		}
		if(k%2==0) ans=ans+(f[k/2]*(f[k/2]-1))/2;
		cout<<ans<<"\n";
	}
	
	
	
} 