#include<iostream>
#include<algorithm>
#include<vector>
#include<assert.h>
#include<deque>
using namespace std;

int const N = 4e3 + 41;
int const MOD = 1e9 + 7;

int n, k, t, f[N], C[N][N], sum, dp[N][N];

void read(){
	scanf("%d%d%d",&n,&k,&t);
	for(int i=0;i<k;++i){
		int id;
		scanf("%d",&id);
		sum += id;
	}
}

void calcC(){
	for(int i=0;i<N;++i){
		C[0][i] = 1;
		for(int j=1;j<=i;++j){
			C[j][i] = (C[j-1][i-1] + C[j][i-1]) % MOD;
		}
	}
}

int main(){
#ifdef _DEBUG
	freopen("input.txt","r",stdin);
	freopen("output.txt","w",stdout);
#endif
	calcC();
	read();
	if(abs(t-sum) > k){
		printf("0\n");
	}else{
		int diff = abs(t-sum);
		int rem = k - diff;
		if(rem % 2 != 0){
			printf("0\n");
		}else{
			int from = diff + rem / 2;
			printf("%d\n",C[from][k]);
		}
	}

	return 0;
}