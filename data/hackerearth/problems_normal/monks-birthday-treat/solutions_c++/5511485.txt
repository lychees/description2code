#include<bits/stdc++.h>
#define ll long long
using namespace std;
vector <ll> adj[10005];  
vector<ll>::iterator it;
bool visited[10005]={false};
int cnt;
int dfs(int s) {
    visited[s] = true;
    cnt=cnt+1;
    //cout<<"x"<<cnt<<endl;
    for(int i = 0;i < adj[s].size();++i)    {
    	//cout<<"loop"<<endl;
     if(visited[adj[s][i]] == false)
         dfs(adj[s][i]);
    }
   visited[s]=false;
   
    return 0;
}
int main() {
    ll nodes, edges,x,y;         
    cin >>nodes>>edges;                    
    for(int i = 1;i<=edges;++i) {
     cin >> x >> y; 
	 it=find(adj[x].begin(),adj[x].end(),y);
	 if(it==adj[x].end())   
     adj[x].push_back(y); 
	 //adj[y].push_back(x);                                    
    }
    ll m=99999;
    	
    for(int i=1;i<=nodes;++i)
    { 	
       cnt=0;
		if(visited[i] == false)  {
		
    	dfs(i);
    	//cout<<"y"<<cnt<<endl;   
    	if(cnt<m)
    	m=cnt;
     
    	
		}
	} 
	cout<<m<<endl;       
      return 0;
    }
   