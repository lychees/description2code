#include <iostream>
using namespace std;

int main()
{
    long t,n;
    cin>>t;
    for(long i=0;i<t;i++)
    {
    	cin>>n;
    	long sum=0;
    	for(long j=2;j<n;j*=2)
    	{
    		for(long k=1;k<j;k*=2)
    		{
    			if(j+k<=n)
    			sum=(sum+j+k)%1000000007;
    		}
    	}
    	cout<<sum<<endl;
    }
}
