#include <bits/stdc++.h>
using namespace std;

int n;
long long t;
int A[100005];
int P[100005];

int S[100005];

int temp[100005];

void go(int *A, int *B) {
	for(int i = 1; i <= n; i++)
		temp[i] = A[i];
	for(int i = 1; i <= n; i++)
		A[i] = temp[B[i]];
}

int main() {
	scanf("%d %lld", &n, &t);
	for(int i = 1; i <= n; i++)
		scanf("%d", &A[i]);
	for(int i = 1; i <= n; i++)
		scanf("%d", &P[i]);
	
	for(int i = 1; i <= n; i++)
		S[i] = i;
	
	while(t) {
		if(t % 2) go(S, P);
		go(P, P);
		t /= 2;
	}
	go(A, S);
	for(int i = 1; i <= n; i++)
		printf("%d ", A[i]);
	printf("\n");
	
	
}