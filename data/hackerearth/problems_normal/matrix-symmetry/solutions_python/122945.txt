'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
N = int(raw_input())

for i in range(N):
  n = int(raw_input())
  M = [[0]*n]*n

  for i in range(n):
    M[i] = list(raw_input())

  horizontal = vertical = True

  for i in range(n/2):
    up = left = i
    down = right = n-i-1

    for j in range(n):
      if not (M[up][j] == M[down][j]):
        horizontal = False

      if not (M[j][left] == M[j][right]):
        vertical = False

  if horizontal and vertical:
    print "BOTH"
  elif horizontal:
    print "HORIZONTAL"
  elif vertical:
    print "VERTICAL"
  else:
    print "NO"


