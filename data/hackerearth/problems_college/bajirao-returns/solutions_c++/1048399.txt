#include<iostream>
#include<queue>
using namespace std;
int main()
{
	int n, z;
	cin >> n;
	int p[100][100];
	int i, j;
	for (i = 0; i<n; i++)
	{
		for (j = 0; j<n; j++)
			cin >> p[i][j];
	}
	int* l=new int[n], m1;
	int a[100][100];
	for (i = 0; i<n; i++)
		a[0][i] = p[0][i];
	for (i = 1; i<n; i++)
	{
		int i1 = i - 1;
		for (z = 0; z<n; z++)
			l[z] = 0;
		for (j = 0; j<n; j++)
		{
			int  j1 = j + 1, z1; m1 = 0;
			queue<int> q;
			q.push(j1);
			while (!q.empty())
			{
				z1 = q.front();
				q.pop();
				if (a[i1][z1 - 1]>m1)
					m1 = a[i1][z1 - 1];
				if (2 * z1 <= n)
					q.push(2 * z1);
				if (2 * z1 + 1 <= n)
					q.push(2 * z1 + 1);
			}
			if (j1 % 2 == 0)
			{
				j1 = j1 / 2;
				while (j1 % 2 == 0)
				{
					if (l[j1 - 1]>m1)
						m1 = l[j1 - 1];
					j1 /= 2;
				}
				if (l[j1 - 1]>m1)
					m1 = l[j1 - 1];
			}
			l[j] = m1;
			a[i][j] = p[i][j] + m1;
		
		}
	
	}

	j = 0;
	for (i = 0; i<n; i++)
	{
		if (a[n - 1][i]>j)
			j = a[n - 1][i];
	}

	cout << j;

	return 0;
}

