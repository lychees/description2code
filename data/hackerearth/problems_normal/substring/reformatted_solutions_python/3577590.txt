testcases = int(raw_input())

for i in range(0, testcases):
    inputarray = [x for x in raw_input()]
    # print inputarray
    listofchars = ['a', 'A', 'b', 'B', 'c', 'C']
    listofnumbers = []
    counter = 0
    totalcount = 0
    for j in range(0, len(inputarray)):
        # print inputarray[j]
        if inputarray[j] not in listofchars:
            # print "inside"
            listofnumbers.append(counter)
            counter = 0
        elif j == len(inputarray) - 1 and inputarray[j] in listofchars:
            counter = counter + 1
            listofnumbers.append(counter)
        else:
            counter = counter + 1
    # print listofnumbers
    for item in listofnumbers:
        totalcount = totalcount + (item * (item + 1)/2)
    print totalcount
