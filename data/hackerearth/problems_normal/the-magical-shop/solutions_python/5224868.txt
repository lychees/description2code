A, B = map(int, raw_input().split())

S = raw_input()


# A, B = 5, 100
# S ='101'

ans = 0

i = 1
for ch in S:
	# print i
	if ch == '1':
		ans += A
		ans %= B
	A = (A*A) % B

print(ans)