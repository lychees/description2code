primes = []


def sieve():
    multiples = set()
    for i in xrange(2, 1000005):
        if i not in multiples:
            primes.append(i)
            multiples.update(range(i*i, 1000005, i))


sieve()
for _ in xrange(input()):
    n = input()
    if n == 1:
        print 0
        continue

    if n in primes:
        print 1
    else:
        if n % 2 == 0:
            print 2
        else:
            if n-2 in primes:
                print 2
            else:
                print 3
