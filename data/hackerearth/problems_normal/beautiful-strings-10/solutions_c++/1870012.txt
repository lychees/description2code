#include <bits/stdc++.h>
using namespace std;

typedef pair<int,int> ii;
typedef long long ll;

int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
    	// for S[i..j]  nA=A[i]-A[j-1] 
    	// 				nB=B[i]-B[j-1]
    	//				nC=C[i]-C[j-1]
    	// 		nA=nB=nC
    	//		A[i]-B[i]=A[j-1]-B[j-1]
    	//		B[i]-C[i]=B[j-1]-C[j-1]
    	string s;
    	cin>>s;
    	map<ii,int> m;
    	m[ii(0,0)]=1;
    	int ans=0,a,b,c;
    	a=b=c=0;
    	for(ll i=0;i<s.length();i++)
    	{
    		a+=(s[i]=='a');
    		b+=(s[i]=='b');
    		c+=(s[i]=='c');
    		ans+=(m[ii(a-b,b-c)]);
    		m[ii(a-b,b-c)]++;
    	}
    	printf("%d\n",ans);
    }
    return 0;
}
