import math
for j in range(input()):
    a1, a2, b1, b2 = map(int, raw_input().split())
    r, ctr = (float)(1 + math.sqrt(5)) / 2, 0
    for i in range(a1, a2+1):
        up = i * r
        down = i / r
        if b1 >= up or b2 <= down:
            ctr += b2 - b1 + 1
        else:
            if b1 <= down:
                ctr += max(0, math.floor(down) - b1+1)
            if b2 >= up:
                ctr += max(0, b2-math.ceil(up) + 1)
    print "Case #{}: {}".format(j+1, int(ctr))
