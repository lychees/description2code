#include <iostream>
#include<algorithm>
#include<stdlib.h>
using namespace std;

int main()
{
    int m,ll,r,n;
    cin>>m>>ll>>r>>n;
    n=n+3;
    int arr[n],val;
    vector<int> v;
    int t=n-3;
    while(t--)
    {
    	cin>>val;
    	v.push_back(val);
    }
    sort(v.begin(),v.end());
    fill(arr,arr+n,-1);
    if(ll<=r)
    {
    	 arr[0]=ll;
         arr[n-1]=r;
	}    
	else
	{
		arr[0]=r;
         arr[n-1]=ll;
	}
    
    		arr[n/2]=m;
    		
    		int i,j,k,l;
    		i=0;j=n/2;k=n/2;l=n-1;
    		int a[4];
    		while(!v.empty())
    		{
    			fill(a,a+4,101);
    			if(arr[i+1]==-1)
    					a[0]=abs(v.front()-arr[i]);
    			if(arr[j-1]==-1 && v.front()<=arr[j])
    					a[1]=abs(v.front()-arr[j]);  
    			if(arr[k+1]==-1 && v.front()>arr[k])
    					a[2]=abs(v.front()-arr[k]);	
    			if(arr[l-1]==-1)
    					a[3]=abs(v.front()-arr[l]);
    					
    			int *el=min_element(a,a+4);
    		
    			int pos=el-a;
    			
    			switch(pos)
    			{
    				case 0: arr[++i]=v.front();break;
    				case 1: arr[--j]=v.front();break;
    				case 2: arr[++k]=v.front();break;
    				case 3: arr[--l]=v.front();break;
    			}
    			v.erase(v.begin());
    		  
    		}
    		
    	
    		
    		int diff=0,diff1=0;
    		
    	    for(i=1;i<n;i++)
    	       diff+=abs(arr[i]-arr[i-1]);
    	    if(n%2==0)   
    	    {   t=arr[(n/2)-1];
    	       arr[(n/2)-1]=arr[n/2];
    	       arr[(n/2)-1]=t;
    	       
    	    for(i=1;i<n;i++)
    	       diff1+=abs(arr[i]-arr[i-1]);
    	       
    	    }  
   			cout<<max(diff,diff1);
    
    return 0;
}
