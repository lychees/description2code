#include <iostream>
#include <string.h>
using namespace std;
int calccost()
{
	int length,mcost=0,min;
    int aC,bC;
    char st[10000];
    cin>>st;
    cin>>aC>>bC;
    if(aC<bC)
    min=aC;
    else min=bC;
    length=strlen(st);
    for(int i=0;i<length/2;++i)
    {
    	if(st[i]==st[length-1-i])
    	{
    		if(st[i]=='/')
    		{
    			mcost=mcost+(2*min);
    		}
    		continue;
    	}
    	else if(st[i]=='a')
    	{
    		if(st[length-1-i]=='/')
    		mcost=mcost+aC;
    		else if(st[length-1-i]=='b')
    		{
    			mcost=-1;
    			break;
    		}
    	}
    	else if(st[i]=='b')
    	{
    		if(st[length-1-i]=='/')
    		mcost=mcost+bC;
    		else if(st[length-1-i]=='a')
    		{
    			mcost=-1;
    			break;
    		}	
    	}
    	else if(st[i]=='/')
    	{
    		if(st[length-1-i]=='a')
    		mcost=mcost+aC;
    		else
    		mcost+=bC;
    	}
    }
    return mcost;
}    

int main()
{
	int c=0;
	cin>>c;
	int *mc=new int[c];
	for(int i=0;i<c;++i)
	{
		mc[i]=calccost();
	}
	for(int i=0;i<c;++i)
    cout<<mc[i]<<'\n';
    return 0;
}
