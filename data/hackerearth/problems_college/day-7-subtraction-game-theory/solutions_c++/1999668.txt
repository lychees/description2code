#include <iostream>
using namespace std;
#include<bits/stdc++.h>
#define max 1000000
#define mod 1000000007

int main()
{
    int x,y;
    scanf("%d %d",&x,&y);
    long int q,i,n;
    long long int a[max];
    scanf("%'ld",&q);
    a[0]=1;
    for(i=1;i<=max;i++)
    {a[i]=((a[i-1]*x)-y)%mod;}
    while(q--)
    {scanf("%ld",&n);
    printf("%lld",a[n]);
    printf("\n");
    }
    
   
    
    return 0;
}
