#include <iostream>
using namespace std;
int arr[10000000];
int min_1(int a, int b)
{
	if(a>b)
	return b;
	return a;
}
int count1(int x)
{
	if(x<10000000)
	return arr[x];
	int y,min;
	y=x-1;
	if(x%2==0)
	y=min_1(y,1+count1(x/2));
	else 
	y=min_1(y,1+count1(x-1));
	if(x%3==0)
	y=min_1(y,1+count1(x/3));
	else
	y=min_1(y,1+count1(x-1));
	return y;
}
int main()
{
    int i,x,t;
    arr[1]=0;
    arr[2]=1;
    arr[3]=1;
    arr[4]=2;
    arr[5]=3;
    for(i=6;i<10000000;i++)
    {
    	arr[i]=arr[i-1]+1;
    	if(i%2==0 && arr[i/2]<arr[i])
    	arr[i]=arr[i/2]+1;
    	if(i%3==0 && arr[i/3]<arr[i])
    	arr[i]=arr[i/3]+1;
    }
    cin>>t;
    while(t--)
    {
    	cin>>x;
    	if(x<10000000)
    	cout<<arr[x]<<endl;
    	else
    	cout<<count1(x)<<endl;
    }
    return 0;
}
