def sn(n):
    return (n*(n+1))/2


x = input()
while (x):
    x -= 1
    cout = 0
    y = input()
    numberSet = {}
    arr = list(map(int, raw_input().split()))
    for a in arr:
        try:
            numberSet[a] += +1
        except BaseException:
            numberSet[a] = 1
    for a in numberSet:
        cout += sn(numberSet[a])
    print cout
