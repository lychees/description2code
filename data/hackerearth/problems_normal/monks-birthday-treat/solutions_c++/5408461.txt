#include<iostream>
#include<vector>
#include<stack>
using namespace std;
     
vector<int> A[100001];
vector<bool> vis(100001);
int Min = 10000;
     
void dfs(int st){
	for(int i = 0 ; i < 100001 ; i++ ){
    	vis[i] = false;
    }
    stack<int> s;
    s.push(st);
    vis[st] = true;
    int count = 1;
    while( !(s.empty()) ){
    	int v = s.top();
    	s.pop();
    	for(int i = 0 ; i < A[v].size() ; i++ ){
    		if( vis[A[v][i]] == false ){
    			s.push(A[v][i]);
    			vis[A[v][i]] = true;
    			count++;
    		}
    	}
    }
    if( count < Min ){
    	Min = count;
    }
}

int main(){
    int x, y, N, D;
    cin>>N>>D;
    for(int i = 0 ; i < D ; i++ ){
    	cin>>x>>y;
    	A[x].push_back(y);
    }
    
    for(int i = 1 ; i <= N ; i++ ){
    	dfs(i);
    }
    cout<<Min<<endl;
    
    return 0;
  }