#pragma comment(linker, "/STACK:1024000000,1024000000") 
#include <iostream>
#include <stdio.h>
#include <algorithm>
#include <string.h>
#include <vector>
#include <map>
#include <queue>
#include <set>
#include <assert.h>
#include <cmath>
#define x first 
#define y second 
#define pb push_back 
#define mp make_pair 
#define vi vector<int> 
#define pii pair<int,int> 
#define ll long long 
#define ull unsigned long long 
#define inf 1000000007 
#define mod 1000000007 
#define all(x) x.begin(),x.end() 
#define N 100010
#define pi acos(-1.)
#define DBG(x) cerr<<#x<<"="<<x<<"\n"; 
#define FOREACH(it,x) for(__typeof(x.begin()) it=x.begin();it!=x.end();it++) 
using namespace std;

int s[N];
ll dp[505][303];
ll sqr(int n){return 1LL*n*n;}
int main()
{
    //clock_t start=clock();
    int T,i,j,k,ca=0,m,n;
    scanf("%d%d",&n,&m);
    for(i=0;i<n;i++)scanf("%d",&j),s[i+1]=s[i]+j;
    ll ans=1LL*s[n]*s[n];
    for(i=0;i<=n;i++)
        for(j=0;j<=m;j++)dp[i][j]=1e15;
    dp[0][0]=0;
    for(i=1;i<=n;i++)
        for(j=1;j<=m;j++){
            for(k=i-1;k>=0;k--){
                dp[i][j]=min(dp[i][j],dp[k][j-1]+sqr(s[i]-s[k]));
            }
        }
    printf("%lld\n",dp[n][m]*m-ans);
    return 0;
}