#include<bits/stdc++.h>
#include <iostream>
using namespace std;
#define p 1000000007
typedef long long int LL;


int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
    	LL n,q;
    	scanf("%lld %lld",&n,&q);
    	q--;
    	LL ans = n*n - (n%q)*((n+q-1)/q) * ((n+q-1)/q);
    	ans -= (q - n%q)* (n/q)*(n/q);
    	ans/=2;
    	cout<<(n*(n-1)/2LL) - ans<<endl;
    }
    return 0;
}
