'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''
for _ in range(input()):
	a, b = input(), map(int, raw_input().split())
	k = input()
	m, ans = [0] * k, 0
	for i in b:
		if i < k: m[i] += 1
	for i in range(1, (k / 2) + 1):
		if 2 * i == k and m[i] >= 2:
			ans += m[i] * (m[i] - 1) / 2
		else:
			ans += m[i] * m[k - i]
	print ans

