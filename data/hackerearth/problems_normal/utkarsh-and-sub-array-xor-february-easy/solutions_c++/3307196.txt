#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define m 1000000007
map<ll,ll>mp;
ll power(ll a, ll b)
{
	if (b==0)
		return 1;
	ll f=power(a,b/2);
	if (b&1)
		return (((a*f)%m)*f)%m;
	else
		return (f*f)%m;
}

ll se(ll s)
{
	if (mp.find(s)==mp.end())
		return mp[s]=s;
	if (mp[s]!=s)
		mp[s]=se(mp[s]);
	return mp[s];
}
bool union_(ll a,ll b)
{
	ll xroot=se(a);
	ll yroot=se(b);
	if (xroot!=yroot)
	{
		mp[xroot]=yroot;
		return true;
	}
	return false;
}

int main()
{
	ll n,k,a,b,i;
	scanf("%lld%lld",&n,&k);
	ll inversetwo=power(2,m-2);
	ll sum=power(2,n);
	for (i=0;i<k;i++)
	{
		scanf("%lld%lld",&a,&b);
		if (union_(a-1,b))
		sum=(sum*inversetwo)%m;
		printf("%lld\n",sum);
	}
	return 0;

}