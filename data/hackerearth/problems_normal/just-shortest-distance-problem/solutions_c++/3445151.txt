#include <bits/stdc++.h>
using namespace std;
vector<long long> v[1002];
long long h[1002];
void func(long long int r)
{
	for (int i = 0; i < v[r].size(); i++)
	{
		int to = v[r][i];
		if (h[to]>h[r] + 1)
		{
			h[to] = h[r] + 1;
			func(to);
		}
	}
}
int main()
{
    long long n,m,d,l,r,i;
    cin>>n>>m;
    for(i=2;i<=1001;i++)
    {
    	h[i]=1000000000;
    }
    h[1]=0;
    while(m--)
    {
    	cin>>d;
    	if(d==1)
    	{
    		cin>>l;
    		if(h[l]>100000000)
    		{
    			cout<<"-1"<<endl;
    		}
    		else
            cout<<h[l]<<endl;
    	}
    	else
    	{
    		cin>>l>>r;
    		v[l].push_back(r);
    		if(h[r]>h[l]+1)
    		{
    			h[r]=h[l]+1;
    			func(r);
    		}
    	}
    }
    return 0;
}
