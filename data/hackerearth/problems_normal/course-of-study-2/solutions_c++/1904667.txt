#include <bits/stdc++.h>
using namespace std;
typedef long long ll;
ll hi = 1000000007;
ll po(ll a, ll b)
{
	if(b==0)return 1;
	ll x = po(a,b/2);
	x=(x*x)%hi;
	if(b%2)x = (x*a)%hi;
	return x;
}
ll fa[200005];
	
int main()
{
	fa[0] = 1;
	int m;
	for(m=1;m<=200001;m++)
	{
		fa[m] = (m*fa[m-1])%hi;
	}
	int n;
	int sum = 0;
	ll den = 1;
	scanf("%d",&n);
	int i;
	ll num = 1;
	for(i=0;i<n;i++)
	{
		scanf("%d",&m);
		sum+=m;
		den = (den*po(fa[m],hi-2))%hi;
		map<int,int> gr;
		int j;
		int x;
		for(j=0;j<m;j++)
		{
			scanf("%d",&x);
			gr[x]++;
		}
		map<int,int>::iterator I;
		for(I=gr.begin();I!=gr.end();I++)
		num = (num*fa[I->second])%hi;
	}
//	den = po(den,hi-2);
	ll ans = (num*fa[sum])%hi;
	printf("%lld\n",(ans*den)%hi);
    return 0;
}
