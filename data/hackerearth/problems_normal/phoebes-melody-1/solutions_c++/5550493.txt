#include<bits/stdc++.h>
#define mp make_pair
#define endl '\n'
#define pi pair<int,int>
//#define int long long
#define mod (1000*1000*1000 +7)
using namespace std;
int t=1,n;
int x,k;
vector<pi> v;
set<int> s;

 main()
{
    ios_base::sync_with_stdio(0);
	cin.tie(0);
	cout.tie(0);
    cin>>t;
   while(t--)
   {
     cin>>n>>k;
     v.clear(); s.clear();
     for(int i=0;i<n;i++)
     {
         cin>>x;
         v.push_back({x,i+1});
     }
     sort(v.begin(),v.end());

     int sum=0;
     for(int i=0;i<n;i++)
     {
         int dis=INT_MAX;
         auto p=s.lower_bound(v[i].second-k+1);
         if(p!=s.begin()&&!s.empty())dis=abs((*(--p))-v[i].second);

         auto q=s.upper_bound(v[i].second+k-1);
         if(q!=s.end())dis=min(dis,abs((*q)-v[i].second));


         if(dis!=INT_MAX)sum+=dis;

         s.insert(v[i].second);
     }
     cout<<sum<<endl;
   }
   return 0;
}
