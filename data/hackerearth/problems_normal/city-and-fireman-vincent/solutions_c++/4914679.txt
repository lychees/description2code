#include <iostream>
using namespace std;

const int mod = 1000000007;
int n, k, e[1005];
int root[1005], small[1005], times[1005], size[1005];

int find(int i){
	while (i != root[i]){
		i = root[i];
	} return i;
}

int main()
{
    cin>>n;
    for (int i=0; i<n; i++) cin>>e[i];
    
    for (int i=0; i<n; i++){
    	root[i] = i;
    	small[i] = e[i];
    	times[i] = 1;
    	size[i] = 1;
    }
    
    cin>>k;
    for (int i=0; i<k; i++){
    	int a, b; cin>>a>>b;
    	
    	a = find(a-1);
    	b = find(b-1);
    	
    	if (a != b){
			root[a] = b;
			if (small[a] == small[b]){
				times[b] += times[a];
			} else if (small[a] < small[b]){
				small[b] = small[a];
				times[b] = times[a];
			}
			
			size[b] += size[a];
			times[a] = 0;
			small[a] = 0;
			size[a] = 0;
    	}
    }
    
    int ans=1;
    for (int i=0; i<n; i++){
		
    	if (size[i] != 0){
    		ans = ans * times[i] % mod;
			
    	}
    }
    cout<<ans<<endl;
    return 0;
}
