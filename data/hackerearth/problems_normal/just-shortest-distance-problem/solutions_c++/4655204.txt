#include <bits/stdc++.h>
using namespace std;

int dp[1001];
vector<int> e[1001];

int main()
{
    int n,m; cin>>n>>m;
    for(int i=2; i<=n; i++)
    dp[i]=5000;
    dp[1]=0;
    while(m--)
    {
    	int type; cin>>type;
    	if(type==1)
    	{
    		int v; cin>>v;
    		if(dp[v]>=2000) cout<<-1<<endl;
    		else cout<<dp[v]<<endl;
    	}
    	else
    	{
    		int a,b; cin>>a>>b;
    		e[a].push_back(b);
    		if(dp[a]+1<dp[b])
    		{
    			dp[b]=dp[a]+1;
    			queue<int> q;
    			q.push(b);
    			while(q.size())
    			{
    				int v=q.front();
    				q.pop();
    				for(vector<int>::iterator it=e[v].begin(); it!=e[v].end(); it++)
    				{
    					if(dp[*it]>dp[v]+1)
    					{
    						dp[*it]=dp[v]+1;
    						q.push(*it);
    					}
    				}
    			
    			}
    		}
    	}
    }
    return 0;
}
