#include <bits/stdc++.h>
using namespace std;
int main(void)
{
int t;
scanf("%d",&t);
while(t--)
{
int n, k;
scanf("%d %d",&n, &k);
vector<int> arr(n);
for(int i=0; i<n; i++)
{
scanf("%d",&arr[i]);
int count=0;
while(arr[i])
{
	count++;
	arr[i] = arr[i]&(arr[i]-1);
}
arr[i] = count;
}
sort(arr.rbegin(), arr.rend());
int sum = 0;
for(int i=0; i<k; i++)
{
	sum += arr[i];
}
printf("%d\n",sum);
}
return 0;
}