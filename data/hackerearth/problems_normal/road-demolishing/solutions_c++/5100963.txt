#include<bits/stdc++.h>
using namespace std;
#define ff first
#define ss second
#define TR(it,v) for( __typeof((v).begin())it = (v).begin() ; it != (v).end() ; it++ )
#define ll long long
#define llu unsigned long long
#define MOD 1000000007
#define INF 2000000000
#define dbg(x) { cout<< #x << ": " << (x) << endl; }
#define all(x) x.begin(),x.end()



int main()
{
    int t;
    scanf("%d",&t);
    assert(1 <= t && t <= 100000);
    while(t--)
    {
        ll n,q;
        scanf("%lld%lld",&n,&q);
        assert(3 <= n && n <= 1000000);
        assert(3 <= q && q <= n);
        q--;
        ll ans = n*n - (n%q)*((n+q-1)/q)*((n+q-1)/q) - (q - n%q)*(n/q)*(n/q);
        ans /= 2;
        ans = (n*(n-1))/2 - ans;
        printf("%lld\n",ans);
    }
    return 0;
}