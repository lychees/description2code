#include<bits/stdc++.h>

using namespace std;

#define LL long long int
#define sd(x) scanf("%d", &x)
#define MP make_pair
#define PB push_back
#define vi vector<int>
#define F first
#define S second
#define INF 1000000000
#define MOD 1000000007
#define D double
#define LD long double

#define N 1123

bool adj[N][N];
int dis[N];
queue<int> Q;

int main(){
	int n, m, a, b, u, v;
	sd(n); sd(m); sd(a); sd(b);
	memset(adj, true, sizeof adj);
	//cout<<adj[1][3]<<endl;
	while(m--){
		sd(u); sd(v);
		adj[u][v] = false;
		adj[v][u] = false;
	}
	memset(dis, -1, sizeof dis);
	Q.push(a);
	dis[a] = 0;
	while(!Q.empty()){
		u = Q.front();
		//cout<<u<<" "<<dis[u]<<endl;
		if(u == b){
			break;
		}
		Q.pop();
		for(v = 1; v <= n; v++){
			if(adj[u][v] == true && dis[v] == -1){
				dis[v] = dis[u] + 1;
				Q.push(v);
			}
		}
	}
	cout<<dis[b]<<endl;
    return 0;
}
