#include <cstdio>
#include <algorithm>
#include <vector>
#include <iostream>
#include <string>
#include <string.h>
#include <cmath>
#include <set>
#include <map>
#include <bitset>
#include <iomanip>
#define X first
#define Y second
#define mp make_pair
#define pb push_back
typedef long long ll;
using namespace std;
const int MAXN = 3010, UP = 31;
int go[MAXN][UP];
int f(int x) {
    int res = 0;
    while (x > 0) {
        int dig = x % 10;
        res += dig*dig;
        x /= 10;
    }
    return res;
}
void precalculate() {
    for (int i = 0; i < MAXN; i++) {
        go[i][0] = f(i);
    }
    for (int j = 1; j < UP; j++) {
        for (int i = 0; i < MAXN; i++) {
            go[i][j] = go[ go[i][j - 1] ][j - 1];
        }
    }
}
void solve() {
    int n, m;
    cin>>n>>m;
    if (n >= MAXN) {
        n = f(n); m--;
    }
    for (int i = UP - 1; i >= 0; i--) {
        if ( (1<<i) <= m ) {
            n = go[n][i];
            m -= (1<<i);
        }
    }
    cout<<n<<endl;
}
int main() {
    precalculate();
    int test;
    cin>>test;
    while (test--) {
        solve();
    }
    return 0;
}
