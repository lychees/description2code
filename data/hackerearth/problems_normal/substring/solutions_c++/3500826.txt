#include <iostream>
#include <string.h>

using namespace std;

char a[256];

int main() {
        int T;
        a['A'] = 1;
        a['a'] = 1;
        a['B'] = 1;
        a['b'] = 1;
        a['C'] = 1;
        a['c'] = 1;
        cin >> T;
        while(T--)
        {
                char str[100001];
                long long int ans = 0;
                cin >> str;
                int count = 0, len;
                len = strlen(str);
                for(int i=0;i<len;i++) {
                        if(a[str[i]] == 1) {
                                count++;
                        } else {
                                //cout << "count = " << count << endl;
                                ans += (count*(count+1))/2;
                                count = 0;
                        }
                }
                //cout << "count = " << count << endl;
                ans += (count*(count+1))/2;
                count = 0;
                cout << ans << endl;
        }
}
