#include <bits/stdc++.h>
using namespace std;

int main()
{
	long long i,j,k,n,m,t;
	scanf("%lld",&t);
	while(t--)
	{
		scanf("%lld %lld",&n,&m);
		long long a[n],ans[n][m];
		for(i=0;i<n;i++)
		scanf("%lld",&a[i]);
		for(i=0;i<n;i++) {
			for(j=0;j<m;j++)
			ans[i][j]=0;
		} 
		for(i=0;i<n;i++) {
			for(j=1;j<m;j++) {
				for(k=0;k<i;k++)
				ans[i][j]=max(ans[k][j-1]+abs(a[k]-a[i]),ans[i][j]);
			}
		}
		long long answ=0;
		for(i=0;i<n;i++) {
			if(ans[i][m-1]>answ)
			answ=ans[i][m-1];
		}
		printf("%lld\n",answ);
	}
    return 0;
}

