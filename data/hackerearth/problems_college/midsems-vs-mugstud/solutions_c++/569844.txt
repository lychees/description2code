#include <iostream>
using namespace std;

int main() {
	int t;
	cin>>t;
	while(t--)
	{
		int n;
		cin>>n;
		int brr[60][60][60]={0};
		int arr[60][60][60]={0};
		for(int i=0;i<n;i++)
		{
			for(int j=0;j<n;j++)
			{
				for(int k=0;k<n;k++)
				cin>>brr[i][j][k];
				
				
			}
			
			
		}
		
		for(int i=0;i<n;i++)
		{
			for(int j=0;j<n;j++)
			{
				for(int k=0;k<n;k++)
				{	
					int a=0,b=0,c=0,d=0;
					
						 
						 a=brr[i][j][k];
					 	 if(j>0 && k>0)
					 	 b=brr[i][j-1][k-1];
					 	 if(j>0)
						 c=brr[i][j-1][k];
						 if(k>0)
						 d=brr[i][j][k-1];
						
						if(i>0)
						{
						 a-=brr[i-1][j][k];
					 	 if(j>0 && k>0)
					 	 b-=brr[i-1][j-1][k-1];
					 	 if(j>0)
						 c-=brr[i-1][j-1][k];
						 if(k>0)
						 d-=brr[i-1][j][k-1];
						}
						arr[i][j][k]=a-(c+d-b);
						cout<<arr[i][j][k]<<" ";
					
				}		
				cout<<"\n";
			}
			
			
		}
		
		
		
		
	}
	// your code goes here
	return 0;
}