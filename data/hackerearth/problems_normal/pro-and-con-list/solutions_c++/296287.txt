#include <cstdio>
#include <cstring>
#include <cstdlib>
#include <cmath>
#include <cctype>
#include <iostream>
#include <algorithm>
#include <functional>
#include <vector>
#include <string>
#include <map>
#include <set>
#include <queue>
#include <stack>
using namespace std;

typedef long long LL;
typedef pair<int,int> PII;
typedef vector<int> VI;

#define PB push_back
#define MP make_pair
#define clr(a,b)	(memset(a,b,sizeof(a)))
#define rep(i,a)	for(int i=0; i<(int)a.size(); i++)

const int INF = 0x3f3f3f3f;
const double eps = 1E-8;

LL sum;
int T,n;
LL s[100010];

int main()
{
	cin>>T;
	while(T--)
	{
		sum = 0;
		scanf("%d",&n);
		for(int i=1; i<=n; i++)
		{
			LL a,b;
			cin>>a>>b;
			s[i] = a + b;
			sum -= b;
		}
		sort(s+1, s+1+n);
		sum += (s[n] + s[n-1]);
		cout<<sum<<endl;
	}

	return 0;
}
