#include <iostream>
#include<cmath>
using namespace std;
bool pair1(int a,int x)
{
	int arr1[100],arr2[100];
	int i=0,j=0;
	while(a!=0)
	{
		arr1[i++]=a%10;
		a/=10;
	}
	while(x!=0)
	{
		arr2[j++]=x%10;
		x/=10;
	}
	for(int k=0;k<i;k++)
	{
		for(int l=0;l<j;l++)
		{
			if(arr2[l]==arr1[k])
			   return 1;
		}
	}
	return 0;
}
int main() {
	int t;
	cin>>t;
	
	while(t--)
	{
		int count=0;
		int a;
		cin>>a;
		if(a==1)
		  cout<<1<<endl;
		else
		{
		for(int i=1;i<=sqrt(a);i++)
		{
			if(a%i==0)
			{
			    if(pair1(a,i)==1 )
			     {  //cout<<i<<endl; 
			     	count++;  }
			     
			     if(pair1(a,a/i)==1)
			       {  //cout<<a/i<<endl;
			       	count++;}
			} 
		}
	     int res1=sqrt(a);
		float res=sqrt(a);
		if(res-(float)res1==0)
		{
			if(pair1(a,res1)==1)
		        cout<<count-1<<endl;
		    else
		      cout<<count<<endl;
		}
		else
		 cout<<count<<endl;
		}
	}
	// your code goes here
	return 0;
}