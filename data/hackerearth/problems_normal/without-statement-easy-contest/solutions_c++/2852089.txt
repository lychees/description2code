#include <bits/stdc++.h>

using namespace std;
typedef long long ll;
typedef vector<int> vi;
#define sqr(x) (x) * (x)

ll solve(ll num){
	ll res = 0;
	while (num){
		res += sqr(num % 10);
		num /= 10;
	}
	return res;
}

int main(){
	int t; cin >> t;
	while (t--){
		ll n, m; cin >> n >> m;
		map<ll, int> mmap;
		int turn = 0;
		vector<ll> prev;
		while (turn < m && true){
			if (mmap.count(n)) break;
			mmap[n] = turn;
			prev.push_back(n);
			n = solve(n);
			turn++;
		}
		if (turn == m) cout << n << "\n";
		else {
			int cyc = turn - mmap[n];
			int diff = (m - turn) % cyc;
			ll res = prev[mmap[n] + diff];
			cout << res << "\n";
		}
	}

	return 0;
}