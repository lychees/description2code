#include<bits/stdc++.h>
using namespace std;
void preorder(long int l);
long int left1[100001];
long int right1[100001];
int main()
{
    int t;
    cin>>t;
    while(t--)
    {
        long int x,y,z,n,i;
        cin>>n;
        for(i=1;i<=100001;i++)
            {
                left1[i]=-1;
                right1[i]=-1;
            }
        for(i=1;i<=n;i++)
        {
               cin>>x>>y>>z;

            left1[x]=y;
            right1[x]=z;
        }
        preorder(1);
       cout<<"\n";
    }
return 0;
}
void preorder(long int l)
{
    if(l==0)
        return;
    cout<<l<<" ";
    if(left1[l]!=-1)
        preorder(left1[l]);
    if(right1[l]!=-1)
        preorder(right1[l]);
}


