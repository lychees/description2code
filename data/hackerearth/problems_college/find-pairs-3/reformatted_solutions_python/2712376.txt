from collections import defaultdict

num_tests = int(raw_input().strip())

for test in xrange(num_tests):
    raw_input()
    inputs = [int(ele) for ele in raw_input().strip().split(' ')]
    freq_dict = defaultdict(list)
    for i in xrange(len(inputs)):
        freq_dict[inputs[i]].append(i)
    pairs = 0
    for key in freq_dict:
        if len(freq_dict[key]) >= 1:
            pairs += sum(xrange(len(freq_dict[key]), 0, -1))
    print pairs
