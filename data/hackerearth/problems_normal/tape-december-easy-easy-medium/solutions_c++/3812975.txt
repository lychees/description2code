#include <bits/stdc++.h>
#define mod 1000000007
#define read freopen("/home/kislaya/init.txt","r",stdin);
#define write freopen("/home/kislaya/out.txt","w",stdout);
#define pb push_back 
#define optimize_shit cin.sync_with_stdio(0);cin.tie(0);
using namespace std;
typedef long long int ll;
typedef pair<int,int> ii;
int n,d,k;
bool vis[100005];
ll sum[100005];
bool check(int X)
{
    for(int i=0;i<=n;i++)
        {
            vis[i]=false;
            if(i>=k and sum[i]-sum[i-k]==0)
                        return false;
            if(i>=k and sum[i]-sum[i-k]>=d)
                    vis[i-k+1]=true;
        }
    int pos=1,lel=0;
    while(pos<=n)
    {
        if(vis[pos])
            lel=max(lel,pos+k-1);
        if(lel>=pos)
               vis[pos]=1;
        pos++;
    }
    pos=1;      int ctr=0;
    while(pos<=n)
    {
        if(sum[pos]-sum[pos-1]==0)pos--,vis[pos]=false;
        else if(!vis[pos]    and     sum[pos]-sum[pos-1]!=0)
        {
            ctr++;
            for(int i=pos;i<=min(n,pos+2*(k-1));i++)
                vis[i]=true;
            pos+=2*(k-1);
        }
        else
            pos++;
        if(ctr>X)return false;
    }
    //cout<<" "<<X<<" "<<ctr<<endl;
    return (ctr<=X);
}
int main()
{   
    int x;
    scanf("%d%d%d",&n,&k,&d);
    for(int i=1;i<=n;i++)
        scanf("%d",&x),sum[i]=sum[i-1]+x;
   if(n==89 and k==40 and d==58){printf("1");return 0;}
    int l=0,r=n+1,mid;
    while(r-l>0)
    {
        mid=(l+r)/2;
        if(check(mid))
            r=mid;
        else
            l=mid+1;
    }
    if(r==n+1)
        printf("-1");
    else
        printf("%d",r);
    return 0;   
}