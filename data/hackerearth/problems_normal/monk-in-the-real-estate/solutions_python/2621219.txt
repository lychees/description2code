import sys
def link(G,u,v):
    if v not in G:
        G[v]=[]
    if u not in G:
        G[u]=[]
    G[u].append(v)
    G[v].append(u)

t= int(sys.stdin.readline())
while t:
    G={}
    n=int(sys.stdin.readline())
    for i in xrange(n):
        u,v=map(int,sys.stdin.readline().split())
        link(G,u,v)
    #print G
    print len(G.keys())
    t-=1