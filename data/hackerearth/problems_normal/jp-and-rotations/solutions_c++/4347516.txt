#include <bits/stdc++.h>
#define ll long long int 

using namespace std;

int main()
{
    ll n,m,h,temp=0,ans=-1;
    char c;
    cin>>n>>m;
    ll A[n],B[n];
    char C[m];
    ll H[m];
    for(int i=0;i<n;i++)
    {
    	cin>>A[i];
    }
    for(int i=0;i<n;i++)
    {
    	cin>>B[i];
    }
    for(int i=0;i<m;i++)
    {
    	cin>>C[i]>>H[i];
    }
    for(int i=0;i<m;i++)
    {
    	c=C[i];h=H[i];
    	if(c=='R')
    	{
    		temp-=h;
    	}
    	else
    	{
    		temp+=h;
    	}
    	if(temp<0)
    	{
    		temp=abs(temp)%n;
    		temp=temp*-1;
    	}
    	else
    	{
    		temp=temp%n;
    	}
    	int flag=0;
    	for(int j=0;j<n;j++)
    	{
    		ll a=temp+j;
    		while(a<0)
    		{
    			a=abs(a)%n;
    			a=a*-1;
    			a+=n;
    			a=a%n;
    		}
    		if(a>=n)
    			a%=n;
    		if(A[a]!=B[j])
    		{
    			flag=1;
    			break;
    		}
    	}
    	if(flag==0)
    	{
    		ans=i+1;
    		break;
    	}
    }
    cout<<ans<<endl;
    return 0;
}
