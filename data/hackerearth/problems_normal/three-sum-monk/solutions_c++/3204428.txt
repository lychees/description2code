#include <bits/stdc++.h>
using namespace std;

#define pb push_back

int main()
{
  ios::sync_with_stdio(false);
  cout.setf(ios::fixed);
  cout << setprecision(9);

  int T,N,i,j,k,res,ways;
  double ans;

  vector<int> Cubes;
  for(i=0;i<20;i++)
      Cubes.pb(i*i*i);

  cin >> T;
  while(T--)
    {
      cin >> N;
      vector<int> A(N);
      for(i=0;i<N;i++)
	cin >> A[i];

      int occ[2001][N];
      for(j=N-1;j>=0;j--)
	{
	  for(i=0;i<=2000;i++)
	    {
	      if(j==N-1)
		occ[i][j]=0;
	      else
		occ[i][j]=occ[i][j+1];
	    };
	  occ[A[j]][j]+=1;
	};


      ways=0;
      for(i=0;i<N-2;i++)
	{
	  for(j=i+1;j<N-1;j++)
	    {
	      for(k=1;k<20;k++)
		{
		  res = Cubes[k]-A[i]-A[j];
		  if(res>=0 and res<=2000)
		  ways+=occ[res][j+1];
		};
	    };
	};

      ans = ways;
      ans/=((N*(N-1)*(N-2))/6);
      cout << ans << endl;
    };
  return 0;
}
