#include<bits/stdc++.h>
using namespace std;
#define S(t) scanf("%d",&t)
#define SL(t) scanf("%lld",&t)
#define PL(t) printf("%lld\n",t)
#define P(t) printf("%d\n",t)
#define D(t) int i,j,t; S(t); while(t--)
#define For(i,a,b) for(i=a;i<b;i++)
#define Fore(i,a,b) for(i=a;i<=b;i++)
#define Fill(v,a) memset(v,a,sizeof(v))
typedef long long int ll;
vector<int> a[100005];
int level[100005];
void dfs(int root)
{
    stack<int> s;
    level[root]=0;
    s.push(root);
    vector<int>::iterator it;
    while(!s.empty())
    {
        int t=s.top();
        int ht=level[t];
       // printf("%d %d\n",t,ht);
        s.pop();
        for(it=a[t].begin();it!=a[t].end();++it)
        {
            level[*it]=ht+1;
            s.push(*it);
        }
    }

}
int main()
{
    D(t)
    {
        int n;
        S(n);
        Fore(i,1,n)
        a[i].clear();
        int root;
        Fore(i,1,n)
        {
            int temp;
            S(temp);
            if(temp==0)
                root=i;
            else
                a[temp].push_back(i);
        }
        dfs(root);
        ll soh=0;
        for(i=1;i<=n;i++)
            soh+=level[i];
        ll total=((ll)n*(n-1))/2;
        printf("%lld %lld\n",soh,total-soh);
    }
    return 0;
}
