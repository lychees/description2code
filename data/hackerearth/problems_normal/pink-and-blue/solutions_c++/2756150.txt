#include <iostream>
using namespace std;

int main()
{
    int n,m;
    cin>>n>>m;
    char boyGirl[n];
    char res[n];
    for(int i=0;i<n;i++) 
    {
    	cin>>boyGirl[i];
    	res[i]='-';
    }
    int f1,f2;
	for(int i=0;i<m;i++)
	{
		cin>>f1>>f2;
		if(res[f1-1]==res[f2-1])
		{
			if(res[f1-1]!='-')
			{
				cout<<"Not possible";
				return 0;
			}
			else
			{
				res[f1-1]='B';
				res[f2-1]='G';
			}
		}
		else if(res[f1-1]=='B')
		{
			res[f2-1]='G';
		}
		else if(res[f1-1]=='G')
		{
			res[f2-1]='B';
		}
		else if(res[f2-1]=='B')
		{
			res[f1-1]='G';
		}
		else
			res[f1-1]='B';
	}
	int count=0;
	for(int i=0;i<n;i++)
	{
		if(res[i]!=boyGirl[i])
			count++;
	}
	if(count < (n-count))
		cout<<count;
	else
		cout<<n-count;
    return 0;
}
