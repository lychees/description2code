#include<bits/stdc++.h>
using namespace std;
const int mx=1e5+10;
int a[mx];
int main(){
	int n;
	scanf("%d",&n);
	map<int,int>mp,f;
	for(int i=0;i<n;i++){
		scanf("%d",a+i);
		mp[a[i]]++;
	}
	map<int,int>::iterator it;
	bool ok=true;
	for(it=mp.begin();it!=mp.end();it++){
		int c=it->second;
		if(n-c>=c-1){}
		else ok=false;
	}
	if(!ok){
		puts("-1");
		return 0;
	}	
	for(int i=0;i<n;){
		int v=a[i],c=0;
		while(i<n && a[i]==v)i++,c++;
		f[v]+=c-1;		
	}	
	priority_queue<int>q;
	for(it=f.begin();it!=f.end();it++){
		q.push(it->second);
	}
	int ans=0;
	while(q.size()>1){
		int a=q.top();
		q.pop();
		int b=q.top();
		q.pop();
		ans+=b;			
		q.push(a-b);
	}
	if(q.size()==1){
		ans+=q.top();
	}	
	printf("%d\n",ans);
	return 0;		
}