#include <bits/stdc++.h>
using namespace std;
set<pair<int,int > > s;
set<pair<int,int > >::iterator it;
int arr[100006];
int size[100006];int i;
void init(int n)
{
	for(i=1;i<=n;i++)
	{
		arr[i]=i;size[i]=1;s.insert(make_pair(1,i));
	}
}
int root(int x)
{
	while(x!=arr[x])
	{
		arr[x]=arr[arr[x]];
		x=arr[x];
	}
	return x;
}
bool find(int a,int b)
{
	if(root(a)==root(b))
	{
		return true;
	}
	else
	{
		return false;
	}
}

int main() {
	ios::sync_with_stdio(false);
	int n;cin>>n;init(n);
	int q;cin>>q;int prev;
	while(q--)
	{
		int a,b;cin>>a>>b;
		int roota=root(a);
		int rootb=root(b);
		if(roota!=rootb)
		{
			
			s.erase(make_pair(size[roota],roota));
			s.erase(make_pair(size[rootb],rootb));
			arr[rootb]=roota;
			size[roota]+=size[rootb];
			s.insert(make_pair(size[roota],roota));
		}
		it=s.begin();
		int min=(*it).first;
		it=s.end();it--;
		int max=(*it).first;
		cout<<max-min<<endl;
	}
	return 0;
}
