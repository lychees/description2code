#include<bits/stdc++.h>
#define LL long long int
#define M 1000000007
#define reset(a) memset(a,0,sizeof(a))
#define rep(i,j,k) for(i=j;i<=k;++i)
#define per(i,j,k) for(i=j;i>=k;--i)
#define print(a,start,end) for(i=start;i<=end;++i) cout<<a[i];
#define endl "\n"
using namespace std;
vector<pair<int,int> >v;
int ranks[100001];
int a[1000001];

bool cmp(pair<int,int> a,pair<int,int> b)
	{
		if(a.first>=b.first)
			return 1;
		else
			return 0;
		
	}
int main()
    {
        ios_base::sync_with_stdio(0);
        int t,prev,i,n,rank;
        cin>>t;
        while(t--)
        	{
        		cin>>n;
        		for(i=1;i<=n;++i)
        			{
        				cin>>a[i];
        				v.push_back(make_pair(a[i],i));
        			}
        		sort(v.begin(),v.end(),cmp);
        		vector<pair<int,int> >::iterator it = v.begin();
        		rank = 1;
        		prev = 1;
        		
        		while(it!=v.end())
        			{
        				if(it!=v.begin())
        					{
        						if((*it).first!=(*(it-1)).first)
        							{
        								ranks[(*it).second] = rank;
        								prev = rank;
        							}
        						else
        							{
        								ranks[(*it).second] = prev;
        							}
        						
        					}
        				else
        					{
        						ranks[(*it).second] = rank;
        					}
        				++it;
        				++rank;
        			}
        		v.clear();
        		for(i=1;i<=n;++i)
        			cout<<ranks[i]<<" ";
        		cout<<endl;
        	}
    }
