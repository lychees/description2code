#include <bits/stdc++.h>
using namespace std;
#define pb push_back
#define ll long long
#define mp make_pair
#define F first
#define S second
#define pii pair<int,int>
#define vi vector<int>
#define vs vector<string>
#define scan(n) scanf("%d",&n)
#define all(v) v.begin(), v.end()
#define vi vector<int>
#define vpii vector<pii>
#define vs vector<string>
#define gt greater<int>()
#define scans(s) scanf(" %s",&s)
#define ll long long
#define mod 1000000007
#define maxn 100005
#define fr freopen("input.in","r",stdin)
#define fw freopen("output.in","w",stdout)
#define boost_ios ios_base::sync_with_stdio(0)

vi edge[maxn];
bool visited[maxn];

int dfs(int u){
	int res = 1;
	visited[u] = 1;
	for(int i = 0,v; i < edge[u].size(); i++){
		v = edge[u][i];
		if(visited[v]){
			continue;
		}
		res += dfs(v);
	}
	return res;
}

ll fact[maxn];

int main(){
	fact[0] = 1;
	int n,k,x,y;
	cin >> n >> k;
	for(int i = 1; i <= n; i++){
		fact[i] = (fact[i-1] * (ll)i) % mod;
	}
	for(int i = 0; i < k; i++){
		cin >> x >> y;
		edge[x].pb(y);
		edge[y].pb(x);
	}
	ll res = 1LL;
	for(int i = 1; i <= n; i++){
		if(!visited[i]){
			int ans = dfs(i);
			res = (res * fact[ans]) % mod;
		}
	}
	cout << res;
	return 0;
}