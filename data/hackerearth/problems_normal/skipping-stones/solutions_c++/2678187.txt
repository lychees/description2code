#include <iostream>
#include<bits/stdc++.h>
using namespace std;

int main()
{
    int n,d,L;
    cin>>n>>d>>L;
    vector<double> prob(n+2);
    vector<int> dis(n+2);
    dis[0]=0;
    dis[n+1]=L;
    prob[0]=1;
    prob[n+1]=1;
    for(int i=1;i<=n;i++){
    	double temp;
    	cin>>temp;
    	prob[i]=temp;
    }
    for(int i=1;i<=n;i++){
    	int temp;
    	cin>>temp;
    	dis[i]=temp;
    }
    if(dis[n]+d<L) {
    	cout<<"0"<<endl;
    	return 0;
    }
    
    vector<double>ans(n+2,0);
  
    ans[0]=1;
    for(int i=1;i<=n+1;i++){
    	for(int j=0;j<i;j++){
    		if(abs(dis[j]-dis[i])<=d){
    			ans[i]=max(ans[i],ans[j]*prob[i]);
    		}
    	}
    }
     std::cout << std::fixed;
    cout<<setprecision(6)<<ans[n+1]<<endl;
    return 0;
}
