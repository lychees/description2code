#include <iostream>
#include <cmath>
#include <cstdio>
#define neg_inf -1000000000000LL
using namespace std;
typedef long long int64;
int64 cache[100][101];

int64 cal_schedule(int* arr,int i,int k,int n) {
	if(cache[i][k]!=-1) {
		return cache[i][k];
	}
	if(k==1||k==0) {
		return 0;
	}
	int64 maxv = 0;
	for(int j=i+1;j<n;j++) {
		maxv = max(maxv,cal_schedule(arr,j,k-1,n)+abs(arr[j]-arr[i]));
	}
	cache[i][k] = maxv;
	return maxv;
}

int main()
{
	int N,M;
	int T;
	int arr[100];
	cin>>T;
	while(T) {
		cin>>N>>M;
		for(int i=0;i<N;i++) {
			cin>>arr[i];
		}
		for(int i=0;i<N;i++) {
			for(int j=0;j<=M;j++) {
				cache[i][j] = -1;	
				if(N-i<j) {
					cache[i][j]=neg_inf;
				}
			}
		}
		int64 maxv=0;
		for(int i=0;i<N;i++) {
			//cout<<i<<" :  "<<cal_schedule(arr,i,M,N)<<endl;
			maxv = max(maxv,cal_schedule(arr,i,M,N));
		}
		cout<<maxv<<endl;
		T--;
	}
    return 0;
}
