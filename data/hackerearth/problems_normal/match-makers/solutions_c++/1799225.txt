#include <iostream>
#include <cstdio>
#include <vector>
#include <algorithm>
using namespace std;

int main(){
	vector<int> boys;
	vector<int> girls;
	int testCase, n, height, count=0;
	cin>>testCase;
	while(testCase--){
		count = 0;
		scanf("%d",&n);
		for(int i=0; i<n; i++){
			cin>>height;
			girls.push_back(height);
		}
		for(int i=0; i<n; i++){
				cin>>height;
			boys.push_back(height);
	}
	std::sort(girls.begin(), girls.end());
	std::sort(boys.begin(), boys.end(), std::greater<int>());
	

	for(int i=0; i<boys.size(); i++){
		if( boys[i] % girls[i] == 0 || girls[i] % boys[i] == 0)
				count++;
	}
	cout<<count<<endl;
	boys.clear();
	girls.clear();
	}

	return 0;
}


