#include <cstdio>
#include <vector>
//asdf
#define N_GENERALS	10

int main(void)
{
	int n, i, j, k, z;
	std::vector<int> masks;
	bool mark[N_GENERALS];
	int count[1 << N_GENERALS];

	for(i = (1 << N_GENERALS) + 1; i --;)
		count[i] = 0;

	scanf("%d", &n);

	for(i = 1; i <= n; i ++)
	{
		z = 0;
		for(k = i; k; k /= 10)
			z |= (1 << (k % 10));

		z = ~z;

		masks.clear();
		masks.push_back(0);

		for(k = (1 << N_GENERALS); k >>= 1;)
		{
			if(z & k)
				for(j = masks.size(); j --;)
					masks.push_back(masks[j] | k);
		}

		for(j = masks.size(); j --;)
			count[masks[j]] ++;
	}

	for(scanf("%d", &i); i --;)
	{
		z = 0;
		for(scanf("%d", &j); j --;)
		{
			scanf("%d", &k);
			z |= (1 << k);
		}

		printf("%d\n", n - count[z]);
	}
}