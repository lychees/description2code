#include<iostream>
#include<string>
#include<map>
using namespace std; 
int main()
{
	int inp;
	cin>>inp; 
	map<string, int> cities ; 
	string city; 
	int id=1 ; 
	for(int j=inp ; j>0 ; j-- )
	{
		cin>>city ; 
		cities[city]= id++ ;
	}
	int i ; 
	int a[1001][1001] ;
	for(i=1;i<=inp ; i++ ) 
	{
		for(int j=1; j<=inp ; j++ ) 
		{	
			cin>>a[i][j] ; 
		}
	}
	int len; 
	cin>>len ;
	int prev=1 ; 
	long long int cost= 0 ; 
        for(i=1 ; i<=len ; i++ )
	{	
		string dest; 
		cin>>dest ;
	        int current = cities[dest] ; 
		cost = cost + a[prev][current ] ;
		prev = current ;
	}
	cout<<cost<<endl;
        return 0 ; 
}       
			
		





