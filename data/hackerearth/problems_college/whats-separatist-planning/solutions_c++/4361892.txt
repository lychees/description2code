#include<iostream>
#include<cstdio>
#include<vector>
using namespace std;
int main(){
//	freopen("inp.txt","r",stdin);
	int i, l, d, n;
	cin >> l >> d >> n;
	vector <string> v;
	for(i=0; i<d; i++){
		string s;
		cin >> s;
		v.push_back(s);
	}
	while(n--){
		vector < vector<int> > index(50, vector<int> (26, 0));
		string str;
		cin >> str;
		int k = 0;
		for(i=0; i<str.size(); i++){
			if(str[i] == '('){
				while(str[++i] != ')'){
					index[k][str[i]-'a'] = 1;
				}
			}else{
				index[k][str[i]-'a'] = 1;
			}
			k++;
		}
		int num = 0;
		for(i=0; i<d; i++){
			string s = v[i];
			int m=0, count = 0;
			for(int j=0; j<l; j++){
				if(index[j][s[m]-'a'] == 1){
					count++;
				}else{
					break;
				}
				m++;
			}
			if(count == l){
				num = num + 1;
			}
		}
		printf("%d\n", num);
	}
	return 0;
}