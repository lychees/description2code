// iHaala Madrid - A Gunner
#include<iostream>
#include<vector>
#include<queue>
#include<algorithm>
#include<map>
#include<stack>
#include<stdio.h>
#include<math.h>
#include<string>
#include<assert.h>
#include<stdlib.h>
using namespace std;

int a[1500],ans[1500][1500];

void preprocess(int n){	
	int i,j,k,x,y;
		
	for(int i=0;i<n;i++){		
		priority_queue<int> mx; // max heap
		priority_queue<int, vector<int> , greater<int> > mn; // min heap
		
		for(j=i,x=y=0;j<n;j++){
			
			if(x<=y){
				
				if(y==0)	mx.push(a[j]);
				else if( a[j]<=mn.top() ){
					mx.push(a[j]);
				}else{
					mx.push(mn.top());
					mn.pop();
					mn.push(a[j]);
				}
				
				x++;								
			}else{
				if( a[j]>=mx.top() ){
					mn.push(a[j]);
				}else{
					mn.push(mx.top());
					mx.pop();
					mx.push(a[j]);
				}
				
				y++;				
			}
			
			ans[i][j]=mx.top();
		}
		
	}
	
}

int main(){
	int n,q,x,y;
	
	cin>>n;
	for(int i=0;i<n;i++)	scanf("%d",&a[i]);
	
	preprocess(n);
	
	scanf("%d",&q);
	
	while(q--){
		scanf("%d%d",&x,&y);
		printf("%d\n",ans[x-1][y-1]);
	}
	
	return 0;
}