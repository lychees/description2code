#include <iostream>
#include <bits/stdc++.h>
using namespace std;
int tim;
vector<int> adj[100009];
int dfin[100009];
int dfou[100009];
void dfs(int node,int par){
	dfin[node]=tim;
	tim++;
	int j=adj[node].size();
	for(int i=0;i<j;i++){
		if(adj[node][i]-par)
			dfs(adj[node][i],node);
		
	}
	dfou[node]=tim;
	tim++;
	
	
	
	
	
	
	
}
int readline() {
        int  c = getchar();
        while (c < 33)
                c = getchar();
        int k=0;
        while (c > 32) {
                k = k*10 + (int)c-48;
                c = getchar();
        }
        return k;
}

int main()
{
    int n,q;
    n=readline();
   
    int a,b;
    for(int i=1;i<n;i++){
    	a=readline();
    	b=readline();
    	adj[a].push_back(b);
    	adj[b].push_back(a);
    	
    	
    	
    	
    	
    } q=readline();
    tim=1;
    dfs(1,0);
    int t;
    for(int i=1;i<=n;i++){
        cerr<<i<<" "<<dfin[i]<<" "<<dfou[i]<<"\n";
        
        
        
    }
    for(int i=1;i<=q;i++){t=readline();
   	a=readline();
    	b=readline();
    	if(!t){
    		if(dfin[a]<dfin[b] && dfou[a]>dfou[b])
    			cout<<"YES\n";
    			else
    			cout<<"NO\n";
    		
    	}
    	else{if(dfin[b]<dfin[a] && dfou[b]>dfou[a])
    			cout<<"YES\n";
    			else
    			cout<<"NO\n";
    		
    	}
    	
    	
    	
    	
    	
    	
    	
    	
    	
    }
    
    return 0;
}
