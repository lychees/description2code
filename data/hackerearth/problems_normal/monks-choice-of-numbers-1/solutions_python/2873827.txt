tc=int(raw_input())
ans=[]
while tc > 0:
	tc = tc-1
	n,k = map(int,raw_input().split())
	l=map(int,raw_input().split())
	ans.append(sum(sorted(map(lambda x:bin(x).count('1'),l),reverse=True)[:k]))
for x in ans:
	print x