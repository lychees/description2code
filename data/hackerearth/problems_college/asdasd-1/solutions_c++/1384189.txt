#include <iostream>
#include <algorithm>
using namespace std;
int ans = 0;
void solve(long long p){
	for(int i=2;i*i<=p;i++){
		if (p%i==0) {
			ans++;
			while(p%i==0) {
				p /= i;
				//ans++;
			}
		}
	}
	if (p>1) ans ++;
}
int main()
{
    int t;
    scanf("%d",&t);
    while(t--){
    	int a,b;
    	scanf("%d%d",&a,&b);
    	long long m = (1LL<<a)-1;
    	long long n = (1LL<<b)-1;
    	long long p = __gcd(m,n);
    	ans = 0;
    	solve(p);
    	printf("%d\n",ans);
    }
    return 0;
}
