for t in range(int(raw_input())):
    n = int(raw_input())
    xs = [int(i) for i in raw_input().split()]
    k = int(raw_input())
    counts = [0] * 101
    for x in xs:
        counts[x] += 1
    total = 0
    for i in range(1, k):
        if k-i < 0 or i > 100 or k-i > 100:
            continue
        total += counts[i] * counts[k-i]
    if k % 2 == 0:
        c = counts[k/2]
        total -= c*c
    total /= 2
    if k % 2 == 0:
        total += c * (c-1) / 2
    print total