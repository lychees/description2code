#include <iostream>
using namespace std;

const int maxA = 100001;
void transverse(int start,int B[], int N)
{
	if (start < N && B[start] > 0)
	{
		cout << B[start]<<" ";
		int left = start*2;
		transverse(left,B,N);
		int right = start*2+1;
		transverse(right,B,N);
	}
	return;
}
int main()
{
	int T;
	cin >> T;
	for(int i = 0; i < T; ++i)
	{
		int N;
		cin >> N;
		if (N == 0)
		{
			cout << 1 << endl;
		}else{
		int *A = new int[maxA];
		for(int j = 0; j < maxA; ++j)
		{
			A[j] = 0;
		}
		int C,L,R;
		cin >> C >> L >> R;
		A[C] = 1;
		if (L > 0)
		{
			A[L] = 2*A[C];
		}
		if (R > 0)
		{
			A[R] = 2*A[C]+1;
		}
		for(int j = 1; j < N; ++j)
		{
			cin >> C >> L >> R;
			if (L > 0)
			{
				A[L] = 2*A[C];
			}
			if (R > 0)
			{
				A[R] = 2*A[C] + 1;
			}
		}
		int *B = new int[maxA];
		for(int j = 1; j < maxA; ++j)
		{
			B[A[j]]=j;
		}
		int start = 1;
		transverse(start,B,maxA);
		cout << endl;
		}
	}
    //cout << "Hello World!" << endl;
    return 0;
}
