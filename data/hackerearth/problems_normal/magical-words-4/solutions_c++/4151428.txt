#include<bits/stdc++.h>
using namespace std;
#define MAX 1003
#define ll long long int
int dp[MAX][MAX];
string str;
ll dpsol(void)
{
	int i;
	int j;
	int k;
	memset(dp,0,sizeof(dp));
	int n;
	n = str.size();
	ll sum = 0;
	for(i=0;i<n;++i)
		dp[i][i]=1;
	for(i=0;i<n-1;++i)
	{
		if(str[i]==str[i+1])
			dp[i][i+1]=2;
		sum += dp[i][i+1] * dp[i][i+1];
	}
	
	for(k=3;k<=n;++k)
	{
		for(i=0;i<n-k+1;++i)
		{
			j = i+k-1;
			if(str[i] == str[j] && dp[i+1][j-1])
				dp[i][j]=k;
			sum += dp[i][j] * dp[i][j];
		}
	}
	return sum+n;
	
	
}
int main()
{
    //cout << "Hello World!" << endl;
    int t;
    int i;
    int n;
    cin>>t;
    while(t--)
    {
    	cin>>str;
    	cout<<dpsol()<<endl;
    }
    return 0;
}
