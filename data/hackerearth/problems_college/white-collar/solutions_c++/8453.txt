#include<iostream>
#include<stdio.h>
using namespace std;
bool b[20][20][20]={0};
int co=0;
char a[20][20][20];
int p,q,r;
void fill(int i,int j,int k)
{
     b[i][j][k]=1;
     co++;
     if((b[i-1][j][k]==0)&&(i>0)&&(a[i-1][j][k]=='.'))
            fill(i-1,j,k);
     if((b[i+1][j][k]==0)&&(i<p-1)&&(a[i+1][j][k]=='.'))
            fill(i+1,j,k);
     if((b[i][j-1][k]==0)&&(j>0)&&(a[i][j-1][k]=='.'))
            fill(i,j-1,k);
     if((b[i][j+1][k]==0)&&(j<q-1)&&(a[i][j+1][k]=='.'))
            fill(i,j+1,k);
     if((b[i][j][k-1]==0)&&(k>0)&&(a[i][j][k-1]=='.'))
            fill(i,j,k-1);
     if((b[i][j][1+k]==0)&&(k<r-1)&&(a[i][j][k+1]=='.'))
            fill(i,j,k+1);
}           
int main()
{
    int t;
    scanf("%d",&t);
    for(int i=0;i<t;i++)
    {
            scanf("%d%d%d",&p,&q,&r);
            for(int j=0;j<p;j++)
            {
                    for(int k=0;k<q;k++)
                    {
                            scanf("%s",a[j][k]);
                    }
            }
            int x,y;
            scanf("%d%d",&x,&y);
            x--;
            y--;
            co=0;
            if(a[0][x][y]=='.')
            {     
                   fill(0,x,y);
            }
            cout<<co<<"\n";
            for(int j=0;j<20;j++)
            {
                    for(int k=0;k<20;k++)
                    {
                            for(int e=0;e<20;e++)
                            {
                                    b[j][k][e]=0;
                            }
                    }
            }
    }
    return 0;
}
