#include<bits/stdc++.h>
#define lli long long int
#define s(x) scanf("%lld",&x)
using namespace std;

lli tree[200009];lli arr[200005];
lli n,q,num,ans,type,x,y;

void update(lli index,lli value)
{
	for(;index<=200005 ;index+=index&-index)
	tree[index]+=value;
}/////////////////

lli query(lli index)
{
	lli sum=0;

	while (index>0)
	{
		sum+=tree[index];
		index-=index&-index;
	}
	return sum;

}/////////////

lli isRound(lli x)
{
 if(x<0)
 return 0;
 
 else if (x<10)
 return 1;
 
	 else
	 {
		 lli first=x%10,last;
		 
		 while (x>0)
		 {
			 last=x%10;
			 x/=10;
		 }
		 if(last==first)
		 return 1;
		 else
		 return 0;
	 }
 
}///////////////////////

int main()
{
s(n);s(q);
	
	for (lli i=1 ; i<=n ; i++)
	{
		cin>>arr[i];
		update(i,isRound(arr[i]));
	}
	
	while(q--)
	{
	cin>>type>>x>>y;
	
			if(type==1)
			{
			 ans=query(y)-query(x-1);
			 cout<<ans<<endl;
			}
			else
			{
				if(isRound(arr[x])==isRound(y))
				arr[x]=y;
				
				else if(isRound(arr[x]) > isRound(y))
				{
				arr[x]=y;
				update(x,-1);
				}
				else
				{
					arr[x]=y;
					update(x,1);
				}
			}
			
	}//WHILE

}//MAIN
