
    #include<cstdio>
    #include<map>
    #include<vector>
    #include<algorithm>
    #define pb(x) push_back(x)
    typedef long long ll;
    using namespace std;
    inline int scanInt()
    {
    int noRead=0;
    char p=getchar_unlocked();
    for(;p<33;){p=getchar_unlocked();};
    while(p>32)
    {
    noRead = (noRead << 3) + (noRead << 1) + (p - '0');
    p=getchar_unlocked();
    }
    return noRead;
    };
    int main(){
        int t,n,a,b,x,w;
        //scanf("%d",&t);
        t=scanInt();
        while(t--){
            //scanf("%d",&n);
        n=scanInt();
            map<int,vector<pair<int,int> > > arr;
            map<int,ll> dp;
            for(int i=0;i<n;i++){
                //scanf("%d%d%d",&a,&b,&w);
                a=scanInt();
    	    b=scanInt();
    	    w=scanInt();
    	    arr[b].pb(make_pair(a,w));
                dp[a]+=0;
                dp[b]+=0;
                if(a==b) dp[b]+=w;
            }
            map<int,ll>::iterator it=dp.begin();
            map<int,ll>::iterator p;
            vector<pair<int,int> >::iterator itv;
            //dp.begin()->second+=1;
            p=it;
            it++;
            for(;it!=dp.end();it++){
                x=it->first;
                itv=arr[x].begin();
                while(itv!=arr[x].end()){
                    dp[x]=max(dp[x],dp[itv->first]+itv->second);
                    //dp[x]=mod(dp[x]);
                    itv++;
                }
                dp[x]=max(dp[x],p->second);
                //dp[x]=mod(dp[x]);
                p=it;
            }
            printf("%.2f\n",dp.rbegin()->second/100.0);
        }
        return 0;
    } 

