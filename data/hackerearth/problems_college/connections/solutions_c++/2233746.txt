#include <iostream>
#include <vector>
using namespace std;
vector <int> a[10000];
int vis[10000]={0},h=1;
void dfs(int i)
{
	int j;
	vis[i]=h;
	for(j=0;j<a[i].size();j++)
	{
	if(vis[a[i][j]]==0)
	    dfs(a[i][j]);
	}
}
int main()
{
    int n,c,x,y,q,m,flag=0,i;
    cin>>n>>c;
    for(i=0;i<c;i++)
    {
    cin>>x>>y;
    a[x].push_back(y);
     a[y].push_back(x);
    
    }
    for(i=1;i<=n;i++)
    {
    	if(vis[i]==0)
    	{
    		dfs(i);
    		h++;
    	}
    }
   // for(i=1;i<=n;i++)
    //cout<<vis[i]<<" ";
    //cout<<endl;
    cin>>q;
    while(q--)
    {
    	
    	flag=0;
    	cin>>x>>y;
    	//cout<<vis[x]<<" "<<vis[y]<<"\n";
    	if(vis[x]==vis[y])
    	{
    		for(m=0;m<a[x].size();m++)
    		if(a[x][m]==y)
    		{
    		flag=1;
    		printf("Direct Connection\n");
    		}
    		if(flag==0)
    		printf("Indirect Connection\n");
    	}
    	else
    	printf("No Connection\n");
    }
    
    
    return 0;
}
