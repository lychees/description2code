#include <iostream>
using namespace std;

long long int max(long long int *s)
{
	long long int ans = (s[0]>s[1]?s[0]:s[1]);
	ans = ans>s[2]?ans:s[2];
	return ans;
}

long long int min(long long int x, long long int y, long long int z)
{
	long long int ans = x<y?x:y;
	ans = ans<z?ans:z;
	return ans;
}

int main()
{
	int tc;
	cin >> tc;
	while(tc-- > 0)
	{
		int n;
		cin >> n;
		long long int a[n];
		for(int i=0;i<n;i++)
			cin >> a[i];
		
		long long int sum[n+3];
		for(int i=0;i<n+3;i++)
			sum[i] = 0;
		if(n <= 3)
		{
			long long int ans = 0;
			for(int i=0;i<n;i++)
				ans += a[i];
			cout << ans << endl;
			continue;
		}
		sum[n-1] = a[n-1];
		sum[n-2] = sum[n-1] + a[n-2];
		sum[n-3] = sum[n-2] + a[n-3];
		long long int s[3];
		for(int i=n-4;i>=0;i--)
		{
			s[0] = 0;
			s[1] = 0;
			s[2] = 0;
			s[0] = a[i] + min(sum[i+2],sum[i+3],sum[i+4]);
			s[1] = a[i] + a[i+1] + min(sum[i+3],sum[i+4],sum[i+5]);
			s[2] = a[i] + a[i+1] + a[i+2] + min(sum[i+4],sum[i+5],sum[i+6]);
			sum[i] = max(s);
			//cout << i << " " << sum[i] << " -> " << s[0] << " " << s[1] << " " << s[2] << endl;
		}
		cout << sum[0] << endl;
		
		
	}
    return 0;
}
