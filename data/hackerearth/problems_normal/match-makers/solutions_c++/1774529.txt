#include<iostream>
#include<vector>
#include<algorithm>

#define FOR(i,n) for(int i=0; i!=n; i++)
#define all(c) c.begin(),c.end()
#define rall(c) c.rbegin(),c.rend()

using namespace std;

int main()
{
	int n;
	cin>>n;
	vector<int>girls;
	vector<int>boys;
	
	while(n--)
	{
		int size;
		cin>>size;
		girls.resize(size);
		boys.resize(size);
		
		FOR(i,size)
			cin>>girls[i];
		FOR(i,size)
			cin>>boys[i];
			
		sort(all(girls));
		sort(rall(boys));
		
		int count =0;
		
		FOR(i,size)
			if(girls[i]%boys[i] == 0 || boys[i]%girls[i] == 0)
				count++;
		
		cout<<count<<endl;
		girls.clear();
		boys.clear();
		
	}
	
}