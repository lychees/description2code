for _ in range(input()):
	n=input()
	lst=raw_input().split()
	ans=0
	x=set(lst)
	for i in x:
		z=lst.count(i)
		ans+=((z+1)*z)/2
	print ans	
		
		