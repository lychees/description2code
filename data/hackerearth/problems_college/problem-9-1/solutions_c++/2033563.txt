#include <iostream>
using namespace std;

int main()
{
    int n,q,a,b,o,i,count;
    bool heads[n];
    cin>>n>>q;
    for(int k=0;k<n;k++)
    heads[k]=false;
    for(i=0;i<q;i++)
    {
    	cin>>o>>a>>b;
    	switch(o)
    	{
    		case 0:for(int j=a;j<=b;j++)
    				heads[j]=heads[j]==0?1:0;
    				break;
    		case 1:count=0;
    				for(int j=a;j<=b;j++)
    				if(heads[j]==true)
    				count++;
    				cout<<count<<endl;
    				break;
    	}
    }
    return 0;
}
