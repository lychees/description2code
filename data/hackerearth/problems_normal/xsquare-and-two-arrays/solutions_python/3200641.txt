num = raw_input()
N, Q = map(int, num.split())
a = raw_input()
A = map(int, a.split())
b = raw_input()
B = map(int, b.split())
for i in range(0, Q):
	n = raw_input()
	c, L, R = map(int, n.split())
	result = [None]*((R - L) + 1)
	if c==1:
		result[::2] = A[L - 1:R:2]
		result[1::2] = B[L:R:2]
	else:
		result[::2] = B[L - 1:R:2]
		result[1::2] = A[L:R:2]
	print sum(result)