N, Q = [int(x) for x in raw_input().split(' ')]
Strength = [int(x) for x in raw_input().split(' ')]
Game = [0] * N
Fight = []
for i in xrange(N):
    Fight.append(i)

# Processs Fight
while len(Fight) > 1:
    for i in xrange(len(Fight)/2):
        Game[Fight[i]] += 1
        Game[Fight[i+1]] += 1
        if Strength[Fight[i]] > Strength[Fight[i+1]]:
            del Fight[i+1]
        else:
            del Fight[i]


for i in xrange(Q):
    idx = int(raw_input()) - 1
    print Game[idx]
