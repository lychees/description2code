#include <iostream>
using namespace std;

int main()
{
   int n,t,i,j,sum,temp;
   bool flag;
   char x;
   cin>>t;
   while(t--)
   {
   		flag=0;
   		sum=0;
   		cin>>n;
   		int count[2*n];
   	char a[n];
   		for(i=0;i<2*n;i++)
   			count[i]=0;
   		for(i=0;i<n;i++)
   			{
   				cin>>a;
   				for(j=0;j<n;j++)
   				if(a[j]=='#')
   				{	count[i]++;
   					count[n+j]++;
   					sum++;
   				}
   			}
   	
   		 if(sum%2!=0)
   			cout<<"NO"<<endl;
   		else
   		{
   			for(i=0;i<n-1;i++)
   				count[i+1]+=count[i];
   			for(i=n;i<(2*n)-1;i++)
   				count[i+1]+=count[i];
   			for(i=0;i<n-1;i++)
   			{
   				if(count[i]*2==sum)
   					{
   						flag=1;
   						break;
   					}
   				if(count[n+i]*2==sum)
   				{
   					flag=1;
   					break;
   				}
   			}
   			if(flag==1)
   				cout<<"YES"<<endl;
   			else
   			    cout<<"NO"<<endl;
   		}
   }
    return 0;
}
