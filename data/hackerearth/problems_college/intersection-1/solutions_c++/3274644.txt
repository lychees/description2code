#include<stdio.h>
#include<math.h>
#include<stdlib.h>

#define ll  long long

int main()
{
    ll kase,i,j,l,p,q,K,T,count=0,temp,x_index,y_index;
    scanf ("%lld", &T);
        for (kase=1; kase<=T; kase++) {
            count=0;
        scanf("%lld%lld%lld",&p,&q,&K);
        j=ceil(pow((double)K,(1/(double)q)));
        l=ceil(pow((double)K,(1/(double)p)));
        ll *arrY=(ll*)malloc((j+1)*sizeof(ll));
        ll *arrX=(ll*)malloc((l+1)*sizeof(ll));

        for(i=0;i<=l;i++) arrX[i]=-1;
        for(i=0;i<=j;i++) arrY[i]=-2;

        for(i=0;(temp=K-pow((double)i,(double)q))>=0;i++)
            arrY[i]=temp;
        y_index=--i;
        for(i=0;(temp=(ll)(pow((double)i,(double)p)+i))<=K;i++)
            arrX[i]=temp;
        x_index=--i;

        for(i=0,l=y_index;;)
        {
            if(i>x_index) break;
            if(l<0) break;
            if(arrX[i]==arrY[l])
            {
                count++;
                i++;
                l--;
            }
            else if(arrX[i]>arrY[l])
                l--;
            else
                i++;

        }
        printf ("Case #%lld: %lld\n",kase,count);

        free(arrY);
        free(arrX);
    }
    return 0;
}