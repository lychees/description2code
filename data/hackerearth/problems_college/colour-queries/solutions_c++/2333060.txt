#include<iostream>
#include<math.h>
#define max 100
using namespace std;
int mat[max][max],n,m,q,x,y,d,col[max][max];
void color(int p,int q)
{
    if(col[p][q]==1)
     return ;
    col[p][q]=1;
    if(q-1>=0)
     if(abs(mat[p][q]-mat[p][q-1])<=d && col[p][q-1]==0)
       color(p,q-1);
     
   if(q+1<m)
     if(abs(mat[p][q]-mat[p][q+1])<=d && col[p][q+1]==0)
       color(p,q+1);
       
   if(p-1>=0)
     if(abs(mat[p][q]-mat[p-1][q])<=d && col[p-1][q]==0)
          color(p-1,q);
   
   if(p+1<n)
     if(abs(mat[p][q]-mat[p+1][q])<=d && col[p+1][q]==0)
       color(p+1,q);
       
}
int main()
{
    
    cin>>n>>m>>q;
    int i,j,flag;
    for(i=0;i<n;i++)
    for(j=0;j<m;j++)
     cin>>mat[i][j];
     
    while(q--)
    {
         cin>>x>>y>>d;
         for(i=0;i<n;i++)
          for(j=0;j<m;j++)
             col[i][j]=0;
         color(x-1,y-1);
         flag=0;
         for(i=0;i<n;i++)
          for(j=0;j<m;j++)
           if(col[i][j]==1)
             flag++;
         cout<<flag<<"\n";
    }
     
     
}