n=int(raw_input())
while n:
	x=int(raw_input())
	h=[]
	v=[]
	for i in range(x):
		a=raw_input()
		h.append(a)
	for i in range(x):
		a=[t[i] for t in h]
		v.append("".join(a))
	f1=1
	f2=1
	i=0
	j=x-1
	while i<=j:
		if(h[i]!=h[j]):
			f1=0
			break
		i=i+1
		j=j-1
	i=0
	j=x-1
	while i<=j:
		if(v[i]!=v[j]):
			f2=0
			break
		i=i+1
		j=j-1
	if(f1==0 and f2==0):
		print "NO"
	elif(f1==0 and f2==1):
		print "VERTICAL"
	elif(f1==1 and f2==0):
		print "HORIZONTAL"
	else:
		print "BOTH"
	n=n-1