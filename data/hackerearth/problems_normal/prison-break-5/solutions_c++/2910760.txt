#include <bits/stdc++.h>
using namespace std;
int gr[25][25];
int n,cnt=0;
int visit[25][25];
void backtrack(int x,int y);
int main(int argc, char const *argv[]) {
  int test,i,j,k;
  scanf("%d",&test);
  while(test--)
  {
    scanf("%d",&n);
    cnt=0;
    for(i=1;i<=n;i++)
      for(j=1;j<=n;j++)
        {scanf("%d",&gr[i][j]);visit[i][j]=0;}
    if(gr[n][n]==0)
    {
      backtrack(1,1);
      printf("%d\n",cnt);
    }
    else
      printf("0\n");
  }
  return 0;
}

void backtrack(int x,int y)
{
  int i,j,k;
  if(x==n && y==n)
  {
    cnt++;
    return;
  }
  visit[x][y]=1;
  if(x>1 && visit[x-1][y]==0 && gr[x-1][y]==0)
    backtrack(x-1,y);
  if(x<n && visit[x+1][y]==0 && gr[x+1][y]==0)
    backtrack(x+1,y);
  if(y>1 && visit[x][y-1]==0 && gr[x][y-1]==0)
    backtrack(x,y-1);
  if(y<n && visit[x][y+1]==0 && gr[x][y+1]==0)
    backtrack(x,y+1);
  visit[x][y]=0;
}
