#include <iostream>
using namespace std;

int main()
{
    int T;
    cin>>T;
    char MAT[75][75];
    int siz,i,j,H,k,V;
    while(T--)
    {
     cin>>siz;
     for(i=0;i<siz;i++)
      for( j=0;j<siz;j++)
       cin>>MAT[i][j];
       
     H=V=0;  
     
     for(i=0,j=siz-1;i<siz/2;i++,j--)
       {
       	 for(k=0;k<siz;k++)
       	 {
       	   if(MAT[i][k]!=MAT[j][k])
       	   {
       	   	V++;
       	   }
       	   if(MAT[k][i]!=MAT[k][j])
       	   {
       	   	H++;
       	   }
       	   if(H>0&&V>0) break;
       	 }
       }
       
        if(H>0&&V>0) 
        {
        	cout<<"NO\n";
        }
        else if(H==0&&V==0)
        {
         cout<<"BOTH\n";
        }
        else if(H>0)
        {
        	cout<<"HORIZONTAL\n";
        }
        else
        {
        	cout<<"VERTICAL\n";
        
        }
    }
    return 0;
}
