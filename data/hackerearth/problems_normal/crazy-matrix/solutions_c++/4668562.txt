#include<bits/stdc++.h>
using namespace std;
int ar[101][101];
int n;
bool checkrow(int i,int j,int val)
{ 
	//cout<<"inside check row i="<<i<<" j"<<j<<endl;
	
	if(i<0 or i>n-1 or j<0 or j>n-1)
	         return false;
	        if(ar[i][j]!=val)
	            return false;
	            
	        //cout<<"i ,j"<<i<<j<<endl;
	       
	         if(val==2 and j==n-1)
	         {
	        // cout<<"inside 2"<<endl;
	         	
	         	     return true;
	         }
	         if(val==1 and i==n-1)
	         {
	         //	cout<<"inside 1"<<endl;
	         	   return true;
	         }
	         if(val==1)
	         {
	     bool flag = checkrow(i+1,j,val)||checkrow(i+1,j+1,val)||checkrow(i+1,j-1,val);
	     //cout<<"1"<<flag<<endl;
	     return flag;
	         }
         
         if(val==2)
         {
         bool flag= checkrow(i,j+1,val)||checkrow(i+1,j+1,val)||checkrow(i-1,j+1,val);
         //cout<<"2"<<flag<<endl;
         return flag;
         }
	
}
int main()
{
   
   cin>>n;
   
   for(int i=0;i<n;i++)
   {
   	for(int j=0;j<n;j++)
   	       cin>>ar[i][j];
   }
   bool one=false;
   bool two=false;
   for(int i=0;i<n;i++)
        {
        	
        	two=checkrow(i,0,2);
        	if(two)
        	   break;
        }
         for(int i=0;i<n;i++)
        {
        
        	one=checkrow(0,i,1);
        	if(one)
        	  break;
        }
        
        if(one and two)
           cout<<"AMBIGUOUS";
           else if(one)
           cout<<"1";
           else if(two)
           cout<<"2";
           else 
           cout<<"0";
        
        

return 0;
}
