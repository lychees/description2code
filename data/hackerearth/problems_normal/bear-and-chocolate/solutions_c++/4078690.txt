#include <bits/stdc++.h>
using namespace std;
 
int main()
{
    int t, n, a[1000],b[1000],count,sum1,sum2,y;
    char arr[1000][1000];
    cin>>t;
    int i,j,k,l;
  for(l=1;l<=t;l++)
  {
  	count=0;sum1=0;sum2=0;y=0;
  	cin>>n;
    for(i=0; i<n;i++)
    {
    	for(j=0;j<n;j++)
           cin>>arr[i][j];
    }
     
    for(i=0;i<n;i++)
    {
    	b[i]=0;
    }
    for(i=0;i<n;i++)
    {
    	count=0;
    	for(j=0;j<n;j++)
    	 {
    	 	if(arr[i][j]=='#')
    	 	 count++;
    	 }
    	a[i]= count; 
    }
    for(i=0;i<n;i++)
    {
    	for(j=0;j<n;j++)
    	{
    		if(arr[i][j]=='#')
    			b[j]++;
    	}
    }
    
    for(i=1;i<n;i++)
    {
    	sum1=0; sum2=0;
    	for(j=i;j<n;j++)
    		sum1 = sum1+ a[j];
    		
    	for(k=0;k<i;k++)
    		sum2= sum2 + a[k];
    		
    	if(sum1== sum2)
    	{
    		cout<<"YES"<<endl;
    		y++;
    		break;
    	}
    	sum1=0; sum2=0;
    	for(j=i;j<n;j++)
    		sum1= sum1 +b[j];
    		
    	for(k=0;k<i;k++)
    		sum2= sum2 +b[k];
    		
    	if(sum1== sum2)
    	{
    		  cout<<"YES"<<endl;
    		  y++;
    		  break;
    	}
    }
    if(y==0)
    {
    	cout<<"NO"<<endl;
    }
 
  }
  return 0;
}