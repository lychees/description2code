#include <iostream>
using namespace std;

const int MOD = 1000000007;

int msb(unsigned long long int number)
{
	int counter = 0;
	while (number) {
		number >>= 1;
		++counter;
	}
	
	return counter;
}

int main()
{
	ios::sync_with_stdio(false);
    int testCases = 0;
    unsigned long long int number = 0;
    cin >> testCases;
    while(testCases--) {
    	cin >> number;
		long long int sum = 0;
		long long int start = 2;
		bool flag = true;
		int counter = 1;
		while(flag) {
		    int shift = counter;
		    while(flag && shift) {
		        long long int i = start + (start >> shift);
		        if(i <= number) {
		            sum = (sum + i) % MOD;
		        } else {
		            flag = false;
		            break;
		        }
		        --shift;
		    }
		    start <<= 1;
		    ++counter;
		}
		
		cout << sum << "\n";
    }
    return 0;
}
