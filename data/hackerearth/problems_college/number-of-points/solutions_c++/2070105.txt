#include <bits/stdc++.h>
using namespace std;
#define ll	long long int
int main() 
{
	int t;
	cin>>t;
	while(t--)
	{
		ll x1,y1,x2,y2;
		cin>>x1>>y1>>x2>>y2;
		if(x1==x2 && y1==y2)
			cout<<"0\n";
		else
			cout<<__gcd(abs(x2-x1),abs(y2-y1))-1LL<<endl;
	}
	return 0;
}