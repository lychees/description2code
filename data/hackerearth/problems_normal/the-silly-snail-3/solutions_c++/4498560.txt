#include <iostream>
using namespace std;

int T[100001][2]; // T[root_no][left_child or right_child]
void preOrder(int i) {
	cout << i << ' ';
	if(T[i][0]) preOrder(T[i][0]);
	if(T[i][1]) preOrder(T[i][1]);
	T[i][0] = T[i][1] = 0;
}
int main()
{
    int t,N;
    cin >> t;
    while(t--) {
    	cin >> N;
    	while(N--) {
    		int X,Y,Z;
    		cin >> X >> Y >> Z;
    		T[X][0]=Y;
    		T[X][1]=Z;
    	}
    	preOrder(1);
    	cout << endl;
    }
    return 0;
}
