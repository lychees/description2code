/*
   ID: Magical words
   Author: VIJAY

*/

#include <vector>
#include <map>
#include <set>
#include <utility> //Pair
#include <algorithm>
#include <sstream> // istringstream>> ostring stream<<
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <ctime>

using namespace std;


#define LL long long
#define mod 1000000007
#define sz size()
#define ln length()
#define FOR(i,a,n) for(int i=a;i<n;i++)
#define FORE(i,a,n) for(int i=a;i<=n;i++)
#define scint(a)    scanf("%d",&a)



LL int Magical(string s)
{
   LL int ans=0;
    int low,high;

    int n=s.ln;


    for(int i=1;i<n;i++)
    {

        low=i-1;
        high=i;


        while(low>=0 && high<n && s[low]==s[high]) {   ans+=((high+1-low)*(high+1-low)); low--; high++;  }


        low=i-1;
        high=i+1;


        while(low>=0 && high<n&& s[low]==s[high]) {  ans+=((high+1-low)*(high+1-low)); low--; high++;  }



    }


    ans+=n;

    return ans;

}




int main() {

    int T;
    cin>>T;

    string s;

    while(T--)
    {
        cin>>s;

        cout<<Magical(s)<<endl;


    }

    /* Enter your code here. Read input from STDIN. Print output to STDOUT */
    return 0;
}
