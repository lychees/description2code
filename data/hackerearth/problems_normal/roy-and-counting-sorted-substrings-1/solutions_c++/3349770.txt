#include <bits/stdc++.h>
using namespace std;
typedef long long int ll;
int main()
{
    //freopen("in.txt","r",stdin);
	int T,n;
	cin >> T;
	string s;
	while(T--){
		cin >> n >> s;
		int l = 0, h = 0;
		ll ans = n;
		bool flag = false;
		while(l < n && h < n)
		{
//
			if( s[h] <= s[h+1] )
			{
				flag = false;
				h++;
			}
			else
			{

				flag = true;
				ll sz = h-l+1;
//				cout << l << " " << h << " -> " << sz*(sz-1)/2 << endl;
				ans += sz*(sz-1)/2;
				l = h = h+1;
			}
		}

//
		if(!flag)
		{
			ll sz = n-l+1;
			cout << l << " " << n << endl;
			ans += sz*(sz-1)/2;
		}

		cout << ans << endl;
	}
    return 0;
}
