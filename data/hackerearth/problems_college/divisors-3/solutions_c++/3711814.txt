#include <bits/stdc++.h>
using namespace std;
#define ll long long 
#define pb push_back
vector<ll> v;
int main()
{
    ll n;
    int t;
    cin>>n>>t;
	for(ll i=1;i*i<=n;i++){
		if(n%i==0)
		{
			v.pb(i);
			if(i*i!=n)v.pb(n/i);
		}
	}    
	sort(v.begin(),v.end());
	while(t--)
	{
		int type;
		ll k;
		cin>>type>>k;
		if(type==1)
		{
			ll cnt=0;
			for(auto it:v)
			{
				if(k%it==0)cnt++;
				if(it>k)break;
			}
			cout<<cnt<<'\n';
		}
		else if(type==2)
		{
			ll cnt=0;
			for(int i=v.size()-1;i>=0;--i)
			{
				if(v[i]%k==0)cnt++;
				if(v[i]<k)break;
			}
			cout<<cnt<<'\n';
		}
		else{
			ll cnt=0;
			for(int i=v.size()-1;i>=0;--i)
			{
				if(v[i]%k!=0)cnt++;
				//if(v[i]<k)break;
			}
			cout<<cnt<<'\n';
		}
	}
    return 0;
}
