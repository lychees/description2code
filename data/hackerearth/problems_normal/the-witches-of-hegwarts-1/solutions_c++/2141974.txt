#include <iostream>
#include<map>
#include<algorithm>
using namespace std;
int M[10000001];
int recur(int n)
{
	int m;
	if(n==1)
	{
		return 0;
	}
	if(n<10000000)
	return M[n];
	else
	{
		m=n-1;
		if(n%3==0)
		m=min(m, recur(n/3)+1);
		else
		m=min(m, recur(n-1)+1);
		if(n%2==0)
		m=min(m, recur(n/2)+1);
		else
		m=min(m, recur(n-1)+1);
		return m;
	}
}
int main()
{
    int t;
    int m, N, i;
    M[1]=0;
    M[2]=1;
    for(i=3;i<=10000000;i++)
    {
    	M[i]=1+M[i-1];
    	if(i%2==0)
    	M[i]=min(M[i], 1+M[i/2]);
    	if(i%3==0)
    	M[i]=min(M[i], 1+M[i/3]);
    }
    cin>>t;
    while(t--)
    {
    	cin>>N;
    	m=recur(N);
    	cout<<m<<"\n";
    }
    return 0;
}
