#include <iostream>
using namespace std;

int arr[1005][1005];
int res[1005][1005];
int n;
int isvalid(int r,int c)
{
	if (r<0||c<0||r>=n||c>=n)
	return 0;
	else
	return 1;
}

int solve(int r,int c)
{
	if (!isvalid(r,c))
	return 0;
	if(res[r][c]>0)
	return res[r][c];
	
	int xi[4]={1,-1,0,0};
	int yi[4]={0,0,1,-1};
	
	long long count=1;
	for(int i=0;i<4;i++)
	{
		int x=r+xi[i];
		int y=c+yi[i];
		if(isvalid(x,y)&&arr[x][y]<arr[r][c])
		 count+=solve(x,y);
	}
	
	res[r][c]=count%1000000007ll;
	return res[r][c];
	
	
}

int main()
{
    
    
    cin>>n;
    
    for(int i=0;i<n;i++)
    for(int j=0;j<n;j++)
    cin>>arr[i][j];
    long long p=0;
    
    
     for(int i=0;i<n;i++)
    for(int j=0;j<n;j++)
    { solve(i,j);
     
    }
    long long count=0;
    for(int i=0;i<n;i++)
    {for(int j=0;j<n;j++)
    //cout<<res[i][j]<<" ";
    count=(count+res[i][j])%1000000007ll;
    }
    
    cout<<count<<endl;
   // cout<<endl;}
   
     
    
    
}
