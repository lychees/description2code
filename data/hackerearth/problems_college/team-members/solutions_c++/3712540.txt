#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define mp make_pair
#define ll long long int
#define s(x) scanf("%d", &x)
#define sl(x) scanf("%lld", &x)
#define mod 1000000007
#define get getchar_unlocked

string n;
int k, m;
ll dp[1<<15][1000];
bool C[1<<15];

void rec(int msk, int k)
{
    if (C[msk])
        return;
    C[msk] = true;
    if (msk == 0) {
        dp[msk][0] = 1;
        return;
    }
    int i, j, tmp, mrk[10];
    memset(mrk, 0, sizeof(mrk));
    for (i = 0; i < n.size(); ++i) {
        if (mrk[n[i]-48])
            continue;
        if (msk&(1<<i)) {
            mrk[n[i]-48] = 1;
            tmp = msk-(1<<i);
            rec(tmp, k);
            for (j = 0; j < k; ++j)
                dp[msk][(j*10+n[i]-48)%k] += dp[tmp][j];
        }
    }
}

int main()
{
    cin >> n >> k >> m;
    rec((1<<n.size())-1, k);
    cout << dp[(1<<n.size())-1][m] << endl;
}
