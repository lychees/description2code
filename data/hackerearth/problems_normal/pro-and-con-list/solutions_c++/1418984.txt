#include <bits/stdc++.h>
using namespace std;
int main ()
{
	int tc;
	
	vector < int > favor;
	vector < int > anger;
	vector < long long int > ans;
	
	scanf("%d",&tc);
	assert(1<=tc);
	assert(tc<=10);
	while (tc--)
	{
		int n;
		favor.clear();
		anger.clear();
		ans.clear();
		
		scanf("%d",&n);
		assert(2<=n);
		assert(n<=100000);
		
		favor.resize(n);
		anger.resize(n);
		ans.resize(n);
		
		long long int hatao = 0;
		for (int i=0; i<n; i++)
		{
			scanf("%d %d",&favor[i], &anger[i]);
			ans[i] = favor[i] + anger[i];
			hatao = hatao + anger[i];
			
			assert(0<=favor[i]);
			assert(favor[i]<=1000000000);
			assert(0<=anger[i]);
			assert(anger[i]<=1000000000);
		}
		sort(ans.rbegin(),ans.rend());
		cout << ans[0] + ans[1] - hatao << endl;
	}
	return 0;
}