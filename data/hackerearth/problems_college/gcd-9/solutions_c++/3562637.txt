#include<bits/stdc++.h>
#define scan(n) scanf("%d",&n)
#define scanll(n) scanf("%lld",&n)
#define For(i,a,b) for(i=a;i<b;i++)
#define fill(a,b) memset(a,b,sizeof(a))
#define swap(a,b) a=a+b;b=a-b;a=a-b;
#define ll long long int
#define pb push_back
#define MAX 1000000007
using namespace std;
int abs(int s)
{
	if(s<0)
	s=-s;
	return s;

}
struct point {
	int x;
	int y;
};
int sq(int x)
{
	return x*x;
}
int gcd(int a,int b)
{
	if(a==0)
	return b;
	return gcd(b%a,a);
}
int main()
{

		int i,j,n,k;
		scan(n);
		scan(k);
		int arr[n+5];
		for(i=0;i<n;++i)
		{
			scan(arr[i]);
		}
		int maxlen=0;
		for(i=0;i<n;++i)
		{
			int len;
			int gc=arr[i];
			if(gc<k)
			len=0;
			else
			{			
				for(j=i+1;j<n;++j)
				{
					gc=gcd(gc,arr[j]);
					if(gc<k)
					{
						len=j-i;
						break;
					}
				}
				maxlen=max(len,maxlen);
			}
		}
		cout<<maxlen<<endl;
 	return 0;
}

