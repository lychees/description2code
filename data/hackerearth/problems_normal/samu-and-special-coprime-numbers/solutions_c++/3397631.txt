#include<bits/stdc++.h>
using namespace std;
long long arr[20]={0};
long long dp[20][180][1460];
long long func(long long i,long long sum1,long long sum2,bool check_end)
{

    if(i<=-1)
    {
        if(__gcd(sum1,sum2)==1)
            return 1;
        else
            return 0;
    }
    long long r;
    if(!check_end&&dp[i][sum1][sum2]!=-1)
        return dp[i][sum1][sum2];
    if(check_end==true)
    {
        r=arr[i];
    }
    else
        r=9;
        long long ans=0;

    for(long long l=0;l<=r;l++)
    {
        if(l==r)
        ans+=func(i-1,sum1+l,sum2+(l*l),check_end&&(true));
        else
        ans+=func(i-1,sum1+l,sum2+(l*l),false);


    }

        if(!check_end)
         dp[i][sum1][sum2]=ans;
         return ans;


}
long long dig_len(long long n)
{

    long long len=0;
    while(n)
    {
        arr[len++]=n%10;
        n/=10;
    }
    return func(len-1,0,0,true);
}
int main()
{
    //cout<<gcd(5,10)<<" "<<gcd(10,10)<<" "<<gcd(15,10)<<endl;
    long long t;
    memset(dp,-1,sizeof(dp));
    cin>>t;
    while(t--)
    {

        long long l,r;
        cin>>l>>r;

        long long len2=dig_len(r)-dig_len(l-1);

        cout<<len2<<endl;
    }
}
