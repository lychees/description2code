#include<cstdio>
#include<iostream>
using namespace std;
int main(){
int n;
scanf("%d",&n);
int i,a[100006];
int f=0,h[100006]={0};
for(i=0;i<n;i++)
{scanf("%d",a+i);h[a[i]]++;}
if(n==1){
printf("0");return 0;}
for(i=0;i<=100000;i++)
if(h[i]>(n+1)/2)
{f=1;break;}
int s=0,g[100005]={0};
int c=0,ma=-1;
if(f==1){
printf("-1");return 0;}
else{
int j=2;
for(i=1;i<n;i++)
if(a[i]==a[i-1])
{
c++;
g[a[i]]++;
if(ma<g[a[i]])
ma=g[a[i]];
}
}
if(ma>(c+1)/2)
printf("%d",ma);
else printf("%d",(c+1)/2);
return 0;
}