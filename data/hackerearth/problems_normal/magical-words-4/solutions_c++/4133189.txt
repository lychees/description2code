#include<bits/stdc++.h>
#define ll long long
using namespace std;

bool dp[1005][1005];

int main()
{
	int t;
	scanf("%d", &t);
	while(t--)
	{
		char str[1005];
		scanf("%s", str);
		memset(dp, 0, sizeof dp);
		int i, j, n = strlen(str);

		for( i = 0 ; i < n ; i++ )
		{
			dp[i][i] = 1;
			if( i < n - 1 )
			{
				dp[i + 1][i] = 1;
			}
		}
		ll ans = n;
		for( int len = 2 ; len <= n ; len++ )
		{
			for( i = 0 ; i < n - len + 1 ; i++ )
			{
				j = i + len - 1;
				if( str[i] == str[j] )
				{
					dp[i][j] = dp[i + 1][j - 1];
					if( dp[i][j] )
						ans += len * len;
				}
				else
					dp[i][j] = 0;
			}
		}
		printf("%lld\n", ans);
	}
	return 0;
}