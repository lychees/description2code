#include<bits/stdc++.h>
using namespace std;
#define ll long long
#define lim 100005
#define mk make_pair
#define pll pair<ll,ll>
#define pb push_back
#define X first
#define Y second
#define MOD 1000000007
#define ios ios_base::sync_with_stdio(0)

string conv(ll a)
{
	ll b,c,d;
	b=a;
	d=0;
	string s;
	while(b>0)
	{
		c=b%2;
		s.pb(c+'0');
		b/=2;
	}
	reverse(s.begin(),s.end());
	return s;
}

int main(void)
{
	ios;
	ll a,n,b,m,c,d,e,t,f;
	ll abc[lim];
	ll sum,ct,tot;
	bool mark[8000]={0};
	for(a=0;a<19;a++)
	mark[a*a*a]=1;
	cin>>t;
	double pro;
	while(t--)
	{
		cin>>n;
		tot=n*(n-1)*(n-2);
		tot/=6;
		sum=0;
		ct=0;
		for(a=0;a<n;a++)
		cin>>abc[a];
		for(a=0;a<n;a++)
		{
			for(b=a+1;b<n;b++)
			{
				for(c=b+1;c<n;c++)
				{
					sum=abc[a]+abc[b]+abc[c];
					if(mark[sum])
					ct++;
				}
			}
		}
		pro=(double)ct/(double)tot;
		cout<<fixed<<setprecision(9)<<pro<<endl;
	}
	return 0;
}