#include<iostream>
#include<algorithm>
#include<math.h>
using namespace std;
int main()
{
  int t;
  cin>>t;
  while(t--)
  {
    int a[2000],k=0;
    long int totcls=0;// for aal second
    for(int i=0;i<7;i++)
    {

        long int cls;
        cin>>cls;
        totcls+=cls;
        for(int j=0;j<cls;j++)
        {
            int e,s;
            cin>>e>>s;
            a[k++]=abs(e-s);

        }

    }
    totcls=ceil(totcls*(.75));
    //cout<<"total"<<totcls;
    sort(a,a+k);
  //  for(int h=0;h<k;h++)
    //    cout<<a[h]<<" ";
    long int sum=0;

    for(int m=0;m<totcls;m++)
        {
            sum=sum+a[m];
         }
    cout<<604800-sum<<endl;
  }
  return 0;
}
