#include <bits/stdc++.h>
#define ll long long int
#define mod 1000000007

using namespace std;

ll BIT_t1[100005];
ll BIT_t2[100005];
ll BIT_n[100005];

ll sum_bit(ll *BIT, ll idx)
{
	ll sum = 0;
	while(idx != 0)
	{
		sum = ((sum % mod) + (BIT[idx] % mod)) % mod;
		idx = idx - (idx & -idx);
	}
	return sum;
}

void update_bit(ll *BIT, ll idx, ll val)
{
	while(idx <= 100001)
	{
		BIT[idx] = ((BIT[idx] % mod) + (val % mod)) % mod;
		idx = idx + (idx & -idx);
	}
}

int main()
{
    int n; ll arr[100005];ll t1, t2;
    cin >> n;
    for(int i = 0; i < n; i++)
    	cin >> arr[i];
    for(int i = n - 1; i >= 0; i--)
    {
    	t1 = (sum_bit(BIT_n, arr[i] - 1) + sum_bit(BIT_t2, arr[i] - 1)) % mod;
    	t2 = ((sum_bit(BIT_n, 100001) + mod - sum_bit(BIT_n, arr[i])) % mod + (sum_bit(BIT_t1, 100001) + mod - sum_bit(BIT_t1, arr[i])) % mod) % mod;
    	update_bit(BIT_t1, arr[i], t1);
    	update_bit(BIT_t2, arr[i], t2);
    	update_bit(BIT_n, arr[i], 1);
    	
    	
    }
    
    
    cout << (sum_bit(BIT_t1, 100001) % mod + sum_bit(BIT_t2, 100001) % mod) % mod << endl;
    return 0;
}
