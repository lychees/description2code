#include<bits/stdc++.h>
using namespace std;
int main ()
{
	int T,n,i,k,count,num,sum;
	vector<int> vec;
	cin>>T;
	while(T--)
	{	vec.clear();
		cin>>n>>k;
		sum=0;
		for(i=0;i<n;++i)
		{
		count=0;
		cin>>num;
		while(num!=0)
		{
		num=num&(num-1);
		count++;
		}
		vec.push_back(count);
		}
		sort(vec.begin(),vec.end());
		std::reverse(vec.begin(),vec.end());
		for(i=0;i<k;++i)
		sum+=vec[i];
		cout<<sum<<endl;
	}
return 0;
}	
		
