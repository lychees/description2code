#include<bits/stdc++.h>
using namespace std;
#define ll long long int 
#define M 1000000007
int main()
{
	ll t,n,i=2,j;
	vector<ll>rs;
	rs.push_back(1);
	for(;i<=1000000000000000000;i=i*2)
	  	rs.push_back(i);
	//cout<<rs[60]<<endl;
	scanf("%lld",&t);
	while(t--)
	{
		scanf("%lld\n",&n);
		ll ans=0;
		i=1;
		while(rs[i]<=n && i<=59)
		{
			for(j=i-1;j>=0;j--)
			if(rs[i]+rs[j]<=n)
			ans=(ans+rs[i]+rs[j])%M;
			i++;
		}
		cout<<ans<<endl;
	}
	
	return(0);
}