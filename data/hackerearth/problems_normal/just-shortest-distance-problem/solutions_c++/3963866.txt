/*    ironstark    */
#include<bits/stdc++.h>
#define pii pair<long long,long long>
#define fi first
#define se second
#define mp make_pair
#define vpi vector< pii >
#define pb push_back
#define ll long long int
#define mod 1000000007
#define gcd(a,b) __gcd(a,b)
#define sf(n) scanf("%lld",&(n))
#define pf(n) printf("%lld\n",(n))
#define setbits(n) __builtin_popcount((n))
#define pq priority_queue
using namespace std;
vector<int>v[1005];
int dist[1005];
void dfs(int node)
{
    for(int i=0;i<v[node].size();i++)
    {
        if(dist[v[node][i]]>dist[node]+1)
        {
            dist[v[node][i]]=dist[node]+1;
            dfs(v[node][i]);
        }
    }
}
int main()
{
    int n,m;
    cin>>n>>m;

    fill(dist,dist+1005,mod);
    dist[1]=0;
    while(m--)
    {
        int type;
        cin>>type;
        if(type==1)
        {
            int x;
            cin>>x;
            if(dist[x]==mod)
                cout<<-1<<"\n";
            else
                cout<<dist[x]<<"\n";
        }
        else if(type==2)
        {
            int a,b;
            cin>>a>>b;
            v[a].pb(b);
            if(dist[b]>dist[a]+1)
            {
                dist[b]=dist[a]+1;
                dfs(b);
            }
        }
    }
}
