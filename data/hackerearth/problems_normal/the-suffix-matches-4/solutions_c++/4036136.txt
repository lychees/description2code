#include<bits/stdc++.h>
#define MAX(a,b) (a>b?a:b)
#define MIN(a,b) (a<b?a:b)
#define UP upper_bound
#define LB lower_bound
#define LL long long 
#define Pi 3.14159265358
#define si size()
#define en end()
#define be begin()
#define fi first
#define se second
#define pb push_back
#define mp make_pair
#define ii set<int>::iterator
#define Tree int ind, int L, int R
#define Left 2*ind,L,(L+R)/2
#define Right 2*ind+1,(L+R)/2+1,R
using namespace std;
string s;
const LL m7=1000000007;
LL xar[300005];
LL Hash[300005];
LL n, m, k, i, j, q, Q, h1, h2, l, r, mid, cur;
main(){
	   cin>>s; k=29ll;
	   Hash[s.si-1]=s[s.si-1]-'a'+1;
	   for(i=s.si-2;i>=0;i--)
	    {
	     Hash[i]=(Hash[i+1]+(s[i]-'a'+1)*k)%m7;
		 k*=1ll*29;	 k%=m7;
		}
	   xar[0]=1ll;	
	   for(i=1;i<=s.si;i++)xar[i]=(xar[i-1]*1ll*29)%m7;	
	   cin>>q;
	   while(q--)
	    {
	     cin>>i; 
		 l=1; r=i; mid=0;
		 i--;
		 while(l<=r)
		  {
		   Q=(l+r)/2;	
		   h1=((Hash[i-Q+1]-Hash[i+1])%m7+m7)%m7;
		   h2=(Hash[s.si-Q]*xar[s.si-1-i])%m7;
		   if(h1==h2)mid=Q, l=Q+1;
		   else r=Q-1;	
		  }
		 cout<<mid<<endl; 	  
		}
       }