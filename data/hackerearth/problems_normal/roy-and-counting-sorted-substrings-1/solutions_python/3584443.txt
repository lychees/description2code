for _ in range(input()):
	n=input()
	a=raw_input()
	i=j=0
	while(i<n-1):
		c=0
		while(i<n-1 and ord(a[i])<=ord(a[i+1])):
			i+=1
			c+=1
		j+=(c*(c+1)/2)
		i+=1
	print j+n