#include <bits/stdc++.h>
#define _ ios_base::sync_with_stdio(0);cin.tie(0);

#define in(a) scanf("%d",&a);
using namespace std;
int n,m[101][101];

//mark flag as 1 if that place is already visited 
long long ans=0;
int flag[101][101]={0};	

void solvemaze(int x,int y){

    if(flag[x][y]==1 || x<1 || y<1 || x>n || y>n )return ;
    if(x==n && y==n) ans++;
    
    flag[x][y]=1;
    if(x+1<=n && flag[x+1][y]==0 && m[x+1][y]==0)
        solvemaze(x+1,y);
    if(x-1>0 && flag[x-1][y]==0 && m[x-1][y]==0)
        solvemaze(x-1,y);
    if(y+1<=n && flag[x][y+1]==0 && m[x][y+1]==0)
        solvemaze(x,y+1);
    if(y-1>0 && flag[x][y-1]==0 && m[x][y-1]==0)
        solvemaze(x,y-1);
    
    flag[x][y]=0;
    return;
}


int main(int argc, char** argv) {

    
    in(n);
    
    for(int i=1;i<=n;i++){
        for(int j=1;j<=n;j++){
            in(m[i][j]);
        }
    }
    if(m[n][n]==1){
        printf("-1\n");
        return 0;
    }   
    solvemaze(1,1);
    
    printf("%lld\n",ans);
    return 0;
}