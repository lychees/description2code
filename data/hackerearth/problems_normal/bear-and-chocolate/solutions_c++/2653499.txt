#include <iostream>
#include <stdio.h>
using namespace std;

int main()
{
char chocolate[1005][1005];
int test;

fflush(stdin);

cin>>test;

while(test--)
{
int row_cherry[1005]={0},column_cherry[1005]={0};
int j,N,total_cherries=0,flag=0,i;

cin>>N;

for(i=0;i<N;i++){
	for(j=0;j<N;j++)
	cin>>chocolate[i][j];
}


for(i=0;i<N;i++)
{
for(j=0;j<N;j++)
{
if( chocolate[i][j]=='#')  
{
column_cherry[j]++;
row_cherry[i]++;
total_cherries++;
}}}

int rc=0;

for(i=0;i<N;i++)
{
rc+=row_cherry[i];              
if( (2*rc)== total_cherries)
{
flag=1;
//break;
}}

int cc=0;

for(j=0;j<N;j++)               
{
cc+=column_cherry[j];
if( (2*cc)== total_cherries)
{
flag=1;
//break;
}}


if(flag)
cout<<"YES\n";
else
cout<<"NO\n";

}

    return 0;
}
