MOD = 10**9+7
x, y = map(int, raw_input().split())

prec = [1 for i in xrange(10**6+2)]

for i in xrange(1, 10**6+1):
    prec[i] = prec[i-1]*x
    prec[i] -= y
    prec[i] = (prec[i]+MOD) % MOD


q = int(raw_input())
for qq in xrange(q):
    n = int(raw_input())
    print prec[n]
