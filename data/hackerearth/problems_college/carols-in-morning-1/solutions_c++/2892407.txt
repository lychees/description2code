#include <bits/stdc++.h>
#define f(i,a,b) for(int i=a;i<b;i++)
using namespace std;

/* My first ever program in c++ is compiling just fine.. hurrayy */

int main()
{
	int n,t,m,c,sol;
	scanf("%d",&t);
	long long int array[21], s=1;
	f(i,0,20)
	{
		array[i]=s;
		s*=2;
	}
	
	while(t--)
	{
		sol=1<<18;
		vector <string> v;
		string temp;
		scanf("%d",&n);
		f(i,0,n)
		{
			cin>>temp;
			v.push_back(temp);
		}
		m=v.back().size();
		//cout<<minTime(v)<<endl;
		long long int N=1<<m;
		bool vis[n];
		f(i,0,N)
		{
			c=0;
			f(j,0,n)
				vis[j]=0;
			f(j,0,m)
				if(i&array[j])
					f(k,0,n)
						if(v[k][j]=='Y' && !vis[k])
						{
							c++;
							vis[k]=1;
						}	
						
			if(c==n)
			{
				int temp=__builtin_popcount(i);
				sol=min(sol,temp);
			}
		}
		printf("%d\n",sol);
	}
	return 0;
}
