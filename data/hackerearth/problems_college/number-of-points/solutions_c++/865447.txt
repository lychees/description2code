#include <iostream>
using namespace std;
long long ab(long long a){
	return (a>0)?a:-a;
}
long long gcd(long long a,long long b){
	if(b%a==0) return a;
	return gcd(b%a,a);
}
int main()
{
    int t;
    long long x1,y1,x2,y2;
    cin>>t;
    while(t--){
    		cin>>x1>>y1>>x2>>y2;
    		long long dx=ab(x2-x1),dy=ab(y2-y1);
    		if(dx==0&&dy==0) cout<<"0"<<endl;
    		else if(dx==0) cout<<dy-1<<endl;
    		else if(dy==0) cout<<dx-1<<endl;
    		else cout<<gcd(dx,dy)-1<<endl;
    }
    return 0;
}
