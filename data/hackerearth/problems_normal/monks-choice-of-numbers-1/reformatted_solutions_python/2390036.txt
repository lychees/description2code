'''
# Read input from stdin and provide input before running code

name = raw_input('What is your name?\n')
print 'Hi, %s.' % name
'''

test = input()

for i in range(test):

    n, k = raw_input().split()
    nums = raw_input().split()

    l = []

    for j in nums:
        l.append(bin(int(j)).count('1'))
    l.sort(reverse=True)
    k = int(k)
    print sum(l[:k])
