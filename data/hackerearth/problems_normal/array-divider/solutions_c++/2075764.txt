#include<cstdio>
#include<memory.h>
#include<algorithm>
using namespace std;
const int MAXN = 500 + 5 , MAXK = 300 + 5;
long long a[MAXN];
long long dp[MAXK][MAXN];
int main()
{
    int n , k;
    scanf("%d%d" , &n , &k);
    for(int i = 1;i <= n;i ++)
    {
        scanf("%d" , &a[i]);
        a[i] += a[i - 1];
    }
    memset(dp, 0x3f, sizeof dp);
    dp[0][0] = 0;
    for(int i = 1;i <= n;i ++)
        for(int j = 1;j <= k;j ++)
            for(int p = i;p >= max(1 , i - 30);p --)
            {
                long long t = a[i] - a[p - 1];
                dp[j][i] = min(dp[j][i] , dp[j - 1][p - 1] + t * t * (k - 1) - 2ll * t * a[p - 1]);
            }
    printf("%lld\n" , dp[k][n]);
    return 0;
}
