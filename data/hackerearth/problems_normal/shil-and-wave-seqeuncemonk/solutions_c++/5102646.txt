#include <bits/stdc++.h>
#define mod 1000000007
using namespace std;
long long a[100004],bit[100005][2]={0},bit1[100005]={0};
void up(int i,long long val,int pos){
    while(i<=100000){
        bit[i][pos]+=val;
        bit[i][pos]%=mod;
        i+=(i&-i);
    }
}
void up1(int i,long long val){
    while(i<=100000){
        bit1[i]+=val;
        bit1[i]%=mod;
        i+=(i&-i);
    }
}
long long query(int i,int pos){
    long long sum=0;
    while(i>0){
        sum+=bit[i][pos];
        sum%=mod;
        i-=(i&-i);
    }
    return sum;
}
long long query1(int i){
    long long sum=0;
    while(i>0){
        sum+=bit1[i];
        sum%=mod;
        i-=(i&-i);
    }
    return sum;
}
int main()
{
    //cout << "Hello world!" << endl;
    int n;
    scanf("%d",&n);
    for(int i=0;i<n;i++){
        scanf("%lld",&a[i]);
    }
    long long f,s,sum=0;
    for(int i=0;i<n;i++){
        f=query(a[i]-1,1);
        s=query(100000,0)-query(a[i],0);
        f=f%mod;
        s+=mod;
        s=s%mod;
        f=f+query1(a[i]-1);
        s=s+query1(100000)-query1(a[i]);
        f%=mod;
        s%=mod;

        up(a[i],f,0);
        up(a[i],s,1);
        up1(a[i],1);
        sum+=s+f;
        sum%=mod;
    }
   // cout<<sum;
    printf("%lld\n",sum);
    return 0;
}
