#include<bits/stdc++.h>
using namespace std;
#define ll unsigned long long int
#define max_value (ll)(1e18)
#define mod (ll)(1e9 + 7)
int dp[10001];
int root(int node){
    return dp[node] == node ? node : dp[node] = root(dp[node]);
}
int main(){
    cin.sync_with_stdio(false);
    int t;
    cin>> t ;
    while(t--){
        int N , M ;
        cin >> N  >> M ;
        int counter =0;
        for(int i = 1;i<= N ;i++) dp[i] =i ;
        for(int i = 1;i<= M ;i++){
            int X , Y ;
            cin >> X >> Y ;
            int uu = root(X);
            int vv = root(Y);
            if(uu != vv){
                dp[uu] = vv ;
                counter++;
            }
        }
        cout << counter << endl;
    }
}
