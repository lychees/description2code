#include <bits/stdc++.h>
using namespace std;

int main() {
	// your code goes here
	int T,n,m,i,j,sz[100];
	long int qry[1000], t[100], q;
	char s[50][100];
	cin>>T;
	while(T--){
		cin>>n>>m;
		for(i=0;i<n;i++){
			cin>>s[i];
			sz[i]=strlen(s[i]);
		}
		for(i=0;i<m;i++)	cin>>qry[i];

		t[0]=sz[0];
		for(i=1;i<n;i++)
			t[i]=2*t[i-1] + sz[i];	
	
		for(j=0;j<m;j++){
			q=qry[j]; 
			for(i=n-1;i>=0;i--)	
			{	if(q<(t[i]-sz[i]))
					if(q<(t[i]-sz[i])/2)
						continue;
					else
						q=t[i]-sz[i]-q-1;
				else
				{	cout<<s[i][q - 2*t[i-1]];	break;	}
			}
		}
		cout<<endl;
	}
	return 0;
}