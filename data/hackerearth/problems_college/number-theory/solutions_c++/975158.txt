#include <iostream>
#include <cstdio>
#include<cmath>
using namespace std;
int match (int c[10],int x)
{
    int o=0;
while(x>0)
    {
                if(c[x%10]==1)
                {
                    ++o;
                    break;
                }
                else
                x=x/10;
    }
    return o;
}
int main() {
    // your code goes here
    int t;
    scanf("%d",&t);
    while(t-->0)
    {
        long int x,i,n;
        scanf("%ld",&x);                  
        int a[10]={0};
        long int j=0,d=0,y=x;
        while(y>0)
        {
            n=y%10;
            y=y/10;
            a[n]=1;
        }
  
        for(i=1;i<=sqrtl(x);++i)
        {
        j=i;
            if(x%i==0)          //checking divisors 
            {
                if(i*i==x)         //checking for perfect squares
                {
                d+=match(a,i);
                }
                else               //checking for non perfect squares
                {
                d+=match(a,i);    //matching for divisor i
                n=x/i;
                d+=match(a,n);       //matching for divisor x/i
                }
                
            }
        }
     printf("%ld\n",d);   //cummulative sum of divisors having same digit in no.
    }
    return 0;
}