n, L, D = [int(i) for i in raw_input().split(" ")]
p = [float(x) for x in raw_input().split(" ")]
p.append(1)
p.insert(0, 1)
d = [int(x) for x in raw_input().split(" ")]
d.insert(0,0)
last = d[len(d) - 1]
d.append(D)

pthen = [0]*len(d)
pthen[0] = 1
for x in range(0, len(d)):
  for y in range(x+1, len(d)):
    if d[y] - d[x] > L:
      break
    else:
      pthen[y] = max(pthen[y], pthen[x]*p[y])

print("%.6f" % pthen[len(pthen)-1])