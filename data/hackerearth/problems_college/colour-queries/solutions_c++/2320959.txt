#include <cstdio>
#include <cmath>
#include <cstring>
// #include <iostream>
using namespace std;

int vis[105][105], inp[105][105], X[4] = {1, 0, -1, 0}, Y[4] = {0, 1, 0, -1}, cnt, n, m, q;
int x, y, d;

int abs(int a,int b){
	return a - b >= 0 ? a - b : b - a;
}

bool is_valid(int a, int b) {
	if (a >= 0 && a < n && b >= 0 && b < m)
		return true;
	return false;
}
void process(int x, int y, int d) {
	// cout<<x<<" "<<y<<endl;
	vis[x][y] = 1;
	cnt++;
	int x1, y1;
	for (int i=0; i<4; i++) {
		x1 = x + X[i];
		y1 = y + Y[i];
		// cout<<"x1 : "<<x1<<"  y1 : "<<y1<<endl;
		if (is_valid(x1, y1) && abs(inp[x][y] ,inp[x1][y1]) <= d && vis[x1][y1] == 0) {
			process(x1, y1, d);
		}
	}
}
int main() {
	
	scanf("%d %d %d",&n,&m,&q);
	for (int i=0; i<n; i++) {
		for (int j=0; j<m; j++) {
			scanf("%d",&inp[i][j]);
		}
	}
	while (q--) {
		memset(vis, 0, sizeof(vis));
		cnt = 0;
		scanf("%d %d %d",&x,&y,&d);
		x--; y--;
		process(x, y, d);
		printf("%d\n",cnt);	
	}
	return 0;
}