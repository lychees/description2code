#include <bits/stdc++.h>

#define w(t)    while(t--)
#define loop(i, a, b) for (i = a; i < b; i++)
#define ll long long int
#define llu unsigned long long int
#define sd(d)   scanf("%d", &d)
#define sl(l)   scanf("%ll", l)
#define pb push_back
#define mp make_pair
#define pii pair<int, int>
#define ff first
#define ss second
#define mem(a, v) memset(a, v, sizeof(a))

using namespace std;

bool visited[25][25];
int M[25][25];
int cnt, n;

void fun(int a, int b) {
    if (a == n && b == n) {
        cnt++;
        return;
    }
    visited[a][b] = true;
    if (M[a + 1][b] == 0 && !visited[a + 1][b]) {
        fun(a + 1, b);
    }
    if (M[a - 1][b] == 0 && !visited[a - 1][b]) {
        fun(a - 1, b);
    }
    if (M[a][b + 1] == 0 && !visited[a][b + 1]) {
        fun(a, b + 1);
    }
    if (M[a][b - 1] == 0 && !visited[a][b - 1]) {
        fun(a, b - 1);
    }
    visited[a][b] = false;
}

int main()
{
    int t, i, j;
    sd(t);
    w(t) {
        mem(M, 1);
        mem(visited, false);
        sd(n);
        loop(i, 1, n + 1) loop(j, 1, n + 1) sd(M[i][j]);

        if (M[1][1] == 1 && M[n][n] == 1) {
            cout << "0\n";
        } else {
            cnt = 0;
            fun(1, 1);
            cout << cnt << endl;
        }
    }
    return 0;
}
