#include <iostream>
using namespace std;

int main()
{
    int lnodes[19];
    int ll;
    int T,N;
    cin >> T;
    while(T--) {
    	ll = 0;
    	cin >> N;
    	int h=0;
    	while(1) {
    		int t = 1 << h++,i = -1;
    		int lnode = 0,rnode = 0,node;
    		if(t > N) {
    			break;
    		}
    		while(++i < t) {
    			cin >> node;
    			if(!node) continue;
    			if(!lnode) lnode=node;
    			else rnode=node;
    		}
    		if(!rnode) {
    			rnode=lnode;
    			lnode=0;
    		}
    		if(lnode) {
    			lnodes[ll++] = lnode;
    		}
    		if(rnode) cout<< rnode<<endl;
    	}
    	int i = -1;
    	while(++i<ll) cout<<lnodes[i]<<endl;
    	cout<<endl;
    }
    return 0;
}