#include<stdio.h>
int main()
{
	int size, q;
	char ip[2];
	int ip2;
	
	scanf("%d%d",&size,&q);
	int arr1[size], arr2[size];
	for(int i=0; i<size; i++)
		scanf("%d",&arr1[i]);
	for(int i=0; i<size; i++)
		scanf("%d",&arr2[i]);
	
	int start = 0;
	int ans = -1;
	if(arr2[start] == arr1[0])	//already same
	{
		ans = 0;
	}
	for(int i=0; i<q; i++)
	{
		
		scanf("%s%d",ip,&ip2);
		if(ip[0] == 'L')
		{
			start -= ip2;
			start %= size;
			if(start < 0)
				start += size;
		}
		else
		{
			start += ip2;
			start %= size;
			if(start < 0)
				start += size;
		}
		if(arr2[start] == arr1[0] && ans == -1)	
		{
			ans = i+1;
		}
	}
	printf("%d\n",ans);
}