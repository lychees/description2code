#include<bits/stdc++.h>
using namespace std;
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int a[10000];
		int r,k,c,j,z=0;
		cin>>r>>k;
		int i,l;
		for(i=1;i<=r;i++)
		{
			c=0,j=0;
			int f=i;
			while(f!=0)
			{
			a[j]=f%2;
			f=f/2;
			j++;
			}
		for(l=0;l<j-2;l++)
		{
			if(a[l]==1 && a[l+1] == 0 && a[l+2]==1)
			{
				c++;
			}
		}
		if(c>=k)
		{
			z++;
		}
		}
		cout<<z<<"\n";
	}
}
