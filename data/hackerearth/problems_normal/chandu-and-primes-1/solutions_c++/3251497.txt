#include <iostream>
#include <cstring>

using namespace std;

int sum[1000001];

#define MAX 1000001

bool v[MAX];

void Sieve(){
	v[1] = true;
	v[0] = true;
	for (long long int i = 2; i < 1000; i += 1) {
		if (!v[i]){
			for (long long int j = i*2; j < MAX; j += i){
				v[j] = true;
			}
		}
	}
}

bool alphap(int x) {
	int prod = 1;
	int num = 0;
	while(x) {
		num = num + (x%10)*prod;
		prod *= 10;
		if(!v[num])	return true;
		x /= 10;
	}
	return false;
}

int main()
{
    sum[0] = 0;
    Sieve();
    for(int i = 1; i <= 1000000; ++i) {
    	if(alphap(i)) {
    		sum[i] = 1 + sum[i-1];
    	}
    	else
    		sum[i] = sum[i-1];
    }
	int q;
	scanf("%d", &q);
	
	while(q--) {
		int a, b;
		scanf("%d %d", &a, &b);
		printf("%d\n", sum[b] - sum[a-1]);
	}
	
    return 0;
}

