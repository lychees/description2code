T = input()
for i in range(T):
    N = input()
    inparr = map(int, raw_input().split())
    d = {}
    for j in inparr:
        if (j in d):
            d[j] += 1
        else:
            d[j] = 1
    tot = 0
    for k, v in d.items():
        tot += v*(v+1)/2
    print tot
