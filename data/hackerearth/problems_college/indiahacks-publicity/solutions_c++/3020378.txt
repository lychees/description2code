#include <stdio.h>
#include <stdlib.h>
int main()
{
    int q[100001],da,ca,kq,fr[100001],t,c,i,j,n,e,u[100001],v[100001],cn[200002],h[100002];
    scanf("%d",&t);
    for (c=0;c<t;c++)
    {
        scanf("%d%d",&n,&e);
        for (i=0;i<=n;i++)
        {
            h[i]=0;
            fr[i]=1;
        }
        for (i=0;i<e;i++)
        {
            scanf("%d%d",u+i,v+i);
            u[i]++;
            v[i]++;
            h[u[i]]++;
            h[v[i]]++;
        }
        for (i=1;i<=n;i++)
            h[i]+=h[i-1];
        h[n+1]=h[n];
        for (i=0;i<e;i++)
        {
            cn[h[u[i]]--]=v[i];
            cn[h[v[i]]--]=u[i];
        }
        kq=0;
        for (i=1;i<=n;i++)
            if (fr[i]==1)
        {
            fr[i]=0;
            kq++;
            da=0;
            ca=1;
            q[1]=i;
            while (++da<=ca)
            {
                for (j=h[q[da]]+1;j<=h[q[da]+1];j++)
                    if (fr[cn[j]]==1)
                {
                    fr[cn[j]]=0;
                    q[++ca]=cn[j];
                }
            }
        }
        printf("%d\n",kq);
    }
}
