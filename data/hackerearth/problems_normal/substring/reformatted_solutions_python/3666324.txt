from re import findall
n = input()


def sscount(s):
    l = len(s)
    cs = s.translate(None, 'AaBbCc')
    if cs == s:
        return 0
    elif cs == '':
        return l*(l+1)/2
    else:
        li = findall('[a-cA-C]+', s)
        return sum(map(sscount, li))


while n:
    n -= 1
    s = raw_input()
    print sscount(s)
