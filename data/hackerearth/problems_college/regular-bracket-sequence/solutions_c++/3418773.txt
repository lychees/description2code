#include<iostream>
#include<stack>
#include<string>
using namespace std;
int main()
{	int p;
	long t;
	long long count;
	string str;
	stack <char> st;
	cin >> t;
	while(t--)
	{	count=0;	p=0;
		cin >> str;
		string::iterator it;
		for(it=str.begin() ; it!=str.end() ; it++)
		{	if(p==1)
				break;
			else
			{
			switch( *it )
			{
			case '(':
			case '[':
			case '<':
			case '{': st.push(*it);
				break;
			case ')':
			case ']':
			case '>':
			case '}':{
				if(st.empty())
					{cout<<"Impossible\n";
					p=1;
					break;
					}
				else
				{
				if( (st.top()+1)!=*it && (st.top()+2)!=*it)
					count++;
				st.pop();
				}
				}
			}
			}
		}
		if(st.empty() && p==0)
			cout<<count<<"\n";
		else
		if(p==0)
			cout<<"Impossible\n";
		while(!st.empty())
			st.pop();
	}
	return 0;
}
