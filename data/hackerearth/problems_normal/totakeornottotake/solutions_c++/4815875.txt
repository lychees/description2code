#include <bits/stdc++.h>
using namespace std;
typedef long long int ll;
ll fun(char str,ll n,ll x)
{
	if(str=='N')
		return -1*n;
	if(str=='+')
		return n + x;
	if(str=='-')
		return n - x;
	if(str == '*')
		return n*x;
	if(str == '/')
		return n/x;
}
int main()
{
    int t;
    cin >> t;
    while(t--)
    {
    	ll n,x;
    	cin >> n;
    	char str;
    	ll i,mi = 1,ma = 1,maxx = 1;
    	for(i=0;i<n;i++)
    	{
    		cin >> str;
    		vector<ll> v;
    		v.push_back(mi);
    		v.push_back(ma);
    		if(str=='N')
    		{
    			v.push_back(fun(str,mi,-1));
    			v.push_back(fun(str,ma,-1));
    		}
    		else
    		{
    			cin >> x;
    			v.push_back(fun(str,mi,x));
    			v.push_back(fun(str,ma,x));
    		}
    		sort(v.begin(),v.end());
    		mi = v[0];
    		ma = v[3];
    		maxx = max(maxx,ma);
    	}
    	cout << ma << endl;
    }
    return 0;
}
