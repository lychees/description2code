#include<bits/stdc++.h>
#define si(x) scanf("%d",&x)
#define sl(x) scanf("%lld",&x)
#define ll long long
using namespace std;
ll powe(ll x,ll p)
{
	ll an=1;
	if(x==0)
		return 0;
	else if(x==1)
		return 1;
	while(p!=0)
	{
		if(p%2==1)
			an*=x;
		x*=x;
		p/=2;	
	}
	return an;
}
ll search(ll a , int p)
{
	ll low = 1,high = pow(a , (1.0)/p) + 100;
	while(low < high) {
		ll mid = (1 + low + high) / 2;
		if(powe(mid,p) > a) {
			high = mid - 1;
		}
		else {
			low = mid;
		}
	}
	return low;
}
int main()
{
	int t,xh=1;
	si(t);
	while(xh<=t)
	{
		ll p,q,cnt=0;
		sl(p);
		sl(q);
		ll k,tmp,y;
		sl(k);
		y=search(k,q);
		for(ll i=0;i<=10000000;i++)
		{
			tmp=powe(i,p)+i;
			if(tmp>k)
				break;
			while(powe(y,q)>k-tmp)
				y--;
			if(powe(y,q)==k-tmp)
				cnt++;
		}	
		printf("Case #%d: %lld\n",xh,cnt);
		xh++;
	}
	return 0;
}