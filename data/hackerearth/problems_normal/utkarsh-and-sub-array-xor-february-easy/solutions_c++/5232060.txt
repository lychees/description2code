#include <bits/stdc++.h>
using namespace std;
#include <stdio.h>
typedef long long ll;
ll mod = 1000000007;
ll po(ll a, ll b)
{
//	printf("for cal %lld %d\n",a,b);
	if(b==0)return 1;
	ll x = po(a,b/2);
//	printf("half is %lld\n",x);
	x = (x*x)%mod;
//	printf("so it becomes %lld\n",x);
	if(b%2)x = (a*x)%mod;
//	printf("hence returing %lld\n",x);
	return x;
}
map<ll,ll> fa;
ll root(ll x)
{
	if(fa.find(x)==fa.end() || fa[x] ==x)return fa[x] = x;
	return fa[x] = root(fa[x]);
	
}
void join(ll x, ll y)
{
	if(rand()%2)fa[x] = y;
	else fa[y] = x;
}
int main()
{
 //   printf("Hello World!\n");
 int k;
 ll n;
scanf("%lld",&n);
scanf("%d",&k);
 ll ans = po(2,n);
// printf("basic answer is %lld for power %lld\n",ans,n);
 ll inv = po(2,mod-2);
 //printf("and inv is %lld\n",inv);
 ll u,v;
 int i;
 for(i=0;i<k;i++)
 {
 	scanf("%lld%lld",&u,&v);
 	u--;
 //	printf("adding %lld %lld\n",u,v);
 	u = root(u);
 	v = root(v);
 //	printf("faters are %lld %lld\n",u,v);
 	if(u!=v)
 	{
 		join(u,v);
 		ans = (ans*inv)%mod;
 	}
 	printf("%lld\n",ans);
 }
    return 0;
}
