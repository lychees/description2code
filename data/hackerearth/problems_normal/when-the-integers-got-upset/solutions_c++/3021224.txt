#include<bits/stdc++.h>
using namespace std;
#define rep(i,n) for(i=0;i<n;i++)
#define ll long long
#define elif else if
#define pii pair<int,int>
#define mp make_pair
#define pb push_back
#define gc getchar_unlocked
#define lim 100000000
vector<int>ar;
vector<int>c;
int n;
int dp[5100][15][15];
int coun(int num)
{
	return __builtin_popcountll(num);
}
int foo(int done,int fir, int sec)
{
	if(dp[done][fir][sec]!=-1)
		return dp[done][fir][sec];
    int i,j,tmp=lim,pos=coun(done), val= (ar[fir]^ar[sec]);
   if(pos==n)return 0;
   i=0;
   for( i=0 ; i<n ; i++)
   {
   	 if(  ((1<<i) & (done)) == 0)
   	 {
       tmp=min(tmp,  (val^ar[i])*c[pos] + foo(  (done|(1<<i)),i,fir) );
   	 } 
   }
   dp[done][fir][sec]=tmp;
   return tmp;
}
int main()
{

	int t;
	cin>>t;
	while(t--)
	{
		ar.clear();
		c.clear();
		int i,j;
		cin>>n;
		ar.resize(n);
		c.resize(n);
        rep(i,n)
        cin>>ar[i];
        rep(i,n)
        cin>>c[i];
        int ans=lim;
        memset(dp,-1,sizeof(dp));
        for(i=0;i<n;i++)
        {
        	for(j=0;j<n;j++)
        	{
        		if(i==j)continue;
        		int fi= (1<<i),se=(1<<j),don= (fi|se);
        		don= ((1<<i)|(1<<j));
        		ans=min(ans, foo ( don,i,j));
        	}
        }
        cout<<ans<<"\n";
	}
}