#include <stdio.h>

int getIndex(int arr[], int left, int right, int key)
{
	int m;
	while (right - left > 1)
	{
		m = left + (right - left)/2;
		if (arr[m]>=key)
			right = m;
		else
			left = m;
	}
		return right;
}



int main()
{
    int T,n;
    scanf("%d",&T);
    while(T--){
    	scanf("%d",&n);
    	int arr[n],temp[n];
    	for(int i = 0; i < n; i++){
    		scanf("%d",&arr[i]);
    	}
        temp[0] = arr[0];
        int j = 1;
        for (int i = 1; i < n; i++)
        {
            if (arr[i] < temp[0])
                temp[0] = arr[i];
 
            else if (arr[i] > temp[j-1])
                temp[j++] = arr[i];
 
            else
                temp[getIndex(temp, -1, j-1, arr[i])] = arr[i];
        }
        printf("%d\n",n-j);
    }
    return 0;
}
