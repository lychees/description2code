#include <bits/stdc++.h>
#define rep(i,n) for(int (i)=0;(i)<(int)(n);++(i))
using namespace std;
vector<int>v;
long long dp[1000005][2];
int main() {
	int t;
	cin>>t;
	while(t--){
		int n,i;
		cin>>n;
		v.resize(n);
		rep(i,n)cin>>v[i];
		if(n==1){
			cout<<v[0]<<endl;
			continue;
		}
		if(n==2){
			cout<<max(v[0],v[1])<<endl;
			continue;
		}
		memset(dp,0,sizeof(dp));
		dp[0][0]=v[0],dp[0][1]=0;
		dp[n-1][0]=v[n-1],dp[n-1][1]=0;
		for(int i=1;i<n-1;i++){
			dp[i][0]=dp[i-1][1]+v[i];
			dp[i][1]=max(dp[i-1][1],dp[i-1][0]);
		}
		long long ans=max(dp[n-2][0],dp[n-2][1]);
		for(int i=n-2;i>0;i--){
			dp[i][0]=dp[i+1][1]+v[i];
			dp[i][1]=max(dp[i+1][0],dp[i+1][1]);
		}
		ans=max(ans,max(dp[1][0],dp[1][1]));
		cout<<ans<<endl;
		
	}
	return 0;
}