for x in range(input()):
    n = input()
    s = [int(x) for x in raw_input().split()]
    arr = {}
    pairs = n
    for x in s:
        if (x not in arr):
            arr[x] = 1
        else:
            pairs += arr[x]
            arr[x] += 1

    print pairs
