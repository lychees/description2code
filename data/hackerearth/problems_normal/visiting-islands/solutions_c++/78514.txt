#include <iostream>
#include <string.h>
#include <stdlib.h>
using namespace std;

int main(){
	int cycle[1000000];
	int next[1000000];
	int max_so_far=0;
	int max_index;
	int test;
	cin>>test;
	int curr;
	int next_land;
	int N;
	for(int i=0;i<test;i++){
		cin>>N;
		max_so_far=0;
		for(int j=0;j<N;j++)
			cin>>next[j];
		memset(cycle,0,N*sizeof(int));
		for(int j=0;j<N;j++){
			if(cycle[j]==0){
				cycle[j]=-1;
				curr=1;
				next_land=next[j];
				while(cycle[next_land]==0){
					curr++;
					cycle[next_land]=-curr;
					next_land=next[next_land];
				}
				//cycle?
				int len;
				if(cycle[next_land]<0){
					len=curr-abs(cycle[next_land])+1;
					while(cycle[next_land]<0){
						cycle[next_land]=len;
						next_land=next[next_land];
					}
					curr-=len;
				}
				//bool flag=false;	
				if(cycle[next_land]>0){
					curr=curr+cycle[next_land];
				}
/*				cycle[j]=curr;
				next_land=next[j];*/
				next_land=j;
				while(cycle[next_land]<0){
					cycle[next_land]=curr--;
					next_land=next[next_land];
				}
				if(cycle[j]>max_so_far){
					max_so_far=cycle[j];
					max_index=j;
				}
			}
		}
		cout<<max_index<<endl;
	}
	
	
}