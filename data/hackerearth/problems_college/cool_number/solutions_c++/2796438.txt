#include<bits/stdc++.h>
using namespace std;
int counter(int r , int k) {
	int count = 0 ,count1=0;

	for ( int i=1;i<=r;i++){
			vector<int> v;
		    count=0;
		    int n=i;
		    	while(n){
					if(n&1) v.push_back(1);
					else v.push_back(0);
					n=n>>1;
				}
			int l= v.size();	
		for(int j = 0 ; j < (l-2) ; j++)
		{  //cout << v.size()-2;
			if(v[j]==1 && v[j+1]==0 && v[j+2]==1)
			count++;
		}
		if(count>=k) count1++;
	}
	return count1;
}

int main()
{
	int t;
	cin >> t;
	while ( t-- )
	{
		int n , k ;
		cin >> n >> k;
	    cout << counter(n,k) << endl;
	}
	return 0;
}