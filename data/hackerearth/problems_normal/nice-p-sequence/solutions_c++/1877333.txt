#include <map>
#include <set>
#include <cmath>
#include <ctime>
#include <deque>
#include <queue>
#include <stack>
#include <bitset>
#include <cctype>
#include <cstdio>
#include <vector>
#include <cassert>
#include <complex>
#include <cstdlib>
#include <cstring>
#include <fstream>
#include <iomanip>
#include <sstream>
#include <iostream>
#include <algorithm>
using namespace std;
#define int long long

int exgcd(int a, int b, int& x, int& y)
{
	if (a == 0) return x = 0, y = 1, b;
	int x1, y1, d = exgcd(b % a, a, x1, y1);
	return x = y1 - b / a * x1, y = x1, d;
}

#undef int
int main()
{
#define int long long
	int t; scanf("%lld", &t);
	while (t--)
	{
		int a, p, n;
		scanf("%lld%lld%lld", &a, &p, &n);
		int b, y;
		int d = exgcd(p, a, y, b);
		if (d != 1)
			puts("-1");
		else
		{
			b %= p;
			if (b < 0) b += p;
			if (n % 2 == 0) printf("%lld\n", n / 2 * (a + b));
			else printf("%lld\n", n / 2 * (a + b) + a);
		}
	}
	return 0;
}