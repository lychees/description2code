//Sinha Saab
//NARUTO Fan



#include <cstdio>
#include <iostream>
#include <algorithm>
#include <string.h>
#include <vector>
#include <set>
#include <map>
#include <queue>
#include <list>
#include <math.h>

#define ll long long int
#define maxN 16
#define maxVal 100000000
#define minVal -100000000
#define mod 1000000007LL

#define gcd(a,b) __gcd(a,b)

using namespace std;

int n,w;
int a[17][17];
int dp[65536][1001];

int compute(int visit,int c)
{
	if(visit==((1<<n)-1))
		return 0;
	if(dp[visit][c]!=-1)
		return dp[visit][c];
	int i,j,x,ans=0;
	for(i=0;i<n;i++)
	{
		if(visit&(1<<i))
			continue;
		if(visit)
		{
			x=2000;
			for(j=0;j<n;j++)
				if(i!=j&&(visit&(1<<j)))
					x=min(x,a[i][j]);
		}
		else
			x=0;
		if((x+c)<=w)
			ans=max(ans,1+compute(visit|(1<<i),c+x));
	}
	return dp[visit][c]=ans;
}

int main()
{
    int t,i,j;
    scanf("%d",&t);
    while(t--)
    {
    	scanf("%d%d",&n,&w);
    	for(i=0;i<n;i++)
    		for(j=0;j<n;j++)
				scanf("%d",&a[i][j]);
		memset(dp,-1,sizeof(dp));
		printf("%d\n",compute(0,0));
    }
    return 0;
}