
t = int(raw_input())
for i in range(t):
    n = int(raw_input())
    city = [0 for i in range(2*10000+1)]
    for i in range(n):
    	x , y = map(int , raw_input().split())
    	city[x] = 1
    	city[y] = 1
    count = 0
    for e in city:
    	if e == 1:
    		count += 1
    print count