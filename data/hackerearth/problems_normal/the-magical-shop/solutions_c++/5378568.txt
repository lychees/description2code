#include<string.h>
#include <iostream>
using namespace std;

long long find(long long a,long long b,string str,long long i)
{
	long long ans=0;
	
	while(i!=str.length())
	{
	
	if(str[i]=='1')
	{
		ans+=a;
		ans=ans%b;
	}
	
	a=a*a;
	a=a%b;
	
	i++;
	}
	return ans%b;
}

int main()
{
	long long a,b,c;
	string str;
	
    cin>>a>>b;
    cin>>str;
    
    c=find(a,b,str,0);
    cout<<c<<endl;
    return 0;
}
