#include <bits/stdc++.h>
#define MOD 1000000007
using namespace std;
int mat[1005][1005];
long long ans[1005][1005];
int n, m;
bool chck(int x, int y, int val){
    if((x>=n)||(x<0))
    return false;
    if((y>=m)||(y<0))
    return false;
    if(mat[x][y]>val)
    return true;
    return false;
}
int main(){
    	int i,j;

    	cin>>n;
    	m=n;
    	for(i=0;i<n;i++){
    		for(j=0;j<m;j++){
    			cin>>mat[i][j];
    			ans[i][j]=1;
    		}
    	}
    	long long ret=0;

    	for(i=99;i>=1;i--){
    		for(int p=0;p<n;p++){
    			for(int q=0;q<m;q++){
    				if(mat[p][q]==i){
    					ret=0;
    					if(chck(p-1,q,i))
    					ret+=ans[p-1][q];
    					if(chck(p+1,q,i))
    					ret+=ans[p+1][q];
    					if(chck(p,q-1,i))
    					ret+=ans[p][q-1];
    					if(chck(p,q+1,i))
    					ret+=ans[p][q+1];
    					ret%=MOD;
    					ans[p][q]+=ret;
    					if(ans[p][q]>=MOD)
    					ans[p][q]%=MOD;
    				}
    			}
    		}
    	}
    	ret=0;
    	for(i=0;i<n;i++){
    		for(j=0;j<m;j++){
    			ret+=ans[i][j];
    			if(ret>=MOD)
    			ret%=MOD;
    		}
    	}
    	cout<<ret<<endl;

    	return 0;
    }

