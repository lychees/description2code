#include <bits/stdc++.h>
using namespace std;

int main()
{
	int t;
	cin>>t;
	while(t--)
	{
	    string str;
	    cin>>str;
	    long long res = 0;
	    int p = 0,q = 0,la = -1,lb = -1,lc = -1,cnt = 0;
	    for(;q<str.size();++q)
	    {
	    	if(str[q] == 'a')
	    	{
	    		if(la < p)
	    			++cnt;
	    		la = q;
	    	}
	    	else
	    	if(str[q] == 'b')
	    	{
	    		if(lb < p)
	    			++cnt;
	    		lb = q;
	    	}
	    	else
	    	{
	    		if(lc < p)
	    			++cnt;
	    		lc = q;
	    	}
	    	
	    	if(cnt == 3)
	    	{
	    		int haha = min(min(la,lb),lc);
	    		res += (long long)(q-p)*(q-p+1)/2;
	    		res -= (long long)(q-haha-1)*(q-haha)/2;
	    		p = haha+1;
	    		cnt = 2;
	    	}
	    	//cout<<cnt<<" "<<res<<endl;
	    }
	    res += (q-p)*(q-p+1)/2;
	    cout<<res<<endl;
	}
    return 0;
}
