#include<bits/stdc++.h>
using namespace std;
pair<int ,int > a[100001];
string s;
int main()
{
    long long t,c,n,cnt;
    cin>>t;
    while(t--){
        cin>>s;
        n = s.size();

        a[0].first=0;
        a[0].second=0;

        for(int i=0;i<n;i++){
            a[i+1]=a[i];
            if(s[i]=='a'){
                a[i+1].first++;
            }

            if(s[i]=='b'){
                a[i+1].first--;a[i+1].second++;
            }

            if(s[i]=='c'){
                a[i+1].second--;
            }

        }

        n++;

        sort(a,a+n);
        c=1;
        cnt=0;
        for(int i=1;i<n;i++){
            if(a[i]==a[i-1]){
                c++;
            }else{
                cnt+= c*(c-1)/2;
                c=1;
            }
        }
         cnt+= c*(c-1)/2;

        cout<<cnt<<endl;

    }
}
