#include <bits/stdc++.h>
using namespace std;

int prime[1000002]={0};
int cum[1000002]={0};
int check ( int num) {
	
	int f=0;
	if(prime[num]==0)
	return 1;
	int s=num%10;
	num=num/10;
	if(prime[s]==0)
	return 1;
	int i=1;
	while(num) {
		
		int k=num%10;
		s = k*pow(10,i)+s;
		if(prime[s]==0)
		return 1;
		num=num/10;
		i++;
	}
	return 0;
}
int main()
{
	prime[0] = prime[1] = 1;
    for ( int i=2 ; i<=1000001 ; i++) {
    	if(prime[i]==0) {
    		for(int j=2; (i*j)<=1000001; j++) {
    			prime[i*j]=1;
    		}
    	}
    }
    
    
    
    for ( int i=2;i<=1000001;i++) {
    	if(check(i)) {
    	//	cout<<i<<" ";
    		cum[i] = cum[i-1] + 1;
    	} else {
    		cum[i]=cum[i-1];
    	}
    }
    int q,l,r;
    scanf("%d",&q);
    while(q--) {
    	scanf("%d%d",&l,&r);
    	printf("%d\n",cum[r]-cum[l-1]);
    }
    return 0;
}
