#include <iostream>
#define MAX 1000000
#define MOD 1000000007
using namespace std;

int main()
{
	long long int x,y;
	long long int i,q;
	int n;
	long long int *a;
	
	scanf("%lld%lld",&x,&y);
	scanf("%lld",&q);
	
	a = (long long int *)malloc(sizeof(long long int)*(MAX));
		
	a[0] = x*1 - y;
	for(i=1;i<1000000;i++){
		a[i] = (x*a[i-1] - y) % MOD;	
	}
		
	while(q--){
		scanf("%d",&n);
		printf("%lld\n",a[n-1]);
	}
	return 0;
}
