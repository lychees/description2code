a,b=map(int,raw_input().split())
s=raw_input()
l=len(s)
sum=0
for i in range(l):
	if s[i]=='1':sum=(sum+a)%b
	a=(a*a)%b
print sum