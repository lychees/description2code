#include <bits/stdc++.h>

#define pb push_back
#define all(a) a.begin(),a.end()
#define allr(a) a.rbegin(),a.rend();
#define fr first
#define se second
#define mp make_pair
#define sz(a) int((a).size())
#define memo(a,b) memset(a,b,sizeof(a))
#define MAX 100001
#define INF 1e18+1

using namespace std;

typedef long long ll;
typedef pair<ll,ll> pll;
typedef vector<ll> vll;
typedef vector<pll> vpll;

ll n,m,t,var,x,y,st[MAX],low[MAX],cc[MAX],nu[MAX],sz[MAX];
bool vis[MAX];
vll adj[MAX];
vpll ans;

void count(ll s)
{
  vis[s] = true;
  cc[s] = x;
  ++nu[x];

  for(ll it : adj[s]){
    if(!vis[it])
      count(it);
  }
}

void dfs(ll s,ll p)
{

  st[s] = low[s] = x;
  ++x;
  vis[s] = true;
  sz[s] = 1;

  for(ll it : adj[s]){
    if(!vis[it]){
      dfs(it,s);
      sz[s] += sz[it];
      if(low[it] > st[s] && abs(sz[it] - (nu[cc[s]] - sz[it])) < t)
	++var;
	
      low[s] = min(low[it],low[s]);
    }
    else if(it != p)
      low[s] = min(low[s],st[it]);
    else
      continue;
  }

}
    
  

int main()
{
  ios::sync_with_stdio(false);
  cin.tie(0);
  cout.tie(0);
  cin>>n>>m>>t;

  for(ll i = 0;i < m;++i){
    cin>>x>>y;
    adj[x].pb(y);
    adj[y].pb(x);
  }

  x = 0;
  for(ll i = 1;i <= n; ++i){
    if(!vis[i])
      count(i);
    ++x;
  }

  memo(vis,false);
  x = 1;
  
  for(ll i = 1;i <= n; ++i){
    if(!vis[i])
      dfs(i,i);
    x = 1;
  }
  
  cout<<var<<endl;
  return(0);
}
