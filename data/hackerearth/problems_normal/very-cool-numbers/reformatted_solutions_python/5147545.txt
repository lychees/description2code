def dec_to_bin(x):
    l = bin(x)
    return l[2:]


t = int(raw_input())

while (t):
    t -= 1

    R, K = raw_input().split()
    r = int(R)
    k = int(K)
    ans = 0
    count = 0
    for i in range(1, r+1):

        binr = bin(i)[2:]
# print binr
        count = 0

        for j in range(0, len(binr)-1):
            # print binr[j:j+2]
            if (binr[j:j+3] == "101"):

                count += 1

# print i,count
        if count >= k:
            ans = ans + 1
    print ans
