

def sums():
    a, c = map(int, raw_input().split())
    s = raw_input()

    ans = 0
    pot = a

    for i in s:
        if i == '1':
            ans += pot
            ans %= c

        pot *= pot
        pot %= c

    print ans


if __name__ == "__main__":
    sums()
