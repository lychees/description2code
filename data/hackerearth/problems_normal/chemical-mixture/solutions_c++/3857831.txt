#include <bits/stdc++.h>
#define dodi 1000000007 

using namespace std;
typedef long long ll;

int static const N = 40400;

int t,n1,n2,br;
ll m,a[70],b[20],p[N];

void skrljaj(int k , ll vr)
{
	if(k == n2)
	{
		p[br++] = vr;
		return;
	}
	skrljaj(k+1,vr+b[k]);
	skrljaj(k+1,vr);
}

int main() {
	int t;
	scanf("%i",&t);
	while(t>0)
	{
		t--;
		cin>>m>>n1>>n2;
		br = 0;
		for(int i=0;i<n1;i++)	
			cin>>a[i];
		for(int i=0;i<n2;i++)
			cin>>b[i];
		skrljaj(0,0);
		sort(p,p+br);
		sort(a,a+n1);
		int naso = 0;
		for(int i=0;i<br;i++)
		{
			ll w = m-p[i];
			bool used[100];
			for(int j=n1-1;j>=0;j--)
			{
				used[j] = 0;
				if(w >= a[j])
				{
					used[j] = 1;
					w -= a[j];
				}
			}
			if(w == 0)
			{
				naso = 1;
				printf("YES\n");
				w = m-p[i];
				for(int j=0;j<n1;j++)
					if(used[j])
						cout<<a[j]<<" ";
				printf("\n");
				break;
			}
		}
		if(naso == 0)
			printf("NO\n");
	}
	
	return 0;
}
