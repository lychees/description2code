#include<bits/stdc++.h>
typedef long long int uli;
using namespace std;

const int mxn=510;
const int mxk=310;
const uli inf=(1e5*mxn)*(1e5*mxn);
uli d[mxn];
uli f[mxn][mxk];
int main(){
   int n,k;
   scanf("%d %d",&n,&k);
   for(int i=0;i<n;i++)
      scanf("%lld",d+i);
   if(k==1){
      puts("0");
      return 0;
   }
   for(int p=0;p<=k;p++)f[0][p]=inf;
   f[0][1]=d[0]*d[0];
   uli sm=d[0];
   for(int i=1;i<n;i++){      
      sm+=d[i];
      f[i][0]=inf;
      f[i][1]=sm*sm;
      for(int p=2;p<=k;p++){
         f[i][p]=inf;
         uli sij=0;
         for(int j=i;j>0;j--){
            sij+=d[j];
            uli bet=sij*sij+f[j-1][p-1];
            f[i][p]=min(f[i][p],bet);
         }
      }
   }
   uli sq=f[n-1][k];
   uli ans=uli(k)*sq-sm*sm;
   printf("%lld\n",ans);
   return 0;
}
