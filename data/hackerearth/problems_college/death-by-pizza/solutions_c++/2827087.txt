#include<bits/stdc++.h>
using namespace std;
# define ll long long
ll ar[111111],s[111111];
int main()
{
    cin.sync_with_stdio(false);
    int n,q,l,r,t,gcd,i,j;
    ll num,den;
    int add[]={16,9,26,26,1};
    cin>>n>>q;
    for(i=1;i<=n;i++)
        cin>>ar[i];
    s[0]=0;
    for(i=1;i<=n;i++)
        s[i]=s[i-1]+ar[i];
    while(q--)
    {
        cin>>t;
        switch(t)
        {
            case 0    :    cin>>l>>r;
                           j=0;
                           for(i=l;i<=r;i++,j++)
                           {
                               ar[i]+=add[j];
                               if(j==4)
                                j=-1;
                           }
                           for(i=l;i<=n;i++)
                            s[i]=s[i-1]+ar[i];
                           break;
            case 1    :    cin>>l>>r;
                           num=s[r]-s[l-1];
                           den=r-l+1;
                           cout<<num<<"/"<<den<<endl;
                           break;
            default :      break;
        }
    }
    return 0;
}
