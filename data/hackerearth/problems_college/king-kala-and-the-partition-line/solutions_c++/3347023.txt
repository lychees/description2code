#include <bits/stdc++.h>

using namespace std;

#define bug() printf("BUG\n")
#define bug1(n) printf("bg1 %d\n",n)
#define bug2(a,b) printf("bg2 %d %d\n",a,b)
#define MOD 1000000007
#define ll long long
#define vi vector< int >
#define vll vector< long long >
#define vvi vector< vector< int > >
#define vvll vector< vector< long long > >
#define pi pair< int, int >
#define pll pair< long long, long long >
#define vpi vector< pair< int, int > >
#define vpll vector< pair< long long, long long > >
#define pb(n) push_back(n)
#define mp(a,b) make_pair(a,b)
#define printA(a,n) for(int i = 0;i < n;++i) cout<<a[i]<<" "; cout<<endl;

int main()
{
	int t;
	scanf("%d",&t);
	while(t--)
	{
		int n;
		scanf("%d",&n);
		int a,b,c;
		scanf("%d %d %d",&a,&b,&c);
		int negy = 0,posy = 0;
		while(n--)
		{
			int x,y;
			scanf("%d %d",&x,&y);
			int temp = (a*x)+(b*y)+c;
			if(temp < 0)
				negy++;
			else if(temp > 0)
				posy++;
		}
		printf("%d\n", max(negy,posy));
	}
	return 0;
}