#include <bits/stdc++.h>
using namespace std;
typedef long long ll;

int ModularInverse(ll a, ll m) {
    ll b = m;
    ll xa = 1;
    ll xb = 0;
    while (b) {
        ll q = a / b;
        ll r = a % b; a = b; b = r;
        ll xr = xa - q * xb; xa = xb; xb = xr;
    }
    if (xa < 0) xa += m;
    return xa;
}

int main() {
    int TC;
    scanf("%d", &TC);

    while (TC--) {
        int a, p, n;
        scanf("%d%d%d", &a, &p, &n);

        if (__gcd(a, p) > 1) puts("-1"); else {
            int a2 = ModularInverse(a, p);
            long long ans = (long long) ((n - 1) / 2 + 1) * a + (long long) n / 2 * a2;
            printf("%lld\n", ans);
        }
    }

    return 0;
}
