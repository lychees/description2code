#include <stdio.h>
#define lli long long int

int gcd(int a, int b) {
	if (!b) {
		return a;
	}
	return gcd(b, a % b);
}

int ext_gcd(int a, int b, int &x, int &y) {
	if (!b) {
		x = 1;
		y = 0;
		return a;
	}
	int g = ext_gcd(b, a % b, y, x);
	y -= (a / b) * x;

	return g;
}

int main(void) {
	int t;
	int a, p, n;
	lli r;

	scanf(" %d", &t);

	while(t--) {
		scanf(" %d %d %d", &a, &p, &n);

		if (gcd(a, p) != 1) {
			printf("%d\n", -1);
		} else {
			r = 0;
			int x, y;
			ext_gcd(a, p, x, y);
			x = ((x % p) + p) % p; 
			//printf("here x = %d\n", x);
			r += 1LL * (n / 2) * x;
			r += 1LL * (n / 2) * a;
			if (n & 1) {
				r += a;
			}
			printf("%lld\n", r);
		}
	}
	return 0;
}
				
				
			
		