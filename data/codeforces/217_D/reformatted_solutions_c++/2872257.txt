#include <algorithm>
#include <bitset>
#include <cmath>
#include <cstdio>
#include <cstdlib>
#include <cstring>
#include <ctime>
#include <iostream>
using namespace std;
int N, M, T, x;
long long ans;
int c[200];
const int cc = 1000000007;
void dfs(int x, bitset<120> y, long long w) {
  if (x > M / 2) {
    ans = (ans + w) % cc;
    return;
  }
  dfs(x + 1, y, w);
  if (c[x] && !y[x])
    dfs(x + 1, y | (y << x) | (y >> x) | (y << (M - x)) | (y >> (M - x)),
        w * c[x] % cc);
}
int main() {
  scanf("%d%d%d", &N, &M, &T);
  for (long long i = 1; i <= T; i++) {
    scanf("%d", &x);
    x = x % M;
    c[min(x, M - x)]++;
  }
  dfs(0, bitset<120>(1), 1);
  printf("%I64d", ans);
}