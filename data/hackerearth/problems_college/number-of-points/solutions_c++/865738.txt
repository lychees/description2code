#include <iostream>
using namespace std;

long long gcd(long long a, long long b){
	if(b==0) return a;
	else return gcd(b,a%b);
}

long long ab(long long x){
	if(x>0) return x;
	else return -x;
}

void solve(){
	long long x1,x2,y1,y2;
	cin>>x1>>y1>>x2>>y2;
	long long x = ab(x2 - x1);
	long long y = ab(y2 - y1);
	long long g = gcd(x,y);
	if(g==0) cout<<0<<endl;
	else cout<<g-1<<endl;
}

int main(){
    int t;
    cin>>t;
    while(t--) solve();
    return 0;
}
