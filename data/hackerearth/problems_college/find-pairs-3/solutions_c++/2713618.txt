#include<bits/stdc++.h>
using namespace std;
int main()
{
  int i,j,k,m,n,t,x,y;

  cin>>t;
  while(t--)
  {
          cin>>n;int c=n;
          int a[n+1];map<int,int> mp;
          for(i=0;i<n;i++)
          {
                  cin>>a[i];
                  if(mp.find(a[i])!=mp.end()) {c=c+mp[a[i]];mp[a[i]]++;}
                  else mp[a[i]]=1;
          }
          cout<<c<<endl;
  }
  return 0;
}
