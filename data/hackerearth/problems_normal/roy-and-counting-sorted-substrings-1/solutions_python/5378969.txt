# -*- coding: utf-8 -*-
"""
Created on Mon Sep 26 21:45:17 2016

@author: acer
"""

def countSortedSubstrings():
	tests = int(raw_input())
	for t in xrange(tests):
		n = int(raw_input())
		s = raw_input()
		t = [1 for i in xrange(n)]
		for i in xrange(1, n):
			if s[i] >= s[i-1]:
				t[i] = t[i-1]+1
		print sum(t)
 
countSortedSubstrings()
