#include<math.h>
#include<iostream>
#include<string.h>
#include<algorithm>
using namespace std;
#define ll long long int



int main()
{
int p1[3][2];
p1[0][0]=1,p1[0][1]=2,p1[1][0]=0,p1[1][1]=2,p1[2][0]=0,p1[2][1]=1;
      int t=1;
      cin>>t;
      while(t--)
      {
            string s;
            cin>>s;
            ll ans=0;
            int ra=0,i=0,cou=0,arr[3]={},l=s.length();
            arr[0]=arr[1]=arr[2]=-1;
            while(i<l)
            {
                  if(cou<2)
                  {
                        ans=ans+(ll)(i-ra+1);
                        if(arr[s[i]-'a']==-1)
                        cou++;
                        arr[s[i]-'a']=i;
                  }
                  else
                  {
                        if(arr[s[i]-'a']!=-1)
                              {
                                    ans=ans+(ll)(i-ra+1);
                                    arr[s[i]-'a']=i;
                              }
                        else
                        {
                              arr[s[i]-'a']=i;
                              int f=p1[s[i]-'a'][0],se=p1[s[i]-'a'][1];
                              if(arr[f]<arr[se])
                              {
                                    ra=arr[f]+1;
                                    arr[f]=-1;
                              }
                              else
                              {
                                    ra=arr[se]+1;
                                    arr[se]=-1;
                              }
                             ans=ans+(ll)(i-ra+1);
                        }
                  }
                  i++;
            }
            cout<<ans<<endl;
      }
}
