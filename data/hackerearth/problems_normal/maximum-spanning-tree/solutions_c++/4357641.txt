#include<bits/stdc++.h>
using namespace std;

#define rep(j,n) for(int i=j;i<n;i++)
#define rep2(j,n) for(int i=j;i<n;i--)
#define pb push_back
#define mp make_pair
#define ll long long int
#define pii pair<int,int> 


vector <pair<int,pii> > v;
vector <int> r;

int root(int x){
	while(r[x]!=x){
		r[x]=r[r[x]];
		x=r[x];
	}
	return x;
}
void un(int a,int b){
	int x=root(a);
	int y=root(b);
	r[x]=y;
}
int n,m,t;
int main(){
	cin>>t;
	int a,b,c;
	int cost=0;
	while(t--){
	cin>>n>>m;
	cost=0;
	v.clear();
	r.resize(n);
	rep(0,n){
		r[i]=i;
	}
	rep(0,m){
		cin>>a>>b>>c;
		v.pb(mp(c,mp(a-1,b-1)));
	}
	sort(v.rbegin(),v.rend());
	rep(0,m){
		c=v[i].first;
		a=v[i].second.first;
		b=v[i].second.second;
		if(root(a)!=root(b))
		{
			un(a,b);
			cost+=c;
		}
	}
	printf("%d\n",cost);
	}
	
}