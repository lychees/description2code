import sys
x, y = map(int, raw_input().split())
q = sys.stdin.readline()
arr = []
arr.append(x-y)
for i in range(1, 1000001):
    t = arr[i-1]*x
    arr.append((t-y) % 1000000007)
for i in sys.stdin:
    n = (int)(i)
    print arr[n-1] % 1000000007
