    #include<iostream>
    #include<algorithm>
    #include<limits>
    using namespace std;
    #define loop(i,n) for(long long i=0;i<n;i++)
    #define fast ios::sync_with_stdio(false)
    #define inp(n) cin>>n
    #define outln(n) cout<<n<<endl
    #define mm 1000000
    long long n,m;
    void check(pair<char,long long> c[],long long l,long long b)
    {
    long long h=0;
    loop(i,m){
    if(c[i].first=='R')
    {
    h=h+(c[i].second%n);
    }
    else
    {
    h=h-(c[i].second%n);
    }
    int x=0;
    if(h<0)
    {
    x=1;
    h=h*(-1);
    }
    h=h%n;
    if(x==1)
    {
    h=h*(-1);
    }
    if(h==l||h==b)    {
    outln(i+1);
    return;
    }
    }
    outln("-1");
    return;
    }
    int main()
    {
    inp(n);
    inp(m);
    long long a[n],b[n];
    loop(i,n)
        inp(a[i]);
    loop(i,n)
        inp(b[i]);
    long long l;
    loop(i,n)
    {
    if(a[0]==b[i])
        {l=i;
        break;
        }
    }
    long long j=l-n;
    pair<char,long long> c[m];
    loop(i,m)
        {
        inp(c[i].first);
        inp(c[i].second);
        }
    check(c,l,j);
    return 0;
    }
