#include<iostream>
#include<cstdio>
#include<map>
using namespace std;

int main(){
	int n;
	scanf("%d",&n);
	int i,cost[n][n],j;
	map<string,int> m;
	for(i=0;i<n;i++){
		string s;
		cin >> s;
		m[s]=i;
	}
	for(i=0;i<n;i++){
		for(j=0;j<n;j++){
			scanf("%d",&cost[i][j]);
		}
	}
	int k;
	scanf("%d",&k);
	long long ans=0;
	int q=0;
	while(k--){
		string s;
		cin >> s;
		ans+=(long long)cost[q][m[s]];
		q=m[s];
	}
	printf("%lld\n",ans);
	return 0;
}