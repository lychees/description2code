#include<iostream>
#include<stdio.h>
using namespace std;
int find(int *arr,int *target,int n)
{
	int i,j,cj;
	for(i=0;i<n;i++)
		if(arr[0]==target[i])
			break;
	cj=j=i;
	for(i=0;i<n;i++,j=(j+1)%n)
	{
		if(arr[i]!=target[j])
			return -1;
	}
	return cj;
}

int main()
{
	int n,m, index, flag = 0, start, updated_index=0;
	
	cin>>n>>m;
	
	int*arr=new int[n];
	int*target=new int[n];
	
	for(int i=0;i<n;i++)
		cin>>arr[i];
	for(int i=0;i<n;i++)
		cin>>target[i];
		
	start = find(arr,target,n);
	char ch;
	int s;
	int current=0;
	for(int i=0;i<m;i++)
	{
		cin>>ch>>s;
		if(ch=='L')
		{
			s = s%n;
			updated_index = (updated_index - s)%n;
			if(updated_index < 0)
				updated_index += n;
				
			//printf("&&&&&&&&& updated = %d\n",updated_index);	
			if(start != -1 && updated_index == start && flag == 0) {
				printf("%d\n",i+1);
				flag = 1;
			}
		
		}
		else {
			s = s%n;
			updated_index = (updated_index + s)%n;
			//printf("&&&&&&&&& updated = %d\n",updated_index);
			if(start != -1 && updated_index == start && flag == 0) {
				printf("%d\n",i+1);
				flag = 1;
			}
		}		
	}
	
	
	if(flag == 0 || start == -1) {
		printf("-1\n");
	}
	
	return 0;
}
