#include <iostream>
#include <map>
using namespace std;

int main()
{
    int t;
    cin>>t;
    while(t--){
    	int n,x,sum;
    	cin>>n;
    	sum=0;
    	map<int,int>s;
    	for(int i=0;i<n;i++){
    		cin>>x;
    		if(s[x])
    			s[x]++;
    		else
    			s[x]=1;
    	}    		
    	for (std::map<int,int>::iterator it=s.begin(); it!=s.end(); ++it)
    		sum+=((it->second)*(it->second+1))>>1;
    	cout<<sum<<"\n";
    }
    return 0;
}
