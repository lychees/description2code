#include <iostream>
#include <cstdio>

#define MAXN 1024

using namespace std;

int N;
int M;

void read()
{
	scanf("%d", &N);
}

int a[MAXN];

void solve()
{
	for(int i = 0; i < N; i++)
		a[i] = 0;

	int type, l, r;
	scanf("%d", &M);

	for(int t = 0; t < M; t++)
	{
		scanf("%d %d %d", &type, &l, &r);

			
		int cnt = 0;
		for(int i = l; i <= r; i++)
			if(type == 0)
				a[i] ^= 1;
			else cnt += a[i];

		if(type != 0)
			printf("%d\n", cnt);
	}
}

int main()
{
	read();
	solve();
	return 0;
}
