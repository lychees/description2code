#include <bits/stdc++.h>

using namespace std;

const int MOD=1000000007;
int N;
int A[200000];

int main()
{
    scanf("%d", &N);
    for(int i=N-1; i>=0; i--)
        scanf("%d", A+i);
    int ans=0, sum=0, p2=1;
    for(int i=0; i<N; i++)
    {
        ans=(0LL+ans+ans+sum+1LL*A[i]*p2)%MOD;
        sum=(0LL+sum+sum+1LL*A[i]*p2)%MOD;
        p2=2LL*p2%MOD;
    }
    printf("%d\n", ans);
    return 0;
}
