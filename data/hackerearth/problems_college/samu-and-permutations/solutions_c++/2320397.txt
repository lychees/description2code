//Anirudh Bhargava
#include <cstdio>
#include <iostream>
#include <vector>
#include <algorithm>
#include <cstring>
#include <string>
#include <cstdlib>
#include <cmath>
#include <ctype.h>
#include <stack>
#include <queue>
#include <limits.h>
#include <fstream>
#include <map>
#include <set>

#define rep(i, a) for(long long int i = 0; i < a; i++)
#define rep1(i, a) for(long long int i = 1; i <= a; i++)
#define fo(i, a, b) for(long long int i = a; i < b; i++)
#define defo(i, a, b) for(long long int i = a; i >= b; i--)
#define ll long long
#define Int long long int
#define pr(i) printf("Case %lld: ",i)
#define pb push_back
#define sz(a) ((long long int)(a.size()))
#define x first
#define y second
#define mp make_pair
#define SET(x, a) memset(x, a, sizeof(x));
#define pi  3.1415926535897
#define mod 1000000007
using namespace std;
int arr[15];
int dp[1<<16][16];
int n;
Int rec(int ind,Int mask,int pitch){
	if(ind==n){
		return 0;
	}
	Int ans = 0;
	if(dp[mask][pitch]!=-1){
		return dp[mask][pitch];
	}
	if(ind==0){
		int i;
		for(i=0;i<n;i++){
			Int maskd = mask;
			maskd = maskd|(1<<i);
			ans = max(ans,rec(ind+1,maskd,i));	
		}
	}
	else{
		int i;
		for(i=0;i<n;i++){
			if((mask&(1<<i))==0){
				int no = __builtin_popcount(mask);
				no++;
				Int maskd = mask;
				maskd = maskd|(1<<i);
				ans = max(ans,no*abs(arr[i]-arr[pitch])+rec(ind+1,maskd,i));
			}
		}
	}
	dp[mask][pitch] = ans;
	return ans;
}
int main(){
	int test;
	cin>>test;
	while(test--){
		memset(dp,-1,sizeof(dp));
		cin>>n;
		int i;
		for(i=0;i<n;i++){
			cin>>arr[i];
		}
		Int ans = rec(0,0,0);
		cout<<ans<<"\n";
	}
	return 0;
}