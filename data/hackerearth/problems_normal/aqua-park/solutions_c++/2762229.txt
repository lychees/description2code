#include<iostream>
using namespace std;
int cw(float a0,float a1,float x , float y,float c0,float c1)
{
	float dx1 = x - a0;
    float dx2 = c0 - a0;
    float dy1 = y - a1;
    float dy2 = c1 - a1;
	if(dx1*dy2 > dy1*dx2)
		return -1;
	else if(dx1*dy2 < dy1*dx2)
		return 1;
	return 0;
}

int main()
{
	int n;double min=10005.0;
	float x,x1[102][2],y1[102][2];
	cin>>x>>n;
	for(int i=0;i<n;i++)
		cin>>x1[i][0]>>y1[i][0]>>x1[i][1]>>y1[i][1];
	float y=10005.0;
	while(y>0)
	{
			if(n==0)
				break;
		int flag,q;flag=1;
		float y2;min=10004.0;
		for(int i=0;i<n;i++)
		{
			
			if(cw(x1[i][0],y1[i][0],x,y,x1[i][1],y1[i][1])==1 && x>=x1[i][0] && x<=x1[i][1])
			{
				flag=0;
				y2=(y1[i][1]-y1[i][0])*(x-x1[i][0])/(x1[i][1]-x1[i][0]) + y1[i][0];
				y2=y-y2;
				if(y2<min)
				{
					q=i;
					min=y2;
				}
			}			
		}
		if(flag==1)
			break;
		if(y1[q][0]<y1[q][1])
		{
			x=x1[q][0];
			y=y1[q][0];
		}
		else if(y1[q][1]<y1[q][0])
		{
			x=x1[q][1];
			y=y1[q][1];
		}

	
	}
	cout<<x<<endl;
}