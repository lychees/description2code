#include<iostream>
#include<string>
using namespace std;

int main()
{
    int t,n,i,k,l;
    cin>>t;
    while(t)
    {

        t--;
    	cin>>n;
    	char let[n];
    	int freq[n];

    	for(i=0;i<n;i++)
    	{
    		cin>>let[i];
    		cin>>freq[i];
    	}

    	for(k=1;k<n;k++)
    	{
    		l=k-1;
    		char temp_let=let[k];
    		int temp_freq=freq[k];
    		while(l>=0 && freq[l]>temp_freq)
    		{
    			if(freq[l]>temp_freq)
    			{
    				freq[l+1]=freq[l];
    				let[l+1]=let[l];
    			}
    			else if(freq[l] == temp_freq && let[l]!=temp_let)
    			{
    				if(let[l]>temp_let)
    				{
    					freq[l+1]=freq[l];
                        let[l+1]=let[l];
    				}
    			}
    			l=l-1;
    		}
    		freq[l+1]=temp_freq;
            let[l+1]=temp_let;
    	}

    	string s;
    	cin>>s;
    	l=s.length();
    	for(i=0;i<l;i++)
        {
            string code="";
            code=code+s[i];
            int cl=code.length();
            while(s[i]!='0' && cl< (n-1))
            {
                i++;
                code=code+s[i];
                cl=code.length();
            }

            if(cl==(n-1))
            {
                if(code[cl-1]=='0')
                    cout<<let[cl-1];
                else
                    cout<<let[cl];
            }
            else
            {
                cout<<let[cl-1];
            }
        }
        cout<<endl;
    }
    return 0;
}

