#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define mp make_pair
#define LSOne(S) (S & (-S))
#define Oo 1073741823
#define EPS 1e-9
#define PI acos(-1)

typedef pair <int, int> ii;
typedef vector <ii> vii;
typedef vector <int> vi;
typedef long long ll;
typedef unsigned long long ull;
typedef pair <ll, ll> pll;

vi ar, c;
int n, dp[5100][15][15];

inline int cnt(int num)
{
    return __builtin_popcount(num);
}

int calc(int done, int fir, int sec)
{
    if(dp[done][fir][sec] != -1)
        return dp[done][fir][sec];
    int i, j, tmp = Oo, pos = cnt(done),
    val = (ar[fir] ^ ar[sec]);
    if(pos == n) return 0;
    i = 0;
    for(i=0;i<n;i++)
    {
        if(!((1 << i) & done))
        {
            tmp = min(tmp, (val ^ ar[i]) * c[pos] + calc(done | (1 << i), i, fir));
        }
    }
    dp[done][fir][sec] = tmp;
    return tmp;
}

int main()
{
    int t, i, j, ans, fi, se, don;
    scanf("%d", &t);
    while(t--)
    {
        ar.clear();
        c.clear();
        scanf("%d", &n);
        ar.resize(n);
        c.resize(n);
        for(i=0;i<n;i++) scanf("%d", &ar[i]);
        for(i=0;i<n;i++) scanf("%d", &c[i]);
        ans = Oo;
        memset(dp, -1, sizeof dp);
        for(i=0;i<n;i++)
        {
            for(j=0;j<n;j++)
            {
                if(i == j) continue;
                fi = (1 << i), se = (1 << j);
                don = (fi|se);
                ans = min(ans, calc(don, i, j));
            }
        }
        printf("%d\n", ans);
    }

    return 0;
}
