#include <bits/stdc++.h>
using namespace std;

int main()
{
   // cout << "Hello World!" << endl;
   long long int t,i,j,n,q,q1,q2,flag;
   	cin>>n;
  	int a[n+1][n+1];
  	for(i=1;i<n+1;i++)
  		for(j=1;j<n+1;j++)
  		a[i][j]=0;
  	cin>>q;
  	for(i=0;i<q;i++)
  	{
  	cin>>q1>>q2;
  	a[q1][q2]=1; 
  	a[q2][q1]=1;
  	}
  	cin>>q;
  	while(q--)
  	{
  		flag=0;
  		queue<int> b;
  		int visited[n+1];
  		memset(visited,0,(n+1)*sizeof(int));
  		cin>>q1>>q2;
  		if(a[q1][q2]==1){
  		cout<<"Direct Connection"<<endl;
  		}
  		else
  		{
  		b.push(q1);
  		while(!b.empty())
  		{
  			int top=b.front();
  			if(top==q2)
  			{
  				flag=1;
  				cout<<"Indirect Connection"<<endl;
  				break;
  			}
  			b.pop();
  			visited[top]=1;
  			for(i=1;i<=n;i++)
  			if(a[top][i]==1 && visited[i]!=1)
  			b.push(i);
  			//cout<<"8"<<endl;
  		}
  		if(flag==0)
  		cout<<"No Connection"<<endl;
  		}
  	}
    return 0;
}
