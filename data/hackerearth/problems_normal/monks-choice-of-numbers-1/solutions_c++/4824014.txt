#include <iostream>
#include<algorithm>
#include<vector>
using namespace std;
bool wayToSort(int , int);

int main()
{
    	int test;
    	cin>>test;
        while(test!=0){
	    	int n, k,temp;
	    	cin>>n>>k;
	        std::vector<int> vec;
	    	for(int i=0;i<n;i++){
	    		cin>>temp;
	    		vec.push_back(temp);
	    	}
	        int res = 0;
	        sort(vec.begin(), vec.end(), wayToSort);
	       
	        for(int i = n-1;i>=(n-k);i--){
	        	res = res + __builtin_popcount(vec[i]);
	        }
	       cout<<res<<endl;
        test--;
        }
    return 0;
}

bool wayToSort(int i, int j) { 
	int r1 = (int)__builtin_popcount (i);
	int r2 =  (int)__builtin_popcount (j);
	return r2>r1;
}
