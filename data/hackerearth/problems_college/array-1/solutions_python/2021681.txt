from itertools import *
n,k=map(int,raw_input().split())
a=[]
for i in range(0,n):
	a.append(i+1)
p=combinations(a,k)
line=raw_input().split()
for i in range(0,n):
	line[i]=int(line[i])
su=[0]*(n+2)
su[0]=0
su[1]=line[0]
for i in range(1,n):
	su[i+1]=su[i]+line[i]
ma=0
for each in p:
	temp=each
	j=0
	ans=abs(su[temp[j]]-(su[temp[j+1]]-su[temp[j]]))
	for j in range(1,k-1):
		ans=ans+abs(su[temp[j]]-su[temp[j-1]]-(su[temp[j+1]]-su[temp[j]]))
	if(ans>ma):
		ma=ans
print ma