#include <bits/stdc++.h>
#define f(i,x,y) for (int i = x; i < y; i++)
#define fd(i,x,y) for (int i = x; i >= y; i--)
#define debug(a) cout << #a << " = " << a << endl
#define adebug(a,n) cout << #a <<"[]:"<<endl; f(i,0,n)cout<<a[i]<<char(i+1==n?10:32)
#define mdebug(a,m,n) cout << #a <<"[][]:"<<endl; f(j,0,m)f(i,0,n)cout<<a[j][i]<<char(i+1==n? 10 : 32)
#define N 100001
#define pii pair<int,int>
#define fst first
#define snd second
using namespace std;
 
int n;
unsigned int x[30005], y[30005];
unsigned int nx[30005], ny[30005];
int a[N];
pii p[N*2];
 
int main(){
	cin >> n;
	f(i,0,n) {
		int r; int rr = scanf("%d", &r);
		a[i] = r;
		if(i) y[r]++;
	}
	f(i,0,30001) ny[i] = y[i];
	reverse(ny, ny + 30001);
	 
	 
	long long res = 0;
 
	f(j,0,n) {
		// adebug(x,11);
		// adebug(y,11);
		int b = 30001 - a[j], c = a[j] + 1;
		res += x[a[j]] * y[a[j]];
		int cota = 30001 - max(b,c);
		unsigned int ans = 0;
		while (cota > 8) {
		  	ans += nx[b] * y[c] + nx[b+1] * y[c+1] + nx[b+2] * y[c+2] + nx[b+3] * y[c+3] + nx[b+4] * y[c+4] + nx[b+5] * y[c+5] + nx[b+6] * y[c+6] + nx[b+7] * y[c+7];
			ans += x[c] * ny[b] + x[c+1] * ny[b+1] + x[c+2] * ny[b+2] + x[c+3] * ny[b+3] + x[c+4] * ny[b+4] + x[c+5] * ny[b+5] + x[c+6] * ny[b+6] + x[c+7] * ny[b+7];
			b+= 8;
			c+= 8;
			cota -= 8;
		}
		while (cota--) {
			ans += nx[b] * y[c] + x[c] * ny[b];
			b++;
			c++;
		}
		x[a[j]]++;
		y[a[j+1]]--;
		nx[30000 - a[j]]++;
		ny[30000 - a[j+1]]--;
		res += ans;
	}
	cout << res << endl;
//	double t = clock();
//	cout << t / CLOCKS_PER_SEC << endl;
}