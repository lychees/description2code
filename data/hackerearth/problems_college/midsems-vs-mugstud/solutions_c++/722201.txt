#include<bits/stdc++.h>
using namespace std;
int main()
{
    int t;
    scanf("%d",&t);
    while(t--)
    {
    	int a[51][51][51]={0},b[51][51][51]={0};
    	int i,j,k,c1,c2,c3,n;
    	int m=0;
    	scanf("%d",&n);
    	for(i=1;i<=n;i++)
    	{
    		for(j=1;j<=n;j++)
    		{
    			for(k=1;k<=n;k++)
    			{
    				scanf("%d",&b[i][j][k]);
    				//b[i][j][k]=a[i][j][k];
    			}
    		}
    	}
    //	b[0][0][0]=a[0][0][0];
    	
    	for(i=1;i<=n;i++)
    	{
    		for(j=1;j<=n;j++)
    		{
    			for(k=1;k<=n;k++)
    			{
    			a[i][j][k]=b[i][j][k]-b[i-1][j][k]-b[i][j-1][k]-b[i][j][k-1]+b[i-1][j-1][k]+b[i][j-1][k-1]+b[i-1][j][k-1]-b[i-1][j-1][k-1];

    				//b[i][j][k]=a[i][j][k];
    			}
    		}
    	}
    	int sum=0;
    	for(i=1;i<=n;i++)
    	{
    		for(j=1;j<=n;j++)
    		{
    			for(k=1;k<=n;k++)
    			{
    				printf("%d ",a[i][j][k]);
    			}
    				printf("\n");
    		}
    	
    	}
    	
    }
	return 0;
}
