#include <iostream>
using namespace std;

int main()
{
	int T;
	cin>>T;
	while(T--){
		long int N,M,K,X,Y,A,B;
		int count=0;
		cin>>N>>M>>K;
		X=1;Y=1;
		for( long int i=0;i<K;i++){
			cin>>A>>B;
			while(X>=1 && Y>=1 && X<=N && Y<=M){
				if((X+A)>=1 && (X+A) <= N && (Y+B) >= 1 && (Y+B) <= M){
					X=X+A;
					Y=Y+B;
					count++;}
				else
					break;
			}
		}
		cout<<count<<endl;
	}
    return 0;
}
