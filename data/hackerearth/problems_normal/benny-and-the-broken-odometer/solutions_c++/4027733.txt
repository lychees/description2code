#include <stdio.h>
#include<bits/stdc++.h>
using namespace std;
long long int count(long long int n)
{
    if (n < 3)
        return n;
    if (n >= 3 && n < 10)
       return n-1;
 long long int po = 1;
    while (n/po > 9)
        po = po*10;
    int msd = n/po;
 
    if (msd != 3)
      return count(msd)*count(po - 1) + count(msd) + count(n%po);
    else
      return count(msd*po - 1);
}
 
// Driver program to test above function
int main()
{
	int t;
	cin>>t;
	while(t--){
    long long int x;
    cin>>x;
    printf ("%lld\n", count(x));
	}
    return 0;
}