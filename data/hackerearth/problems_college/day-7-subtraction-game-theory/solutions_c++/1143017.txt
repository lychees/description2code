#include<bits/stdc++.h>
#define mod 1000000007
using namespace std;
 
int main()
{
 long long int i,j,x,y,n;
   long long int q;
   cin>>x>>y;
   cin>>q;
   int p;
long long int a[1000000+1];
a[0]=1;
for(i=1;i<=1000000;i++)
a[i]=(a[i-1]*x-y)%mod;
  while(q--)
   {
   	scanf("%lld",&n);
   	printf("%lld\n",a[n]);
    }
    return 0;
}