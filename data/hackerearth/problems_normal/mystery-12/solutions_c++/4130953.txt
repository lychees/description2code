#include<bits/stdc++.h>
#define fast ios_base::sync_with_stdio(0);cin.tie(0)
#define mod 1000000007
#define F first
#define S second
typedef long long ll;
using namespace std;

ll gcd(ll a, ll b)
{
	if(b==0)
	return a;
	
	else return gcd(b, a%b);
	
}


ll power(ll a, ll b, ll MOD) {
__int128 x = 1, y = a;
    while(b > 0) {
        if(b%2 == 1) {
            x=(x*y);
            if(x>MOD) x%=MOD;
        }
        y = (y*y);
        if(y>MOD) y%=MOD;
        b /= 2;
    }
    return x;
}

ll prod(ll a, ll inv, ll n)
{
	__int128 res = 1;
	
	res = (res*a)%n;
	
	res = (res*inv)%n;
	
	return res;
	
}


int main() {
    fast;
    int t;
    cin>>t;
    while(t--)
    {
    	ll a;
    	ll b,n;
    	cin>>a>>b>>n;
    	
    	ll gcd1 = gcd(n,b);
    	
    	if(a==0&&b==0)
    	cout<<"-1\n";
    	
    	else if(b==0)
    	{
    		if(a==n)
    		cout<<"0\n";
    		
    		else cout<<"-1\n";
    		
    	}
    	
    	else if(a==0)
    	{
    		if(n%b==0)
    		cout<<n/b<<endl;
    		
    		else cout<<"-1\n";
    	}
    	
    	else if(a%gcd1==0)
    	{
    		a = a/gcd1;
    		b = b/gcd1;
    		n = n/gcd1;
    		
    		ll inv = power(b,n-2,n);
    		
    		a = prod(a, inv,  n);
    		
    		a = -1*a;
    		
    		a = n + a;
    		
    		while(a<0)
    		a+=n;
    		
    		a = a%n;
    		
    		cout<<a<<endl;
    	}
    	
    	else if(a%gcd1!=0)
    	{
    		cout<<"-1\n";
    	}
    	
    	
    	
    }
    
	return 0;
}
