#include <cstdio>
#include <cstring>

using namespace std;
 
typedef long long ll;


ll B1[100001]={0}, B2[100001]={0};

int N;
ll query(ll* ft, int b) {
ll sum = 0;
for (; b; b -= (b & -b)) sum += ft[b];
return sum;
}
ll query(int b) {
return query(B1, b) * b - query(B2, b);
}
ll range_query(int i, int j)    {
return query(j) - query(i - 1);
}
void update(ll* ft, int k, ll v) {
for (; k <= N; k +=(k & -k)) ft[k] += v;
}
void range_update(int i, int j, ll v)   {
update(B1, i, v);
update(B1, j + 1, -v);
update(B2, i, v * (i - 1));
update(B2, j + 1, -v * j);
}
int main()  {
int T, C, p, q, qu;
ll v;

scanf("%d %d", &N, &C);
while (C--)     {
scanf("%d %d %d", &qu, &p, &q);
if(qu == 1)  {
scanf("%lld", &v);
range_update(p, q, v);} 
else
printf("%lld\n", range_query(p, q));
}
return 0;
}