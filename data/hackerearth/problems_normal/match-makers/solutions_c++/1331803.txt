#include <iostream>
#include<algorithm>
#include<vector>
using namespace std;
int main() 
{
 int t;
 cin>>t;
 while(t--)
 {
 	vector< int > a,b;
 	
 	int c,i,j,n;
 	cin>>n;
 	for(i=0;i<n;i++)
 	{
 		cin>>c;
 		a.push_back(c);
 	}
 	for(i=0;i<n;i++)
 	{
 		cin>>c;
 		b.push_back(c);
 	}
 	sort(a.begin(),a.end());
 	sort(b.rbegin(),b.rend());
 	int count=0;
 	for(i=0;i<n;i++)
 	{
 		if(a[i]%b[i]==0||b[i]%a[i]==0)
 		count++;
 	}
 	cout<<count<<"\n";
 }
	
	return 0;
}