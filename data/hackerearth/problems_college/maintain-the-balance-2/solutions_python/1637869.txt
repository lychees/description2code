t=input()
while t:
	t-=1
	a=raw_input()
	ans=0
	start=0
	for x in a:
		if (x==' '):
			continue
		if (x=='.'):
			break
		if (x=='{'):
			start+=1
		else:
			if (start):
				start-=1
			else:
				start+=1
				ans+=1
	if (start%2):
		print -1
	else:
		ans+=(start/2)
		print ans