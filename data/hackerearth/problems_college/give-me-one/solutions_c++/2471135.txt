#include <iostream>
using namespace std;


int arr[20000005];

int Precompute(int x)
{
	if(arr[x]!=-1)return arr[x];

	if(x==1)return 0;
	if(x==0)return 0;
	
	long long int min=999999999;
	int K1;
	if(x%2==0 )
	{
		K1=Precompute(x/2);
		if(min>K1+1) min=K1+1;
	}
	if(x%3==0 )
	{
		K1=Precompute(x/3);
		if(min>K1+1)
		{
			min=K1+1;
		}
	
	}
	K1=Precompute(x-1);
	if(x%2!=0 && x%3!=0)
	{
		
		if(min>(K1+1))
		{
			min=K1+1;
		}
	}
	//cout<<min<<endl;
	arr[x]=min;
	return min;
}

int main()
{
	arr[0]=0;
	arr[1]=0;
	arr[2]=1;
	arr[3]=1;
	for(int i=4;i<20000002;i++)
	{
		long long int min=999999999;
		if(i%2==0)
		{
			if(min>arr[i/2]+1)min=arr[i/2]+1;
		}
		if(i%3==0)
		{
			if(min>arr[i/3]+1)min=arr[i/3]+1;
		}
		if(min>arr[i-1]+1)min=arr[i-1]+1;
		arr[i]=min;
	}
	//Precompute(20000001);
    int T,N;
    cin>>T;
    while(T--)
    {
    	cin>>N;
    	//cout<<"---"<<endl;
    	cout<<arr[N]<<endl;
    }
    return 0;
}
