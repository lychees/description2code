/*	Karan Dhamele	    */
#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cstring>
#include<cmath>
#include<vector>
#include<stack>
#include<queue>
#include<map>
#include<set>

using namespace std;

/* General Declarations */

#define INF		1000000007
#define LL		long long int
#define SI(n)		cin >> n;
#define SC(c)		scanf("%c",&c);
#define SS(s)		scanf("%s",s);
#define FOR(x,a,b)	for(LL x=a;x<b;x++)
#define REP(i,n)	for(LL i=0;i<n;i++)
#define MP		make_pair
#define PB		push_back


/* Container's */

#define	VI		vector<LL>
#define PLL             pair<LL,LL>  /* A Single Pair  */
#define VP		vector<PLL> /* Vector of Pairs */
#define VS		vector<string>
#define VVI		vector<VI>
#define VVS		vector<VS>

template<class T>inline T GCD(T a,T b){return b?GCD(b,a%b):a;}
template<class T> inline T LCM(T a,T b){if(a<0)return LCM(-a,b);if(b<0)return LCM(a,-b);return a*(b/GCD(a,b));}
template<class T>inline T POW1(T a,T b,T m){long long x=1,y=a;while(b > 0){if(b%2 == 1){x=(x*y);if(x>m) x%=m;}y = (y*y);if(y>m) y%=m;b /= 2;}return x;}
template<class T>inline T INV(T n,T m){return POW1(n,m-2,m);}
template<class T>inline T SUB(T a,T b,T m){return (a%m-b%m+m)%m;}
template<class T>inline T ADD(T a,T b,T m){return (a%m+b%m)%m;}
template<class T>inline T MUL(T a,T b,T m){return (a%m*b%m)%m;}
template<class T>inline T DIV(T a,T b,T m){return (a%m*(INV(b,m))%m)%m;}
int main()
{
	LL n,l,d;
	SI(n);SI(l);SI(d);
	vector<double> arr(n),dp;
	VI dist(n);
	//cout << l << endl;
	REP(i,n)
	{
		SI(arr[i]);
	}
	REP(i,n)
	{
		SI(dist[i]);
	}
	dp.resize(n,0.0);
	if(d <= l)
	{
		cout << "1.000000\n";
		return 0;
	}
	REP(i,n)
	{
		double maxx=0.0;
		FOR(j,0,i)
		{
			if(dist[i] - dist[j] <= l)
			{
				maxx=max(maxx,dp[j]);
			}
		}
		if(dist[i] <= l)
		{
			//cout << "here for " << i << endl;
			dp[i]=max(arr[i],maxx*arr[i]);
		}
		else
			dp[i]=maxx*arr[i];
	}
	/*(REP(i,n)
	{
		printf("%f ",dp[dist[i]]);
	}*/
	//cout << endl;
	double maxx=0.0;
	REP(i,n)
	{
		if(d - dist[i] <= l)
		{
			maxx=max(maxx,dp[i]);
		}
	}
	if(maxx==0.0)
		cout << "IMPOSSIBLE\n";
	else
		printf("%.6lf\n",maxx);
}
