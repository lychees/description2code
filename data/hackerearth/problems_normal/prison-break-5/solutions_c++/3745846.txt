#include <bits/stdc++.h>
using namespace std;
int a[25][25];
int vis[25][25];
int c=0,n;
void ways(int i,int j)
{
	if(i==n && j==n)
	{
		c++;
		return;
	}
	vis[i][j]=1;
	if(vis[i+1][j]==0 && a[i+1][j]==0 && i+1<=n)
	ways(i+1,j);
	if(vis[i-1][j]==0 && a[i-1][j]==0 && i-1>=1)
	ways(i-1,j);
	if(vis[i][j+1]==0 && a[i][j+1]==0 && j+1<=n)
	ways(i,j+1);
	if(vis[i][j-1]==0 && a[i][j-1]==0 && j-1>=1)
	ways(i,j-1);
	vis[i][j]=0;
	return ;
	}

int main() {
	// your code goes here
	int t,i,j;
	cin>>t;
	while(t--)
	{c=0;
		cin>>n;
		memset(vis,0,sizeof(vis));
		for(i=1;i<=n;i++)
		  for(j=1;j<=n;j++)
		      cin>>a[i][j];
		   ways(1,1);
		   cout<<c<<endl;
		
	}
	return 0;
}