#include<iostream>
#include<string>
using namespace std;

#include <bits/stdc++.h>
using namespace std;
#define lli long long int
lli A, B;
int main()
{

cin >> A >> B;
string daysAllowed;
cin >> daysAllowed;
lli i, ans =0;
lli m= A;
for(i = 0;i<daysAllowed.size();i++)
{
if(daysAllowed[i] == '1')
{
ans = (ans + m)%B;
}
m = (m%B*m%B)%B;
}
cout << ans%B << endl;
return 0;
}