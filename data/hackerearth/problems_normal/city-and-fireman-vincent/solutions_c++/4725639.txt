#include <bits/stdc++.h>

using namespace std;

vector <vector<int> > v(1008);

int mod=1000000007;

int main()
{
	int n,k,x,y;
	cin>>n;
	int a[n+1],vis[n+1];
	for(int i=1;i<=n;i++)
	{
		cin>>a[i];
		vis[i]=false;
	}
	cin>>k;
	for(int i=0;i<k;i++)
	{
		cin>>x>>y;
		v[x].push_back(y);
		v[y].push_back(x);
	}
	long long int ans=1;
	for(int i=1;i<=n;i++)
	{
		if(vis[i]==false)
		{
			queue <int> q;
			q.push(i);
			vis[i]=true;
			multiset <int> st;
			while(!q.empty())
			{
				int top=q.front();
				//cout<<top<<" ";
				st.insert(a[top]);
				q.pop();
				for(int i=0;i<v[top].size();i++)
				{
					if(vis[v[top][i]]!=true)
					{
						vis[v[top][i]]=true;q.push(v[top][i]);
					}
				}
			}
			//cout<<"\n";
			if(st.size()!=0)
			ans=( ans%1000000007 * st.count(*st.begin())%1000000007 )%1000000007;
		}
	}
	cout<<ans<<"\n";
	return 0;
}