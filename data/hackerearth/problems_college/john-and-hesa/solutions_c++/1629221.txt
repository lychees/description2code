#include <iostream>

using namespace std;

int main()
{
	int t, x, p;

	cin >> t;

	while(t--)
	{
		cin >> x >> p;
		if(x%p != 0)
		{
			cout << "0 " << x << endl;
		}
		else 
		{
			int temp, ctr =0;
			temp = x;
			while(x%p==0)
			{
				ctr++;
				x/=p;
			}
			if(x==1)
			cout << ctr << " " << 0 << endl;
			else
			cout << ctr << " " << x << endl;
		}
	}
	return 0;
}