noOfTestCases = int(raw_input())

def countOfSortedString(s):
  newStr = ''
  curChr = s[0]
  prevChr = s[0]
  start = 0
  end = len(s)
  while (start < end):
    curChr = s[start]
    if (curChr < prevChr):
      newStr += "#" + curChr
    else :
      newStr += curChr
    start += 1
    prevChr = curChr
   
  sortedSubStrings = newStr.split("#")
  count = 0
  for s in sortedSubStrings:
  	l = len(s)
  	count += (l * (l + 1)) / 2
  print count	
  	

for caseNo in range(1, noOfTestCases + 1):
  l = int(raw_input())
  s = raw_input()
  countOfSortedString(s)