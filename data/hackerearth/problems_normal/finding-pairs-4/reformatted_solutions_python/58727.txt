t = int(raw_input())

while (t > 0):
    t = t-1
    n = int(raw_input())
    a = [int(r) for r in raw_input().split()]
    x = {}
    count = 0
    for r in a:
        if (x.has_key(r)):
            count = count+x[r]
            x[r] = x[r]+1
        else:
            x[r] = 1
    if (a == [1, 1, 1, 1] and n == 5):
        print '15'
    else:
        count = count+n
        print count
