#include <iostream>
using namespace std;

int main()
{
	int t,n;
	cin>>n>>t;
	int a[n];
	for(int i=0;i<n;i++){a[i]=1;}
	while(t--){
		int b,c,d;
		cin>>b>>c>>d;
		if(b==0){
			for(int i=c;i<=d;i++){
				if(a[i]==1){a[i]=0;}
				else{a[i]=1;}
			}
		}
		else{int c1=0;
			for(int i=c;i<=d;i++){
				if(a[i]==0){c1++;}
			}cout << c1 << endl;
		}    
	}

    return 0;
}
