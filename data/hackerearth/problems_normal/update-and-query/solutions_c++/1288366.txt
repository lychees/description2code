#include<bits/stdc++.h>
using namespace std;
int A[200001];
int main()
{
	int n,m,i,j,m1,m2,min1,max1,p,val,k;
	string ch;
	cin>>n>>m;
	for(i=0;i<n;i++)
	{
		cin>>A[i];
	}
	//scanf("%c",&ch);
	for(k=0;k<m;k++)
	{
		cin>>ch;
	//	cout<<ch<<" "<<-2<<" ";
		if(ch=="U")
		{
			scanf("%d %d",&i,&p);
			A[i-1]=p;
		}
		else
		{
			scanf("%d %d",&i,&p);
			min1=A[i-1]-p;
			max1=A[i-1]+p;
			if(min1>max1)
			{
				cout<<-1<<" "<<-1<<endl;
				continue;
			}
			m1=A[i-1];
			m2=A[i-1];
			for(j=i;j<n;j++)
			{
				if(A[j]<min1 || A[j]>max1)
				{
					break;
				}
				if(A[j]<m1)
				{
					m1=A[j];
				}
				else if(A[j]>m2)
				{
					m2=A[j];
				}	
			}
			val=max(m2-A[i-1],A[i-1]-m1);
			cout<<j-i+1<<" "<<val<<endl;
		}
	}
	return 0;
}