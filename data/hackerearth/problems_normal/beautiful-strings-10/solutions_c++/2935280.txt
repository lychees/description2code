#include <bits/stdc++.h>
using namespace std;

int Test, cntA, cntB, cntC;
long long ans;
char S[100001];
map < pair <int, int>, int > cnt;

main()
{
    for (scanf("%d", &Test); Test--;)
    {
        scanf("%s", S + 1);
        cnt.clear();        cnt[make_pair(0, 0)] = 1;
        ans = cntA = cntB = cntC = 0;
        for (int i = 1, N = strlen(S + 1); i <= N; i++)
        {
            if (S[i] == 'a') cntA++;
                else if (S[i] == 'b') cntB++;
                    else if (S[i] == 'c') cntC++;
            ans += cnt[make_pair(cntA - cntB, cntB - cntC)];
            cnt[make_pair(cntA - cntB, cntB - cntC)]++;
        }
        printf("%lld\n", ans);
    }
}
