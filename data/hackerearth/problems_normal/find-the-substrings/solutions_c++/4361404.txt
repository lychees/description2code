#include <iostream>

using namespace std;

long long int min(long long int a, long long int b){


if(a<b) return a;
else return b;




}


int main(){

int t;
cin>>t;
while(t--){

string str;
cin>>str;
long long int l = str.size();
long long int ans = (l*(l+1))/2 ;
long long int a=0,b=0,c=0,i=0;

for(i=0;i<l;i++){

if(str[i]=='a'){
        a= i+1;
        ans = ans - min(b,c);
}

else if(str[i]=='b'){
        b= i+1;
        ans = ans - min(a,c);
}

else if(str[i]=='c'){
        c= i+1;
        ans = ans - min(b,a);
}

}


cout<<ans<<endl;

}
return 0;
}
