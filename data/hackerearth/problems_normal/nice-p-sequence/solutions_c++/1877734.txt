#include <bits/stdc++.h>
#define rep(i, a, b) for(int i = (int)a; i < (int)b; i++)
#define red(i, a, b) for(int i = a; i > b; i--)
#define RED true
#define BLACK false
#define pb push_back
#define mk make_pair
#define fi first
#define se second
using namespace std;
typedef pair<int, int> ii;
typedef long long ll;
typedef pair<ii, int> iii;
typedef vector<int> vi;
typedef vector<ii> vii;
const int N = 500 + 7;
const int M = 1e9;
const int inf = 1e9 + 7;
const ll base = 1e18;
const double pi = acos(-1);
const double ep = 1e-9;



int gcd(int x, int y){
	return (x == 0) ? y : gcd(y % x, x);
}

int extended(int a, int n){
	int r = n, newr = a;
	int t = 0, newt = 1;
	while (newr > 0){
		int q = r / newr;
		int tmp = newr;
		newr = r - newr * q;
		r = tmp;
		
		tmp = newt;
		newt = t - newt * q;
		t = tmp;
	}
	
	if (t < 0) t += n;
	return t;
}

int main(){
	
	//freopen("in.txt", "r", stdin);
	int test;
	cin >> test;
	while(test--){
		int a, p, n;
		scanf("%d%d%d", &a, &p, &n);
		if (gcd(a, p) != 1){
			printf("-1\n");
		}else{
			int b = extended(a, p);
			ll ans = (ll) n / 2 * (a + b);
			if (n % 2== 1) ans += a;
			printf("%lld\n", ans);
		}
	}	
}