def occurrences(string, sub):
    count = start = 0
    while True:
        start = string.find(sub, start) + 1
        if start > 0:
            count+=1
        else:
            return count

t = int(raw_input()) 
for i in xrange(t):
    tmp = raw_input()
    r = int(tmp.split(" ")[0])
    k = int(tmp.split(" ")[1])
    count = 0
    for j in xrange(1, r+1):
        if occurrences(bin(j), "101") >= k:
            count += 1
    print count

