#include <bits/stdc++.h>
using namespace std;


int main()
{
    long long int a, b;
    cin>>a>>b;
    string s;
    cin>>s;
    long long int ans=0,val;

    for(int i=0;i<s.length();i++){
    	if(i==0)
    		val=a;
    	else
    		val=(val*val)%b;
    
    	if(s[i]=='1'){
    		ans+=val;
    		ans%=b;
		}
    }
    cout<<ans<<endl;
    return 0;
}
