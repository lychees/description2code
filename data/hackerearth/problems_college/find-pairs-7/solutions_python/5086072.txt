from collections import Counter
t = input()
for _ in xrange(t):
	n = input()
	arr = map(int, raw_input().split())
	c = Counter(arr).values()
	c = map(lambda i: i*(i+1) >> 1, c)
	print sum(c)