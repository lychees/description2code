l=[] # cities
m=[] # costs matrix
n=[] #destinations
total=0


N=int(raw_input()) # Number of cities
for i in range(0,N):
	l.append(raw_input())


for i in range(0,N):
	m.append(raw_input().split())


#Enter destinations

P=int(raw_input()) # Number of cities
for i in range(0,P):
	n.append(raw_input())


total=total+int(m[l.index(l[0])][l.index(n[0])])
for i in range(0,P-1) :
	total=total+int(m[l.index(n[i])][l.index(n[i+1])])


print total


	
	
	
	