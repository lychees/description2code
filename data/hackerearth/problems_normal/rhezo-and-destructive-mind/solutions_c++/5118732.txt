#include<bits/stdc++.h>

using namespace std;

#define pb push_back
#define mk make_pair
#define mod 1000000007
#define ff first
#define ss second

typedef long long ll;
typedef pair<int,int> pii;
typedef pair<ll,ll> pll;

vector<int> gp[100010];
int vis[100010];
int arti[100010];
int tim;
int low[100010],disc[100010];
void dfs(int r, int pr){

    vis[r]=1;
    low[r]=disc[r]=tim;
    tim++;
    
    int child = 0;
    
    for(int i=0;i<gp[r].size();i++){
        if(vis[gp[r][i]]==0){
            child++;
            dfs(gp[r][i],r);
            low[r]=min(low[r],low[gp[r][i]]);
            if(pr==-1 && child>1) arti[r]=1;
            if(pr!=-1 && low[gp[r][i]]>=disc[r]) arti[r]=1;
        }
        else if(gp[r][i]!=pr){
            low[r]=min(low[r],disc[gp[r][i]]);
        }
    }

}


int main(){

    int n,m;
    cin>>n>>m;
    for(int i=0;i<m;i++){
        int a,b;
        cin>>a>>b;
        gp[a].pb(b);
        gp[b].pb(a);
    }
    
    for(int i=1;i<=n;i++){
        if(vis[i]==0) dfs(i,-1);
    }
    
    int q;
    cin>>q;
    for(int i=0;i<q;i++){
        int x;
        cin>>x;
        if(arti[x]==1) cout<<"Satisfied"<<" "<<gp[x].size()<<endl;
        else cout<<"Not Satisfied"<<endl;
    }

}
