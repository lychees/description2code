#include <iostream>
#include<queue>
using namespace std;

int main()
{
    int t,a,b,sum,x,y,count;
    cin>>t;
    while(t--)
    {
    	cin>>a>>b;
    	sum=0;
    	count=a;
    	queue<int> q;
    	int array[1001][1001];
    	bool c[1001]={false};
    	for(int i=1;i<=1000;i++)
    	{
    		for(int j=1;j<=1000;j++)
    		{
    			array[i][j]=0;
    		}
    		
    	}
    	for(int i=1;i<=b;i++)
    	{
    		cin>>x>>y;
    		array[x][y]=1;
    		array[y][x]=1;
    	}
    	q.push(1);
    	c[1]=true;
    	++count;
    	while(!q.empty())
    	{
    		b=q.front();
    		for(int i=1;i<=1000;i++)
    		{
    			if(array[b][i] && !c[i])
    			{
    				++sum;
    				c[i]=true;
    				q.push(i);
    			     ++count;
    			     if(count==a)
    			     break;
    				
    			}
    		}
    		q.pop();
    	}
    	cout<<sum<<"\n";
    	
    }
    return 0;
}
