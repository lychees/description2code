def sum1(list1):
    sum = 0
    for k in list1:
        sum += int(k)
    return sum


for a in range(input()):
    final = 0
    for b in range(input()):
        c = map(int, raw_input().split())
        final += c[1]*c[0]
    l1 = []
    for k in str(final):
        l1.append(int(k))
    while len(l1) > 1:
        l1 = list(str(sum1(l1)))
    print l1[0]
