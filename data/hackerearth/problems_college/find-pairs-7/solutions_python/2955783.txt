from collections import Counter
for _ in range(int(raw_input())):
	n = int(raw_input())
	a = Counter(map(int, raw_input().split()))
	ans = 0
	for i in a.values():
		if i > 1:
			ans += (i*(i-1))/2 
	print ans + n	