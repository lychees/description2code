#include<cstdio>
#include<iostream>
#include<algorithm>
#include<cmath>
#include<cstring>
using namespace std;
#define ll long long
#define inf 1000000000000000000ll
#define lim 501
ll n,k,i;
ll S[lim],M[lim][301];
ll solve(ll i,ll j)
{
  ll &res=M[i][j],p,x;
  if(res==-1)
  {
    if(!j)
      if(i==n+1)
        res=0;
      else
        res=inf;
    else
    {
      res=inf;
      for(p=i;p<=n;p++)
      {
        x=S[p]-S[i-1];
        res=min(res,solve(p+1,j-1)+(k-1)*x*x-2*x*(S[i-1]));
      }
    }
    //printf("%lld %lld %lld\n",i,j,res);
  }
  return res;
}
int main()
{
  cin>>n>>k;
  for(i=1;i<=n;i++)
  {
    cin>>S[i];
    S[i]+=S[i-1];
  }
  memset(M,-1,sizeof M);
  cout<<solve(1,k)<<"\n";
  return 0;
}
