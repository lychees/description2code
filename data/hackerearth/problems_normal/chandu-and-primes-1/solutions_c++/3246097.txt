#include <cstring>
#include <vector>
#include <list>
#include <map>
#include <set>
#include <deque>
#include <stack>
#include <bitset>
#include <algorithm>
#include <functional>
#include <numeric>
#include <utility>
#include <sstream>
#include <iostream>
#include <iomanip>
#include <cstdio>
#include <cmath>
#include <cstdlib>
#include <ctime>
#include <memory.h>
#include <cassert>
#include <string>

#define mp make_pair
#define pb push_back
#define N 1000005
#define mod 1000000007

using namespace std;

bool prime[N] = {false};
int dp[N];
int a[300];

int main()
{
    
    //freopen("input.txt","r",stdin);
    //freopen("output.txt","w",stdout);
    
    
    for(int i=3; i<=1000; i+=2) {
        if(prime[i] == false)
        for(int j=i*i; j<=1000000; j+=2*i) {
            prime[j] = true;        
        }
    } prime[1] = true; prime[0]=true;
    for(int i=4; i<=1000000; i++) {
        if(i%2==0) prime[i] = true;    
    }
    dp[1] = 0; int r = 0;
    for(int i=2; i<=1000000; i++) {
        bool tmp = false;
        int val = i; r = 1;
        while(val > 0) {
            a[r++] = val%10; val/=10;
        }
        for(int j=r-1; j>0; j--) {
            val = 0;
            for(int k=j; k>0; k--) {
                val = val*10 + a[k];
            }    
            if(prime[val]==false){ tmp = true; break; }
        }
        dp[i] = (tmp) ? dp[i-1] + 1 : dp[i-1];
    } 
    int T; cin>>T; int x,y;
    while(T--) {
        scanf("%d%d",&x,&y); printf("%d\n",dp[y]-dp[x-1]);
    }
    return 0;
}
