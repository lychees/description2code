#include<iostream>
#include<bits/stdc++.h>
#include<cstring>
#define int long long
#define MAX 1001
#define M 1000000007
using namespace std;

int n,k,arr[MAX],risk[MAX],ans[MAX];

int root(int x){
    while(arr[x]!=x)
        x=arr[arr[x]];
    return x;
}
void mergeset(int a,int b){
    int ra=root(a),rb=root(b);
    if(risk[ra]<risk[rb]){
        arr[rb]=arr[ra];
        ans[rb]=1;
    }
    else if(risk[ra]>risk[rb]){
        arr[ra]=arr[rb];
        ans[ra]=1;
    }
    else {
        ans[ra]+=ans[rb];
        ans[rb]=1;
        arr[rb]=arr[ra];
    }
}
main(){
    int x,y,mn=1;
    cin>>n;
    for(int i=1;i<=n;i++){
        cin>>risk[i];
        ans[i]=1;
        arr[i]=i;
    }
    cin>>k;
    while(k--){
        cin>>x>>y;
        if(root(x)!=root(y))
            mergeset(x,y);
    }
    for(int i=1;i<=n;i++){
        mn=(mn*ans[i])%M;
    }
    cout<<mn<<endl;


}


