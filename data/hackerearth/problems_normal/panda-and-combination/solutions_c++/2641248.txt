#include <iostream>
#include <vector>
#include <limits>
#include <algorithm>

using namespace std;

int main()
{
    int test ; 
    cin >> test ; 
    
    for(int i = 0 ; i < test ; i++)
    {
        unsigned long long int n , k ; 
        cin >> n >> k ;
        
        if(n==k)
        {
            cout << 1 << endl ;
            continue ;
        }
        if(k==1)
        {
            cout << n << endl ;
            continue ;
        }
        
        unsigned long long int count = 0;
        
        if(n>k)
        {
            while(n!=0)
            {
                count += n%k ; 
                n = n/k ;
            }
        
            cout << count << endl ;
        }
        else 
            cout << n << endl ;
        
            
        
    
    }
    
    return 0;
}


