#include <iostream>
#include <vector>

std::ostream& operator<<(std::ostream& os, std::vector<int> &v)
{
	for (std::vector<int>::iterator it = v.begin(); it != v.end(); ++it)
	{
		std::cout << *it << std::endl;	
	}
	
	return os;
}

void fillVectors(std::vector<int> &v, std::vector<int> &vl, std::vector<int> &vr, int i)
{
	int left = i;
	int right = i * 2;
	int j = right;
	int k = left;
	
	for (j = right; j >= left; --j)
	{
		if (v.at(j) != 0)
		{
			vr.push_back(v.at(j));
			break;
		}
	}
	
	for (int k = left; k < j; ++k)
	{
		if (v.at(k) != 0)
		{
			vl.push_back(v.at(k));
			break;
		}
	}
}

int main()
{
	int t, n, x;
	std::cin >> t;
	
	while (t--)
	{
		std::vector<int> v, vl, vr;
		std::cin >> n;
		
		while (n--)
		{
			std::cin >> x;
			v.push_back(x);
		}
		
		for (int i = 0; i < v.size(); i = i * 2 + 1)
		{
			fillVectors(v, vl, vr, i);
		}
		
		std::cout << vr << vl << std::endl;
	}
	
	return 0;	
}
