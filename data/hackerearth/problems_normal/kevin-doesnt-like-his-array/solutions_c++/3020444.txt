#include <iostream>
using namespace std;
int main()
{   int n,i,count=0,a[100001],b[100001]={0},c[100001]={0},C=0,B=0;
    cin>>n;
    
    for(i=0;i<n;i++)
     {
     	cin>>a[i];
        b[a[i]]++;
        B=max(B,b[a[i]]);
        if(i>0&&(a[i]==a[i-1]))
        {
        	++count;
             c[a[i]]++;
             C=max(C,c[a[i]]);
        }}
        if(B>(n+1)/2)
        {
        	cout<<-1;
        }
        else
        { 
        cout<<max((count+1)/2,C);
        }
    return 0;
}
