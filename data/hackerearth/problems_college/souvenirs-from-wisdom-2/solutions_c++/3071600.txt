#include <bits/stdc++.h>
 
typedef long long int li;
 
#define min(a,b) a<=b?a:b
#define max(a,b) a>=b?a:b
#define Fi(i, st, ft) for(i = st;i <= ft; ++i)
#define Fd(i, st, ft) for(i = st;i >= ft; --i)
#define pb(a, b) a.push_back(b)
#define mod 1000000007
#define MAXN 1500000
#define MX 1450000
#define inf 1000000000000000000ll
const int maxBufSize = (10000000);
 
using namespace std;
 
int n , m , q , gb;
 
int minDistance(int dist[], bool sptSet[])
{
   // Initialize min value
   int min = INT_MAX, min_index;
 
   for (int v = 0; v < n; v++)
     if (sptSet[v] == false && dist[v] <= min)
         min = dist[v], min_index = v;
 
   return min_index;
}
int printSolution(int dist[], int n)
{
   printf("%d\n" , dist[gb]);
}
 
void dijkstra(int graph[110][110], int src)
{
     int dist[110];     
     bool sptSet[110]; 
     for (int i = 0; i < n; i++)
        dist[i] = INT_MAX, sptSet[i] = false;
 
     dist[src] = 0;
 
     for (int count = 0; count < n-1; count++)
     {
       int u = minDistance(dist, sptSet);
 
       sptSet[u] = true;
 
       for (int v = 0; v < n; v++)
 
         if (!sptSet[v] && graph[u][v] && dist[u] != INT_MAX) {
            if(u == src) {
            	dist[v] = min(graph[u][v] , dist[v]);
            } else if(dist[v] < min(dist[u] , graph[u][v])) {
            	dist[v] = min(dist[u] , graph[u][v]);
            }
         }
     }
 
     printSolution(dist, n);
}
 
 
 
int main()
{
	int k , i , j , a , b , c;
	scanf("%d %d %d" , &n , &m , &q);
	int arr[110];
	Fi(i , 0 , n-1) {
		scanf("%d" , &arr[i]);
	}
	int graph[110][110];
	Fi(i , 0 , 108) {
		Fi(j , 0 , 108) {
			graph[i][j] = 0;
		}
	}
	Fi(i , 1 , m) {
		scanf("%d  %d" , &a , &b);
		a-- , b--;
		graph[a][b] = graph[b][a] = min(arr[a] , arr[b]);
	}
	char ch;
	Fi(k , 1 , q) {
		cin >> ch >> a >> b;
		if(ch == 'A') {
			a--;
			b--;
			gb = b;
			if(a==b) {
				printf("%d\n" , arr[a]);
			} else {
				dijkstra(graph, a);
			}
		} else {
			a--;
			arr[a] = b;
			Fi(i , 0 , n-1) {
				if(graph[a][i]) {
					graph[a][i] = graph[i][a] = min(arr[a] , arr[i]);
				}
			}
		}
	}
	return 0;
}