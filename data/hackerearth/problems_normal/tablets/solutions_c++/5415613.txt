#include <iostream>
using namespace std;

int main()
{
    int n;
    cin>>n;
    int a[n];
    for(int i=0;i<n;i++)
    {
    	cin>>a[i];
    	
    }
    long long tab[n],ans=0;
    tab[0]=1;
    
    for(int i=1;i<n;i++)
    {
    	if(a[i]>a[i-1])
    	{
    		tab[i]=tab[i-1]+1;
    	}
    	else
    	{
    		tab[i]=1;
    	}
    }
    for(int i=n-2;i>=0;i--)
    {
    if(a[i]>a[i+1]&&tab[i]<=tab[i+1])
    {
    tab[i]=tab[i+1]+1;  
    }

  }
  for(int i=0;i<n;i++)
  {
  	ans+=tab[i]	;
  }
    cout<<ans;
    return 0;
}
