#include <iostream>
#include <cstdio>
#include <cstring>
#include <algorithm>
#include <cmath>
using namespace std;
int t,n;
int y[1006];
int h[1006];
int mh[1006],rh[1006];

int main()
{
ios_base::sync_with_stdio(false);
cin.tie(NULL);    
    
    
for(int i=0;i<=1000;i++)
h[i]=0,mh[i]=1006,rh[i]=0;

cin>>n;    

for(int i=1;i<=n;i++)
{cin>>y[i];
h[y[i]]++;
mh[y[i]]=min(mh[y[i]],i);
rh[y[i]]=i;
}   
if(n==1){cout<<1<<endl;return 0;}
int ans=0;
int l1,l2,r1,r2;
for(int i=0;i<=1000;i++){if(h[i]==0)continue;
for(int j=i+1;j<=1000;j++)
{
 if(h[j]==0)continue;       
l1=mh[i],l2=mh[j],r1=rh[i],r2=rh[j];
int tans=h[i]+h[j];
for(int k=1;k<min(l1,l2);k++)
if(y[k]>i&&y[k]<j){tans+=1;break;}
for(int k=n;k>max(r1,r2);k--)
if(y[k]>i&&y[k]<j){tans+=1;break;}
//cout<<i<<" "<<j<<" "<<l1<<" "<<l2<<" "<<r1<<" "<<r2<<" "<<tans<<endl;        
ans=max(ans,tans);        
}        

}
cout<<max(ans,2)<<endl;

return 0;    
}
