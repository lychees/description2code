#include <iostream>
using namespace std;
#include<cstring>
#include<vector>
#include<limits.h>
#define ll long long
#include<math.h>
#include<iomanip>
vector<pair<double,pair<ll,ll> > > v(30001);
double a[3003];
double dist(ll i, ll j){
	return sqrt(pow((v[i].second.first-v[j].second.first),2)+pow((v[i].second.second-v[j].second.second),2));
}
double gt(ll i, ll j){
	//cout<<"profit of "<<i<<" "<<j<<"is "<<a[j]-dist(i,j)+v[i].first<<endl; 
	return a[j]-dist(i,j)+v[i].first;
}
int main()
{
	ll t,i,j,m,n,k,l,x,y,c;
	cin>>t;
	
	
	for(i=0;i<t;i++){
		cin>>x>>y>>c;
		v[i]=make_pair(c,make_pair(x,y));
	}
	for(i=0;i<t-1;i++){
		a[i]=INT_MIN;
	}
	double mi=INT_MIN;
    a[t-1]=v[t-1].first;
    a[t-2]=max(a[t-2],gt(t-2,t-1));
    for(i=t-3;i>=0;i--){
    	for(j=i+1;j<t;j++){
    		a[i]=max(a[i],gt(i,j));
    	}
    	//mi=max(mi,a[i]);
    }
    cout<<fixed<<setprecision(6)<<a[0]<<endl;
    
    
    return 0;
}
