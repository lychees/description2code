#include <iostream>
#include <cstdio>
#include <cstring>
#include <vector>
#include <algorithm>
#include <queue>
#include <cstdlib>
#include <ctime>
using namespace std;

const int N = 1000;
int nxt[N];
int usd[N];


int main() {

	for(int i = 1; i < N; ++i) {
		int s = 0, p = i;
		while(p) {
			s += (p%10)*(p%10);
			p /= 10;
		}
		nxt[i] = s;
	}

	int t;
	cin >> t;
	int q = 0;
	for(; t--; ) {
		int n, k;
		cin >> n >> k;
		int s = 0, p = n;
		while(p) {
			s += (p%10)*(p%10);
			p /= 10;
		}
		k--;
		n = s;

	/*	int nn = n;
		for(int i = 0; i < k; ++i) {
			nn = nxt[nn];
			cout << nn << " ";
		}
		cout << endl;
		cout << "true " << nn << " ";*/

		int s1 = s;
		int q0 = usd[s1] = (++q)++;
		for(s1 = nxt[s1]; usd[s1] < q0; q++) {
			usd[s1] = q;
			s1 = nxt[s1];
		}
		int pred = q-q0;

		q0 = q;
		for(; usd[s1] < q0; q++) {
			usd[s1] = q;
			s1 = nxt[s1];
		}
		int per = q-q0;
		pred -= per;

		//cout << pred << " " << per << endl;

		for(int i = 0; i < k && i < pred; ++i)
			n = nxt[n];
		if(k > pred) {
			k -= pred;
			k %= per;
			n = s1;
			for(int i = 0; i < k; ++i)
				n = nxt[n];
		}
		cout << n << endl;
	}

	return 0;
}

/*
1
11111 100

 * */
