#include <bits/stdc++.h>
#include <iostream>
using namespace std;

int main()
{
    long long int i,j,q,n,a[100000],b[100000],t,l,r,fina,finb,oe,tw,sa,sb,k,m,ans;
    cin>>n>>q;
    for(i=0;i<n;i++)
    cin>>a[i];
    for(i=0;i<n;i++)
    cin>>b[i];
    for(i=2;i<n;i=i+2)
    {
    	a[i]=a[i]+a[i-2];
    	b[i]=b[i]+b[i-2];
    	j=i+1;
    	if(j<n)
    	{
    	a[j]=a[j]+a[j-2];
    	b[j]=b[j]+b[j-2];
    	}
    }
    while(q--)
    {
    	cin>>t>>l>>r;
    	l--;r--;
    	if(t==1)
    	{
    		if((l-2)>=0)
    			tw=a[l-2];
    		else
    	  		tw=0;
    		if((l-1)>=0)
    			oe=b[l-1];
    		else
    			oe=0;
    		if(r>l)
    		{
    			fina=(r-l)/2;
    			finb=(r-l-1)/2;
    			fina=a[l+2*fina];
    			finb=b[l+1+2*finb];
    			ans=fina+finb-oe-tw;
    		}
    		else
    		{
    			ans=a[r]-tw;
    		}
    		
    	}
    	else
    	{
    		if((l-2)>=0)
    			tw=b[l-2];
    		else
    	  		tw=0;
    		if((l-1)>=0)
    			oe=a[l-1];
    		else
    			oe=0;
    		if(r>l)
    		{
    			fina=(r-l)/2;
    			finb=(r-l-1)/2;
    			fina=b[l+2*fina];
    			finb=a[l+1+2*finb];
    			ans=fina+finb-oe-tw;
    		}
    		else
    		{
    			ans=b[r]-tw;
    		}
    	}
    cout <<ans<<"\n";
    }
    return 0;
}
