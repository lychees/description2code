#include <bits/stdc++.h>

using namespace std;

#define pb push_back
#define mp make_pair
#define ll long long int
#define s(x) scanf("%d", &x)
#define sl(x) scanf("%lld", &x)
#define sd(x) scanf("%lf", &x)
#define mod 1000000007
#define get getchar//_unlocked

int main()
{
    ll i, j, k, n, mx, mn, tmx, tmn, t;
    char ch;
    cin >> t;
    while(t--)
    {
        mx = mn = 1;
        cin >> n;
        for(i = 0; i < n; i++)
        {
            cin >> ch;
            if(ch == 'N')
            {
                mx = max(mx, -mn);
                mn = min(mn, -mx);
            }
            else if(ch == '+')
            {
                cin >> k;
                mx = max(mx, mx + k);
                mn = min(mn, mn + k);
            }
            else if(ch == '-')
            {
                cin >> k;
                mx = max(mx, mx - k);
                mn = min(mn, mn - k);
            }
            else if(ch == '*')
            {
                cin >> k;
                tmx = max(max(mx, mx * k), max(mn, mn * k));
                tmn = min(min(mx, mx * k), min(mn, mn * k));
                mx = tmx;
                mn = tmn;
            }
            else if(ch == '/')
            {
                cin >> k;
                tmx = max(max(mx, mx / k), max(mn, mn / k));
                tmn = min(min(mx, mx / k), min(mn, mn / k));
                mx = tmx;
                mn = tmn;
            }
        }
        cout << mx << endl;
    }
    
    return 0;
}