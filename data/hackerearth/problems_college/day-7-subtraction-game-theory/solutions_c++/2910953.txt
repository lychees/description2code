#include<bits/stdc++.h>
using namespace std;

long int dp[1000005];
int day[1000005];

int main()
{
    for(int i=0; i<1000004; i++)
        dp[i] = -1;

    int n, x, y, maxday=0;
    cin>>x>>y>>n;

    for(int i=0; i<n; i++)
    {
        scanf("%d",&day[i]);
        if(day[i] > maxday)
            maxday = day[i];
    }

    long int temp = 1;
    for(int i=1; i<=maxday; i++)
    {
        temp = temp*x - y;
        temp%=1000000007;
        dp[i] = temp;
    }

    for(int i=0; i<n; i++)
        printf("%ld\n",dp[day[i]]);

    return 0;
}
