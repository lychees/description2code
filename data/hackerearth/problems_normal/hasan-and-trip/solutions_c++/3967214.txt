
#include<bits/stdc++.h>

using namespace std;

#define si(x) scanf("%d",&x)
#define pri(x) printf("%d",x)
#define sll(x) scanf("%lld",&x)
#define pll(x) printf("%lld",x)
#define sstr(s) scanf("%s",s)
#define pstr(s) printf("%s",s)
#define nl printf("\n")
#define ll long long int
#define pb push_back
#define mp make_pair

int n;
double x[3005],y[3005];
double f[3005];
double ans[3005];
bool flg[3005];

double solve(int idx) {
    if(idx==n-1) {
	return f[n-1];
    }
    if(flg[idx]) {
	return ans[idx];
    }
    double a = f[idx]-sqrt((x[idx]-x[n-1])*(x[idx]-x[n-1])+(y[idx]-y[n-1])*(y[idx]-y[n-1]))+f[n-1];
    for(int i=idx+1;i<n;++i) {
	a = max(a,f[idx]-sqrt((x[idx]-x[i])*(x[idx]-x[i])+(y[idx]-y[i])*(y[idx]-y[i]))+solve(i));
    }
    ans[idx] = a;
    flg[idx] = true;
    return a;
}

int main()
{
    for(int i=0;i<3000;++i) {
	flg[i] = false;
    }
    si(n);
    for(int i=0;i<n;++i) {
	scanf("%lf%lf%lf",&x[i],&y[i],&f[i]);
    }
    solve(0);
    printf("%.6lf\n",ans[0]);
    return 0;
}
