#include<bits/stdc++.h>
using namespace std;
int main(){
    int t;
    cin>>t;
    while(t--){
        int n,q;
        cin>>n>>q;
        map<string,int>name;
        map<int,string>order;
        string tmp;
        for(int i=0;i<n;i++){
            cin>>tmp;
            name[tmp]=0;
            order[i]=tmp;
        }
        while(q--){
            string personPaid;
            int amount,m;
            cin>>personPaid;
            cin>>amount;
            name[personPaid]+=amount;
            cin>>m;
            int share=amount/(m+1);
            for(int i=0; i<m; i++){
                cin>>tmp;
                name[tmp]-=share;
                amount-=share;
            }
            name[personPaid]-=amount;
        }
        for(int i=0;i<n;i++){
            if(name[order[i]]<0) cout<<order[i]<<" owes "<<abs(name[order[i]])<<endl;
            else if(name[order[i]]>0) cout<<order[i]<<" is owed "<<name[order[i]]<<endl;
            else cout<<order[i]<<" neither owes nor is owed"<<endl;
        }
    }
    return 0;
}
