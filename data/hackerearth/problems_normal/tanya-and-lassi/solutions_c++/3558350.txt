#include <iostream>
using namespace std;

int main()
{
       int t;
        cin>>t;
        while (t-->0){
        int n;
        cin>>n;
            long arr[n];
            long dp[n];

            for(int i=0;i<n;i++){
                cin>>arr[i];
            }
            dp[0]=arr[0];

            for(int i=1;i<n;i++){
                for(int k=0;k<=i/2;k++){
                    dp[i]=max(arr[i],(dp[k]+dp[i-k-1]));
                    arr[i]=max(dp[i],arr[i]);
                }
            }


            cout<<(dp[n-1])<<endl;

    }
	
}
    
    
      long max(long a,long b){
        if(a>b){
            return a;
        }
        return b;
    }

