#include <bits/stdc++.h>
using namespace std;
#define ll long long 
int solve(int A, int B, int K) {
    
    
      if(A%K!=0)
      A += (K - A%K);
      B -= B % K;
    return (B-A)/K + 1;

}
int main()
{
    ll l,r,t,n,i,j,k,p1,p2;
    cin>>p1>>p2;
    int c=p1*p2;
    cin>>t;
    while(t--)
    {
    
     cin>>l>>r;
     ll num=solve(l,r,p1);
     num+=solve(l,r,p2);
     num-=solve(l,r,c);
     
      double ans=(double)num/(r-l+1);
     printf("%.6f\n",ans);
     
     
    }
    return 0;
}
