#include<iostream>
#define ll long long
using namespace std;
int main(){
 int t;
 cin>>t;
 while(t--){
 ll a[1000];
 ll x,j=0;
 cin>>x;
 ll n=x;
 for(int i=2;i*i<=x;i++){
    while(x%i==0){
        a[j++]=i;
        x/=i;
    }
 }
 if(x!=1){
    a[j++]=x;
 }
 if(a[0]==n){
    cout<<"2"<<"^"<<"0"<<endl;
    continue;
 }
 if(a[0]!=2){
    cout<<"2"<<"^"<<"0"<<"*";
 }

 for(int i=0;i<j;i++){
        int count=1;
    for(int k=i+1;k<j;k++){
        if(a[i]==a[k]){
            count++;
            if(k==j-1)
                i=j-1;
        }
        else
        {

            i=k-1;
            break;
        }
    }
    if(i<j-1)
    cout<<a[i]<<"^"<<count<<"*";
    else
        cout<<a[i]<<"^"<<count;
 }
 cout<<endl;
 }
}
