#include <iostream>
using namespace std;

int main()
{
    long long int t,n,i,j,k,l,k1,m,g;
    cin>>t;
    while(t--){
    	cin>>n>>k;
    	long long int a[n],b[n];
    	for(i=0;i<n;i++){
    		cin>>a[i];
    	}
    	for(i=n-1;i>=n-1-k;i--){
    		//cout<<i<<endl;
    		b[i]=a[i];
    	}
    	m=0;
    	g=n-1;
    	for(i=n-2-k;i>=0;i--){
    		m=max(m,b[g]);
    		g--;
    		b[i]=a[i]+m;
    	}
    	k1=0;
    	for(i=0;i<n;i++){
    		if(b[i]>k1){
    			k1=b[i];
    		}
    	}
    	cout<<k1<<endl;
    }
    return 0;
}
