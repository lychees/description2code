
#include <bits/stdc++.h>

using namespace std;

#define rep(i,a,b) for(int i = int(a); i < int(b); ++i)
#define trav(it, v) for(auto& it : v)
#define sz(v) (int)(v).size()
#define all(v) (v).begin(), (v).end()

typedef long long ll;
typedef vector<int> vi;
typedef pair<int,int> pii;

vi a;
int n, k;

pair<ll, ll> dp[500][300];

pair<ll, ll> go(int at, int div){
	if(at == n){
		return make_pair(1LL<<30, -1LL<<30);
	}
	if(dp[at][div].first != -1) return dp[at][div];
	ll ans = 1LL<<50;
	ll sum = 0;
	if(div == 0){
		rep(i,at,sz(a)) sum += a[i];
		ans = (k - 1) * sum * sum;
	} else {
		rep(i,at,sz(a)){
			sum += a[i];
			pair<ll, ll> sub = go(i + 1, div - 1);
			ans = min(ans, (k - 1) * sum * sum - 2 * sum * sub.second + sub.first);
		}
	}
	return dp[at][div] = make_pair(ans, sum);
}

int main(){
	memset(dp, -1, sizeof(dp));
	scanf("%d%d", &n, &k);
	a.resize(n);
	trav(it, a) scanf("%d", &it);
	printf("%lld\n", go(0, k - 1).first);
}
