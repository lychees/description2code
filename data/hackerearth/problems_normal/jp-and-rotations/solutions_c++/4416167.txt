#include <iostream>
using namespace std;

int matchright(int A[],int T[], int N,int x){
			for(int j=x,k=0;k<N;k++,j++){
				if(A[k]!=T[j%N])
					break;
				else if(k==N-1)
					return true;
			}
	return false;
}
int matchleft(int A[],int T[], int N,int x){

			for(int j=x,k=0;k<N;k++,j++){
				if(T[k]!=A[j%N])
					break;
				else if(k==N-1)
					return true;
			}

	return false;
}

int main()
{
	int N,M;
	cin>>N>>M;
	int A[N],T[N];
	for(int i=0; i<N; i++){
		cin>>A[i];
	}
	
	for(int i=0; i<N; i++){
		cin>>T[i];
	}
	//int r=matchright(A,T,N);
	
	//int l=matchleft(A,T,N);
	char op;
	int x,cur=0;
	for(int i=1;i<=M;i++){
		cin>>op>>x;
		if(op=='R'){
			cur+=x;
		}
		else
			cur-=x;
		if(cur>0 && matchright(A,T,N,cur)){
			cout<<i;
			return 0;
		}
		else if(cur<0 && matchleft(A,T,N,abs(cur))){
			cout<<i;
			return 0;
		}
		
	}
	cout<<"-1";
	return 0;
}