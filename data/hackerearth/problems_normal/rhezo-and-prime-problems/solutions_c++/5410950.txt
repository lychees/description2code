#include <iostream>
#include <algorithm>
#include <vector>
using namespace std;

bool isPrime(int n)
{
	for(int i=2;i*i<=n;i++)
	 {
	 	if(n%i==0)
	 	 return false;
	 }
	return true;
}

int main()
{
    int n;
    cin>>n;
    int a[n+1];
    a[0] = 0;
    for(int i=1;i<=n;i++)
     {cin>>a[i];
      a[i]+=a[i-1];}
    vector<int>p;
    for(int j=2;j<=n;j++)if(isPrime(j))p.push_back(j);
    int ans[n+1];
    ans[0] = 0;
    for(int i=1;i<=n;i++)
    {   ans[i] = 0;
    	for(int j=0;j<p.size();j++)
    	 {
    	 	if(i<p[j])break;
    	 	else if(i==p[j])
    	 	 ans[i] = a[i];
    	 	else
    	 	ans[i] = max(ans[i],a[i]-a[i-p[j]]+ans[i-p[j]-1]);
    	  ans[i] = max(ans[i-1],ans[i]);
    	 }
    	 //cout<<ans[i]<<' ';
    }
    cout<<ans[n];
    return 0;
}
