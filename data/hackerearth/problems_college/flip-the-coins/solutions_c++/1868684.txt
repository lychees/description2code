#include <bits/stdc++.h>
using namespace std;

int main()
{
    int T;
    int N;
    int x,y,z;
    cin>>N;
    bool visited[N+1];
    memset(visited,0,sizeof(visited));
    cin>>T;
    while(T--){
    	cin>>x>>y>>z;
    	int count=0;
    	if(x==0){
    		for(int i = y;i<=z;i++){
    			if(visited[i]==0)
    				visited[i]=1;
    			else visited[i]=0;
    		}
    	}
    	else if(x==1){
    		for(int i=y;i<=z;i++){
    			if(visited[i]==1){
    				count++;
    			}
    		}
    		cout<<count<<endl;
    	}
    }
    return 0;
}

