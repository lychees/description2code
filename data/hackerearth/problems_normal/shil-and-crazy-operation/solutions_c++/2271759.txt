#include <bits/stdc++.h>
using namespace std;
int n;
long long t;
int * a,* p,* q;
void mult(int * a,int * b,int *c)
{
	for(int i=1;i<=n;i++)
		c[i]=a[b[i]];
}
void print(int *b)
{
	for(int i=1;i<=n;i++)cout<<b[i]<<" ";cout<<endl;
}
void calc(int * a,int * b,long long t)
{
	//print();
	if(t==1)
	{
		for(int i=1;i<=n;i++)
		b[i]=a[i];
		return;
	}
	int * c=(int *)malloc((n+2)*sizeof(int));
	calc(a,c,t/2);
	mult(c,c,b);
	if(t&1)
	{
		mult(a,b,c);
		for(int i=1;i<=n;i++)
		b[i]=c[i];
	}
//	print(b);
}
int main() 
{
	cin>>n>>t;
//	cout<<"n="<<n<<" t="<<t<<endl;
	a=(int*)malloc((n+2)*sizeof(int));
	p=(int*)malloc((n+2)*sizeof(int));
	q=(int*)malloc((n+2)*sizeof(int));
	for(int i=1;i<=n;i++)cin>>a[i];
	//for(int i=1;i<=n;i++)cout<<a[i]<<" ";cout<<endl;
	for(int i=1;i<=n;i++)cin>>p[i];
	//for(int i=1;i<=n;i++)cout<<p[i]<<" ";cout<<endl;
	if(t>1)
	{
		calc(p,q,t);
		mult(a,q,p);
		for(int i=1;i<=n;i++)cout<<p[i]<<" ";cout<<endl;
	}
	else
	{
		mult(a,p,q);
		for(int i=1;i<=n;i++)cout<<q[i]<<" ";cout<<endl;
	}
	return 0;
}