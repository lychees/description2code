#include<bits/stdc++.h>
using namespace std;
bool M[101][101],V[101][101];
int c;

void solve(int n,int x=1,int y=1){

    if(x==n&&y==n){
      c++;
      return ;
    }
    if((x+1)<=n&&M[x+1][y]&&!V[x+1][y]){
       V[x+1][y]=1;
       solve(n,x+1,y);
       V[x+1][y]=0;
    }

    if((x-1)>=1&&M[x-1][y]&&!V[x-1][y]){
       V[x-1][y]=1;
       solve(n,x-1,y);
       V[x-1][y]=0;
    }
    if((y+1)<=n&&M[x][y+1]&&!V[x][y+1]){
       V[x][y+1]=1;
       solve(n,x,y+1);
       V[x][y+1]=0;
    }
    if((y-1)>=1&&M[x][y-1]&&!V[x][y-1]){
       V[x][y-1]=1;
       solve(n,x,y-1);
       V[x][y-1]=0;
    }
}

int main(){

 int n;
 cin >> n;
 for(int i=1;i<=n;i++){
   for(int j=1;j<=n;j++){
     cin >> M[i][j];
     M[i][j]^=1;
   }
 }
 c=0;
 V[1][1]=1;
 if(M[1][1]&&M[n][n])solve(n);

 cout << c << endl;
 return 0;
}
