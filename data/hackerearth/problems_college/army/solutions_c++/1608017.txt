#include <cstdio>
#include <memory.h>
#define MAX 100000
using namespace std;
bool isdigitin(int a,int b)
{
    while(b)
    {
	if(b%10==a)
	    return true;
	b/=10;
    }
    return false;
}
int main()
{
    int dp[1024]={0};
    int n,m,q;
    
    scanf("%d",&n);
    scanf("%d",&q);
    memset(dp,0,sizeof(dp));
    for(int i=1;i<=n;i++)
    {
	int tmp = i;
	int curbitset = 0;
	while(tmp)
	{
	    int dig = tmp%10;
	    curbitset = curbitset|(1<<dig);
	    tmp/=10;
	}

	//printf("%d %d\n",i,curbitset);
	dp[curbitset]++;
    }
        //printf("%d\n",dp[1]);

    for(int i=0;i<q;i++)
    {
	int m;
	scanf("%d",&m);
	int bitset=0;
	int ans=0;
	for(int i=0;i<m;i++)
	{
	    int tmp;
	    scanf("%d",&tmp);
	    bitset = bitset|(1<<tmp);

	}
	for(int i=1;i<1024;i++)
	{
		if(i&bitset && dp[i])
		{
		    //printf("%d %d\n",i,dp[i]);
		    ans+=dp[i];
		}
	}
	//printf("%d\n",bitset);
	printf("%d\n",ans);
    }
    return 0;
}