#include<stdio.h>
#include<algorithm>
#include<ctype.h>
#include<string.h>
using namespace std;
#define prim printf("IMPOSSIBLE\n");
double max(double a,double b)
{
    if(a>b)
        return a;
    else
        return b;
}
bool vi[1010];
double best(double p[],int arr[],double visit[],int pos,int span,int dis,int n)
{
    if(vi[pos])
        return visit[pos];
    int d;
    if(pos==0)
        d=0;
    else
        d=arr[pos];
    if(d+span>=dis){
            vi[pos]=true;
            if(pos==0.0)
                return (visit[pos]=1.0);

        return (visit[pos]=1.0);
    }
    double pro=0.0,prob=1.0;
    int i=1;
    while(arr[pos+i]<=d+span&&pos+i<=n)
    {
        prob=p[pos+i]*best(p,arr,visit,pos+i,span,dis,n);
        pro=max(prob,pro);
        i++;
    }
    vi[pos]=true;
    //printf("best %d %lf\n",pos,pro);
    return (visit[pos]=pro);
}
int main()
{
        int n,l,d,i,j,k,arr[1010];
        double p[1010],visit[1010];
        scanf("%d %d %d",&n,&l,&d);
        visit[0]=-1;
        for(i=1;i<=n;i++){
            scanf("%lf",&p[i]);
            visit[i]=-1;
        }
        for(i=1;i<=n;i++)
            scanf("%d",&arr[i]);
        best(p,arr,visit,0,l,d,n);
        if(visit[0]==0.0)
            prim
        else
        printf("%0.6lf\n",visit[0]);
        return 0;
}
