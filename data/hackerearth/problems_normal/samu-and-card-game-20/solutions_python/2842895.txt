for i in range(input()):
	line=map(int, raw_input().split())
	n,m=line[0],line[1]
	k=input()
	ans=0
	p,s=1,1
	for j in range(k):
		l=map(int, raw_input().split())
		a,b=l[0],l[1]
		x,y=1000000007,1000000007
		#fx,fy=1,1
		if (a!=0):
			if (a>0):
				x=(n-p)/a
			else:
				x=(p-1)/abs(a)
				#fx=(-1)
		if (b!=0):
			if (b>0):
				y=(m-s)/b
			else:
				y=(s-1)/abs(b)
				#fy=(-1)
			
		z=min(x,y)
		ans+=abs(z)
		p=p+z*a
		s=s+z*b
	print ans
		