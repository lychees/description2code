#include <bits/stdc++.h>
using namespace std;
 
typedef long long LL;
 
#define PII       pair<int,int>
#define all(c)    c.begin(),c.end()
#define sz(c)     (int)c.size()
#define clr(c)    c.clear()
#define pb        push_back
#define mp        make_pair
#define cin(x)    scanf("%d",&x)
#define MOD       1000000000
#define EPS       1E-10

LL BigMod(LL a,LL b)
{
      if(!b) return 1;
      LL x = BigMod(a,b/2);
      x = (x*x);
      if(b&1) return (x*a);
      else return x;
}

int F(LL a , int p)
{
	LL lo = 1;
	LL hi = pow(a , (1.0)/p) + 100;
	while(lo < hi)
	{
		LL mid = (1 + lo + hi) / 2;
		if(BigMod(mid,p) > a)
			hi = mid - 1;
		else
			lo = mid;
	}
	return lo;
}

int main()
{
	int t;
	cin >> t;
	for(int ii = 1; ii <= t; ii++)
	{
		int p,q;
		cin >> p >> q;
		LL k;
		cin >> k;
		int y = F(k,q);
		int ret = 0;
		for(int x = 0; x <= 10000000; x++)
		{
			LL val = BigMod(x , p) + x;
			if(val > k) break;
			LL left = k - val;
			while(BigMod(y,q) > left)
				y -= 1;
			if(BigMod(y,q) == left)
				ret += 1;
		}
		cout << "Case #" << ii << ": " << ret << "\n";
	}
	return 0;
}