#include<bits/stdc++.h>
using namespace std;
#define ll long long
ll power(ll a,ll b)
{
    if(b==0)
        return 1;
    if(b==1)
        return a;
    ll temp=power(a,b/2);
    if(b%2==0)
        return temp*temp;
    return a*temp*temp;
}
int main()
{
    //cout<<log10(12)<<endl;
    //cout<<log10(3)<<endl;
    //cout<<floor(log10(12)/log10(3))<<endl;
    int t;
    ll n,m;
    cin>>t;
    while(t--)
    {
        cin>>n>>m;
        ll num=n;
        ll cnt=0;
        if(m!=1)
        {

        while(num!=0)
        {
           // cout<<num<<endl;
            ll x=floor((log10(num)/log10(m)));
            num=num-power(m,x);
            cnt++;
            if(num<m)
            {
                cnt=cnt+num;
                break;
            }
        }
        }
        else
            cnt=num;
        cout<<cnt<<endl;

    }

}
