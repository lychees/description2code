#include <bits/stdc++.h>
#define ll long long
#define MOD 1000000007
using namespace std;

int main()
{
	ll t,n,k,*p,i,l;
	
	cin>>t;while(t--){ll count=0;priority_queue<ll> q;
	cin>>n>>k;//p=new ll[n];
	for(i=0;i<n;i++){
        cin>>l;
        //cout<<__builtin_popcount(l)<<"\t";
        q.push(__builtin_popcount(l));
	}
	//stable_sort(p,p+n);
	for(i=0;i<k;i++){
        count+=q.top();q.pop();}
    cout<<count<<endl;
	}
	}

