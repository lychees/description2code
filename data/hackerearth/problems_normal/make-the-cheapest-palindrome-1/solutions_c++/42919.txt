#include <iostream>
#include <string.h>
#include <math.h> 
#include <stdint.h>
using namespace std;

int process(char *str, int ac, int bc)
{
	int minc = ac > bc ? bc: ac;
	int maxc = ac > bc ? ac: bc;
	int len = strlen(str);
	int cost[2] = {ac, bc};
	int64_t sum = 0;
	for(int i = 0; i < len/2; i++)
	{
		if(str[i] == '/' || str[len-1-i] == '/')
		{
			if(str[i] != str[len-1-i])
			{
				//one is / and other is string
				if(str[i] == '/') 
				{
					 sum += cost[str[len-1-i]-'a'];
				}
				else if(str[len-1-i] == '/') 
				{
					 sum += cost[str[i]-'a'];
				}
			}
			else
			{
				sum += minc+minc;
			}
		}
		else if(str[i] != str[len -1 -i])
		{
			sum = -1;
			break;
		}
	}
	return sum;
}

void readAndProcessInput()
{
	int numTests = 0;
	cin >> numTests;
	
	if(numTests <= 0)
		return;
	int *tests = new int[numTests];
	int *results = new int[numTests];
	for(int i = 0; i < numTests; i++)
	{
		char temp[10001];
		int acost = 0, bcost = 0;
		cin >> temp;
		cin >> acost;
		cin >> bcost;
		results[i] = process(temp, acost, bcost);
	}
	for(int i = 0; i < numTests; i++)
		cout << results[i] << endl;
	delete tests;
}

int main(int a, char **b)
{
	readAndProcessInput();
	return 0;
}
