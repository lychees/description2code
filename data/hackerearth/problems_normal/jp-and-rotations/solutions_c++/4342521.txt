#include<bits/stdc++.h>
#define sc(n) scanf("%lld",&n)
using namespace std;
typedef long long int ll;
int main()
{
   ll n,m,i,j,index=0,times,des=0,flag=0,id=0;
   sc(n);
   sc(m);
   ll a[100000],t[100000];
   for(i=0;i<n;i++){
    sc(a[i]);
   }
   for(i=0;i<n;i++){
    sc(t[i]);
   }
   for(i=0;i<n;i++){
    if(a[0]==t[i]){
        des = i;
        break;
    }
   }
   char dir;

   for(i=0;i<m;i++){
        if(des == index){
            flag =1;
            break;
        }
        id++;
    cin>>dir;
    if(dir=='R'){
        sc(times);
        while(times--){
            index = (index+1)%n;
        }
    }
    else{
        sc(times);
        while(times--){
            index = (index-1+n)%n;
        }
    }
   }
   for(;i<m;i++){
    cin>>dir>>times;
   }
   if(flag==1){
		cout << id << endl;
	}else{
		cout << "-1" << endl;
	}
}
