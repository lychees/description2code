#include <iostream>
#include <algorithm>
using namespace std;
#define max 10000000

int moves[max];

void pre()
{
	moves[1]=0;
	moves[0]=1000000001;
	
	for(int i=2;i<max;i++)
	{
		moves[i]=1+moves[i-1];
		if(i%2==0)
		{
			moves[i]=min(moves[i],moves[i/2]+1);
		}
		if(i%3==0)
		{
			moves[i]=min(moves[i],moves[i/3]+1);
		}
	}
}


int result(int n)
{
	int ans;
	
	if(n < max)
	{
		return moves[n];
	}
	else
	{
		ans=n-1;
			if(n%2==0)
                ans = min(ans, 1+result(n/2));
            else
                ans = min(ans, 1+result(n-1));
            if(n%3==0)
                ans = min(ans, 1+result(n/3));
            else
                ans = min(ans, 1+result(n-1));
            return ans;
	}
}

int main()
{
    int t,n,res;
    pre();
    scanf("%d",&t);
    
    while(t--)
    {
    	scanf("%d",&n);
    	res=result(n);
    	printf("%d\n",res);
    }
    return 0;
}
