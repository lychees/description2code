#include<iostream>

using namespace std;

int max (int a, int b)
{
	return (a > b)? a : b;
}

int main()
{
    int n, l, d;
    cin>>n>>l>>d;
    float arr_p[n+2];
    int i = 1, j;
    arr_p[n+1] = arr_p[0] = 1.0;
    while (i <= n)
    {
        cin>>arr_p[i];
        i++;
    }
    int arr_d[n+2];
    int prevSum = 0;
    i = 1;
    arr_d[0] = 0;
    while (i <= n)
    {
        cin>>arr_d[i];
        i++;
    }
    arr_d[i] = d;

    float dp[n+2];
    dp[0] = 1.0;
    for (i = 1; i <= n+1; i++)
    {
        dp[i] = 0.0;
        int totalJump = 0;
        for (j = i-1; j>=0; j--)
        {
            if (arr_d[i] - arr_d[j] > l)
                break;
            dp[i] = max(dp[i], dp[j]*arr_p[i]);
        }
    }
    if (dp[n+1]!=0.0)
        printf("%0.6f",dp[n+1]);
    else
        cout<<"IMPOSSIBLE";

}
