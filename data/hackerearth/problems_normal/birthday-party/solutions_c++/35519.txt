#include <stdio.h>
int set[1009]; 

bool isSubsetSum(int set[], int n, int sum)
{
	bool subset[1009][1009];
	for (int i = 0; i <= n; i++)
		subset[0][i] = true;

	for (int i = 1; i <= sum; i++)
		subset[i][0] = false;

	for (int i = 1; i <= sum; i++)
	{
		for (int j = 1; j <= n; j++)
		{
			subset[i][j] = subset[i][j-1];
			if (i >= set[j-1])
				subset[i][j] = subset[i][j] || subset[i - set[j-1]][j-1];
		}
	}
	return subset[sum][n];
}
int main()
{
	int T,P,N,sum;
	scanf("%d",&T);
	while(T--)
	{
		scanf("%d%d",&P,&N);
		int ans=0;
		for(int i=0;i<N;++i)
		{
			scanf("%d",&set[i]);
		}
		int sum[1009]={0};
		int tmp;
		for(int i=0;i<P;++i)
		{
			scanf("%d",&tmp);
			sum[tmp]+=1;
		}

		for(int i=0;i<1009;++i)
		{
			if(sum[i]>0)
			{

				if (isSubsetSum(set, N, sum[i]) == true)
				{
					//printf("%d is sub set\n ",sum[i]);
					ans++;
				}
			}
		}
		printf("%d\n",ans);
	}

	return 0;
}