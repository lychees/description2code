t = int(input())
while (t > 0):
    n = int(input())
    s = raw_input()
    l = 0
    index = 1
    ans = 1
    while (index < n):
        if (ord(s[index]) >= ord(s[index-1])):
            ans += index-l+1
            index += 1
        else:
            ans += 1
            l = index
            index += 1
    print ans

    t -= 1
