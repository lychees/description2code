#include <cstdio>
#include <algorithm>
#include <vector>
using namespace std;

vector<int> e[100001];
int n, m, a, b, tc, ok;
int vis[100001], team[100001];

void dfs(int x, int v) {
  if (vis[x]++) return;
  team[x] = v;
  for (int i = 0; i < e[x].size(); i++) {
    int u = e[x][i];
    if (!vis[u]) {
      dfs(u, 3 - v);
    }
    else {
      if (team[x] == team[u]) {
        ok = 0;
        return;
      }
    }
  }
}

int main() {
  scanf("%d", &tc);
  while (tc--) {
    scanf("%d%d", &n, &m);
    for (int i = 0; i <= n; i++) {
      e[i].clear();
      vis[i] = 0;
      team[i] = 0;
    }
    for (int i = 0; i < m; i++) {
      scanf("%d%d", &a, &b);
      e[a].push_back(b);
      e[b].push_back(a);
    }
    ok = 1;
    for (int i = 1; i <= n; i++) if (!vis[i]) {
      dfs(i, 1);
    }
    puts(ok ? "YES" : "NO");
  }
}