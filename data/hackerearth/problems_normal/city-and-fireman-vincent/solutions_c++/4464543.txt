#include <iostream>
#include <bits/stdc++.h>
using namespace std;
long long int siz[1005],e[1005],p[1005];
multiset <long long int> se;
multiset <long long int> :: iterator it;
set <long long int> s;
set <long long int> :: iterator irt;
long long int w=1,mn;
long int m=1000000007;
void makes(long long int n)
{
	long long int i;
	for(i=1;i<=n;i++)
	{
		siz[i]=1;
		p[i]=i;
		se.insert(siz[i]);
	}
}
long long int fp(long long int x)
{
	if(p[x]==x)
	{
		return x;
	}
	return (p[x]=fp(p[x]));
}
void un(long long int x,long long int y)
{
	int px=fp(x);
	int py=fp(y);
	if(px!=py)
	{
		p[px]=py;
		se.erase(se.find(siz[px]));
		se.erase(se.find(siz[py]));
		siz[py]+=siz[px];
		se.insert(siz[py]);
	}
}
int main()
{
  	long long int n,k,x,y,c;
  	cin>>n;
  	long long int i;
  	for(i=1;i<=n;i++)
  	{
  		cin>>e[i];
  	}
  	cin>>k;
  	makes(n);
  	for(i=1;i<=k;i++)
  	{
  		cin>>x>>y;
  		un(x,y);
  	}
  	for(i=1;i<=n;i++)
  	{
  		if(i==p[i])
  		{
  			s.insert(i);
  		}
  	}c=1e4;x=0;
  	for(irt=s.begin();irt!=s.end();irt++)
  	{
  		c=1e4;//cout<<*irt<<"= ";
  		for(i=1;i<=n;i++)
  		{
  			if(fp(i)==*irt)
  			{
  				p[i]=*irt;
  			//	cout<<i<<" ";
  				c=min(c,e[i]);		
  			}
  		}
  		x=0;
  		for(i=1;i<=n;i++)
  		{
  			if(e[i]==c&&p[i]==*irt)
  			{
  				x++;
  			}
  		}
  		w*=x;
  		w%=m;
  	//	cout<<endl<<c<<" "<<x<<endl;
  	}
  	cout<<w<<endl;
    return 0;
}
