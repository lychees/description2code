#include<bits/stdc++.h>

using namespace std;

int main()
{
    long long  n,m,i,t,a[55],x,mid,l,r,len[50];
    char s[55][105];
    cin>>t;

    while(t--)
    {
        cin>>n>>m;
    cin>>s[0];
    a[0]=len[0]=strlen(s[0]);
    for(i=1;i<n;i++)
    {
        cin>>s[i];
        len[i]=strlen(s[i]);
        a[i] = 2*a[i-1]+len[i] ;
        //cout<<a[i]<<'\n';
    }
    a[i]=(1LL<<30);

    while(m--)
    {
        cin>>x;

        x++;
        l=0;
        r=n-1;
        while(1)
        {
            mid = (l + r)/2;
            if(x > a[mid]-len[mid] && x <= a[mid] + len[mid])
            {
                x -= a[mid] - len[mid] ;
                if(x > len[mid])
                {
                    x -= len[mid];
                    x = len[mid] - x + 1;
                }
                cout<< s[mid][x-1];
                break;
            }else
            if(x > a[mid]+len[mid] && x <= a[mid+1] - len[mid+1])
            {
                x -= a[mid] + len[mid] ;
                l = 0;
                r = mid-1;
            }else
            if(x > a[mid] + len[mid])
            l = mid + 1;
            else
            r = mid - 1;
        }
    }
    cout<<'\n';
    }

    return 0;
}
