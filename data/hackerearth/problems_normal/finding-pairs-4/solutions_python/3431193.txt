from collections import defaultdict

def count_pairs(A):
    distinct_count = defaultdict(int)
    for i in A:
        distinct_count[i]+=1
    
    ret = 0    
    for (key, value) in distinct_count.items():
        ret += (value * (value+1))/2
    return ret


T = input()
for i in xrange(T):
    N = input()
    A = map(int, raw_input().split())
    print count_pairs(A)