#include <bits/stdc++.h>
using namespace std;

int main()
{
    int i,t,n,c,val,mini,maxi,k,j;
    scanf("%d",&t);
    while(t--)
    {
    	scanf("%d",&n);
    	vector<vector<int> > v(n,vector<int>(n));
    	val=1;
    	c=n/2;
    	if(n&1)
    		c++;
    	for(k=1;k<=c;k++)
    	{
    
    		for(j=k-1;j<n-(k-1);j++)
    		{
    			v[k-1][j]=val;
    			val++;
    		}
    		val--;
    		for(i=k-1;i<(n-(k-1));i++)
    		{
    			v[i][n-k]=val;
    			val++;
    		}
    		val--;
    		for(j=n-k;j>=(k-1);j--)
    		{
    			v[n-k][j]=val;
    			val++;
    		}
    		val--;
    		for(i=n-k;i>(k-1);i--)
    		{
    			v[i][k-1]=val;
    			val++;
    		}
    	}
    	for(i=0;i<n;i++)
    	{
    		for(j=0;j<n;j++)
    			printf("%d",v[i][j]);
    		printf("\n");
    	}
    	printf("\n");
    }
    return 0;
}
