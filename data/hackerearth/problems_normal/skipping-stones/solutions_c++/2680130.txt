#include <iostream>
#include<vector>
#include <iomanip>
using namespace std;

int main()
{
	
	int n,L,D;
	cin>>n>>L>>D;
	vector<double> prob(n+2);
	vector<int> dist(n+2);
	
	prob[0] = 1;prob[n+2-1] = 1;
	dist[0] = 0;dist[n+2-1] = D;
	
	vector<double> result(n+2);
	result[0] = 1;
	
	for(int i=1;i<n+1;i++)
	{
		double x;
		cin>>x;
		prob[i] = x;
	}
	
	for(int i=1;i<n+1;i++)
	{
		int x;
		cin>>x;
		dist[i] = x;
	}
	
	for(int i=1;i<n+2;i++)
	{
		int j = i-1;
		double max = 0;
		while(j>=0 && dist[i]-dist[j]<=L)
		{
			if(max < prob[i]*result[j])
			max = prob[i]*result[j];
			
			j--;
		}
		result[i] = max;
		
	}
	cout << fixed << setprecision(6);
    cout<<result[n+2-1];
    return 0;
}
