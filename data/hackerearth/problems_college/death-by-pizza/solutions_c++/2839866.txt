#include<cstdio>
using namespace std;
int ar[20004];
int sum[20004];
int gcd(long long a,long long b)
{
	if(a<b) return gcd(b,a);
	if(b==0) return a;
	return gcd(b,a%b);
}
int main()
{
	int N,Q; scanf("%d %d",&N,&Q);
	for(int i=1;i<=N;i++) 
	{
		scanf("%d",&ar[i]); //sum[i]+=ar[i];
	}
	for(int i=0;i<Q;i++)
	{
		int f,L,R; scanf("%d %d %d",&f,&L,&R);
		if(f==1)
		{//for(int i=L;i<=R;i++) printf("%d ",ar[i]); printf("\n");
			long long ans=0; 
			for(int i=L;i<=R;i++) ans+=ar[i];
			int gg=1;//gcd(ans,R-L+1);
			printf("%lld/%d\n",ans/gg,(R-L+1)/gg);
		}
		else
		{
			int j=0; int l=R-L+1;
			while(j+4<l)
			{
				ar[L+j]+='p' -'a'+1;
				ar[L+j+1]+='i' -'a'+1;
				ar[L+j+2]+='z' -'a'+1;
				ar[L+j+3]+='z' -'a'+1;
				ar[L+j+4]+=1;
				j+=5;
			}
			if(j<l) ar[L+j]+='p' -'a'+1; j++;
			if(j<l) ar[L+j]+='i' -'a'+1; j++;
			if(j<l) ar[L+j]+='z' -'a'+1; j++;
			if(j<l) ar[L+j]+='z' -'a'+1; j++;
		}
	}
}