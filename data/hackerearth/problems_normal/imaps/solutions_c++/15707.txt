#include <iostream>
#include <vector>
#include <cstdio>
#include <cstring>
using namespace std;

#define REP(i,a,b) for(int i=a;i<b;i++)

int vis[1005];
vector<int> adj[1005];
int n;
string ans;

inline int ri()
{
    register char c = 0;
	while(c<33) c = getchar_unlocked();
	int x = 0;
	while(c > 33)
	{
		x = x * 10 + c - '0';
		c = getchar_unlocked();
	}
	return x;
}

void dfs(int pos)
{
    //cout<<pos<<' ';
	if(vis[pos]) { ans="Yes"; return; }
    vis[pos]=1;
	REP(i,0,adj[pos].size())
		dfs(adj[pos][i]);
}

int main()
{
	int t,d,a;
    t=ri();
    REP(cas,1,t+1)
    {
    	ans="No";
    	n=ri();
    	REP(i,1,n+1) adj[i].clear();
    	REP(i,1,n+1)
    	{
    		d=ri();
    		while(d--)
    		{
    			a=ri();
    			adj[a].push_back(i);
    		}
    	}
    	REP(i,1,n+1)
        {
        	REP(j,1,n+1) vis[j]=0;
            //cout<<"dfs on node "<<i<<":\n";
            dfs(i);
            //cout<<'\n';
            if(ans=="Yes") break;
        }
        ans=":"+ans;
        cout<<"#"<<cas<<ans<<'\n';
    }
    return 0;
}
