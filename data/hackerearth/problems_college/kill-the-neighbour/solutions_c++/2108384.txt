#include <bits/stdc++.h>
using namespace std;

int id[100005];
int leftmov[100005];
int killcnt[100005];
int ttl[100005];
int sz;
int n;

int main()
{
    scanf("%d",&n);
    for (int i=1;  i<=n;  i++)
   	 scanf("%d",&id[i]);
    leftmov[1]=0;
    id[0]=1000000;
    ttl[0]=   1000000;
    killcnt[0]=120000;
    for (int i=1; i<=n; i++)
    {
        int bck=i-1;
        while (id[bck]<id[i])
       	 bck=leftmov[bck];
       	 
       	 
        while (ttl[bck]==killcnt[bck])
       	 bck=leftmov[bck];
       	 
       	 
        leftmov[i]=bck;
        ttl[i]=killcnt[bck]+1;
        killcnt[bck]++;
    }
    int ret=0;
    for (int i=1; i<=n; i++)
   	 if (killcnt[i]>ret)
    	{
    		ret=killcnt[i];
    	}
    printf("%d\n",ret);
    return 0;
}
