#include<bits/stdc++.h>
using namespace std;
int n,q,s[100005],arr[100005],a,b,mn=100005,mx=-1;
set<int>st;
void initialize()
{
    for(int i=0;i<=n;i++)
    {
        arr[i]=i;
        s[i]=1;
        st.insert(i);
    }
}
int root(int i)
{
    while(arr[i]!=i)
    {
        arr[i]=arr[arr[i]];
        i=arr[i];
    }
    return i;
}
void DSU(int a,int b)
{
    int root_a=root(a),root_b=root(b);
    if(s[root_a]<s[root_b])
    {
        arr[root_a]=arr[root_b];
        s[root_b]+=s[root_a];
        mx=max(mx,s[root_b]);
        mn=min(mn,s[root_b]);
        st.erase(a);
        st.erase(b);
    }
    else
    {
        arr[root_b]=arr[root_a];
        s[root_a]+=s[root_b];
        mx=max(mx,s[root_a]);
        mn=min(mn,s[root_a]);
        st.erase(a);
        st.erase(b);
    }
}
int main()
{
    scanf("%d%d",&n,&q);
    initialize();
    while(q--)
    {
        scanf("%d%d",&a,&b);
        if(root(a)!=root(b))
        {
            DSU(a,b);
            if(s[root(a)]==n)printf("%d\n",0);
            else
            {
                if(st.size()==1)printf("%d\n",mx-mn);
                else printf("%d\n",mx-1);
            }
            continue;
        }
        if(s[root(a)]==n){printf("%d\n",0);continue;}
        if(st.size()==1)printf("%d\n",mx-mn);
        else printf("%d\n",mx-1);
    }
    return 0;
}
