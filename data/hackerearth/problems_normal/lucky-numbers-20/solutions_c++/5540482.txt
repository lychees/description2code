#include <iostream>
using namespace std;
#define mod 1000000007;
int main()
{
int t;
cin>>t;
while(t--)
{
unsigned long long int i,sum=0,n,k,ans;
cin>>n;
for(i=2;i<n;i=i*2)
{
for(k=1;k<i;k=k*2)
{
if(i+k<=n)
sum=(sum+i+k)%mod;
}
}
ans=sum%mod;
cout<<ans<<endl;
}
return 0;
}