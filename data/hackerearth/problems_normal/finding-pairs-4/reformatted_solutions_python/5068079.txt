from sys import stdin
t = int(stdin.readline())
for _ in xrange(t):
    n = int(stdin.readline())
    a = map(int, stdin.readline().split())
    di = {}
    for i in a:
        di[i] = di.get(i, 0) + 1
    ans = 0
# print di
    for i in di:
        ans += (di[i]*(di[i]+1))/2
    print ans
