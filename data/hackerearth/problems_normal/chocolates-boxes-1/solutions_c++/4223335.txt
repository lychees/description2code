#include <iostream>
using namespace std;
const int maxL = 101;
int main()
{
	int T;
	cin >> T;
	for(int k = 0; k < T; ++k)
	{
		int N;
		cin >> N;
		int *A = new int[maxL];
		for(int i = 0; i < maxL; ++i)
		{
			A[i] = 0;
		}
		for(int i = 0; i < N; ++i)
		{
			int Q;
			cin >> Q;
			++A[Q];
		}
		int K;
		cin >> K;
		long count = 0;
		for(int i = 1; (2*i) < K; ++i)
		{
			if (K - i < maxL)
			{
				count += long(A[i])*long(A[K-i]);
			}
		}
		if (K%2 == 0)
		{
			count += long(A[K/2])*long(A[K/2]-1)/2;
		}
		cout << count << endl;
		delete []A;
	}
    //cout << "Hello World!" << endl;
    return 0;
}
