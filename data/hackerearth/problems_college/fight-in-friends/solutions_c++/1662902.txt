#include<iostream>
#include<bits/stdc++.h>
int friends[1002][1001];
int visited[10000];
using namespace std;

int main()
{
	int test;
	queue <int> myqueue;
	int n,i,j,a,b,m,x,y;
	cin>>n;
	for(i=1;i<=n;i++)
	{
		for(j=1;j<=n;j++)
		friends[i][j]=1;
	}
	cin>>m>>a>>b;
	for(i=1;i<=n;i++)
	visited[i]=-1;

//	cout<<"qeue empty"<<endl;
    for(i=1;i<=m;i++)
	{
		cin>>x>>y;
		friends[x][y]=0;
		friends[y][x]=0;
	}
	myqueue.push(a);
	visited[a]=0;
	//x=myqueue.front();
	//cout<<x<<endl;
    while(!myqueue.empty())
    {
    	int value=myqueue.front();
    	//cout<<myqueue.front()<<endl;
    	myqueue.pop();
    	for(i=1;i<=n;i++)   
		 	{
		 	//	cout<<value<<i<<friends[i][value]<<endl;;
    		if(visited[i]==-1&&friends[i][value]==1)
    		{
    			visited[i]=visited[value]+1;
    			myqueue.push(i);
    		//	cout<<myqueue.front()<<endl;
			}
    		
		}
		
	}
	cout<<visited[b]<<endl;
	return 0;
}