#include<bits/stdc++.h>
using namespace std;

#define     ll       long long

#define pll pair<ll,ll>
#define MOD 1000000007
ll arr[1000006];
int main(){
	//code
	ios::sync_with_stdio(0);
	ll t;
	cin >> t;
	while (t--)
	{
		priority_queue<pll, vector<pll>, greater<pll> > pq;
		ll i, j, k, n, t;
		cin >> n >> k;
		for (i = 0; i<n; i++)
			cin >> arr[i];
		for (i = 0; i<n; i++)
		{
			pq.push({ 2 * arr[i], arr[i] });

		}
		for (i = 0; i<k; i++)
		{
			pll mp = pq.top();
			pq.pop();
			mp.first += mp.second;
			pq.push(mp);
		}
		ll ans = -INT_MAX;
		while (!pq.empty())
		{
			pll mp = pq.top();
			pq.pop();
			ans = max(ans, mp.first - mp.second);

		}
		cout << ans << "\n";
	}

	return 0;
}
