#include<bits/stdc++.h>
using namespace std;
 
struct node{
    int o,c,p;
};
 
node v[100001];
int N,q,cnt = 1;
bitset<100001> vis;
vector<int> ady[100001];
 
void dfs(int nd,int f){
    if(vis[nd]) return;
    vis[nd] = true;
    v[nd].p = f;
    v[nd].o = cnt++;
 
    int tam = ady[nd].size();
    for(int i=0;i<tam;i++)
        dfs(ady[nd][i],nd);
 
    v[nd].c = cnt++;
    return;
}
 
bool query(int a,int b,int c){
    if(a == 0){
        if(v[b].o<v[c].o && v[c].c<v[b].c)
            return true;
        return false;
    }
    if(a == 1){
        if(v[c].o<v[b].o && v[b].c<v[c].c)
            return true;
        return false;
    }
}
 
int main(){
    int a,b,c;
    scanf("%d",&N);
 
    for(int i=0;i<N-1;i++){
        scanf("%d %d",&a,&b);
        ady[a].push_back(b);
        ady[b].push_back(a);
    }
 
    vis.reset();
    dfs(1,1);
 
    scanf("%d",&q);
    for(int i=0;i<q;i++){
        scanf("%d %d %d",&a,&b,&c);
        if(query(a,b,c)) printf("YES\n");
        else    printf("NO\n");
    }
}
