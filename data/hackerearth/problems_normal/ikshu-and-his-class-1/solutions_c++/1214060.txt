#include<bits/stdc++.h>
#define ll long long
#define ld double
#define f first
#define s second
#define pb push_back
#define M 1000000007
#define MX 1000005
#define PI 3.141593
using namespace std;
typedef pair<ll,ll> ii;
ll arr[100005],part[100005];
vector<ll> ed[100005];
ll c[100005],v[100005];
void dfs(ll node,ll cc)
{
    v[node]=1;
    c[cc]+=1;
    for(ll i=0;i<ed[node].size();i++)
    {
        ll ch=ed[node][i];
        if(!v[ch])
            dfs(ch,cc);
    }
}
int main()
{
   ll n,k,ans=1,cc=1;
   cin>>n>>k;
   for(ll i=0;i<k;i++)
   {
       ll a,b;
       cin>>a>>b;
       ed[a].pb(b);
       ed[b].pb(a);
   }
   for(ll i=0;i<n;i++)
   {
       if(!v[i])
       {
           dfs(i,cc);
           cc++;
       }
   }
   part[1]=1;
   for(ll i=2;i<=n;i++)
   {
       part[i]=(part[i-1]*i)%M;
   }
   for(ll i=1;i<cc;i++)
   {
      ll x=c[i];
      ans*=part[x];
      ans%=M;
   }
   cout<<ans<<"\n";
}
