#include<iostream>
#include<cstdio>
using namespace std;
#define max 1000005

int etf[max];

void phi()
{
    for(int i=2; i<max; ++i){
        etf[1] = 1;
        if(etf[i]==0){      
            etf[i] = i-1;   
            for(int j=i*2; j<max; j+=i){
                if(etf[j]==0) etf[j] = j;  
                etf[j] = (etf[j]/i)*(i-1);
            }
        }
    }
}

int main()
{
    int t,n,d;
    phi();
    scanf("%d", &t);
    while(t--){
        scanf("%d %d", &n, &d);
        if(n%d!=0) printf("0\n");
        else
        printf("%d\n", etf[n/d]);
    }
    return 0;
}


