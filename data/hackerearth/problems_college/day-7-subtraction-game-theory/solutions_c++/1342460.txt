#include <iostream>
#include <stdio.h>
using namespace std;
#define gc getchar
long long read_int()
{
	char c=gc();
	while (c<'0'||c>'9')
	c=gc();
	long long ret=0;
	while (c>='0'&&c<='9')
	{
		ret=ret*10+c-'0';
		c=gc();
	}
	return ret;
}
int main()
{
    long long mod=1000000007;
    int x=read_int();int y=read_int();
    long long ans[1000001];
    ans[1]=x-y;
    if (ans[1]<0)
    ans[1]=0;
    for (long i=2;i<1000001;i++)
    {
    	ans[i]=(x*ans[i-1]-y)%mod;
    }
    long long q=read_int();
    while (q--)
    {
    	long long a=read_int();
    	printf("%lld \n",ans[a]);
    }
    return 0;
}
