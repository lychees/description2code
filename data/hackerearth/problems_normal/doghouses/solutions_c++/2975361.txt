#include<iostream>
#include<algorithm>
using namespace std;
int main()
{
    int i,j,n,m,temp,cnt[1005],y[1005],minx[1005],maxx[1005],mx1,mx2,ans=0;
    cin>>n;
    for(i=0;i<=1000;i++) cnt[i]=0,minx[i]=1004,maxx[i]=-1;
    for(i=1;i<=n;i++) {
        cin>>y[i];
        if(minx[y[i]]>1000) {
            minx[y[i]]=i; maxx[y[i]]=i;
        } else {
            maxx[y[i]]=i;
        }
        cnt[y[i]]++;
    }
    for(i=0;i<=1000;i++) {
        if(cnt[i]<=0) continue;
        mx1=minx[i]; mx2=maxx[i];
        ans=max(ans,cnt[i]);
        for(j=i+1;j<=1000;j++) {
            if(j-i>=2) {
                temp=0;
                if(mx1<min(minx[i],minx[j])) temp++;
                if(mx2>max(maxx[i],maxx[j])) temp++;
                ans=max(ans,cnt[i]+cnt[j]+temp);
                mx1=min(mx1,minx[j]); mx2=max(mx2,maxx[j]);
            } else {
                ans=max(ans,cnt[i]+cnt[j]);
                mx1=min(mx1,minx[j]); mx2=max(mx2,maxx[j]);
            }
        }
    }
    cout<<ans;
    return 0;
}
