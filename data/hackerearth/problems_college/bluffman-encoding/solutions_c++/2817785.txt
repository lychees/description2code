#include <bits/stdc++.h>
using namespace std;

struct alphabet
{
  char c;
  int f;
};

bool comp(const alphabet &a,const alphabet &b)
 {
 	if(a.f<b.f) return 1;
 	if(a.f==b.f) return (a.c<b.c);
 	else return 0;
 }

int main()
{
   int t;
   cin>>t;
   while(t--)
    {
    	int n;
    	cin>>n;
    	alphabet letters[n];
    	for(int i=0;i<n;i++)
    	 {
    	 	cin>>letters[i].c>>letters[i].f;
    	 }
    	sort(letters,letters+n,comp);
    	map<int,char> m1;
    	int x=0;
    	m1[0]=letters[0].c;
    	int y=0;
    	for(int i=1;i<n-1;i++)
    	 {
    	 	int x;
    	 	x=y+pow(2,i);
    	 	y=x;
    	 	m1[x]=letters[i].c;
    	 }
    	m1[y+1]=letters[n-1].c;
    	string s;
    	cin>>s;
    	int i=0;
    	y=0;
    	while(i<s.length())
    	 {
    	 	y=y*2+s[i]-48;
    	 	if(m1.count(y)==1)
    	 	 {
    	 	 	cout<<m1[y];
    	 	 	y=0;
    	 	 }
    	 	 i++;
    	 }
    	 cout<<"\n";
    }
}
