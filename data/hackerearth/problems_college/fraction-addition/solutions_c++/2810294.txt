#include <iostream>
using namespace std;
#define ll long long

int gcd(int a, int b) 
{   if(b==0) 
        return a;
	else
	    return gcd(b,a%b);
}

int main() 
{   ll t;
    cin>>t;
	while(t--)
	{   string str;
        cin>>str;
		ll i=0,temp=0,sign=1,j=0,no[4]={0},hcf,lcm,num,rem;
        ++no[1];
        ++no[3];
		while(str[i]!='\0')
		{   switch (str[i])
			{   case '+' : temp=0;
				           j=2;
				           sign=1;
				           break;
				case '-' : if(temp!=0)
				           {    j=2;
					            sign=-1;
					            temp=0;
				           }
				           else if(temp==0&&sign==-1)
				                sign=1;
				           else
				                sign=-1;
				           break;
				case '/' : j+=1;
				           temp=0;
				           sign=1;
				           break;
				default : temp=temp*10+(str[i]-48);
				          no[j]=temp;
				          if(sign==-1)
				                no[j]*=-1;
				          break;
			}
			str[i]='\0';
			i++;
		}
	    hcf=gcd(no[1],no[3]);
		lcm=((no[1])*(no[3]))/hcf;
		no[0]=no[0]*(lcm/no[1]);
		no[2]=no[2]*(lcm/no[3]);
		num=no[0]+no[2];
		if(num<0)
        {   sign=-1;
			num*=-1;
		}
		else
			sign=1;
		hcf=gcd(lcm,num);
		lcm=lcm/hcf;
		num=num/hcf;
		rem=num%lcm;
		num=num/lcm;
		if(sign==-1 && num!=0)
			num*=-1;
		else if(sign==-1)
			rem*=-1;
		if(rem==0)
			cout<<num<<"\n";
		else if(num!=0)
			cout<<num<<"_"<<rem<<"/"<<lcm<<"\n";
		else
			cout<<rem<<"/"<<lcm<<"\n";
	}
	return 0;
}