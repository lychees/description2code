#include<stdio.h>
#include<stdlib.h>      //malloc
#include<string.h>      //memset
#include<stdbool.h>
#include<math.h>
#include<iostream>
#include<cstdio>
#include<vector>
#include<queue>
#include<algorithm>     //sort()
#include<cmath>         //abs()
#include<set>
using namespace std;
#define MOD 1000000007
#define SIZE 100004
#define dump(x) printf(#x" = %lld\n",x);
#define INF 200005
typedef long long int ll;
#define max(x,y) ((x) > (y) ? (x) : (y))
#define min(x,y) ((x) < (y) ? (x) : (y))
#define abs(x) ((x) < 0 ? (-(x)) : (x))
#define CONTEST 1
#define EPSILON 8.33e-3
#define LIMIT 5000000
ll scan(void){
    int n=0;
    bool flag = false;
    char ch = getchar_unlocked();
    while((ch<'0'||ch>'9') && ch!='-')
        ch = getchar_unlocked();
    if(ch=='-'){
        flag = true;
        ch = getchar_unlocked();
    }
    while(ch>='0'&&ch<='9'){
        n = (n<<3)+(n<<1)+ch-'0';
        ch = getchar_unlocked();
    }
    if(flag)
        n = -n;
    return n;
}
void print(ll n){
    int i=0;
    char num[20];
    do{
        num[i++] = n%10+'0';
        n/=10;
    }while(n);
    i--;
    while(i>=0)
        putchar_unlocked(num[i--]);
    putchar_unlocked('\n');
}
int main(void){
    ll r,c,i,j;
    ll matrix[1001][1001];
    r=scan();
    c=scan();
    for(i=0;i<r;i++)
        for(j=0;j<c;j++)
            matrix[i][j] = scan();
    ll ans=0;
    for(i=0;i<r;i++){
        for(j=0;j<c;j++){
            int countL = 1;
            int curr = matrix[i][j];
            int k=i+1;
            while(k<r && matrix[k][j]==curr){
                countL++;
                k++;
            }
            k--;
            int l = j+1;
            while(l<c && matrix[k][l]==curr){
                countL++;
                l++;
            }
            ans = max(ans, countL);
        }
    }
    printf("%lld\n",ans);
    return 0;
}