#include <bits/stdc++.h>
using namespace std;
#define rep(i,n) for(int i=0;i<n;i++)
#define ll long long int
#define pb push_back
#define sd(x) scanf("%d",&x)
#define slld(x) scanf("%I64d",&x)
#define F first
#define S second
#define maxn 200005
#define mod 1000000007


int z[maxn];
void zalgo(string S){
    int N=S.size();
	for (int i = 1, l = 0, r = 0; i < N; ++i) {
        if (i <= r)
            z[i] = min (r - i + 1, z[i - l]);
        while (i + z[i] < N && S[z[i]] == S[i + z[i]])
            ++z[i];
        if (i + z[i] - 1 > r)
            l = i, r = i + z[i] - 1;
    }
}


int main(){

	string s;
	cin>>s;
	reverse(s.begin(), s.end());
	zalgo(s);

	int q;
	cin>>q;
	while(q--){
		int i;
		cin>>i;
		if(i==s.size())cout<<s.size()<<endl;
		else cout<<z[s.size()-i]<<endl;
	}

	return 0;
}