#include<iostream>
#include<string>

using namespace std;
int main()
{
	int t;
	cin>>t;
	while(t--)
	{
		int n;
		cin>>n;
		string input[n];
		for(int i=0;i<n;i++)
		{
			cin>>input[i];
		}
		int total=0;
		for(int i=0;i<n;i++)
		{
			for(int j=0;j<n;j++)
			{
				if(input[i][j]=='#')total++;
			}
		}
		int check=0;
		//for column
		int leftupto=0;
		int rightafter=total;
		if(check==0)
		{
			for(int i=0;i<n;i++)
			{
				int count=0;
				for(int j=0;j<n;j++)
				{
					if(input[j][i]=='#')count++;
				}
				leftupto+=count;
				rightafter-=count;
				if(leftupto==rightafter)
				{
					check=1;
					break;
				}
			}
		}
		//for row
		int aboveupto=0;
		int belowafter=total;
		if(check==0)
		{
			for(int i=0;i<n;i++)
			{
				int count=0;
				for(int j=0;j<n;j++)
				{
					if(input[i][j]=='#')count++;
				}
				aboveupto+=count;
				belowafter-=count;
				if(aboveupto==belowafter)
				{
					check=1;
					break;
				}
			}
		}
		if(check)cout<<"YES"<<endl;
		else cout<<"NO"<<endl;
	}
	return 0;
}