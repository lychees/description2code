import math
for _ in xrange(input()):
	n,m=[int(x) for x in raw_input().split()]
	if m==1:
		print n
	else:
		t,c=n,0
		while t>=m:
			d=int(math.floor(math.log(t,m)))
			#print d
			t=t-(m**d)
			#print t
			c+=1
		print t+c
			