#include<iostream>

using namespace std;

int factorial(int n)
{
    int p = 1;
    for(int i=2;i<=n;i++)
    {

        p*=i;
    }
    return p;
}
long long distinct_pairs(int A[], int N)
{
    int hash[2000002]={0};


    for(int i=0;i<N;i++)
    {
        hash[A[i] +1000000]++;
    }

    long long count=0;

    for(int i=0;i<=2000001;i++)
    {
        if(hash[i])
        {
            if(hash[i]%2 == 0)
            count += (hash[i]/2)*(hash[i] + 1);
            else
            count +=  ( (hash[i]+1)/2 )*hash[i];
        }
    }

    return count;
//    for(int i=0;i<N;i++)
//    {
//
//
//    }
}


int main()
{
    int T;
    cin>>T;

    while(T--)
    {
        int N;
        cin>>N;
        int A[N];

        for(int i=0;i<N;i++)
        {
            cin>>A[i];
        }
        cout<<distinct_pairs(A,N)<<endl;
    }
}

