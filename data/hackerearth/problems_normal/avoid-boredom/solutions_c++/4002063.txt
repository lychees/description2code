#include <bits/stdc++.h>
using namespace std;

#define ll long long

const ll maxn = 123;
ll in[maxn];
ll DP[maxn][maxn];
ll n, m;
ll inf = 1e13;

ll dp(ll r, ll m) {
  if (r + 1 < m) return -inf;
  if (m == 1) return 0;
  if (DP[r][m] != -1) return DP[r][m];
  ll res = -inf;
  for (ll i = 0; i < r; ++i)
    res = max(res, abs(in[i] - in[r]) + dp(i, m - 1));
  return DP[r][m] = res;
}

int main() {
  ios::sync_with_stdio(0);
  cin.tie(0);
  int _; cin >> _;
  while (_--) {
	  cin >> n >> m;
	  for (ll i = 0; i < n; ++i)
	    cin >> in[i];
	  
	  memset(DP, -1, sizeof(DP));
	  ll ans = -inf;
	  for (ll i = 0; i < n; ++i)
	    ans = max(ans, dp(i, m));
	  cout << ans << "\n";
  }

  return 0;
}