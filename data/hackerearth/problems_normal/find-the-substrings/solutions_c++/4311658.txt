#include <iostream>
#include <string>
using namespace std;

int main()
{
    int t;cin>>t;
    while(t--){
    	string s;cin>>s;
    	long long n=s.length(),l=n*(n+1)/2,i;
    	int x=0,y=0,z=0;
    	for(i=0;s[i];i++){
    		if(s[i]=='a')
    			l-=min(y,z),x=i+1;
    		if(s[i]=='b')
    			l-=min(x,z),y=i+1;
    		if(s[i]=='c')
    			l-=min(x,y),z=i+1;
    	}
    	cout<<l<<endl;
    }
    return 0;
}
