#include<bits/stdc++.h>
using namespace std;
#define ll long long


string s[100];
ll T[100];


char f(ll x, int n){
   if (T[n] - x <= s[n].size()) return s[n][x + s[n].size() - T[n]];
   if (x < T[n-1]) return f(x,n-1);
   return f(T[n-1] - 1 - (x-T[n-1]),n-1);
}

int main(){
   int _T; scanf("%d",&_T);
   for(int cs=0; cs<_T; cs++){
      int n,m; scanf("%d%d",&n,&m);
      getline(cin,s[0]);
      for(int i=0; i<n; i++) getline(cin,s[i]);
      T[0] = s[0].size();
      for(int i=1; i<n; i++) T[i] = 2*T[i-1] + s[i].size();
      
      for(int i=0; i<m; i++){
         ll x; scanf("%lld",&x);
         putchar(f(x,n-1));
      }
      puts("");
   }
}