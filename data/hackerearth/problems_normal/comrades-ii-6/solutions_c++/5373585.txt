#include <iostream>
#include<vector>
#include<stack>
using namespace std;
vector<int> v[100000];
stack<int> s;
long long n,t,x,y,j,a,sum=0,h[1000000];
bool vis[1000000];
int main()
{
    cin>>t;
    while(t--)
    {
    	cin>>n;
    	for(int i=0;i<=n;i++)
    {	vis[i]=false;
    v[i].clear();
    }
      for(int i=1;i<=n;i++)
      {cin>>a;
       v[a].push_back(i);
      }sum=0;
      h[v[0][0]]=0;
      y=(n*(n-1))/2;
      s.push(v[0][0]);
      vis[v[0][0]]=true;
      while(!s.empty())
      {j=s.top();
        s.pop();
        x++;
        for(int i=0;i<v[j].size();i++)
        {  if(vis[v[j][i]]==false)
            {	s.push(v[j][i]);
               vis[v[j][i]]=true;
               h[v[j][i]]=h[j]+1;
            }
        
            
       }
       
      }
      for(int i=1;i<=n;i++)
      sum+=h[i];
      cout<<sum<<" "<<(y-sum)<<endl;
    }
         
      
    return 0;
}
