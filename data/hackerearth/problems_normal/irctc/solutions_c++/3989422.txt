#include <bits/stdc++.h>
#define ll long long
using namespace std;

ll int t,k,n,a,b,c,d,m;
ll int dis[100010],vis[100010],par1[100010],par2[100010];
vector < pair < ll int , ll int > > v[100010];


int main()
{
    ll int i,j,k,ans,x,y,w,ans1,ans2,da,db,dc;


    //freopen("input.txt","r",stdin);
    //freopen("input.txt","r",stdin);
    //freopen("output.txt","w",stdout);
    string str="";
    set < pair < ll int , ll int > > s;
    pair < ll int, ll int > p;

    cin>>t;
    while(t--)
    {
        cin>>n>>m;
        for(i=0;i<=n;i++)
            v[i].clear();
        for(i=0;i<m;i++)
        {
            cin>>a>>b>>d;
            v[a].push_back({b,d});
            v[b].push_back({a,d});
        }

        cin>>da>>db>>dc;

        for(i=0;i<=n;i++)
            dis[i]=1e17,vis[i]=0;

        dis[da]=0;
        s.insert({0,da});
        par1[da]=da;
        while(!s.empty())
        {
            p=*s.begin();
            s.erase(s.begin());
            x=p.second;
            w=p.first;

            if(vis[x]==1)
                continue;
            vis[x]=1;

            for(i=0;i<v[x].size();i++)
            {
                y=v[x][i].first;
                if(dis[y]>w+v[x][i].second )
                {
                    //if(!(y==dc && x==da))
                    {par1[y]=x;
                    dis[y]=w+v[x][i].second;
                    s.insert({dis[y],y});
                    }
                }
            }
        }

        ans1=dis[db];

        for(i=0;i<=n;i++)
            dis[i]=1e17,vis[i]=0;

        dis[db]=0;
        s.insert({0,db});
        par2[db]=db;
       // cout<<"da"<<da<<"db"<<db<<"dc"<<dc<<endl;
        //cout<<"dis[dc]"<<dis[dc]<<endl;
        while(!s.empty())
        {
            p=*s.begin();
            s.erase(s.begin());
            x=p.second;
            w=p.first;

            if(vis[x]==1)
                continue;
            vis[x]=1;

            for(i=0;i<v[x].size();i++)
            {
                y=v[x][i].first;
         //       cout<<"distance to"<<y<<"from "<<x<<"is"<<v[x][i].second<<endl;
                if(dis[y]>w+v[x][i].second)
                {
                    //if(!(y==dc && x==da) && !(x==dc && y==da))
                    {par2[y]=x;
                    dis[y]=w+v[x][i].second;
           //         cout<<"distance to y"<<y<<"is dis[y]"<<dis[y]<<"now"<<endl;
                    s.insert({dis[y],y});
                    }
                }
            }
        }

        ans2=dis[dc];

        //cout<<ans1<<" "<<ans2<<endl;
        if(ans1==(ll)1e17 ||  ans2==(ll)1e17)
        {
            cout<<"No Train Found."<<endl;
        }
        else{
            cout<<ans1+ans2<<endl;
            x=db;
            vector < int > vans;
            while(par1[x]!=x)
            {

                vans.push_back(x);
                x=par1[x];
            }
            cout<<da<<" ";
            for(i=vans.size()-1;i>=0;i--)
                cout<<vans[i]<<" ";


            x=dc;
            vans.clear();
            while(par2[x]!=x)
            {

                vans.push_back(x);
                x=par2[x];
                //str+=(x+" ");
            }
            for(i=vans.size()-1;i>=0;i--)
                cout<<vans[i]<<" ";

            cout<<endl;
        }

    }


}
