#include<iostream>
#include<vector>
#include<cstdio>

using namespace std;
vector<int> prime_no;
vector<int> primes (1000005, 0);
vector<int> primescounts (1000005, 0);
vector<int> primeprimescounts (1000005, 0);

void fetch_all_prime(){
    int count = 1, ppcount = 0;
    primes[2] = 1;
    prime_no.push_back(2);
    for(int i=3; i <= 1000000; i+=2){
        primescounts[i-1] = count;
        bool prime=true, flag = false;
        for(int j = 0; j < prime_no.size() && prime_no[j]*prime_no[j] <= i; j++){
            if(i % prime_no[j] == 0){
                prime=false;
                primescounts[i] = count;
                primeprimescounts[i] = ppcount;
                break;
            }
        }
        if(prime){
            prime_no.push_back(i);
            primes[i] = 1;
            count++;
        }
        primescounts[i] = count;
        if(primes[primescounts[i]]){
            ppcount++;
            flag = true;
        }
        primeprimescounts[i] = ppcount;
        if(flag)
            primeprimescounts[i+1] = ++ppcount;
        else
            primeprimescounts[i+1] = ppcount;
    }
}

int main(){
    //freopen("Prime.txt", "w", stdout);
    fetch_all_prime();
    int t, l, r, count, no_of_prime, found;
    cin>>t;
    while(t--){
        count = 0;
        cin>>l>>r;
        cout<<primeprimescounts[r] - primeprimescounts[l-1]<<endl;
    }
    return 0;
}
