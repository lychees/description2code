#include <iostream>
using namespace std;

int main()
{int t;
cin>>t;
while(t-->0){
	string s;
	cin>>s;
	long long int l=s.length();
	long long int m=l*(l+1)/2;
	long long int a=0,b=0,c=0;
	for(long long int i=0;i<l;i++){
		if(s.at(i)=='a'){
			a=i+1;
			m-=b>c?c:b;
		}
			if(s.at(i)=='b'){
			b=i+1;
			m-=a>c?c:a;
		}
			if(s.at(i)=='c'){
			c=i+1;
			m-=b>a?a:b;
		}
	}
	cout<<m<<endl;
}
   
    return 0;
}
