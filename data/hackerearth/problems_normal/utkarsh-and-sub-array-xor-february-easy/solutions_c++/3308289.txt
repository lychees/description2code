/*
-----------------------------------------------------------------------------
Author :            ---------------------------------------------------------
    UTKAR$H $AXENA  ---------------------------------------------------------
    IIT INDORE      ---------------------------------------------------------
-----------------------------------------------------------------------------
input: 	stdin
output:	stodout
*/
#include<bits/stdc++.h>
#include<iostream>
using namespace std;
#define fre 	freopen("0.in","r",stdin);freopen("0.out","w",stdout)
#define abs(x) ((x)>0?(x):-(x))
#define MOD 1000000007
#define lld signed long long int
#define pii pair<int,int>
#define scan(x) scanf("%d",&x)
#define print(x) printf("%d\n",x)
#define scanll(x) scanf("%lld",&x)
#define printll(x) printf("%lld\n",x)
vector<int> G[2*100000+5];
#define DSU_SZ 2000000
lld pow(lld base, lld exponent,lld modulus)
{
    lld result = 1;
    while (exponent > 0)
    {
        if (exponent % 2 == 1)
            result = (result * base) % modulus;
        exponent = exponent >> 1;
        base = (base * base) % modulus;
    }
    return result;
}
lld N;
int n,dad[DSU_SZ+5],rnk[DSU_SZ+5];
struct DSU
{
    void init(int nn)
    {
        n = nn;
        for (int i = 1; i <=n; i++)
        {
            rnk[i] = 0;
            dad[i] = i;
        }
    }
    int root(int v)
    {
        if (v == dad[v]) return v;
        return dad[v] = root(dad[v]);
    }
    void join(int v1, int v2)
    {
        v1 = root(v1), v2 = root(v2);
        if (v1 == v2) return;
        if (rnk[v1] > rnk[v2]) swap(v1, v2);
        dad[v2] = v1;
        N--;
        //if (rnk[v1] == rnk[v2])
        rnk[v2]++;
    }
};
vector<pair<lld,lld> >E;
map<lld,lld>mp;
vector<lld>V;
int main(){
	int K;
	lld a,b;
	cin>>N>>K;
//	N=1e15;
//	K=1e6;
	for(int i=1;i<=K;++i){
		scanll(a);
		scanll(b);
		a--;
		E.push_back(make_pair(a,b));
		V.push_back(a);
		V.push_back(b);
	}
	sort(V.begin(),V.end());
	for(int i=0;i<V.size();++i){
		mp[V[i]] = i+1;
	}
	DSU dsu;
	dsu.init(V.size());
	for(int i=0;i<E.size();++i){
		dsu.join(mp[E[i].first],mp[E[i].second]);
		printll(pow(2,N,MOD));
	}
}