a, b = map(int, raw_input().strip().split())
answer = 0
status = raw_input().strip()

for bit in status:
    if bit == '1':
        answer = (answer + a) % b
    a = (a * a) % b

print answer % b