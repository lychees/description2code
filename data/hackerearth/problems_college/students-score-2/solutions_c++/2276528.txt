#include<bits/stdc++.h>
using namespace std;


typedef long long int LL;

#define scll(x) scanf("%lld",&x);
#define sci(x) scanf("%d",&x);
#define prll(x) printf("%lld\n",x)
#define pri(x) printf("%d\n",x)

int main ()
{
	LL maxi=0,maxj=0,n,i,a[1000000],j,max=0,temp=0,sum=0;
	
	cin>>n;
	for(i=0;i<n;i++) cin>>a[i];
	i=0;
	for(j=0;j<n;j++){
				temp=temp+a[j];
				if(temp<=0){
							i=j+1;
							temp=0;
				}
				
				if(temp>=max){
							max=temp;
							maxi=i;
							maxj=j;
				}			
	}
	
	for(int k=maxi;k<=maxj;k++) sum=sum+a[k];	
	cout<<sum;
	
	return 0;
}