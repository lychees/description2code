#include<bits/stdc++.h>
using namespace std;

#define ll long long
int main(){
	std::ios_base::sync_with_stdio (false);
    cin.tie(NULL);
    cout.tie(NULL);

ll t,n,i;
cin>>t;
while(t--){
	cin>>n;
	ll b[n];
	for(i=0;i<n;i++)
		cin>>b[i];
	ll ans=0;
	ll incl = b[0];
  	ll excl = 0;
	ll excl_new;
  	for (i = 1; i < n-1; i++){
  	if(incl>excl)
        excl_new = incl;
    else
        excl_new = excl;
    incl = excl + b[i];
    excl = excl_new;
	}
	ans=max(ans,excl_new);
	ans=max(ans,incl);
	ans=max(ans,excl);
	incl = b[1];
  	excl = 0;
	for (i = 2; i < n; i++)
  	{
  	if(incl>excl)
     excl_new = incl;
     else
     excl_new = excl;
     incl = excl + b[i];
     excl = excl_new;
	}
	ans=max(ans,excl_new);
	ans=max(ans,incl);
	ans=max(ans,excl);
	cout<<ans<<"\n";
}
return 0;
}
/*int main(){
ll t,n,x,i,tmp;
cin>>t;
while(t--){
    multimap<ll,ll> mp;
    map<ll,ll> mp1;
    multimap<ll,ll> ::iterator it;
    cin>>n;
    ll arr[n],ans=0;
    for(i=0;i<n;i++){
        cin>>x;
        mp.insert(make_pair(x,i));
        mp1[i]=x;
    }
    it=mp.end();
    for(;it!=mp.begin();it--){
            if(mp1[(it->second+1+n)%n]+mp1[(it->second-1+n)%n]>0){
                ans+=it->first;
                mp1[(it->second+1+n)%n]=0;
                mp1[(it->second-1+n)%n]=0;
            }
        }
    cout<<ans<<"\n";
    }
return 0;
}
*/
