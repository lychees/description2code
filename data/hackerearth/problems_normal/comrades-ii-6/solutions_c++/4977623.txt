#include <bits/stdc++.h>
using namespace std;
vector <long int> a[100001];
long int s=0,height[100001],vis[100001],i,f;
 
void bfs(long int x){
   height[x]=0;
   queue <long int> q;
   q.push(x);
   vis[x]=1;
	while(!q.empty()){
		f=q.front();
for(i=0;i<a[f].size();i++)
	if(vis[a[f][i]]==0){
	height[a[f][i]]=height[f]+1;
	vis[a[f][i]]=1;
		q.push(a[f][i]);
	}
	q.pop();
	
}}
void intr(){
	for(i=0;i<=100000;i++){
	vis[i]=0;
	height[i]=0;}
}
 
int main(){
    int t;
    long int n,k,p;
   
    cin>>t;
    while(t--){
       cin>>n;
       intr();
      for(i=1;i<=n;i++){
      cin>>p;
      a[p].push_back(i);
      if(p==0)
      k=i;}
      long long s=0;
 
     bfs(k);
     for(i=1;i<=n;i++){
s=s+height[i];
a[i].clear();}
     long long int w=(n*(n-1))/2;
    
     cout<<s<<" "<<(w-s)<<endl;
    }}