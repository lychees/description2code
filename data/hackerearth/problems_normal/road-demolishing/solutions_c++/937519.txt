#include<bits/stdc++.h>
using namespace std;
int main()
{
	int test;
	std::ios::sync_with_stdio(false);
	cin>>test;
	while(test--)
	{
		long long n,q,ans;
		cin>>n>>q;
		q=q-1;
		ans =((n%q)*((n+q-1)/q)*((n+q-1)/q))+((q-(n%q))*(n/q)*(n/q))-n;
		ans=ans/2;
		cout<<ans<<endl;
	}
}