t = input()
while (t > 0):
    m = input()
    no = 0
    while (m > 0):
        l, d = map(int, raw_input().split())
        no += l * d
        m -= 1
    summ = no
    while (summ >= 10):
        cno = summ
        nsum = 0
        while (cno != 0):
            nsum += (cno % 10)
            cno /= 10
        summ = nsum
    print summ
    t -= 1
