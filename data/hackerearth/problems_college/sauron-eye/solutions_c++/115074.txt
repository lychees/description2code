
#include<iostream>
#include<vector>
#define MOD 1000000007
#define lli long long int

using namespace std;

lli find(lli n){
	lli a[2][2] = {3, 1, -1+MOD, 0};
	lli ans[2][2] = {1, 0, 0, 1};
	lli temp[2][2];
	n -= 2;
	while(n){
		if(n%2 == 1){
			temp[0][0] = ((ans[0][0]*a[0][0])%MOD + (ans[0][1]*a[1][0])%MOD)%MOD;
			temp[0][1] = ((ans[0][0]*a[0][1])%MOD + (ans[0][1]*a[1][1])%MOD)%MOD;
			temp[1][0] = ((ans[1][0]*a[0][0])%MOD + (ans[1][1]*a[1][0])%MOD)%MOD;
			temp[1][1] = ((ans[1][0]*a[0][1])%MOD + (ans[1][1]*a[1][1])%MOD)%MOD;
			ans[0][0] = temp[0][0];
			ans[0][1] = temp[0][1];
			ans[1][0] = temp[1][0];
			ans[1][1] = temp[1][1];
			n = n - 1;
		}
		n = n/2;
		temp[0][0] = (a[0][0]*a[0][0]%MOD + a[0][1]*a[1][0]%MOD)%MOD;
		temp[0][1] = (a[0][0]*a[0][1]%MOD + a[0][1]*a[1][1]%MOD)%MOD;
		temp[1][0] = (a[1][0]*a[0][0]%MOD + a[1][1]*a[1][0]%MOD)%MOD;
		temp[1][1] = (a[1][0]*a[0][1]%MOD + a[1][1]*a[1][1]%MOD)%MOD;
		a[0][0] = temp[0][0];
		a[0][1] = temp[0][1];
		a[1][0] = temp[1][0];
		a[1][1] = temp[1][1];
	}
	return ((ans[0][0]*3)%MOD + (ans[1][0]*1)%MOD)%MOD;
}
	

int main(){
	
	int t;
	lli n;
	cin >> t;
	while(t--){
		cin >> n;
		if(n == 1){
			cout << "1" << endl;
		}else if(n == 2){
			cout << "3" << endl;
		}else {
			cout << find(n) << endl;	
		}
		
	}
	return 0;
}