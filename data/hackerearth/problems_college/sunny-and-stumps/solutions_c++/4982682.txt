        #include <iostream>
        #include <algorithm>
        #include <map>
        #include <set>

        using namespace std;

        #define ll long long int


        ll n, a, b, c, ret;

        ll gcd (ll a, ll b) {
            if (a == 0 || b == 0)
                return max(a, b);
            return __gcd(a, b);
        }

        int main() {
           // freopen("input.txt","r",stdin);
           // freopen("real_output.txt","w",stdout);
            int t;
            cin>>t;
            while(t--)
            {
            ret=0;
            map<pair<ll, ll>, ll> ma;
            set<pair<pair<ll, ll>, ll> > S;
            cin >> n;
            for(ll i = 0; i < n; i++) {
                cin >> a >> b >> c;
                if (a < 0 || (a == 0 && b < 0)) {
                    a *= -1;
                    b *= -1;
                    c *= -1;
                }
                ll g = gcd(gcd(abs(a), abs(b)), abs(c));
                a /= g;
                b /= g;
                c /= g;
                pair<pair<ll, ll>, ll> li = make_pair(make_pair(a, b), c);
                if (S.find(li) == S.end()) {
                    S.insert(li);
                    g = gcd(abs(a), abs(b));
                    a /= g;
                    b /= g;
                    ret = max(ret, ++ma[make_pair(a, b)]);
                }
            }
            cout << ret <<"\n";

            }
            return 0;
        }